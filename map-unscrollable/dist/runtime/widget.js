System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-layouts/layout-runtime"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./jimu-icons/svg/filled/data/placeholder-map.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/filled/data/placeholder-map.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#050505\" d=\"m12.687 9.074.073-.133a.147.147 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.05.05 0 0 1-.019.01l-.092.017a.042.042 0 0 0-.033.051l.019.077a.135.135 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066M13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069c.002 0 .002 0 .003.002l.104.13c.005.006.013.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131zM13.878 6.775l-.048.043a.294.294 0 0 0-.094.187.299.299 0 0 1-.082.178.496.496 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.546.546 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011zM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.125.125 0 0 0-.058.105zM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.063.063 0 0 0-.031-.008h-.328l-.035-.038a.216.216 0 0 0-.157-.074L5.778 4l-.048.009a2.362 2.362 0 0 1-.048.009l-.289.122a.209.209 0 0 1-.076.018l-.464.023a.232.232 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.093.093 0 0 0-.015.105l.183.37a.134.134 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.097.097 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.227.227 0 0 0-.001-.172l-.03-.07a.227.227 0 0 1 .097-.28M4.03 4.643l.061-.11a.221.221 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.203.203 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.226.226 0 0 0 .199-.118M4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.137.137 0 0 0-.081-.027h-.224a.131.131 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085c.006.01.018.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038c0 .005 0 .01-.002.016l-.03.073a.036.036 0 0 0 .006.036l.07.084a.032.032 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007c.008 0 .018.002.024.007l.174.133c.013.011.017.029.01.044l-.057.116a.033.033 0 0 1-.03.018l-.054.004a.036.036 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009c.024.001.048.01.069.024l.206.146c.014.01.03.008.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.035.035 0 0 0-.004-.029l-.07-.11.022-.004a.037.037 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008M2.08 5.137h.07l.104.146c.014.018.03.033.05.044l.136.068c.018.01.04.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.136.136 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138zM2.679 5.022l.11-.058a.139.139 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003zM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028zM2.414 4.698l.158.057a.12.12 0 0 1 .03.015l.109.073c.018.012.038.02.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122zM7.46 5.712l.058.092a.025.025 0 0 1-.001.028l-.044.06c-.004.008-.007.016-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.138.138 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.023.023 0 0 1 .014-.017l.049-.024c.01-.004.015-.015.013-.026l-.002-.03a.026.026 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118c-.003.011-.013.018-.024.018l-.11-.003a.024.024 0 0 1-.018-.007.024.024 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002c.008 0 .014-.004.02-.01l.053-.079A.027.027 0 0 0 7.3 5.94V5.82c0-.008.004-.015.01-.019l.115-.094a.024.024 0 0 1 .037.005\"></path><path fill=\"#050505\" fill-rule=\"evenodd\" d=\"M15.073 5.1H14.7a.042.042 0 0 1-.04-.03l-.358-.069a.161.161 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.033.033 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049c0-.017.006-.032.02-.044l.218-.2a.162.162 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.057.057 0 0 1-.03.008h-.101a.159.159 0 0 0-.114.049l-.244.252a.165.165 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.161.161 0 0 1-.098.11l-.081.032a.157.157 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.147.147 0 0 0-.042.027l-.62.565a.162.162 0 0 0-.006.231l.058.061.083-.069a.057.057 0 0 1 .076.003l.155.146h.04l.146-.176a.057.057 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.042.042 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.134.134 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.161.161 0 0 1-.134.064l-.254-.01a.046.046 0 0 1-.031-.013.047.047 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.042.042 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.158.158 0 0 1 .13-.067h.097c.032 0 .064.01.09.028l.157.11c.03.022.033.068.004.092l-.088.077a.156.156 0 0 1-.104.04h-.55a.158.158 0 0 0-.126.064l-.425.573a.168.168 0 0 0-.032.096v.38c0 .035.011.069.032.097l.148.198c.013.016.02.036.027.055.01.033.036.08.1.08h.686s.172.005.172.12c0 .04-.001.08-.003.116a.162.162 0 0 0 .083.148c.048.028.099.077.099.155v.21a.203.203 0 0 1-.007.049.772.772 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.583.583 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.115.115 0 0 0-.018-.062l-.033-.057a.162.162 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.596.596 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.158.158 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.159.159 0 0 0-.035-.1l-.125-.158a.159.159 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5.405 5.405 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001c.011 0 .021 0 .03-.002a.132.132 0 0 1 .127.083c.006.016.01.034.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.122.122 0 0 1 .075-.045l.054-.011a.125.125 0 0 0 .08-.053l.247-.373a.165.165 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.155.155 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.158.158 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.125.125 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.154.154 0 0 0 .104-.039l.159-.14a.043.043 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08c0-.013.005-.024.013-.032l.062-.058a.156.156 0 0 1 .181-.024l.104.055a.061.061 0 0 0 .076-.016l.051-.065a.062.062 0 0 0 .012-.052.062.062 0 0 0-.033-.042l-.503-.25a5.427 5.427 0 0 0-.39-.014M8.141 7.024l.09-.078zl-.133-.163a.053.053 0 0 1-.01-.019.053.053 0 0 0 .01.018zm.755.493h-.081a.13.13 0 0 1-.032-.004 9.127 9.127 0 0 1-.61-.186.062.062 0 0 1-.035-.045.063.063 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056c-.011-.027.048-.061.048-.061s.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088m.417-.503H9.2l-.083-.065a.057.057 0 0 0-.032-.01h-.108a.067.067 0 0 0-.044.017l-.078.07-.078.012a.053.053 0 0 1-.056-.026.055.055 0 0 1-.006-.02l-.011-.087a.09.09 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.051.051 0 0 0 .05.058h.029a.069.069 0 0 0 .064-.042l.026-.058.12.02.01.087a.077.077 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052m.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.052.052 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004c.006.02 0 .04-.013.056a.061.061 0 0 0-.015.031l-.013.085.113.105-.08.054z\" clip-rule=\"evenodd\"></path><path fill=\"#050505\" d=\"M12.945 7.8c-.006-.015-.01-.022-.017-.021-.007 0-.018.009-.036.025a.11.11 0 0 0-.039.08c0 .02.003.04.012.062.007.018.02.032.028.032.025 0 .066-.14.052-.178M12.894 8.108a.116.116 0 0 1 .024.005l.014.004c.018.006.027.009.033.015.005.005.008.014.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016-.007.007 0 .016.014.021.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.047.047 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02-.038.01-.05.006-.05-.018a.05.05 0 0 1 .03-.044c.013-.005.02-.009.02-.017 0-.008-.007-.019-.02-.038a.174.174 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201.004-.002.009-.008.012-.016a.148.148 0 0 0 .009-.053c0-.04.003-.054.021-.052M12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013M12.912 8.698a.02.02 0 0 1 .021.02c0 .011-.003.02-.008.02 0 0-.005 0-.007-.003a.064.064 0 0 1-.015-.017c-.007-.011-.003-.02.01-.02M13.254 8.913c-.013-.03-.03-.045-.044-.043-.014.001-.025.018-.03.05a.058.058 0 0 1-.01.026c.013.052.052.06.064.063h.004a.255.255 0 0 1 .025-.029.751.751 0 0 0 .014-.015zM13.082 8.894c.026-.004.035.015.011.043a.044.044 0 0 0-.008.015l-.057.01a.62.62 0 0 1-.036.005c-.038.006-.077.011-.1.037 0 .004.004.007.01.009.007.002.019.002.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017-.006-.023-.01-.016-.012.021-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.142.142 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012c.01-.005.02-.01.031-.011M13.36 9.136c0-.027-.034-.042-.092-.042a.445.445 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015M5.866 9.362l-.35-.185a.222.222 0 0 0-.102-.026h-.101a.038.038 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.217.217 0 0 1-.173-.088l-.048-.065a.216.216 0 0 0-.155-.086l-.262-.023a.028.028 0 0 1-.017-.007l-.043-.03c-.012-.007-.026-.009-.038 0l-.187.106a.216.216 0 0 1-.108.028h-.192a.037.037 0 0 1-.017-.004.146.146 0 0 1-.071-.133v-.112a.038.038 0 0 0-.023-.035.037.037 0 0 0-.014-.003h-.122a.037.037 0 0 1-.032-.019.038.038 0 0 1 0-.038l.057-.1a.044.044 0 0 0 .006-.02V8.2c0-.01-.004-.02-.011-.027a.037.037 0 0 0-.027-.011h-.066a.037.037 0 0 0-.03.017l-.038.06a.217.217 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.097.097 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.038.038 0 0 1 .043.005l.07.066c.007.007.015.01.024.01h.015c.022 0 .051 0 .057-.003.004-.002.004-.007.003-.014 0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.037.037 0 0 0 .05.006l.023-.016a.038.038 0 0 0 .012-.05l-.002-.005a.223.223 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.767.767 0 0 0 .208-.093.036.036 0 0 0 .019-.033v-.047l-.143.03a.038.038 0 0 1-.044-.031l-.016-.095a.038.038 0 0 0-.036-.03l-.143.015.018-.043a.043.043 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.038.038 0 0 0 .004-.055l-.396-.41a.039.039 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.033.033 0 0 0-.007.02l-.01.174c0 .011.003.02.011.029l.048.05a.038.038 0 0 1-.005.056l-.07.051a.037.037 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.042.042 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.123.123 0 0 1-.12.104H2.54l-.05-.01a2.652 2.652 0 0 1-.04-.009l-.358-.162a2.003 2.003 0 0 0-.075-.018l-.33-.022a2.158 2.158 0 0 1-.092.015l-.148.058a.217.217 0 0 1-.124.01L.591 5.23a.212.212 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.037.037 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.215.215 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.222.222 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.038.038 0 0 0 .014-.055s.365.383.4.399l.296.148a.22.22 0 0 0 .097.023h.147c.015 0 .028.008.033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.036.036 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212c0 .01.003.017.008.024.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.038.038 0 0 1 .008.024v.122a.04.04 0 0 1 .001.006l.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.222.222 0 0 1 .076.186l-.027.345-.003.02a.43.43 0 0 1-.003.02l-.119.45a1.75 1.75 0 0 0-.007.08l.012.185a.233.233 0 0 1-.01.095l-.044.126a.235.235 0 0 0-.007.125l.056.233a.123.123 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114c.01 0 .02-.004.026-.012l.266-.294a.036.036 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.039.039 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215M14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044.036.023.028.034-.022.03-.038-.004-.049.002-.07.039a.27.27 0 0 1-.078.074c-.071.044-.108.109-.06.109.013 0 .017.01.012.026-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.065.065 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076-.005-.006.001-.011.012-.011.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003-.024.005-.035.002-.035-.01 0-.02-.075-.089-.102-.097M12.885 9.274l-.486-.057a.119.119 0 0 1-.035-.01l-.118-.048a.144.144 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.128.128 0 0 0 .04.005h.397zM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.254.254 0 0 0-.1.023l-.098.046a.249.249 0 0 0-.07.049l-.18.178a.24.24 0 0 1-.075.051l-.123.055a.259.259 0 0 0-.152.236v.02c0 .034.007.068.02.1l.096.228c.003.005.004.01.005.015a.11.11 0 0 0 .143.077l.245-.088a.248.248 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.254.254 0 0 0 .218.122h.118a.255.255 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006M13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.332.332 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043.02-.022.041-.032.058-.03M13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027M6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.133.133 0 0 1-.1-.028l-.153-.121zM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.132.132 0 0 0-.076-.024M8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08zM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109zM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456zM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082zM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038z\"></path><path fill=\"#050505\" d=\"m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13zM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0M14.162 10.93h-.28l.074.164h.066z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-fat-left.svg":
/*!****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-fat-left.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M.4 8 8 1.92V5.5h7v5H8v3.58zM7 9.5h7v-3H7V4L2 8l5 4z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-fat-right.svg":
/*!*****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-fat-right.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"m16 8-7.6 6.08V10.5h-7v-5h7V1.92zM9.4 6.5h-7v3h7V12l5-4-5-4z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg":
/*!********************************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/clear-selection-general.svg ***!
  \********************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 17\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M0 12v-1.5h1V12h1.5v1H1a1 1 0 0 1-1-1M1 1h1.5v1H1v1.5H0V2a1 1 0 0 1 1-1m0 7.5H0v-3h1zM4.5 2V1h3v1zm5 0V1H11a1 1 0 0 1 1 1v1.5h-1V2zm4.813 14.02-3.535-3.535-3.536 3.535-.707-.707 3.536-3.535-3.536-3.536.707-.707 3.536 3.536 3.535-3.536.707.707-3.535 3.536 3.535 3.535z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-header.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-header.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9 5\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.128 4.587.751.834A.5.5 0 0 1 1.123 0h6.754a.5.5 0 0 1 .372.834L4.872 4.587a.5.5 0 0 1-.744 0\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/more-16.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/more-16.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"none\" fill-rule=\"nonzero\"><path fill=\"#000\" d=\"M13 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0m-6.5 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0M0 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0\"></path><path d=\"M0 0h16v16H0z\"></path></g></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/widgets.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/widgets.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M20.889 1.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556h-6.222a3.556 3.556 0 0 1-3.556-3.556V4.889a3.556 3.556 0 0 1 3.556-3.556M20 4v8h8V4zM4.889 17.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556H4.889a3.556 3.556 0 0 1-3.556-3.556v-6.222a3.556 3.556 0 0 1 3.556-3.556M4 20v8h8v-8zm20 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8m0 2.667a6.667 6.667 0 1 1 0-13.334 6.667 6.667 0 0 1 0 13.334M4.981 12h6.037L7.999 5.963zm4.212-9.615 5.176 10.352a1.334 1.334 0 0 1-1.192 1.93H2.825a1.333 1.333 0 0 1-1.192-1.929L6.809 2.386a1.332 1.332 0 0 1 2.385 0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/basemap.svg":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/basemap.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M.1 6.9h6.8V.1H.1zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 0 0 1.609.805zm0-1.128a3.758 3.758 0 0 1-1.006-.523c.31-.203.65-.358 1.006-.459zM6.1.9v2.266a4.229 4.229 0 0 0-1.613.73 6.038 6.038 0 0 1-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 0 1 2.99.9zM.9.9h1.266a8.7 8.7 0 0 0 .359 1.249A1.93 1.93 0 0 1 .9 3.188zm0 3.09a2.828 2.828 0 0 0 2.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 0 0 3.17 6.1H.9zM9.1.1v6.8h6.8V.1zm.8.8h4.063a.373.373 0 0 1-.045.2.594.594 0 0 1-.438.176 1.637 1.637 0 0 0-1.175.49.91.91 0 0 0-.203.708c-.001.007-.114.736-.607.742a.74.74 0 0 0-.719.384.828.828 0 0 0-.026.6H9.9zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 0 1-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 0 1 .028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 0 0 .16-.625h.344zm-15 9.8h6.8V9.1H.1zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089zm0 4.01 4 .112v-1.355l1.2-1.182V15.1H.9zm8.2 1.99h6.8V9.1H9.1zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605zm0-5.2v2.628L12.49 9.9zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/close-12.svg":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/close-12.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 14\"><g fill=\"none\" fill-rule=\"nonzero\"><path fill=\"#000\" d=\"m7.745 7 4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746z\"></path><path d=\"M1 1h12v12H1z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 39 32\"><path d=\"M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exit-full-screen.svg":
/*!************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exit-full-screen.svg ***!
  \************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M5 11v5H4v-4.001L0 12v-1zm11 0v1l-4-.001V16h-1v-5zM5 0v5H0V4l4 .001V0zm7 0v4.001L16 4v1h-5V0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/full-screen.svg":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/full-screen.svg ***!
  \*******************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M1 11v4.001L5 15v1H0v-5zm15 0v5h-5v-1l4 .001V11zM5 0v1L1 .999V5H0V0zm11 0v5h-1V.999L11 1V0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/layerlist.svg":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/layerlist.svg ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"m14.376 10.573 1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353zm-.999-2.414.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915zM8.023 1.023l-8 4.5 8 4.5 8-4.5zm-5.96 4.5 5.96-3.352 5.96 3.352-5.96 3.353z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg":
/*!********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg ***!
  \********************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 16\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M4 8h1v3H4zM2 9h1v2H2zm6-1h1v3H8zm4 0h1v3h-1z\"></path><path d=\"M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1zm-3-9h1v1h-1zm-8-.92L11 4v1h1v1H3V3h1zM2 1h1v1H2zm1 14H2v-1h1zm8-1H4v-1H3v-1h9v1h-1zm2 1h-1v-1h1zM1 11V7h13v4z\"></path><path d=\"M6 9h1v2H6zm4 0h1v2h-1z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg":
/*!************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg ***!
  \************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 10\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M0 10h15V4H0zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1zm11-5v1H3V0H0v3h3V2h9v1h3V0zM2 2H1V1h1zm12 0h-1V1h1z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure.svg":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M0 9v6h16V9zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14zm.18-7.5-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7zM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/search.svg":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/search.svg ***!
  \**************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M7 1a6 6 0 1 0 0 12A6 6 0 0 0 7 1m0 13a7 7 0 1 1 5.621-2.828l-.222.284 3.405 3.404a.668.668 0 0 1-.944.944L11.456 12.4A6.974 6.974 0 0 1 7 14\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg":
/*!*********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48z\"></path><path d=\"M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 0 1-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg":
/*!********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.75 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48z\"></path><path d=\"M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg":
/*!*******************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg":
/*!********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg":
/*!************************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg ***!
  \************************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM16 0v11H8.5v-1H15V1H6v2.5H5V0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-zoomto.svg":
/*!*********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-zoomto.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M0 10.5V12a1 1 0 0 0 1 1h1.5v-1H1v-1.5zM2.5 1H1a1 1 0 0 0-1 1v1.5h1V2h1.5zM0 8.5h1v-3H0zM4.5 1v1h3V1zm5 0v1H11v1.5h1V2a1 1 0 0 0-1-1zM6.318 13.682a4.5 4.5 0 0 0 5.991.334l1.848 1.848.707-.707-1.847-1.848a4.5 4.5 0 1 0-6.699.373m.707-.707a3.5 3.5 0 1 1 4.95-4.95 3.5 3.5 0 0 1-4.95 4.95M9 13v-2H7v-1h2V8h1v2h2v1h-2v2z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/filled/data/placeholder-map.tsx":
/*!****************************************************!*\
  !*** ./jimu-icons/filled/data/placeholder-map.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlaceholderMapFilled: () => (/* binding */ PlaceholderMapFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/data/placeholder-map.svg */ "./jimu-icons/svg/filled/data/placeholder-map.svg");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const PlaceholderMapFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-fat-left.tsx":
/*!************************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-fat-left.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowFatLeftOutlined: () => (/* binding */ ArrowFatLeftOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-fat-left.svg */ "./jimu-icons/svg/outlined/directional/arrow-fat-left.svg");
/* harmony import */ var _svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ArrowFatLeftOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-fat-right.tsx":
/*!*************************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-fat-right.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowFatRightOutlined: () => (/* binding */ ArrowFatRightOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-fat-right.svg */ "./jimu-icons/svg/outlined/directional/arrow-fat-right.svg");
/* harmony import */ var _svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ArrowFatRightOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/config.ts":
/*!****************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/config.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SceneQualityMode: () => (/* binding */ SceneQualityMode)
/* harmony export */ });
var SceneQualityMode;
(function (SceneQualityMode) {
    SceneQualityMode["auto"] = "auto";
    SceneQualityMode["low"] = "low";
    SceneQualityMode["medium"] = "medium";
    SceneQualityMode["high"] = "high";
})(SceneQualityMode || (SceneQualityMode = {}));


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/default-map.tsx":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/default-map.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DefaultMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class DefaultMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {
            defaultMapInfo: null
        };
    }
    componentDidMount() {
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.portalUtils.getDefaultWebMap(this.props.baseWidgetProps.portalUrl).then(defaultMapInfo => {
            this.setState({
                defaultMapInfo: defaultMapInfo
            });
        });
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100' },
            !this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'widget-map w-100 h-100 widget-map-background' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIsLive)(this.props.baseWidgetProps.appMode) }) }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap__WEBPACK_IMPORTED_MODULE_2__["default"], { key: 0, fullScreenMap: this.props.fullScreenMap, baseWidgetProps: this.props.baseWidgetProps, startLoadModules: this.props.startLoadModules, isDefaultMap: true, ref: this.props.setMultiSourceMapInstance, onViewGroupCreate: this.props.onViewGroupCreate, onJimuMapViewCreated: this.props.onJimuMapViewCreated, onActiveJimuMapViewChange: this.props.onActiveJimuMapViewChange, widgetHeight: this.props.widgetHeight, widthBreakpoint: this.props.widthBreakpoint, isFullScreen: this.props.isFullScreen, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.state.defaultMapInfo, autoControlWidgetId: this.props.autoControlWidgetId }))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/map-thumb.tsx":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/map-thumb.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapThumb)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/filled/data/placeholder-map */ "./jimu-icons/filled/data/placeholder-map.tsx");



class MapThumb extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.unmount = false;
        this.setMapThumbUrl = (mapId) => {
            var _a;
            if (!mapId) {
                this.setState({ mapThumbUrl: null });
            }
            // if no portalUrl or same to config portalurl, use app config's portalUrl
            const portalUrl = ((_a = this.props) === null || _a === void 0 ? void 0 : _a.portUrl) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl) || null;
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restPortal.searchItems({
                q: `id:${mapId}`,
                authentication: session,
                portal: portalUrl + '/sharing/rest'
            }).then(items => {
                var _a;
                if (!this.unmount) {
                    if ((_a = items.results[0]) === null || _a === void 0 ? void 0 : _a.thumbnail) {
                        const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl);
                        let tempThumbUrl = null;
                        if (session && session.token) {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}?token=${session.token}`;
                        }
                        else {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}`;
                        }
                        this.setState({ mapThumbUrl: tempThumbUrl });
                    }
                    else {
                        this.setState({ mapThumbUrl: null });
                    }
                }
            });
        };
        this.state = {
            mapThumbUrl: null
        };
    }
    componentDidMount() {
        this.unmount = false;
        this.setMapThumbUrl(this.props.mapItemId);
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevProps.mapItemId !== this.props.mapItemId) {
            this.setMapThumbUrl(this.props.mapItemId);
        }
    }
    componentWillUnmount() {
        this.unmount = true;
    }
    render() {
        if (this.state.mapThumbUrl) {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ImageWithParam, { imageParam: { url: this.state.mapThumbUrl } });
        }
        else {
            const palette = this.props.theme.colors.palette;
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { backgroundColor: palette.light[200], height: '100%' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__.PlaceholderMapFilled, { color: palette.light[600], size: '100%' })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/mapbase.tsx":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/mapbase.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapLoadStatus: () => (/* binding */ MapLoadStatus),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./your-extensions/widgets/map-unscrollable/src/config.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */






const Exchange = __webpack_require__(/*! ../assets/icons/exchange.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg");
const DEFAULT_HIGHLIGHT_COLOR = '#00FFFF';
const DEFAULT_HIGHLIGHT_HALO_COLOR = '#00FFFF';
var MapLoadStatus;
(function (MapLoadStatus) {
    MapLoadStatus["Loading"] = "LOADING";
    MapLoadStatus["Loadok"] = "LOADOK";
    MapLoadStatus["LoadError"] = "LOADERROR";
})(MapLoadStatus || (MapLoadStatus = {}));
class MapBase extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.isFirstReceiveMessage = true;
        this.__unmount = false;
        this.debounceUpdateUrlHashParams = () => { };
        this.getInitViewPointForDefaultWebMap = () => {
            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
            let tempViewPoint = null;
            if (this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.viewPoint) {
                tempViewPoint = this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            else {
                tempViewPoint = new this.Viewpoint({
                    targetGeometry: new this.Extent({
                        xmin: defaultExtent && defaultExtent.xmin,
                        ymin: defaultExtent && defaultExtent.ymin,
                        xmax: defaultExtent && defaultExtent.xmax,
                        ymax: defaultExtent && defaultExtent.ymax,
                        spatialReference: { wkid: defaultExtent.spatialReference.wkid }
                    })
                });
            }
            return tempViewPoint;
        };
        /**
         * onDataSourceCreated and onCreateDataSourceFailed will not invoked when this.props.isWebMap is true
         * @param dataSource
         */
        this.onDataSourceCreated = (dataSource) => {
            if (dataSource.id === this.props.dataSourceId) {
                const isMapDsCreateFailedBefore = this.createFailedDataSourceIds[this.props.dataSourceId];
                delete this.createFailedDataSourceIds[this.props.dataSourceId];
                this.mapDs = dataSource;
                if (this.isReadyToCreateJimuMapView()) {
                    this.createJimuMapView();
                    return;
                }
                if (isMapDsCreateFailedBefore && !this.view && !this.mapCreatingInfo && this.expectedDataSourceInfo && this.expectedDataSourceInfo.dataSourceId === dataSource.id) {
                    console.log(`recreate map because data source ${this.props.dataSourceId} is recreated`);
                    this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
                }
            }
        };
        this.onCreateDataSourceFailed = (err) => {
            console.warn('onCreateDataSourceFailed', err);
            this.mapDs = null;
            const dsId = this.props.dataSourceId;
            this.createFailedDataSourceIds[dsId] = true;
            this.setState({
                mapLoadStatus: MapLoadStatus.LoadError
            }, () => {
                this.props.onMapLoaded(dsId, MapLoadStatus.LoadError);
            });
        };
        // This method is used to sync viewpoint between two mapbase of same map widget.
        this.setViewPoint = (viewPoint) => {
            if (this.view && viewPoint) {
                this.view.viewpoint = viewPoint.clone();
            }
        };
        // This method is used to sync viewpoint between two mapbase of same map widget.
        this.getViewPoint = () => {
            return this.view && this.view.viewpoint ? this.view.viewpoint.clone() : null;
        };
        this.getMapLoadStatus = () => {
            return this.state.mapLoadStatus;
        };
        this.getViewType = () => {
            return this.getDsJsonFromDsId(this.props.dataSourceId).type;
        };
        this.queryExtentFromSingleLayerQueryParams = (dataSourceId) => {
            const dataSource = this.dsManager.getDataSource(dataSourceId);
            const queryParams = dataSource.getCurrentQueryParams();
            let layerObjectPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerObjectPromise = Promise.resolve(dataSource.layer);
            }
            else {
                layerObjectPromise = dataSource.createJSAPILayerByDataSource().then((layerObject) => Promise.resolve(layerObject));
            }
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query',
                'esri/Graphic',
                'esri/geometry/Point'
            ]).then(modules => {
                const [Query, Graphic, Point] = modules;
                const query = new Query();
                query.where = queryParams === null || queryParams === void 0 ? void 0 : queryParams.where;
                return layerObjectPromise.then(layerObject => {
                    return layerObject.queryExtent(query).then(result => {
                        var _a;
                        const extentCenter = (_a = result === null || result === void 0 ? void 0 : result.extent) === null || _a === void 0 ? void 0 : _a.center;
                        const extent = result === null || result === void 0 ? void 0 : result.extent;
                        let singlePointGraphic;
                        if ((result === null || result === void 0 ? void 0 : result.count) === 1 && (layerObject.geometryType === 'point') && extentCenter) {
                            const point = new Point({
                                x: extentCenter.x,
                                y: extentCenter.y,
                                spatialReference: extent.spatialReference
                            });
                            singlePointGraphic = new Graphic({ geometry: point });
                        }
                        return {
                            extent: extent,
                            singlePointGraphic: singlePointGraphic,
                            count: result === null || result === void 0 ? void 0 : result.count,
                            layer: layerObject
                        };
                    });
                });
            });
        };
        this.queryExtentFromQueryParams = (mapBaseView, dataSourceIds, useDataSources) => {
            //const dataSource = this.dsManager.getDataSource(dataSourceId) as FeatureLayerDataSource
            //const queryParams: SqlQueryParams = dataSource.getCurrentQueryParams()
            const useDefaultExtentOfCurrentView = !useDataSources.some(useDataSource => {
                const dataSource = this.dsManager.getDataSource(useDataSource.dataSourceId);
                const queryParams = dataSource.getRuntimeQueryParams();
                // use default extent if all merged SQLs on data source is remvoved.
                const hasQueryWhere = (queryParams === null || queryParams === void 0 ? void 0 : queryParams.where) && queryParams.where !== '1=1';
                if (hasQueryWhere) {
                    return true;
                }
                else {
                    return false;
                }
            });
            if (useDefaultExtentOfCurrentView) {
                const initViewPoint = this.getMapBaseInitViewPoint();
                return Promise.resolve({
                    viewpoint: initViewPoint,
                    useDefaultExtentOfCurrentView: true,
                    singlePointGraphic: null,
                    count: 2,
                    layer: null
                });
            }
            const extentResultPromises = [];
            dataSourceIds.forEach(dataSourceId => {
                extentResultPromises.push(this.queryExtentFromSingleLayerQueryParams(dataSourceId));
            });
            return Promise.all(extentResultPromises).then(results => {
                let fullExtent = null;
                let count = 0;
                if ((results === null || results === void 0 ? void 0 : results.length) === 1) {
                    return results[0];
                }
                else {
                    results.forEach(result => {
                        if (result.extent) {
                            fullExtent = fullExtent ? fullExtent.union(result.extent) : result.extent;
                        }
                        count = count + result.count;
                    });
                    return {
                        extent: fullExtent,
                        singlePointGraphic: null,
                        count: count,
                        layer: null
                    };
                }
            });
        };
        this.debounceUpdateUrlHashParams = jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.debounce(() => {
            this.updateUrlHashParams();
        }, 500);
        this.restored = false;
        this.createFailedDataSourceIds = {};
        this.mapViewCreateFailedUniqueIdsInfo = {};
        this.updateExpectedDataSourceInfo();
        const restoreData = this.getRestoreDataFromMS();
        if (restoreData && restoreData.expectedDataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.restoreMapBase)(this, restoreData);
            this.updateRestoreDataToMS(null);
            this.bindMapBaseViewEvent(this.view);
            if (this.view) {
                this.view.isInCaching = false;
                this.view.mapbase = this;
                this.restored = true;
                this.tryFatalErrorRecovery(this.view);
                if (this.view.isMapToolsHidden) {
                    this.view.hideMapTools();
                }
                else {
                    this.view.showMapTools();
                }
            }
        }
        else {
            this.state = {
                dataSourceId: null,
                isBasicModulesLoaded: false,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
        this.unsubscribeResourceSessions();
        // Observe no permission resource changes.
        this.resourceSessionsUnsubscribe = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.observeStore)(this.onStoreResourceSessionsChange.bind(this), ['resourceSessions']);
    }
    unsubscribeResourceSessions() {
        if (this.resourceSessionsUnsubscribe) {
            this.resourceSessionsUnsubscribe();
            this.resourceSessionsUnsubscribe = null;
        }
    }
    static getDerivedStateFromProps(nextProps, prevState) {
        if (nextProps.dataSourceId !== prevState.dataSourceId) {
            return {
                dataSourceId: nextProps.dataSourceId,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
        else {
            return null;
        }
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .esri-view .esri-view-surface:focus::after {
        display: none;
      }
    `;
    }
    render() {
        let useDataSource = null;
        if (this.props.baseWidgetProps.useDataSources) {
            useDataSource = this.props.baseWidgetProps.useDataSources.find((item) => item.dataSourceId === this.props.dataSourceId);
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 map-base', style: { position: 'relative' }, css: this.getStyle(), ref: ref => { this.widgetContainer = ref; } },
            (this.state.mapLoadStatus === MapLoadStatus.Loading) &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 widget-map-background' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            (this.state.mapLoadStatus === MapLoadStatus.LoadError) &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 widget-map-background' },
                    this.getMapSwitchForErrorMap(),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex justify-content-center align-items-center' }, this.formatMessage('mapFailure'))),
            !this.props.isDefaultMap && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', display: 'none' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSource, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed }))));
    }
    componentDidMount() {
        this.__unmount = false;
        if (this.widgetContainer.getElementsByClassName('widget-map').length === 0) {
            if (!this.mapContainer) {
                this.mapContainer = document && document.createElement('div');
                this.mapContainer.className = 'w-100 h-100 widget-map mapview-container';
            }
            this.widgetContainer.appendChild(this.mapContainer);
        }
        if (this.props.startLoadModules) {
            this.loadCommonModules();
        }
        if (this.restored) {
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (jimuMapView && !jimuMapView.isCached()) {
                jimuMapView.onRestore();
            }
        }
    }
    componentDidUpdate(prevProps) {
        this.tryCreateMapViewWhenDidUpdate(prevProps);
        this.tryHandleUrlParamsChangeWhenDidUpdate(prevProps);
    }
    tryCreateMapViewWhenDidUpdate(prevProps) {
        var _a;
        // update the this.expectedDataSourceInfo by the current props
        this.updateExpectedDataSourceInfo();
        if (!this.state.isBasicModulesLoaded) {
            return;
        }
        // TODO: should we check isMapInVisibleArea before this.checkAndHandleIfDataSourceIdPropChange() ?
        // props.isMapInVisibleArea changed
        if (this.view && prevProps.isMapInVisibleArea !== this.props.isMapInVisibleArea && (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length === 2)) {
            if (this.props.isMapInVisibleArea) {
                this.view.isInCaching = false;
                this.tryFatalErrorRecovery(this.view);
            }
            else {
                this.view.isInCaching = true;
            }
        }
        // the following code is mainly used to check and handle if dataSourceId prop change
        let needCreateNewView = false;
        if (this.view) {
            // this.view created, now need to check if this.view match this.props.dataSourceId or not
            if (this.isViewExpected(this.view)) {
                // data source match this.props.dataSourceId, do nothing
                needCreateNewView = false;
                // this.view is the expected view
                // We call this.tryUpdateCurrentViewByConfigProps() to consume this.props.baseWidgetProps.config change
                this.tryUpdateCurrentViewByConfigProps(false);
                // We call this.checkAndHandleMutableStateProps() to consume this.props.baseWidgetProps.mutableStateProps change
                this.checkAndHandleMutableStateProps();
                return;
            }
            else {
                // data source changed, we need to destroy this.view
                needCreateNewView = true;
            }
        }
        else {
            // this.view not created, we need to check if we are creating the expected view
            if (this.isCreatingExpectedView()) {
                // We are creating the expected view, do nothing
                needCreateNewView = false;
                return;
            }
            else {
                const uniqueId = (_a = this.expectedDataSourceInfo) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (uniqueId && this.mapViewCreateFailedUniqueIdsInfo[uniqueId]) {
                    // map view create failed before, don't need to recreate view
                    needCreateNewView = false;
                }
                else {
                    // need to create new view
                    needCreateNewView = true;
                }
            }
        }
        if (needCreateNewView) {
            this.destroyCurrentMapbaseView();
            this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
        }
    }
    // When user updates map url params manually, we need to update view.viewpoint.
    tryHandleUrlParamsChangeWhenDidUpdate(prevProps) {
        var _a, _b, _c, _d;
        try {
            if (!this.view) {
                return;
            }
            const preRuntimeUrlHashParams = (_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.runtimeUrlHashParams;
            const currRuntimeUrlHashParams = (_c = (_b = this.props) === null || _b === void 0 ? void 0 : _b.baseWidgetProps) === null || _c === void 0 ? void 0 : _c.runtimeUrlHashParams;
            if (currRuntimeUrlHashParams && currRuntimeUrlHashParams !== preRuntimeUrlHashParams && currRuntimeUrlHashParams.active_datasource_id) {
                const jimuMapView = this.getJimuMapViewFoView(this.view);
                if (jimuMapView && jimuMapView.isActive && jimuMapView.dataSourceId === currRuntimeUrlHashParams.active_datasource_id) {
                    // When user move map, it will trigger extent change event, and updateUrlHashParamsForActiveJimuMapView() method will call urlManager.setWidgetUrlParams() to change url params.
                    // Then it will trigger componentDidUpdate() because this.props.baseWidgetProps.runtimeUrlHashParams changed. For this case, we don't need to handle it to avoid dead loop.
                    // So we need to determine the url is changed by user or map self.
                    // By test, the duration between urlManager.setWidgetUrlParams() and componentDidUpdate() is about 3~4ms, we use 100ms here for safe.
                    const isUrlParamsChangeByMapSelf = this.view.lastViewpointUrlParamUpdateTimestamp > 0 && (Date.now() - this.view.lastViewpointUrlParamUpdateTimestamp) <= 100;
                    const isUrlParamsChangedByUser = !isUrlParamsChangeByMapSelf;
                    if (isUrlParamsChangedByUser) {
                        // console.log('url hash prams changed', Date.now())
                        const urlParamViewpointChanged = currRuntimeUrlHashParams.viewpoint && currRuntimeUrlHashParams.viewpoint !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.viewpoint);
                        const urlParamCenterChanged = currRuntimeUrlHashParams.center && currRuntimeUrlHashParams.center !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.center);
                        const urlParamScaleChanged = currRuntimeUrlHashParams.scale && currRuntimeUrlHashParams.scale !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.scale);
                        const urlParamRotationChanged = currRuntimeUrlHashParams.rotation && currRuntimeUrlHashParams.rotation !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.rotation);
                        if (urlParamViewpointChanged || urlParamCenterChanged || urlParamScaleChanged || urlParamRotationChanged) {
                            const changedViewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getChangedViewpointByViewAndUrlHashParams)(this.view, currRuntimeUrlHashParams, urlParamViewpointChanged, urlParamCenterChanged, urlParamScaleChanged, urlParamRotationChanged, this.Viewpoint, this.Point, this.SpatialReference);
                            const currViewpoint = (_d = this.view.viewpoint) === null || _d === void 0 ? void 0 : _d.clone();
                            if (changedViewpoint && !(0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSamelikeViewpoints)(this.view, changedViewpoint, currViewpoint)) {
                                // console.log('update viewpoint by url', Date.now())
                                this.view.viewpoint = changedViewpoint;
                            }
                        }
                    }
                }
            }
        }
        catch (e) {
            console.error('handleUrlParamsChange error', e);
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        this.unsubscribeResourceSessions();
        if (this.view) {
            this.view.mapbase = null;
        }
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources &&
            this.state.mapLoadStatus !== MapLoadStatus.Loading) {
            // JS API limits only 16 canvas with WebGL context on a html page. Caching the map widget (unmount the canvas from the html tree but don't destroy the view) is a workround.
            // We scroll the page and the map widget is not in the visible area, we need to cache it so we can restore it quickly.
            // We don't destroy the map view here, just cache it to mutable store.
            const restoreData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapBaseRestoreData)(this);
            if (this.view) {
                this.view.isInCaching = true;
            }
            this.updateRestoreDataToMS(restoreData);
            if (this.view) {
                const jimuMapView = this.getJimuMapViewFoView(this.view);
                if (jimuMapView) {
                    jimuMapView.onCache();
                }
            }
        }
        else {
            // Destroy the map view
            this.destroyCurrentMapbaseView();
            this.mapCreatingInfo = null;
            if (this.view && !this.view.destroyed) {
                this.view.container = null;
                this.view = null;
            }
            this.mapDs = null;
        }
    }
    createDataSourceInfo(dataSourceId) {
        let result = null;
        const dataSourceJson = this.getDsJsonFromDsId(dataSourceId);
        if (dataSourceJson && dataSourceJson.id) {
            // data source case2 or data source case3
            const type = dataSourceJson.type || '';
            const itemId = dataSourceJson.itemId || '';
            const dataSourceId = dataSourceJson.id;
            const jimuMapViewId = this.getJimuMapViewId(dataSourceId);
            if (type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                // user select a web scene
                result = {
                    isDefaultMap: false,
                    isWebMap: false,
                    uniqueId: `webscene-${dataSourceId}-${itemId}`,
                    dataSourceId,
                    jimuMapViewId,
                    dataSourceJson
                };
            }
            else {
                // user select a web map
                result = {
                    isDefaultMap: false,
                    isWebMap: true,
                    uniqueId: `webmap-${dataSourceId}-${itemId}`,
                    dataSourceId,
                    jimuMapViewId,
                    dataSourceJson
                };
            }
        }
        else {
            // data source case1: use default web map
            const dataSourceId = '';
            // TODO: could we use this.getJimuMapViewId('defaultmap') here ?
            const jimuMapViewId = this.getJimuMapViewId(dataSourceId);
            result = {
                isDefaultMap: true,
                isWebMap: true,
                uniqueId: 'webmap-default',
                dataSourceId,
                jimuMapViewId,
                dataSourceJson
            };
        }
        return result;
    }
    getJimuMapViewId(dataSourceId) {
        return (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getJimuMapViewId)(this.props.baseWidgetProps.id, dataSourceId);
    }
    getDsJsonFromDsId(dataSourceId) {
        let result = null;
        if (dataSourceId) {
            result = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources[dataSourceId];
        }
        if (!result) {
            result = {};
        }
        return result;
    }
    getCurrentDataSourceJson() {
        // when select a web map or web scene in builder, this.props.dataSourceId is not null, the result is like this
        // {
        //   id: "dataSource_5",
        //   type: "WEB_MAP",
        //   sourceLabel: "China Version 1_2",
        //   itemId: "a2c5449c4c624447bf45d48478b25838",
        //   portalUrl: "https://esridevbeijing.maps.arcgis.com",
        // }
        // when use the default web map in builder, this.props.dataSourceId is null, the result is empty object {}
        return this.getDsJsonFromDsId(this.props.dataSourceId);
    }
    updateExpectedDataSourceInfo() {
        this.expectedDataSourceInfo = this.createDataSourceInfo(this.props.dataSourceId);
    }
    isCurrentViewExpected() {
        return this.isViewExpected(this.view);
    }
    isViewExpected(view) {
        return view && view.dataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId;
    }
    isCreatingExpectedView() {
        return this.mapCreatingInfo && this.isDataSourceInfoExpected(this.mapCreatingInfo.dataSourceInfo);
    }
    isDataSourceInfoExpected(dataSourceInfo) {
        return dataSourceInfo && dataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId;
    }
    /**
     * Consume this.props.baseWidgetProps.config change
     * @param calledWhenViewCreate true means this method is called when view just created, false means this method is called when config props change
     */
    tryUpdateCurrentViewByConfigProps(calledWhenViewCreate) {
        if (!this.view) {
            return;
        }
        const config = this.props.baseWidgetProps.config;
        const preConfig = this.lastUpdateViewConfig;
        this.lastUpdateViewConfig = config;
        // update popup options
        const currPopupEnabled = !config.disablePopUp;
        if (calledWhenViewCreate) {
            // calledWhenViewCreate is true, means tryUpdateCurrentViewByConfigProps is called when view just created, we just set view.popupEnabled to !config.disablePopUp.
            this.view.popupEnabled = currPopupEnabled;
        }
        else {
            // calledWhenViewCreate is false, means tryUpdateCurrentViewByConfigProps is called when config props change, we need to handle config.disablePopUp change.
            const prePopupEnabled = !(preConfig === null || preConfig === void 0 ? void 0 : preConfig.disablePopUp);
            const popupEnabled = !config.disablePopUp;
            // Both Map widget 'disablePopUp' option and JimuMapView.enableClickOpenPopup() can control 'view.popupEnabled'.
            // We should not use `this.view.popupEnabled !== currPopupEnabled` here because we only want to check if Map widget 'disablePopUp' option changed,
            // so we should use `prePopupEnabled !== currPopupEnabled` here.
            if (prePopupEnabled !== popupEnabled) {
                // config.disablePopUp really changed
                this.view.popupEnabled = popupEnabled;
                if (!popupEnabled) {
                    this.view.closePopup();
                }
            }
        }
        if ((config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) || (config.selectionHighlightHaloColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightHaloColor))) {
            // highlight info changes
            const highlightColor = config.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = config.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
            const highlightOptions = Object.assign(Object.assign({}, this.view.highlightOptions), { color: new this.Color(highlightColor), haloColor: new this.Color(highlightHaloColor) });
            this.view.highlightOptions = highlightOptions;
        }
        const enableScroll = !config.disableScroll;
        // this.view.navigation is empty sometimes, so we need to check it here.
        if (this.view.navigation) {
            if (this.view.navigation.mouseWheelZoomEnabled !== enableScroll) {
                this.view.navigation.mouseWheelZoomEnabled = enableScroll;
            }
            if (this.view.navigation.browserTouchPanEnabled !== enableScroll) {
                this.view.navigation.browserTouchPanEnabled = enableScroll;
            }
        }
        if (this.view.ui) {
            this.view.ui.components = [];
        }
        const sceneQualityMode = config.sceneQualityMode;
        if (this.isSceneView(this.view)) {
            const sceneView = this.view;
            if (sceneQualityMode && sceneQualityMode !== sceneView.qualityProfile) {
                sceneView.qualityProfile = sceneQualityMode;
            }
        }
        // try to update mapView.timeZone
        if (this.view.type === '2d') {
            const newTimeZone = this.calMapViewTimeZone(this.view.map);
            const mapView = this.view;
            if (mapView.timeZone !== newTimeZone) {
                mapView.timeZone = newTimeZone;
            }
        }
    }
    /**
     * Consume this.props.baseWidgetProps.mutableStateProps change
     */
    checkAndHandleMutableStateProps() {
        if (this.view && this.props.baseWidgetProps.mutableStateProps) {
            const jimuMapViewId = this.view.dataSourceInfo.jimuMapViewId;
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            if (jimuMapView) {
                jimuMapView.whenJimuMapViewLoaded().then(() => {
                    setTimeout(() => {
                        // We don't need to check this.view if null or destroyed here, we do it in this.handleAction()
                        this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.view, jimuMapView);
                        this.isFirstReceiveMessage = false;
                    }, this.isFirstReceiveMessage ? 500 : 0);
                });
            }
        }
    }
    isMapView(view) {
        return view && view.declaredClass === 'esri.views.MapView';
    }
    isSceneView(view) {
        return view && view.declaredClass === 'esri.views.SceneView';
    }
    diffProps(prevProps) {
        const addedKeys = [];
        const removeKeys = [];
        const updatedKeys = [];
        const currKeys = Object.keys(this.props);
        const prevKeys = Object.keys(prevProps);
        const prevKeysMap = {};
        prevKeys.forEach(key => {
            prevKeysMap[key] = true;
        });
        const currKeysMap = {};
        currKeys.forEach(key => {
            currKeysMap[key] = true;
        });
        currKeys.forEach(currKey => {
            if (prevKeysMap[currKey]) {
                if (prevProps[currKey] !== this.props[currKey]) {
                    updatedKeys.push(currKey);
                }
            }
            else {
                addedKeys.push(currKey);
            }
        });
        prevKeys.forEach(prevKey => {
            if (!currKeysMap[prevKey]) {
                removeKeys.push(prevKey);
            }
        });
        return {
            addedKeys,
            removeKeys,
            updatedKeys
        };
    }
    loadCommonModules() {
        return __awaiter(this, void 0, void 0, function* () {
            const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/geometry/Extent',
                'esri/Viewpoint',
                'esri/portal/Portal',
                'esri/portal/PortalItem',
                'esri/Color',
                'esri/geometry/SpatialReference',
                'esri/geometry/Point'
            ]);
            [
                this.Extent, this.Viewpoint, this.Portal, this.PortalItem, this.Color, this.SpatialReference, this.Point
            ] = modules;
            if (this.__unmount) {
                return;
            }
            this.setState({
                isBasicModulesLoaded: true
            });
        });
    }
    cacheLoadModulesAndCreateMapbaseView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.__unmount || this.isCurrentViewExpected() || this.isCreatingExpectedView()) {
                return;
            }
            const uniqueId = dataSourceInfo === null || dataSourceInfo === void 0 ? void 0 : dataSourceInfo.uniqueId;
            if (uniqueId) {
                delete this.mapViewCreateFailedUniqueIdsInfo[uniqueId];
            }
            this.setState({
                mapLoadStatus: MapLoadStatus.Loading
            });
            const mapCreatingInfo = {
                dataSourceInfo
            };
            this.mapCreatingInfo = mapCreatingInfo;
            try {
                if (dataSourceInfo.isWebMap) {
                    // load modules to create MapView
                    if (!this.MapView) {
                        const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                            'esri/geometry/Geometry',
                            'esri/webmap/InitialViewProperties',
                            'esri/Basemap',
                            'esri/layers/TileLayer',
                            'esri/views/MapView',
                            'esri/WebMap'
                        ]);
                        [
                            this.Geometry, this.InitialViewProperties, this.Basemap, this.TileLayer, this.MapView, this.WebMap
                        ] = modules;
                    }
                }
                else {
                    // load modules for create SceneView
                    if (!this.SceneView) {
                        const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                            'esri/views/SceneView',
                            'esri/WebScene'
                        ]);
                        [
                            this.SceneView, this.WebScene
                        ] = modules;
                    }
                }
                if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(mapCreatingInfo.dataSourceInfo)) {
                    return;
                }
                yield this.createMapbaseView(mapCreatingInfo);
            }
            catch (e) {
                console.error('cacheLoadModulesAndCreateMapbaseView error', e);
                if (uniqueId) {
                    this.mapViewCreateFailedUniqueIdsInfo[uniqueId] = true;
                }
                if (this.mapCreatingInfo === mapCreatingInfo) {
                    this.setState({
                        mapLoadStatus: MapLoadStatus.LoadError
                    });
                }
            }
            if (this.mapCreatingInfo === mapCreatingInfo) {
                this.mapCreatingInfo = null;
            }
        });
    }
    createMapbaseView(mapCreatingInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            const dataSourceInfo = mapCreatingInfo.dataSourceInfo;
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(dataSourceInfo)) {
                return;
            }
            // get mapViewOption or sceneViewOption
            let mapViewOption = null;
            let sceneViewOption = null;
            if (dataSourceInfo.isWebMap) {
                // get map view option
                mapViewOption = yield this.getMapViewOptionToCreateMapView(dataSourceInfo);
            }
            else {
                // get scene view option
                sceneViewOption = yield this.getSceneViewOptionToCreateSceneView(dataSourceInfo);
            }
            const popupOptions = {
                defaultPopupTemplateEnabled: true
            };
            if (mapViewOption) {
                mapViewOption.popup = popupOptions;
            }
            if (sceneViewOption) {
                sceneViewOption.popup = popupOptions;
            }
            // need to check view again to avoid new MapView() twice, because we use async function to get mapViewOption
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(dataSourceInfo)) {
                return;
            }
            let initUrlHashMapOptions = null;
            if (this.props.baseWidgetProps.isRunAppMode) {
                initUrlHashMapOptions = this.getMapOptionsByUrlHashParams(dataSourceInfo.isWebMap);
                if (initUrlHashMapOptions) {
                    const hashViewpoint = initUrlHashMapOptions.viewpoint;
                    if (mapViewOption) {
                        let zoomMaybeFloat = false;
                        if (hashViewpoint) {
                            mapViewOption.viewpoint = hashViewpoint;
                            zoomMaybeFloat = true;
                        }
                        if (initUrlHashMapOptions.center) {
                            mapViewOption.center = initUrlHashMapOptions.center;
                        }
                        if ('scale' in initUrlHashMapOptions) {
                            mapViewOption.scale = initUrlHashMapOptions.scale;
                        }
                        if ('rotation' in initUrlHashMapOptions) {
                            mapViewOption.rotation = initUrlHashMapOptions.rotation;
                            zoomMaybeFloat = true;
                        }
                        if (zoomMaybeFloat) {
                            // Note, we must set snapToZoom to false if we can get hashViewpoint, otherwise the final view.scale is different with hashViewpoint.scale,
                            // because hashViewpoint.scale comes from a float-zoom map and view.scale comes from a int-zoom map.
                            mapViewOption.constraints.snapToZoom = false;
                        }
                    }
                    if (sceneViewOption) {
                        if (hashViewpoint) {
                            sceneViewOption.viewpoint = hashViewpoint;
                        }
                    }
                }
            }
            let view = null;
            // create map view or scene view
            if (dataSourceInfo.isWebMap) {
                view = new this.MapView(mapViewOption);
            }
            else {
                view = new this.SceneView(sceneViewOption);
            }
            view.initUrlHashMapOptions = initUrlHashMapOptions;
            const map = view.map;
            // set view.map.originalBasemap
            const setOriginalBasemap = () => {
                if (map.originalBasemap) {
                    return;
                }
                const originalBasemap = map.basemap;
                // originalBasemap maybe null, we need to check originalBasemap is null or not
                if (!originalBasemap) {
                    return;
                }
                if (!originalBasemap.thumbnailUrl) {
                    const mapThumbnailUrl = map.thumbnailUrl;
                    // use map.thumbnailUrl as originalBasemap.thumbnailUrl if originalBasemap.thumbnailUrl is empty
                    if (mapThumbnailUrl) {
                        originalBasemap.thumbnailUrl = mapThumbnailUrl;
                    }
                }
                map.originalBasemap = originalBasemap;
            };
            if (map.basemap) {
                setOriginalBasemap();
            }
            else {
                let watchBasemapHandle = null;
                watchBasemapHandle = map.watch('basemap', () => {
                    // only watch once
                    if (watchBasemapHandle) {
                        watchBasemapHandle.remove();
                    }
                    watchBasemapHandle = null;
                    if (map.basemap) {
                        setOriginalBasemap();
                    }
                });
            }
            view.mapbase = this;
            view.highLightHandles = {};
            view.mapBaseViewEventHandles = {};
            view.extentChangeRelatedWidgetIds = [];
            view.publishExtentChangeMessage = function (stationary, interacive) {
                try {
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props && mapbase.props.onExtentChanged) {
                            mapbase.publishExtentChangeMessage(view, stationary, interacive);
                        }
                    }
                }
                catch (e) {
                    console.error('view publish extent change message error', e);
                }
            };
            view.hideMapTools = function () {
                try {
                    view.isMapToolsHidden = true;
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props) {
                            if (mapbase.props.onActiveToolInfoChange) {
                                // set no active tool
                                mapbase.props.onActiveToolInfoChange(null);
                            }
                            const multiSourceMapDom = mapbase.props.multiSourceMapDom;
                            if (multiSourceMapDom) {
                                multiSourceMapDom.classList.add('hide-map-tools-layout');
                            }
                        }
                    }
                }
                catch (e) {
                    console.error('view hide map tools error', e);
                }
            };
            view.viewpointHistory = [];
            view.viewpointIndex = -1;
            view.showMapTools = function () {
                try {
                    view.isMapToolsHidden = false;
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props) {
                            const multiSourceMapDom = mapbase.props.multiSourceMapDom;
                            if (multiSourceMapDom) {
                                multiSourceMapDom.classList.remove('hide-map-tools-layout');
                            }
                        }
                    }
                }
                catch (e) {
                    console.error('view show map tools error', e);
                }
            };
            view.dataSourceInfo = dataSourceInfo;
            if (this.view) {
                this.destroyCurrentMapbaseView();
                this.view = null;
            }
            // update this.view
            this.view = view;
            this.mapCreatingInfo = null;
            if (this.isReadyToCreateJimuMapView()) {
                this.createJimuMapView();
            }
            // the following code are same for both map view and scene view
            view.when(() => {
                var _a, _b, _c;
                view.isViewWhenReady = true;
                if (view.viewpoint) {
                    view.viewWhenInitialViewpoint = view.viewpoint.clone();
                    view.lastViewpointToUpdateUrlParams = view.viewpoint.clone();
                }
                else {
                    view.viewWhenInitialViewpoint = null;
                    view.lastViewpointToUpdateUrlParams = null;
                }
                view.viewWhenTimestamp = Date.now();
                // view.when() is async, we need to check the view is expected or not
                // if the view is not expected again, we don't execute the following logic
                const isViewOk = !view.destroyed && this.view === view && this.isViewExpected(view);
                if (!isViewOk) {
                    return;
                }
                setTimeout(() => {
                    if (!view.destroyed) {
                        // make sure publish extent-change message at least once
                        this.publishExtentChangeMessage(view, true);
                    }
                }, 1000);
                view.watchInteractingHandle = view.watch('interacting', () => {
                    if (view.interacting) {
                        MapBase.lastInteraciveView = view;
                        // We must set view.extentChangeRelatedWidgetIds to empty array, becuase current view is the extent-change sourcer.
                        this.setExtentChangeRelatedWidgetIdsForView(view, []);
                    }
                });
                // MapView always trigger twice extent change event after view when, about 3ms - 80ms after view when.
                // SceneView always trigger 2-5 times extent change event after view when, about 3 - 5000 ms, depends on data.
                view.extentWatchHandle = view.watch('extent', (extent) => {
                    if (!extent) {
                        return;
                    }
                    this.publishExtentChangeMessage(view, false);
                    if (view.stationaryTimerId) {
                        clearTimeout(view.stationaryTimerId);
                        view.stationaryTimerId = null;
                    }
                    // We don't use view.watch('stationary', cb) to check if view is static or not, because the behavior of view.stationary is strange.
                    // Instead, we use a timeout to check if view is static or not.
                    view.stationaryTimerId = setTimeout(() => {
                        view.stationaryTimerId = null;
                        // view is static now
                        // We need to publish extent-change message again when view is static.
                        this.publishExtentChangeMessage(view, true);
                        // Note, make sure we call setExtentChangeRelatedWidgetIdsForView() after publish extent-change message.
                        this.setExtentChangeRelatedWidgetIdsForView(view, []);
                        setTimeout(() => {
                            if (view === MapBase.lastInteraciveView && !view.interacting) {
                                MapBase.lastInteraciveView = null;
                            }
                        }, 1000);
                    }, 200);
                });
                if (!view.fatalErrorWatchHandle) {
                    view.fatalErrorWatchHandle = view.watch('fatalError', (error) => {
                        var _a, _b;
                        if (error) {
                            // Don't use this.props.isMapInVisibleArea to check is map visible or not, because mapbase maybe unmounted and this.props.isMapInVisibleArea is still true.
                            // It is more safe to
                            const shouldRecovery = !view.isInCaching && view.container && view.container.clientWidth > 0 && view.container.clientHeight > 0;
                            const widgetId = ((_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.id) || '';
                            if (shouldRecovery) {
                                console.error(`${widgetId} Fatal Error! View has lost its WebGL context. Attempting to recover it because the view is visible.`);
                                this.tryFatalErrorRecovery(view);
                            }
                            else {
                                console.error(`${widgetId} Fatal Error! View has lost its WebGL context. Don't recover it because the view is not visible.`);
                            }
                        }
                    });
                }
                // after view is loaded, send extent change message
                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {
                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);
                });
                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish
                // extentMessage and change other mapWidget's extent.
                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {
                    // In 2023.R02, it always calls this.goHome(false) here. We keep it for compatibility.
                    // In the next release, if we can get viewpoint from url hash, we will use it as map initial viewpoint.
                    // For this case (view.initUrlHashViewpoint not empty), we don't call this.goHome(false), because goHome will let the map goto config.initialMapState.
                    if (!view.initUrlHashMapOptions) {
                        this.goHome(false);
                    }
                }
                if (this.isMapView(view)) {
                    // snapToZoom: true means integer zoom, false means float zoom
                    // We need to set the initial value to true for backward compatibility and keep the same behavior with MapViewer
                    // After map inited, we will set snapToZoom to false to get the best synchronization between two map widgets
                    // We use setTimeout here to make sure the above this.goHome(false) is done.
                    setTimeout(() => {
                        view.constraints.snapToZoom = false;
                    }, 0);
                }
            });
            this.bindMapBaseViewEvent(view);
            this.tryUpdateCurrentViewByConfigProps(true);
            this.checkAndHandleMutableStateProps();
        });
    }
    publishExtentChangeMessage(view, stationary, interacive) {
        if (!view) {
            return;
        }
        const nowTime = Date.now();
        if (!view.firstPublishExtentChangeTime) {
            view.firstPublishExtentChangeTime = nowTime;
        }
        const extent = view.extent.clone();
        const viewpoint = view.viewpoint.clone();
        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent, viewpoint, stationary);
        extentMessage.publishTime = nowTime;
        extentMessage.interacive = interacive || view.interacting;
        const extentChangeRelatedWidgetIdsOfView = this.getExtentChangeRelatedWidgetIdsOfView(view);
        extentMessage.setRelatedWidgetIds(extentChangeRelatedWidgetIdsOfView);
        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
        if (stationary) {
            // handle viewpointHistory
            const currentViewpoint = view.viewpoint.clone();
            if (view.viewpointHistory.length > 0) {
                const indexes = [view.viewpointIndex, view.viewpointIndex - 1, view.viewpointIndex + 1];
                let isSamelikeViewpoint = false;
                const lastViewpointIndex = view.viewpointHistory.length - 1;
                for (let i = 0; i < indexes.length; i++) {
                    const viewpointIndex = indexes[i];
                    if (viewpointIndex >= 0 && viewpointIndex <= lastViewpointIndex) {
                        const viewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getViewpointInstanceFromHistory)(view, viewpointIndex);
                        if (viewpoint && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSamelikeViewpoints)(view, currentViewpoint, viewpoint)) {
                            isSamelikeViewpoint = true;
                            break;
                        }
                    }
                }
                if (!isSamelikeViewpoint) {
                    // current viewpointHistory: view.viewpointIndex point to C
                    // A -> B -> [C] -> D -> E
                    // temp viewpointHistory
                    // A -> B -> [C]
                    view.viewpointHistory.splice(view.viewpointIndex + 1);
                    // new viewpointHistory
                    // A -> B -> C -> [F]
                    view.viewpointHistory.push(currentViewpoint);
                    view.viewpointIndex += 1;
                }
            }
            else {
                // first viewpoint
                view.viewpointHistory.push(currentViewpoint);
                view.viewpointIndex = 0;
            }
            if (view.stationaryCallback) {
                view.stationaryCallback();
            }
        }
        this.debounceUpdateUrlHashParams();
    }
    updateUrlHashParams() {
        if (this.view) {
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (jimuMapView && jimuMapView.isActive) {
                // MapView always trigger twice extent change event after view when, about 3ms - 80ms after view when.
                // SceneView always trigger 2-5 times extent change event after view when, about 3 - 5000 ms, depends on data.
                // We don't want to update map url parameters during map initializing, so need to check viewpoint really changed or not.
                const isViewpointChange = !(0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSamelikeViewpoints)(this.view, this.view.viewpoint, this.view.lastViewpointToUpdateUrlParams);
                if (isViewpointChange) {
                    // viewpoint really changed
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateUrlHashParamsForActiveJimuMapView)(jimuMapView);
                }
            }
        }
    }
    generateViewPointFromInitialMapState(initialMapState) {
        // For 2d, initialMapState.extent and initialMapState.viewPoint have some difference.
        // The logic has run long time, for now we don't change its logic for compatibility.
        if (initialMapState.viewType === '2d') {
            return new this.Viewpoint({
                targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                rotation: initialMapState.rotation
            });
        }
        else {
            return this.Viewpoint.fromJSON(initialMapState.viewPoint);
        }
    }
    getMapOptionsByUrlHashParams(is2d) {
        let result = null;
        try {
            const isRunAppMode = this.props.baseWidgetProps.isRunAppMode;
            const runtimeUrlHashParams = this.props.baseWidgetProps.runtimeUrlHashParams;
            if (isRunAppMode && runtimeUrlHashParams) {
                result = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapOptionsByUrlHashParams)(runtimeUrlHashParams, is2d, this.Viewpoint, this.Point, this.SpatialReference);
            }
        }
        catch (e) {
            console.error('parse map options from url hash params error', e);
            result = null;
        }
        return result;
    }
    calMapViewTimeZone(webMapOrWebScene) {
        var _a, _b;
        let finalTimeZone = '';
        const timeZoneProp = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.mapTimeZone;
        const originalItemTimeZone = webMapOrWebScene === null || webMapOrWebScene === void 0 ? void 0 : webMapOrWebScene.originalItemTimeZone;
        if (timeZoneProp) {
            // case1: user sets 'Device time zone' as timeZone in ExB
            // case2: user sets 'Specific time zone' as timeZone in ExB
            finalTimeZone = timeZoneProp;
        }
        else if (originalItemTimeZone) {
            // user sets 'Data time zone' as timeZone in ExB
            // The webmap is a new one with timeZone.
            finalTimeZone = originalItemTimeZone;
        }
        else {
            // user doesn't set timeZone in ExB
            // The webmap is an old one without timeZone.
            finalTimeZone = 'system';
        }
        return finalTimeZone;
    }
    /**
     * This method create web map or web scene by data source. This method doesn't consider default web map case.
     * @param dataSourceInfo
     * @returns
     */
    createWebMapOrWebSceneByDataSource(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            let webMapOrWebScene = null;
            const MapClass = dataSourceInfo.isWebMap ? this.WebMap : this.WebScene;
            const dataSourceJson = dataSourceInfo.dataSourceJson;
            if (dataSourceJson.portalUrl) {
                // create web map or web scene for portal
                const portal = new this.Portal({
                    url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getPlatformUrlByOrgUrl(dataSourceJson.portalUrl)
                });
                webMapOrWebScene = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId,
                        portal: portal
                    })
                });
            }
            else {
                // create web map or web scene for arcgis online
                webMapOrWebScene = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId
                    })
                });
            }
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getWhetherUseProxy()) {
                yield webMapOrWebScene.load();
                yield webMapOrWebScene.when();
                // set proxy url for layers and tables
                const allLayers = webMapOrWebScene.allLayers.toArray();
                const tables = webMapOrWebScene.tables ? webMapOrWebScene.tables.toArray() : [];
                const layersAndTables = allLayers.concat(tables);
                layersAndTables.forEach(layer => {
                    const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(layer);
                    if (!sourceUrl) {
                        return;
                    }
                    const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);
                    if (proxyUrl) {
                        layer.url = proxyUrl;
                        // The following code is the workaround to fix JS API 4.28 issue. Need to be replaced with request interceptor in next release.
                        const portalItem = layer.portalItem;
                        if (portalItem && portalItem.when) {
                            portalItem.when(() => {
                                // After execute 'layer.url = proxyUrl', layer.url maybe still different with proxyUrl, e.g. proxyUrl is 'xxx/featureserver/0', but the final layer.url is 'xxx/featureserver'.
                                // so we use layer.url here, not proxyUrl.
                                portalItem.url = layer.url;
                                if (portalItem.sourceJSON) {
                                    portalItem.sourceJSON.url = layer.url;
                                }
                            });
                        }
                    }
                });
            }
            return webMapOrWebScene;
        });
    }
    getDefaultWebMap() {
        const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
        const tempViewPoint = new this.Viewpoint({
            targetGeometry: new this.Extent({
                xmin: defaultExtent && defaultExtent.xmin,
                ymin: defaultExtent && defaultExtent.ymin,
                xmax: defaultExtent && defaultExtent.xmax,
                ymax: defaultExtent && defaultExtent.ymax,
                spatialReference: { wkid: defaultExtent.spatialReference.wkid }
            })
        });
        const defaultWebmap = new this.WebMap({
            portalItem: {
                id: this.props.defaultMapInfo.defaultMapId,
                portal: {
                    url: this.props.baseWidgetProps.portalUrl
                }
            },
            initialViewProperties: new this.InitialViewProperties({
                spatialReference: defaultExtent && defaultExtent.spatialReference,
                viewpoint: tempViewPoint
            })
        });
        return defaultWebmap;
    }
    getMapViewOptionToCreateMapView(dataSourceInfo) {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            let mapViewOption;
            const initialMapState = this.props.baseWidgetProps.config.initialMapState;
            let webMap = null;
            if (this.props.isDefaultMap) {
                webMap = this.getDefaultWebMap();
                mapViewOption = {
                    map: webMap,
                    container: this.mapContainer,
                    viewpoint: this.getInitViewPointForDefaultWebMap()
                };
            }
            else {
                webMap = (yield this.createWebMapOrWebSceneByDataSource(dataSourceInfo));
                if (initialMapState) {
                    mapViewOption = {
                        map: webMap,
                        container: this.mapContainer,
                        viewpoint: initialMapState && this.generateViewPointFromInitialMapState(initialMapState)
                    };
                }
                else {
                    mapViewOption = {
                        map: webMap,
                        container: this.mapContainer
                    };
                }
            }
            // get the initial timeZone of MapViewer
            try {
                yield webMap.load();
                yield webMap.when();
                const webmapConfig = yield webMap.resourceInfo;
                if (webmapConfig) {
                    webMap.originalItemTimeZone = webmapConfig.timeZone;
                }
            }
            catch (e) {
                console.error('can not get MapViewer timeZone', e);
            }
            const config = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.config;
            const highlightColor = (config === null || config === void 0 ? void 0 : config.selectionHighlightColor) || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = (config === null || config === void 0 ? void 0 : config.selectionHighlightHaloColor) || DEFAULT_HIGHLIGHT_HALO_COLOR;
            mapViewOption.highlightOptions = {
                color: new this.Color(highlightColor),
                haloColor: new this.Color(highlightHaloColor)
            };
            mapViewOption.constraints = {
                // snapToZoom: true means integer zoom, false means float zoom
                // We need to set the initial value to true for backward compatibility and keep the same behavior with MapViewer
                // After map inited, we will set snapToZoom to false to get the best synchronization between two map widgets
                snapToZoom: true
            };
            const finalTimeZone = this.calMapViewTimeZone(webMap);
            mapViewOption.timeZone = finalTimeZone;
            if (!window.jimuConfig.isInBuilder) {
                if (this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id]) {
                    const extentStr = this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id].substr('extent='.length);
                    let extent;
                    try {
                        extent = new this.Extent(JSON.parse(extentStr));
                    }
                    catch (err) {
                        console.error('Bad extent URL parameter.');
                    }
                    if (extent) {
                        mapViewOption.extent = extent;
                    }
                }
            }
            return mapViewOption;
        });
    }
    getSceneViewOptionToCreateSceneView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            const webScene = yield this.createWebMapOrWebSceneByDataSource(dataSourceInfo);
            const mapViewOption = {
                map: webScene,
                container: this.mapContainer
            };
            const widgetConfig = this.props.baseWidgetProps.config;
            const initialMapState = widgetConfig.initialMapState;
            if (initialMapState) {
                mapViewOption.viewpoint = initialMapState && this.generateViewPointFromInitialMapState(initialMapState);
            }
            const highlightColor = widgetConfig.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = widgetConfig.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
            mapViewOption.highlightOptions = {
                color: new this.Color(highlightColor),
                haloColor: new this.Color(highlightHaloColor)
            };
            const sceneQualityMode = widgetConfig.sceneQualityMode;
            if (sceneQualityMode && sceneQualityMode !== _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.auto) {
                mapViewOption.qualityProfile = sceneQualityMode;
            }
            else {
                // use 'low' as default value
                mapViewOption.qualityProfile = _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.low;
            }
            return mapViewOption;
        });
    }
    bindMapBaseViewEvent(view) {
        if (view) {
            this.releaseMapbaseViewEventHandles(view);
            view.mapBaseViewEventHandles.click = view.on('click', () => {
                this.releaseHighLightHandles(view);
            });
        }
    }
    isReadyToCreateJimuMapView() {
        if (this.view) {
            if (this.props.isDefaultMap) {
                // Don't need data source if use default map.
                return true;
            }
            else {
                return this.mapDs && this.mapDs.id === this.props.dataSourceId;
            }
        }
        return false;
    }
    getJimuMapViewFoView(view) {
        var _a;
        const jimuMapViewId = (_a = view === null || view === void 0 ? void 0 : view.dataSourceInfo) === null || _a === void 0 ? void 0 : _a.jimuMapViewId;
        if (jimuMapViewId) {
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            return jimuMapView;
        }
        return null;
    }
    createJimuMapView() {
        if (!this.isReadyToCreateJimuMapView()) {
            return;
        }
        const view = this.view;
        // If dataSourceId is null, make sure it converts to empty string.
        const dataSourceId = this.props.dataSourceId || '';
        const useUrlHashLayersVisibility = this.props.baseWidgetProps.isRunAppMode;
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().createJimuMapView({
            mapWidgetId: this.props.baseWidgetProps.id,
            dataSourceId,
            view,
            isEnablePopup: this.props.baseWidgetProps.config && !this.props.baseWidgetProps.config.disablePopUp,
            mapViewManager: jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance(),
            useUrlHashLayersVisibility
        });
        view.when(() => {
            const jimuMapViewId = view.dataSourceInfo.jimuMapViewId;
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            if (jimuMapView) {
                if (jimuMapView.view) {
                    jimuMapView.whenJimuMapViewLoaded().then(() => {
                        if (!jimuMapView.view) {
                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
                            return;
                        }
                        if (this.isViewExpected(view)) {
                            if (this.props.onJimuMapViewCreated) {
                                this.props.onJimuMapViewCreated(jimuMapView);
                            }
                        }
                    });
                }
                else {
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
                }
            }
        });
    }
    destroyCurrentMapbaseView() {
        if (this.view) {
            this.destroyMapbaseView(this.view);
        }
        // Note, don't set this.mapDs to null here.
        // Consider this case:
        // We create a new Mapbase instance, onDataSourceCreated callback is quickly, then we get this.mapDs.
        // Then componentDidMount is invoked for some reason (e.g. this.isBasicModulesLoaded changed from false to true),
        // and we need to call this method to destroy this.view.
        // So, if we set this.mapDs to null, we will never get this.mapDs,
        // and this.isReadyToCreateJimuMapView() always return false, then we can't create jimu map view.
        this.view = null;
    }
    destroyMapbaseView(view) {
        if (view) {
            // release handles
            if (view.watchInteractingHandle) {
                view.watchInteractingHandle.remove();
                view.watchInteractingHandle = null;
            }
            if (view.extentWatchHandle) {
                view.extentWatchHandle.remove();
                view.extentWatchHandle = null;
            }
            if (view.fatalErrorWatchHandle) {
                view.fatalErrorWatchHandle.remove();
                view.fatalErrorWatchHandle = null;
            }
            if (view.stationaryTimerId) {
                clearTimeout(view.stationaryTimerId);
                view.stationaryTimerId = null;
            }
            this.releaseHighLightHandles(view);
            this.releaseMapbaseViewEventHandles(view);
        }
        const jimuMapViewId = view.dataSourceInfo.jimuMapViewId;
        if (jimuMapViewId) {
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
        }
        if (!view.destroyed) {
            view.destroy();
        }
    }
    releaseHighLightHandles(view) {
        if (view.highLightHandles) {
            const keys = Object.keys(view.highLightHandles);
            for (const key of keys) {
                view.highLightHandles[key].remove();
            }
        }
        view.highLightHandles = {};
    }
    releaseMapbaseViewEventHandles(view) {
        if (view.mapBaseViewEventHandles) {
            const keys = Object.keys(view.mapBaseViewEventHandles);
            for (const key of keys) {
                view.mapBaseViewEventHandles[key].remove();
            }
        }
        view.mapBaseViewEventHandles = {};
    }
    onStoreResourceSessionsChange(prevResourceSessions, resourceSessions) {
        // When user logins, it will trigger onStoreResourceSessionsChange twice, the duration is about 10ms. So use the defer to only handle the last onStoreResourceSessionsChange.
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.defer(() => {
            var _a, _b, _c, _d;
            const isMapDsCreateFailed = this.createFailedDataSourceIds[this.props.dataSourceId];
            if (isMapDsCreateFailed) {
                return;
            }
            if (this.mapCreatingInfo) {
                return;
            }
            if (!this.view) {
                return;
            }
            if (!this.view.isViewWhenReady) {
                return;
            }
            if (this.view.isInCaching) {
                return;
            }
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (!jimuMapView) {
                return;
            }
            const allLayers = ((_b = (_a = this.view.map) === null || _a === void 0 ? void 0 : _a.layers) === null || _b === void 0 ? void 0 : _b.toArray()) || [];
            const loadErrLayers = allLayers.filter(layer => {
                return layer.loadStatus === 'failed' && layer.loadError && layer.url;
            });
            if (loadErrLayers.length === 0) {
                return;
            }
            const serviceManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance();
            const noPermissionResourceInfoList = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getNoPermissionResourceInfoList() || {};
            const isSomeLayerReLogin = loadErrLayers.some(layer => {
                var _a;
                const layerUrl = layer.url;
                const serviceOwningSystemUrl = (_a = serviceManager.getServerInfoByServiceUrl(layerUrl)) === null || _a === void 0 ? void 0 : _a.owningSystemUrl;
                const serverRootUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.serviceUrlUtils.getServerRootUrl(layerUrl);
                const serviceStandardPlatformUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getStandardPortalUrl(serviceOwningSystemUrl || serverRootUrl);
                if (!serviceStandardPlatformUrl) {
                    return false;
                }
                const preUser = (prevResourceSessions === null || prevResourceSessions === void 0 ? void 0 : prevResourceSessions[serviceStandardPlatformUrl]) || '';
                const currUser = (resourceSessions === null || resourceSessions === void 0 ? void 0 : resourceSessions[serviceStandardPlatformUrl]) || '';
                if (preUser !== currUser && currUser && !noPermissionResourceInfoList[layerUrl]) {
                    // user can access layerUrl now
                    return true;
                }
                return false;
            });
            if (isSomeLayerReLogin && this.expectedDataSourceInfo && this.isViewExpected(this.view)) {
                const mapWidgetId = (_d = (_c = this.props) === null || _c === void 0 ? void 0 : _c.baseWidgetProps) === null || _d === void 0 ? void 0 : _d.widgetId;
                const jimuMapViewId = jimuMapView.id;
                console.log(`recreate mapbaseview because layers that previously failed to load are now accessible, mapWidgetId: ${mapWidgetId}, jimuMapViewId: ${jimuMapViewId}`);
                this.destroyCurrentMapbaseView();
                this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
            }
        });
    }
    getRestoreDataFromMS() {
        const basicKey = this.getRestoreDataKey();
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData', basicKey]);
        return restoreData;
    }
    updateRestoreDataToMS(restoreData) {
        const basicKey = this.getRestoreDataKey();
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${basicKey}`, restoreData);
    }
    getRestoreDataKey() {
        return `${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`;
    }
    /**
     * This method is called when user clicks the map thubnail in map setting page and change the config.initialMapDataSourceID.
     * @param useAmination
     */
    goHome(useAmination) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {
                return;
            }
            const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
            if (this.view && widgets[this.props.baseWidgetProps.id]) {
                const initViewPoint = this.getMapBaseInitViewPoint();
                if (initViewPoint) {
                    // TODO: maybe need to set view.constraints.snapToZoom to true before call view.goTo() and reset it to false after view.goTo() is done.
                    return this.view.goTo(initViewPoint, {
                        animate: useAmination
                    });
                }
            }
        });
    }
    getMapBaseInitViewPoint() {
        var _a, _b;
        if (this.props.isDefaultMap) {
            return this.getInitViewPointForDefaultWebMap();
        }
        else {
            const initialMapState = this.props.baseWidgetProps.config.initialMapState;
            if (initialMapState) {
                return this.generateViewPointFromInitialMapState(initialMapState);
            }
            else {
                if (this.view) {
                    const map = this.view.map;
                    return (_b = (_a = map === null || map === void 0 ? void 0 : map.initialViewProperties) === null || _a === void 0 ? void 0 : _a.viewpoint) === null || _b === void 0 ? void 0 : _b.clone();
                }
            }
        }
    }
    formatMessage(id) {
        return this.props.baseWidgetProps.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages[id] });
    }
    handleDisableWheel() {
        this.widgetContainer.style.pointerEvents = 'none';
        setTimeout(() => {
            this.widgetContainer.style.pointerEvents = 'auto';
        }, 50);
    }
    getMapSwitchForErrorMap() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-container', style: {
                display: isShowMapSwitchBtn ? 'block' : 'none',
                marginBottom: this.props.widthBreakpoint === 'xsmall' ? 10 : 0
            } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: (e) => { e.preventDefault(); switchMap(); }, className: 'w-100 h-100 esri-widget--button' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: Exchange, width: 16, height: 16, className: 'mapswitch-icon' }))))));
    }
    /**
     * handle message/action.
     */
    handleAction(mutableStateProps, mapBaseView, jimuMapView) {
        if (!mapBaseView || mapBaseView.destroyed) {
            return;
        }
        // consume mutableStateProps.zoomToFeatureActionValue
        this.handleActionForZoomToFeatureActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.panToActionValue
        this.handleActionForPanToActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.newFeatureSetActionValue
        this.handleActionForNewFeatureSetActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.changedFeatureSetActionValue
        this.handleActionForChangedFeatureSetActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.selectFeatureActionValue
        this.handleActionForSelectFeatureActionValue(mutableStateProps, mapBaseView);
        // consume flashActionValue and filterActionValue
        this.handleActionForFlashActionValueAndFilterActionValue(mutableStateProps, mapBaseView);
        // handle show data on map action
        this.handleActionForShowOnMapDatas(mutableStateProps, jimuMapView);
        // handle add data to map action
        this.handleActionForAddToMapDatas(mutableStateProps, jimuMapView);
    }
    getExtentChangeRelatedWidgetIdsOfView(view) {
        let result = [];
        if (view) {
            const relatedWidgetIds = view.extentChangeRelatedWidgetIds || [];
            // We need to clone the relatedWidgetIds.
            result = relatedWidgetIds.slice();
        }
        return result;
    }
    setExtentChangeRelatedWidgetIdsForView(view, _relatedWidgetIds) {
        if (view) {
            const relatedWidgetIds = _relatedWidgetIds || [];
            // We need to clone the relatedWidgetIds.
            view.extentChangeRelatedWidgetIds = relatedWidgetIds.slice();
        }
    }
    tryFatalErrorRecovery(view) {
        if (view) {
            view.tryFatalErrorRecovery();
        }
    }
    handleActionForZoomToFeatureActionValue(mutableStateProps, mapBaseView) {
        if (!mutableStateProps.zoomToFeatureActionValue) {
            return;
        }
        const receiveMessageTime = Date.now();
        const zoomToFeatureActionValue = mutableStateProps.zoomToFeatureActionValue;
        const relatedWidgetIds = mutableStateProps.zoomToFeatureActionValue.relatedWidgets || [];
        if (relatedWidgetIds && relatedWidgetIds.includes(this.props.baseWidgetProps.id)) {
            // avoid endless loop
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
        }
        else {
            const zoomToFeatureInternalValue = zoomToFeatureActionValue.value;
            if (zoomToFeatureInternalValue.type === 'zoom-to-extent') {
                // ZoomToExtentInternalValue
                const nowTime = Date.now();
                mapBaseView.lastZoomToExtentTime = nowTime;
                // map widget1 extent chagnes and map widget2 needs to sync the extent by message action.
                // Finally, it calls view.goTo(extent)
                // Consider this case:
                // On app load:
                // 1. Both map widget1 and map widget2 set zoom-to action for each other.
                // 2. The initial extent of map widget1 is extent1 and the initial extent of map widget2 is extent2.
                // 3. map widget1 first publish extent-change message after the view is ready.
                // 4. Then map widget2 publish extent-change message.
                // 5. Then map widget2 receive message from map widget1 and call handleAction.
                // 6. Then map widget1 receive message from map widget2 and call handleAction.
                // At last, the extent of map widget1 is extent2 and the extent of map widget2 is extent1. This is not the expected result.
                // To avoid the above case, we need to stop the step6 because map widget1 first publish message.
                let isAboveCase = false;
                if (mapBaseView.firstPublishExtentChangeTime) {
                    if ((nowTime - mapBaseView.firstPublishExtentChangeTime) <= 2000) {
                        if (mapBaseView.firstPublishExtentChangeTime <= zoomToFeatureInternalValue.publishTime) {
                            if (!zoomToFeatureInternalValue.interacive) {
                                // #14391, if extentMessage.interacive is true, means the extent comes from a interactiving map and needs to sync viewpoint with the interactiving map
                                if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTwoWidgetsMutuallyExtentChange)(this.props.baseWidgetProps.id, zoomToFeatureInternalValue.publishWidgetId)) {
                                    isAboveCase = true;
                                }
                            }
                        }
                    }
                }
                // If mapBaseView is the last interactive view, it means mapBaseView is the extent-change source, we should ignore the zoom-to-extent message.
                if (!isAboveCase && mapBaseView !== MapBase.lastInteraciveView) {
                    const viewpoint = zoomToFeatureInternalValue.viewpoint;
                    const extent = zoomToFeatureInternalValue.extent;
                    const stationary = zoomToFeatureInternalValue.stationary;
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    const viewSR = mapBaseView.spatialReference;
                    // viewpoint has high priority than exent, because it contains more information
                    if (viewpoint) {
                        // update view by viewpoint
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectViewpoint)(viewpoint, viewSR)) {
                            if (stationary) {
                                // only project the viewpoint when map is static
                                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectViewpoint)(viewpoint, viewSR).then((projectedViewpoint) => {
                                    // Consider this case(#16423):
                                    // 1. handleActionForZoomToFeatureActionValue receive message at time1, the message viewpoint is viewpoint1
                                    // 2. the viewpoint needs to be project, then send http request to project the viewpoint1, this async step maybe take long time
                                    // 3. then JimuMapView needs to update viewpoint to viewpoint2 by url data_id (sync step) in JimuMapView.moveFeatureToCenter() at time2
                                    // 4. then the async step2 is done at time3, and udpate viewpoint by the projected viewpoint1, finally the viewpoint is the projected viewpoint1
                                    // The step4 is wrong, because viewpoint2 of step3 is the new one, and the projected viewpoint1 is stale.
                                    // To avoid this case, we should check projectedViewpoint is fresh or stale.
                                    const isProjectedViewpointStale = mapBaseView.receiveMessageTimeOfLastViewUpdate && mapBaseView.receiveMessageTimeOfLastViewUpdate > receiveMessageTime;
                                    if (!isProjectedViewpointStale) {
                                        mapBaseView.viewpoint = projectedViewpoint;
                                    }
                                });
                            }
                        }
                        else {
                            mapBaseView.viewpoint = viewpoint;
                        }
                    }
                    else {
                        // TODO: need to remove the following extent logic
                        // update view by extent
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectSpatialReference)(extent.spatialReference, viewSR)) {
                            if (stationary) {
                                // only project the extent when map is static
                                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)([extent], viewSR).then((projectedGeometries) => {
                                    const projectedExtent = projectedGeometries[0];
                                    mapBaseView.goTo(projectedExtent);
                                });
                            }
                        }
                        else {
                            mapBaseView.goTo(extent, { animate: false });
                        }
                    }
                }
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-query-params') {
                // ZoomToQueryParamsInternalValue
                this.queryExtentFromQueryParams(mapBaseView, zoomToFeatureInternalValue.dataSourceIds, zoomToFeatureInternalValue.useDataSources).then((result) => {
                    let target;
                    if (result.count === 0) {
                        return;
                    }
                    else if (result.count === 1 && (result === null || result === void 0 ? void 0 : result.singlePointGraphic)) {
                        target = {
                            graphics: [result === null || result === void 0 ? void 0 : result.singlePointGraphic],
                            layer: result === null || result === void 0 ? void 0 : result.layer
                        };
                    }
                    else {
                        target = result === null || result === void 0 ? void 0 : result.extent;
                    }
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    // Because of 'zoomToUtils' does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                    if (result.useDefaultExtentOfCurrentView) {
                        mapBaseView.goTo(result.viewpoint);
                    }
                    else {
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, target, zoomToFeatureInternalValue.zoomToOption);
                    }
                });
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-array-graphics') {
                // ZoomToArrayGraphicsInternalValue
                this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, zoomToFeatureInternalValue.arrayFeatures, zoomToFeatureInternalValue.zoomToOption);
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-layers') {
                // ZoomToLayersInternalValue
                const dataSourceIds = zoomToFeatureInternalValue.dataSourceIds;
                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getLayersFromDataSourceIds)(dataSourceIds).then(layers => {
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, layers, zoomToFeatureInternalValue.zoomToOption);
                });
            }
            else {
                // zoom-to-graphics
                const dataSource = this.dsManager.getDataSource(zoomToFeatureInternalValue.dataSourceId);
                let layerPromise;
                if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                    layerPromise = Promise.resolve(dataSource.layer);
                }
                else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
                    layerPromise = dataSource.createJSAPILayerByDataSource();
                }
                else {
                    layerPromise = Promise.resolve(null);
                }
                layerPromise.then(layer => {
                    const originalGraphics = zoomToFeatureInternalValue.features || [];
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.processZoomToFeatures)(mapBaseView, layer, originalGraphics).then(handledGraphics => {
                        let zoomToTarget = null;
                        if (layer) {
                            zoomToTarget = {
                                layer,
                                graphics: handledGraphics
                            };
                        }
                        else {
                            zoomToTarget = handledGraphics;
                        }
                        if (!zoomToFeatureInternalValue.zoomToOption) {
                            zoomToFeatureInternalValue.zoomToOption = {};
                        }
                        this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                        zoomToFeatureInternalValue.zoomToOption.queryParams = ((dataSource === null || dataSource === void 0 ? void 0 : dataSource.getCurrentQueryParams) && dataSource.getCurrentQueryParams()) || '';
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, zoomToTarget, zoomToFeatureInternalValue.zoomToOption);
                    });
                });
            }
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
        }
    }
    handleActionForPanToActionValue(mutableStateProps, mapBaseView) {
        var _a;
        if (!mutableStateProps.panToActionValue) {
            return;
        }
        const relatedWidgetIds = mutableStateProps.panToActionValue.relatedWidgets || [];
        const panToType = (_a = mutableStateProps.panToActionValue.value) === null || _a === void 0 ? void 0 : _a.type;
        if (relatedWidgetIds && relatedWidgetIds.includes(this.props.baseWidgetProps.id)) {
            // avoid endless loop
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
        }
        else if (panToType === 'pan-to-query-params') {
            const panToValue = mutableStateProps.panToActionValue.value;
            this.queryExtentFromQueryParams(mapBaseView, panToValue.dataSourceIds, panToValue.useDataSources).then((result) => {
                var _a, _b, _c;
                // Because of 'panToGeometry' method does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                if (result.useDefaultExtentOfCurrentView) {
                    const targetGeometry = ((_b = (_a = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _a === void 0 ? void 0 : _a.camera) === null || _b === void 0 ? void 0 : _b.position) || ((_c = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _c === void 0 ? void 0 : _c.targetGeometry);
                    this.panToGeometry([targetGeometry], mapBaseView, relatedWidgetIds);
                }
                else {
                    this.panToGeometry([result === null || result === void 0 ? void 0 : result.extent], mapBaseView, relatedWidgetIds);
                }
            });
        }
        else if (panToType === 'pan-to-layer') {
            const panToValue = mutableStateProps.panToActionValue.value;
            const dataSource = this.dsManager.getDataSource(panToValue.dataSourceId);
            let layerPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerPromise = Promise.resolve(dataSource.layer);
            }
            else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
                layerPromise = dataSource.createJSAPILayerByDataSource();
            }
            else {
                layerPromise = Promise.resolve(null);
            }
            layerPromise.then(layer => {
                let queryParams = null;
                if (dataSource) {
                    if (dataSource.getCurrentQueryParams) {
                        queryParams = dataSource.getCurrentQueryParams();
                    }
                }
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.layerExtent(mapBaseView, layer, queryParams).then(layerExtent => {
                    if (layerExtent) {
                        this.panToGeometry([layerExtent], mapBaseView, []);
                    }
                });
            });
        }
        else if (panToType === 'pan-to-layers') {
            const panToValue = mutableStateProps.panToActionValue.value;
            const dataSourceIds = panToValue.dataSourceIds;
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getLayersFromDataSourceIds)(dataSourceIds).then(layers => {
                const extentPromises = [];
                layers.forEach(layer => {
                    if (layer) {
                        extentPromises.push(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.layerExtent(mapBaseView, layer));
                    }
                });
                let fullExtent = null;
                return Promise.all(extentPromises).then(extents => {
                    extents.forEach(extent => {
                        if (extent) {
                            fullExtent = fullExtent ? fullExtent.union(extent) : extent;
                        }
                    });
                    if (fullExtent) {
                        this.panToGeometry([fullExtent], mapBaseView, []);
                    }
                });
            });
        }
        else if (panToType === 'pan-to-geometries') {
            const panToValue = mutableStateProps.panToActionValue.value;
            this.panToGeometry(panToValue.geometries, mapBaseView, relatedWidgetIds);
        }
        else if (panToType === 'pan-to-extent') {
            // map widget1 extent changes and map widget2 needs to sync the extent by message action.
            // Finally, it calls view.goTo(extent.center).
            // Consider this case:
            // 1. Both map widget1 and map widget2 set pan-to action for each other.
            // 2. The initial extent of map widget1 is extent1 and the initial extent of map widget2 is extent2.
            // 3. map widget1 first publish extent-change message after the view is ready.
            // 4. Then map widget2 publish extent-change message.
            // 5. Then map widget2 receive message from map widget1 and call handleAction.
            // 6. Then map widget1 receive message from map widget2 and call handleAction.
            // At last, the extent of map widget1 is extent2 and the extent of map widget2 is extent1. This is not the expected result.
            // To avoid the above case, we need to stop the step6 because map widget1 first publish message.
            let isAboveCase = false;
            const nowTime = Date.now();
            if (mapBaseView.firstPublishExtentChangeTime) {
                if ((nowTime - mapBaseView.firstPublishExtentChangeTime) <= 2000) {
                    if (mapBaseView.firstPublishExtentChangeTime <= mutableStateProps.panToActionValue.value.publishTime) {
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTwoWidgetsMutuallyExtentChange)(this.props.baseWidgetProps.id, mutableStateProps.panToActionValue.value.publishWidgetId)) {
                            isAboveCase = true;
                        }
                    }
                }
            }
            // Consider this case:
            // 1. We have 4 map widgets. Here are the actions.
            // 2. Widget1 -> zoom to -> Widget2 -> zoom to -> Widget4
            // 3. Widget1 -> zoom to -> Widget3 -> pan to -> Widget4
            // 4. We move the map of widget1, finally widget4 will receive zoomTo and panTo actions serially, like zoomTo, panTo, zoomTo, panTo, ...
            // 5. Step4 will result in widget4's map view jumping.
            // 6. To avoid this case, we need to stop executing panTo action if zoomTo action is executed recently.
            let isPanZoomConflictCase = false;
            if (mapBaseView.lastZoomToExtentTime) {
                // By test, the biggest delta time is about 200ms in most cases, but it is safe to use a bigger one.
                if ((nowTime - mapBaseView.lastZoomToExtentTime) <= 500) {
                    isPanZoomConflictCase = true;
                }
            }
            // If mapBaseView is the last interactive view, it means mapBaseView is the extent-change source, we should ignore the pan-to-extent message.
            if (!isAboveCase && !isPanZoomConflictCase && mapBaseView !== MapBase.lastInteraciveView) {
                this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                const panToValue = mutableStateProps.panToActionValue.value;
                const extent = panToValue.geometries[0];
                const extentCenter = extent.center;
                const stationary = panToValue.stationary;
                const viewSR = mapBaseView.spatialReference;
                if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectSpatialReference)(extentCenter.spatialReference, viewSR)) {
                    if (stationary) {
                        // only project the extent when map is static
                        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)([extentCenter], viewSR).then((projectedGeometries) => {
                            const projectedCenter = projectedGeometries[0];
                            mapBaseView.goTo(projectedCenter);
                        });
                    }
                }
                else {
                    // mapBaseView.goTo(extentCenter, { animate: false })
                    mapBaseView.center = extentCenter;
                }
            }
        }
        this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
    }
    panToGeometry(originalGeometries, mapBaseView, relatedWidgetIds) {
        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)(originalGeometries, mapBaseView.spatialReference).then((projectedGeometries) => {
            this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.mapPanto)(mapBaseView, projectedGeometries);
        });
    }
    handleActionForNewFeatureSetActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.newFeatureSetActionValue && !mutableStateProps.newFeatureSetActionValue.promise) {
            const createNewFeaturelayerPromise = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.createNewFeaturelayer)(mapBaseView, mutableStateProps.newFeatureSetActionValue.value);
            if (createNewFeaturelayerPromise) {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue.promise', createNewFeaturelayerPromise);
                createNewFeaturelayerPromise.then(() => {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
                });
            }
            else {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
            }
        }
    }
    handleActionForChangedFeatureSetActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.changedFeatureSetActionValue) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateFeaturelayer)(mapBaseView, mutableStateProps.changedFeatureSetActionValue);
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'changedFeatureSetActionValue', null);
        }
    }
    handleActionForSelectFeatureActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.selectFeatureActionValue) {
            mapBaseView.closePopup();
            this.releaseHighLightHandles(mapBaseView);
            const selectFeatureHandle = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.selectFeature)(mapBaseView, mutableStateProps.selectFeatureActionValue);
            if (selectFeatureHandle) {
                mapBaseView.highLightHandles[selectFeatureHandle.layerId] = selectFeatureHandle.handle;
            }
            setTimeout(() => {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'selectFeatureActionValue', null);
            }, 500);
        }
    }
    handleActionForFlashActionValueAndFilterActionValue(mutableStateProps, mapBaseView) {
        const mutableStatePropsKeys = Object.keys(mutableStateProps);
        // WHY: why use array.some() here ? the callback always return false
        mutableStatePropsKeys.some(actionKey => {
            var _a;
            const jimuMapViewId = mapBaseView.dataSourceInfo.jimuMapViewId;
            const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            // handle flash action
            if (actionKey.indexOf('flashActionValue-') === 0 && mutableStateProps[actionKey]) {
                mutableStateProps[actionKey].querySQL && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.flashFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
            }
            // handle filter action
            if (actionKey.indexOf('filterActionValue-') === 0 && mutableStateProps[actionKey]) {
                ((_a = mutableStateProps[actionKey].querySQL) === null || _a === void 0 ? void 0 : _a.length) >= 0 && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.filterFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
            }
            return false;
        });
    }
    handleActionForShowOnMapDatas(mutableStateProps, jimuMapView) {
        if (mutableStateProps.showOnMapDatas) {
            jimuMapView.drawDataOnMap(mutableStateProps.showOnMapDatas);
        }
    }
    handleActionForAddToMapDatas(mutableStateProps, jimuMapView) {
        if (mutableStateProps.addToMapDatas) {
            jimuMapView.addOrRemoveDataOnMap(mutableStateProps.addToMapDatas);
        }
    }
}
// Record the JimuMapView/Mapbase inited count for the specific jimuMapViewId (mapWidgetId + dataSourceId) at runtime, the key is jimuMapViewId, the value is the JimuMapView/Mapbase inited count.
// We use runtimeInitedJimuMapViews to identify whether the JimuMapView/Mapbase is initialized for the first time,
// and replace config.initialMapState with map_state in the url hash during the first initialization.
MapBase.runtimeInitedJimuMapViews = {};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapBase);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts":
/*!***************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiSourceMapContext: () => (/* binding */ MultiSourceMapContext)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const MultiSourceMapContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createContext({
    mapWidgetId: null,
    mapWidgetHeight: null,
    isShowMapSwitchBtn: false,
    isFullScreen: false,
    dataSourceIds: [],
    activeDataSourceId: null,
    switchMap: () => { },
    fullScreenMap: () => { },
    initialMapState: null,
    mobilePanelContainer: null,
    onMobilePanelContentChange: (MobilePanelContent) => { },
    theme: null
});


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx":
/*!********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _mapbase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapbase */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/mapbase.tsx");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layout/map-fixed-layout */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/map-fixed-layout.tsx");
/* harmony import */ var _layout_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/layout */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/layout.tsx");
/* harmony import */ var _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/pc-layout-json */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/pc-layout-json.ts");
/* harmony import */ var _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout/mobile-layout-json */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/mobile-layout-json.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};









const VisibleStyles = {
    firstMapVisible: [{
            zIndex: 'unset',
            opacity: 1
        }, {
            zIndex: -1,
            opacity: 0
        }],
    secondMapVisible: [{
            zIndex: -1,
            opacity: 0
        }, {
            zIndex: 'unset',
            opacity: 1
        }]
};
class MultiSourceMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.mutableStatePropsMap = {};
        this.__unmount = false;
        this.onPageChange = (prePageId, currentPageId) => {
            // close active tool
            if (prePageId && currentPageId && prePageId !== currentPageId) {
                this.setState({
                    activeToolInfo: null
                });
            }
        };
        this.onResize = (width, height) => {
            // close active tool
            this.setState({
                activeToolInfo: null
            });
        };
        this.reInitWidgetInstance = (restoreData) => {
            this.state = restoreData;
            this.isReIniting = true;
        };
        /**
         * This method is called when user clicks the map thubnail in map setting page and change the config.initialMapDataSourceID.
         * @param dataSourceId
         * @param callBack
         */
        this.changeInitialMapDataSourceID = (dataSourceId, callBack) => {
            if (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1) {
                const firstMapInstance = this.refs.firstMapInstance;
                const secondMapInstance = this.refs.secondMapInstance;
                if (!firstMapInstance || !secondMapInstance) {
                    // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                    if (callBack) {
                        callBack();
                    }
                    return;
                }
                if (!this.state.currentMapIndex) {
                    if (this.state.secondMapDsId && this.state.secondMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        secondMapInstance.goHome(false);
                    }
                    else {
                        firstMapInstance.goHome(false);
                    }
                }
                else {
                    if (this.state.firstMapDsId && this.state.firstMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        firstMapInstance.goHome(false);
                    }
                    else {
                        secondMapInstance.goHome(false);
                    }
                }
            }
        };
        this.startChangeInitialMapAnimation = (callBack) => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!firstMapInstance || !secondMapInstance) {
                // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                if (callBack) {
                    callBack();
                }
                return;
            }
            const tempState = Object.assign({}, this.state);
            if (!this.state.currentMapIndex) {
                // currentMapIndex: 0 -> 1
                // first map visible -> second map visible
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack && callBack(); });
            }
            else {
                // currentMapIndex: 1 -> 0
                // second map visible -> first map visible
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack && callBack(); });
            }
        };
        /**
         * This method is called when user clicks the switch tool at the left bottom of map widget.
         */
        this.switchMap = (ignoreSwitchAnimation = false) => __awaiter(this, void 0, void 0, function* () {
            if (!this.props.baseWidgetProps.useDataSources || this.props.baseWidgetProps.useDataSources.length < 2) {
                yield Promise.resolve();
                return;
            }
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!firstMapInstance || !secondMapInstance) {
                // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                return;
            }
            const tempState = Object.assign({}, this.state);
            // By default, we enable switching opacity animation.
            tempState.useAnimation = !ignoreSwitchAnimation;
            if (!this.state.currentMapIndex) {
                // currentMapIndex: 0 -> 1
                // first map visible -> second map visible
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance.setViewPoint(viewPoint);
                }
            }
            else {
                // currentMapIndex: 1 -> 0
                // second map visible -> first map visible
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance.setViewPoint(viewPoint);
                }
            }
            return new Promise((resolve, reject) => {
                this.setState(tempState, () => {
                    this.confirmJimuMapViewIsActive();
                    setTimeout(() => {
                        this.setState({
                            useAnimation: false
                        }, () => {
                            resolve(null);
                        });
                    }, 500);
                });
            });
        });
        this.handleMutableStatePropsChanged = (dataSourceId, propKey, value) => {
            if (!this.mutableStatePropsMap[propKey]) {
                this.mutableStatePropsMap[propKey] = [dataSourceId];
            }
            else {
                if (!this.mutableStatePropsMap[propKey].includes(dataSourceId)) {
                    this.mutableStatePropsMap[propKey].push(dataSourceId);
                }
            }
            const multiMapDsIds = [];
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && firstMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.firstMapDsId);
            }
            if (secondMapInstance && secondMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.secondMapDsId);
            }
            let isAllMatched = true;
            for (let i = 0; i < multiMapDsIds.length; i++) {
                if (!this.mutableStatePropsMap[propKey].includes(multiMapDsIds[i])) {
                    isAllMatched = false;
                    break;
                }
            }
            if (isAllMatched) {
                delete this.mutableStatePropsMap[propKey];
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, propKey, value);
            }
        };
        // callback of view.extent change
        this.onMapbaseExtentChanged = (dataSourceId, message) => {
            const currentVisibleDsId = this.getCurrentVisibleDsId();
            if (currentVisibleDsId === dataSourceId) {
                const clonedViewpoint = message.viewpoint.clone();
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(message);
                // sync viewpoint of hidden mapbase
                let hiddenMapBase = null;
                if (this.state.firstMapDsId && this.state.firstMapDsId !== dataSourceId) {
                    hiddenMapBase = this.refs.firstMapInstance;
                }
                else if (this.state.secondMapDsId && this.state.secondMapDsId !== dataSourceId) {
                    hiddenMapBase = this.refs.secondMapInstance;
                }
                if (hiddenMapBase) {
                    hiddenMapBase.setViewPoint(clonedViewpoint);
                }
            }
        };
        this.handleMapLoaded = (dataSourceId, mapLoadStatus) => {
            this.forceUpdate();
        };
        this.handleJimuMapViewCreated = (jimuMapView) => {
            if (this.props.onJimuMapViewCreated) {
                this.props.onJimuMapViewCreated(jimuMapView);
            }
            if (this.__unmount) {
                return;
            }
            this.confirmJimuMapViewIsActive();
        };
        /**
         * Update this.state.currentJimuMapViewId by this.state.multiMapStyle and update JimuMapView.isActive by calling jimuMapView.setIsActive(isActive).
         */
        this.confirmJimuMapViewIsActive = () => {
            if (this.props.isDefaultMap) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(null);
                if (jimuMapView) {
                    this.setActiveJimuMapView(jimuMapView, true);
                }
                return;
            }
            const allDatasourceIds = [];
            this.state.firstMapDsId && allDatasourceIds.push(this.state.firstMapDsId);
            this.state.secondMapDsId && allDatasourceIds.push(this.state.secondMapDsId);
            const currentDataSourceId = this.getCurrentVisibleDsId();
            for (let i = 0; i < allDatasourceIds.length; i++) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(allDatasourceIds[i]);
                if (jimuMapView) {
                    if (allDatasourceIds[i] === currentDataSourceId) {
                        this.setActiveJimuMapView(jimuMapView, true);
                    }
                    else {
                        this.setActiveJimuMapView(jimuMapView, false);
                    }
                }
            }
        };
        this.isShowMapSwitchBtn = () => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && secondMapInstance) {
                if (firstMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading && secondMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading) {
                    return true;
                }
            }
            else {
                return false;
            }
        };
        this.getCurrentVisibleDsId = () => {
            if (this.state.multiMapStyle[0].opacity === 1) {
                return this.state.firstMapDsId;
            }
            else {
                return this.state.secondMapDsId;
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (this.props.onViewGroupCreate) {
                this.props.onViewGroupCreate(viewGroup);
            }
        };
        this.handleMobilePanelContentChange = (mobilePanelContent) => {
            this.setState({
                mobilePanelContent: mobilePanelContent
            });
        };
        this.handleActiveToolInfoChange = (activeToolInfo) => {
            this.setState({
                activeToolInfo: activeToolInfo
            });
        };
        this.domRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        const mapWidgetId = this.props.baseWidgetProps.id;
        if (typeof MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] === 'number') {
            // MultiSourceMap is inited multiple times for mapWidgetId
            MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] += 1;
        }
        else {
            // MultiSourceMap is inited firstly for mapWidgetId
            MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] = 1;
        }
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',
            `${this.props.baseWidgetProps.id}-restoreData-multimap`]);
        if (restoreData) {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            restoreData.mobilePanelContainer = mobilePanelContainer;
            this.reInitWidgetInstance(restoreData);
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, null);
        }
        else {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            // The workflow to show top map and bottom map:
            // 1. this.state.multiMapStyle is set to VisibleStyles.firstMapVisible, this leads to getCurrentVisibleDsId() returning this.state.firstMapDsId.
            // 2. In componentDidMount, this.state.firstMapDsId is set to initialMapDataSourceID.
            // 3. When JimuMapView created, handleJimuMapViewCreated is called, then handleJimuMapViewCreated calls confirmJimuMapViewIsActive.
            // 4. In confirmJimuMapViewIsActive, it calls this.getCurrentVisibleDsId() as currentDataSourceId, currentDataSourceId is this.state.firstMapDsId due to step1.
            //    And because of step2, this.state.firstMapDsId is initialMapDataSourceID, so the currentDataSourceId is initialMapDataSourceID.
            //    Then call JimuMapView.setIsActive(isActive), isActive is true if jimuMapView.dataSourceId equals currentDataSourceId, otherwise isActive is false.
            this.state = {
                // show useDataSources[0] on the top by default
                currentMapIndex: 0,
                multiMapStyle: VisibleStyles.firstMapVisible,
                firstMapDsId: null,
                secondMapDsId: null,
                useAnimation: false,
                useDataSources: null,
                // Note, the initial currentJimuMapViewId is empty, it is not empty after called this.confirmJimuMapViewIsActive() method.
                currentJimuMapViewId: null,
                mobilePanelContent: null,
                mobilePanelContainer: mobilePanelContainer,
                activeToolInfo: null
                // showOnMapDatasKey: null
            };
        }
        this.mutableStatePropsMap = {};
        this.useMapWidgetIds = this.props.baseWidgetProps.id ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.props.baseWidgetProps.id]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.observeStore)(this.onPageChange, ['appRuntimeInfo', 'currentPageId']);
    }
    componentDidMount() {
        if ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo) {
            if (!(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo[this.props.baseWidgetProps.id]) {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoAdded(this.props.baseWidgetProps.id, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({ mapWidgetId: this.props.baseWidgetProps.id })));
            }
        }
        this.__unmount = false;
        if (this.isReIniting) {
            // this.isReIniting is true means MultiSourceMap is restored.
            return;
        }
        const useDataSources = this.props.baseWidgetProps.useDataSources;
        if (useDataSources) {
            // initialMapDataSourceID maybe config.initialMapDataSourceID or url hash param active_datasource_id
            let initialMapDataSourceID = this.props.baseWidgetProps.config.initialMapDataSourceID;
            // If url hash param active_datasource_id is set and this is the first time MultiSourceMap inited,
            // then we use active_datasource_id override config.initialMapDataSourceID.
            if (this.props.baseWidgetProps.isRunAppMode) {
                const mapWidgetId = this.props.baseWidgetProps.id;
                const firstTimeInited = MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] === 1;
                if (firstTimeInited) {
                    // MultiSourceMap is inited firstly for mapWidgetId.
                    const runtimeUrlHashParams = this.props.baseWidgetProps.runtimeUrlHashParams;
                    if (runtimeUrlHashParams && runtimeUrlHashParams.active_datasource_id) {
                        const allDataSourceIds = useDataSources.map(item => item.dataSourceId);
                        if (allDataSourceIds.includes(runtimeUrlHashParams.active_datasource_id)) {
                            initialMapDataSourceID = runtimeUrlHashParams.active_datasource_id;
                        }
                    }
                }
            }
            // the following code make sure firstMapDsId points to the above initialMapDataSourceID
            if (!initialMapDataSourceID) {
                this.setState({
                    firstMapDsId: useDataSources[0] && useDataSources[0].dataSourceId,
                    secondMapDsId: useDataSources[1] && useDataSources[1].dataSourceId
                });
            }
            else {
                if (initialMapDataSourceID === (useDataSources[0] && useDataSources[0].dataSourceId)) {
                    this.setState({
                        firstMapDsId: useDataSources[0] && useDataSources[0].dataSourceId,
                        secondMapDsId: useDataSources[1] && useDataSources[1].dataSourceId
                    });
                }
                else if (initialMapDataSourceID === (useDataSources[1] && useDataSources[1].dataSourceId)) {
                    this.setState({
                        firstMapDsId: useDataSources[1] && useDataSources[1].dataSourceId,
                        secondMapDsId: useDataSources[0] && useDataSources[0].dataSourceId
                    });
                }
                else {
                    this.setState({
                        firstMapDsId: useDataSources[0] && useDataSources[0].dataSourceId,
                        secondMapDsId: useDataSources[1] && useDataSources[1].dataSourceId
                    });
                }
            }
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources) {
            const restoreData = {
                currentMapIndex: this.state.currentMapIndex,
                multiMapStyle: this.state.multiMapStyle,
                firstMapDsId: this.state.firstMapDsId,
                secondMapDsId: this.state.secondMapDsId,
                useAnimation: this.state.useAnimation,
                currentJimuMapViewId: this.state.currentJimuMapViewId
            };
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, restoreData);
        }
        if (!widgets[this.props.baseWidgetProps.id]) {
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoRemoved(this.props.baseWidgetProps.id));
        }
    }
    static getDerivedStateFromProps(newProps, prevState) {
        if (newProps.baseWidgetProps.useDataSources !== prevState.useDataSources) {
            const newState = MultiSourceMap.getChangedState(prevState.firstMapDsId, prevState.secondMapDsId, newProps.baseWidgetProps.useDataSources);
            return newState;
        }
        else {
            return null;
        }
    }
    componentDidUpdate(prevProps, prevState, snapshot) {
        if (this.props.baseWidgetProps.stateProps && this.props.baseWidgetProps.stateProps.initialMapDataSourceID) {
            // mapWidget.props.stateProps.initialMapDataSourceID is a temporary variable to let map setting and map runtime communicate with each other.
            // If we change the initialMapDataSourceID by clicking ds thumbnail in map setting,
            // then map setting will call builderAppSync.publishChangeWidgetStatePropToApp() to update mapWidget.props.stateProps.initialMapDataSourceID.
            // Once we check mapWidget.props.stateProps.initialMapDataSourceID is not empty in MultiSourceMap, means we changed the initialMapDataSourceID,
            // then we make sure the initialMapbase go to the initial extent.
            // At last, we will reset mapWidget.props.stateProps.initialMapDataSourceID to empty.
            const initialMapDataSourceID = this.props.baseWidgetProps.stateProps.initialMapDataSourceID;
            if (this.state.firstMapDsId === initialMapDataSourceID) {
                const firstMapInstance = this.refs.firstMapInstance;
                if (firstMapInstance) {
                    firstMapInstance.goHome(false);
                }
            }
            if (this.state.secondMapDsId === initialMapDataSourceID) {
                const secondMapInstance = this.refs.secondMapInstance;
                if (secondMapInstance) {
                    secondMapInstance.goHome(false);
                }
            }
            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(this.props.baseWidgetProps.id, 'initialMapDataSourceID', null));
        }
        if (this.isReIniting) {
            this.isReIniting = false;
            return;
        }
        if (this.props.baseWidgetProps.config.initialMapDataSourceID !== prevProps.baseWidgetProps.config.initialMapDataSourceID) {
            // User clicks the map thubnail in map setting page and change the config.initialMapDataSourceID.
            this.changeInitialMapDataSourceID(this.props.baseWidgetProps.config.initialMapDataSourceID, this.confirmJimuMapViewIsActive);
        }
        if (this.props.baseWidgetProps.useDataSources !== prevProps.baseWidgetProps.useDataSources) {
            this.confirmJimuMapViewIsActive();
        }
    }
    getJimuMapViewByDataSourceId(dsId) {
        const jimuMapViewId = (0,_utils__WEBPACK_IMPORTED_MODULE_8__.getJimuMapViewId)(this.props.baseWidgetProps.id, dsId);
        const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
        return jimuMapView;
    }
    setActiveJimuMapView(jimuMapView, isActive) {
        var _a, _b;
        if (isActive) {
            // jimuMapView is active
            jimuMapView.setIsActive(isActive);
            this.setState({
                currentJimuMapViewId: jimuMapView.id
            });
            if (this.props.onActiveJimuMapViewChange) {
                this.props.onActiveJimuMapViewChange(jimuMapView);
            }
            const baseWidgetProps = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps;
            if (baseWidgetProps) {
                // If current url active_datasource_id is empty, we should treat it as initialMapDataSourceID.
                let urlActiveDsId = ((_b = baseWidgetProps.runtimeUrlHashParams) === null || _b === void 0 ? void 0 : _b.active_datasource_id) || baseWidgetProps.config.initialMapDataSourceID;
                // initialMapDataSourceID only exists when useDataSources.length === 2, so initialMapDataSourceID maybe null.
                if (!urlActiveDsId) {
                    // means runtimeUrlHashParams.active_datasource_id and config.initialMapDataSourceID are null
                    const useDataSources = baseWidgetProps.useDataSources;
                    if (useDataSources && useDataSources.length === 1) {
                        urlActiveDsId = useDataSources[0].dataSourceId;
                    }
                }
                if (!urlActiveDsId) {
                    urlActiveDsId = '';
                }
                const newActiveDsId = jimuMapView.dataSourceId || '';
                if (newActiveDsId !== urlActiveDsId) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_8__.updateUrlHashParamsForActiveJimuMapView)(jimuMapView);
                }
            }
        }
        else {
            // jimuMapView is not active
            jimuMapView.setIsActive(isActive);
        }
    }
    // handleShowOnMapDataChange = (showOnMapDatasKey: string[]) => {
    //  this.setState({
    //    showOnMapDatasKey: showOnMapDatasKey
    //  })
    // }
    getLayoutConfig() {
        if (this.props.widthBreakpoint === 'xsmall') {
            return _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__["default"][0];
        }
        else {
            return this.props.baseWidgetProps.config.layoutIndex ? _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][this.props.baseWidgetProps.config.layoutIndex] : _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][0];
        }
    }
    render() {
        var _a;
        const mutiSourceMapDom = this.domRef.current;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Provider, { value: {
                mapWidgetId: this.props.baseWidgetProps.id,
                mapWidgetHeight: this.props.widgetHeight,
                isShowMapSwitchBtn: this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1 && this.isShowMapSwitchBtn(),
                dataSourceIds: [this.state.firstMapDsId, this.state.secondMapDsId],
                activeDataSourceId: this.getCurrentVisibleDsId(),
                switchMap: this.switchMap,
                fullScreenMap: this.props.fullScreenMap,
                isFullScreen: this.props.isFullScreen,
                mobilePanelContainer: this.state.mobilePanelContainer,
                onMobilePanelContentChange: this.handleMobilePanelContentChange,
                initialMapState: this.props.baseWidgetProps.config && this.props.baseWidgetProps.config.initialMapState,
                theme: this.props.baseWidgetProps.theme
            } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: this.domRef, className: 'w-100 h-100 multi-source-map' },
                !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 multi-map-container', style: { position: 'relative' } },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map1', {
                            'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[0].opacity,
                            'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[0].opacity),
                            'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[0].opacity,
                            'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[0].opacity)
                        }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[0].zIndex } }, this.state.firstMapDsId && this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, dataSourceId: this.state.firstMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, multiSourceMapDom: mutiSourceMapDom })),
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map2', {
                            'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[1].opacity,
                            'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[1].opacity),
                            'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[1].opacity,
                            'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[1].opacity)
                        }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[1].zIndex } }, this.state.secondMapDsId && this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'secondMapInstance', baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, dataSourceId: this.state.secondMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, multiSourceMapDom: mutiSourceMapDom }))),
                this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 default-map-container', style: { position: 'relative' } },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 multisourcemap-item-appear-noanimate default-map-mapbase-container'), style: { position: 'absolute', zIndex: 'unset' } }, this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', isDefaultMap: this.props.isDefaultMap, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, dataSourceId: null, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.props.defaultMapInfo, multiSourceMapDom: mutiSourceMapDom }))),
                this.state.currentJimuMapViewId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__["default"], { jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, widgetManifestName: this.props.baseWidgetProps.manifest.name }),
                this.state.currentJimuMapViewId && jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId) &&
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_layout__WEBPACK_IMPORTED_MODULE_5__["default"], { mapWidgetId: this.props.baseWidgetProps.id, isMobile: this.props.widthBreakpoint === 'xsmall', jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, intl: this.props.baseWidgetProps.intl, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, layoutConfig: this.getLayoutConfig(), toolConfig: this.props.baseWidgetProps.config.toolConfig ? this.props.baseWidgetProps.config.toolConfig : {}, activeToolInfo: this.state.activeToolInfo, onActiveToolInfoChange: this.handleActiveToolInfoChange, theme: this.props.baseWidgetProps.theme, widgetManifestName: this.props.baseWidgetProps.manifest.name, widgetHeight: this.props.widthBreakpoint === 'xsmall' ? null : this.props.widgetHeight, autoControlWidgetId: this.props.autoControlWidgetId }),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.JimuMapViewComponent, { useMapWidgetId: (_a = this.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0], onViewGroupCreate: this.handleViewGroupCreate }),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, handleWidth: true, onResize: this.onResize }))));
    }
}
// Record the MultiSourceMap inited count for the specific mapWidgetId at runtime, the key is map widget id, the value is the MultiSourceMap inited count.
// We use runtimeInitedMapWidgets to identify whether the MultiSourceMap is initialized for the first time,
// and replace config.initialMapDataSourceID with activeDataSourceId in the url hash during the first initialization.
MultiSourceMap.runtimeInitedMapWidgets = {};
MultiSourceMap.getChangedState = (firstMapDsId, secondMapDsId, useDataSources) => {
    const changedState = {};
    if (useDataSources && useDataSources[0]) {
        const newDataSourceArr = [];
        const repeatDataSourceArr = [];
        for (let i = 0; i < useDataSources.length; i++) {
            if (firstMapDsId !== useDataSources[i].dataSourceId) {
                newDataSourceArr.push(useDataSources[i].dataSourceId);
            }
            else {
                repeatDataSourceArr.push(useDataSources[i].dataSourceId);
            }
        }
        if (repeatDataSourceArr.length > 0) {
            changedState.firstMapDsId = firstMapDsId;
            changedState.secondMapDsId = newDataSourceArr[0];
        }
        else if (repeatDataSourceArr.length === 0) {
            if (newDataSourceArr.includes(secondMapDsId)) {
                newDataSourceArr.splice(newDataSourceArr.indexOf(secondMapDsId), 1);
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = secondMapDsId;
            }
            else {
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = newDataSourceArr[1];
            }
        }
    }
    else {
        changedState.firstMapDsId = null;
        changedState.secondMapDsId = null;
    }
    if (changedState.firstMapDsId !== firstMapDsId) {
        if (changedState.firstMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
        else {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
    }
    else {
        if (!changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId !== secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
    }
    return changedState;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MultiSourceMap);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool-shell.tsx":
/*!**********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool-shell.tsx ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseToolShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-modules */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts");
/** @jsx jsx */



class BaseToolShell extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    render() {
        const ToolClass = _tool_modules__WEBPACK_IMPORTED_MODULE_2__["default"][this.props.toolName];
        let isAvailable = true;
        if (ToolClass) {
            if (ToolClass.isAvailable) {
                isAvailable = ToolClass.isAvailable(this.props);
            }
            else {
                isAvailable = true;
            }
        }
        else {
            isAvailable = false;
        }
        if (isAvailable) {
            const className = `exbmap-ui exbmap-ui-tool-shell divitem exbmap-ui-tool-shell-${this.props.toolName}`;
            const styleObj = this.props.layoutConfig.elements[this.props.toolName].style || {};
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(this.props.className, className, this.props.layoutConfig.elements[this.props.toolName].className, {
                    'exbmap-ui-hidden-element': this.props.isHidden,
                    'rounded-pill': ['Compass'].includes(this.props.toolName)
                }), style: styleObj },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolClass, { mapWidgetId: this.props.mapWidgetId, ref: 'baseToolInstance', toolJson: this.props.layoutConfig.elements[this.props.toolName], toolName: this.props.toolName, isMobile: this.props.isMobile, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, theme: this.props.theme, autoControlWidgetId: this.props.autoControlWidgetId })));
        }
        else {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null);
            }
            else {
                return null;
            }
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseTool: () => (/* binding */ BaseTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _scroll_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scroll-container */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/scroll-container.tsx");
/* harmony import */ var _panel_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel-shell */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/panel-shell.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






const defaultIcon = __webpack_require__(/*! jimu-ui/lib/icons/widgets.svg */ "./jimu-ui/lib/icons/widgets.svg");
const closeIcon = __webpack_require__(/*! ../../assets/icons/close-12.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/close-12.svg");
class BaseTool extends _ui_component__WEBPACK_IMPORTED_MODULE_2__.UIComponent {
    constructor(props) {
        super(props);
        this.toolName = null;
        this.isContainedToMobilePanel = false;
        // this param is used to update pop position when pc content has changed
        this.generation = 0;
        this._getContent = () => {
            if (this.props.toolJson.isOnlyExpanded) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: 'exbmap-ui exbmap-ui-tool-panel' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())));
            }
            else {
                if (this.props.isMobile) {
                    return this._renderMobileTool();
                }
                else {
                    return this._renderPCTool();
                }
            }
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.generation = height;
            this.forceUpdate();
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        const mapContainer = this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.container;
        if (jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanelManager.getInstance().checkDomIsContained(mapContainer)) {
            this.isContainedToMobilePanel = true;
        }
        this.modifiers = [{
                name: 'flip',
                options: {
                    padding: 0
                }
            }, {
                name: 'preventOverflow',
                options: {
                    boundary: mapContainer
                }
            }];
        this._onKeyDown = this._onKeyDown.bind(this);
        this.onPopperToggle = this.onPopperToggle.bind(this);
    }
    _cssStyle() {
        const extendCssStyle = this.getExtendCssStyle();
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      ${extendCssStyle}

      /* pointer-events: auto;
      box-shadow: 0 1px 2px rgba(0,0,0,0.3);
      position: relative;

      .exbmap-ui-tool-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .exbmap-ui-expand-content {
        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;
        min-height: 10px;
        min-width: 10px;
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};

        .exbmap-ui-expand-content-header {
          margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        }

        .panel-title {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
          color: #000000;
        }
      }

      .expand-placement-bottom {
        padding-top: 0.25rem !important;
      }

      .expand-placement-left {
        padding-right: 0.25rem !important;
      }

      .expand-placement-right {
        padding-left: 0.25rem !important;
      }

      .expand-placement-top {
        padding-bottom: 0.25rem !important;
      }

      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      } */
    `;
    }
    getExtendCssStyle() {
        return '';
    }
    focusDefaultElement() { }
    onShowPanel() { }
    onClosePanel() { }
    destroy() { }
    static getIsNeedSetting() {
        return true;
    }
    /**
     * Retrun true if the tool should be rendered on the map, otherwise return false.
     * e.g. ScaleBar only supports map view, so ScaleBarTool.isAvailable() will return false if the map is scene view.
     */
    static isAvailable(toolShellProps) {
        return true;
    }
    onPopperToggle(e) {
        if (e) {
            if (e.type === 'keydown' && e.key === 'Escape') {
                this._onIconClick();
                this.iconContainer.focus();
            }
        }
    }
    _onKeyDown(e) {
        var _a;
        if (e.key === 'Enter' || e.key === ' ') {
            if (((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) !== this.toolName) {
                this._onIconClick();
            }
            else {
                this.focusDefaultElement();
            }
        }
    }
    // toggle props.activeToolName
    _onIconClick(e) {
        const onIconClick = this.getIcon() && this.getIcon().onIconClick;
        if (onIconClick) {
            onIconClick(e);
        }
        if (!this.getExpandPanel()) {
            return;
        }
        if (this.props.activeToolInfo) {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
            else {
                this.props.onActiveToolInfoChange({
                    activeToolName: this.toolName,
                    activeToolTitle: this.getTitle()
                });
                this.onShowPanel();
            }
        }
        else {
            this.props.onActiveToolInfoChange({
                activeToolName: this.toolName,
                activeToolTitle: this.getTitle()
            });
            this.onShowPanel();
        }
    }
    _initIconContainer(ref) {
        if (ref && !this.iconContainer) {
            this.iconContainer = ref;
            this.forceUpdate();
        }
    }
    _renderPCTool() {
        var _a;
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        this.generation = this.generation + 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle(), style: { width: '32px', height: '32px' } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this._initIconContainer(ref); }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); }, "aria-expanded": ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) === this.toolName, role: 'button', tabIndex: 0, onKeyDown: this._onKeyDown },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.iconContainer && (this.toolName === activeToolName && expandPanel) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { className: 'exbmap-ui-popper', reference: this.iconContainer, open: !!(this.toolName === activeToolName && expandPanel), placement: this.props.toolJson.panelPlacement, modifiers: this.modifiers, version: this.generation, offset: [0, 4], toggle: this.onPopperToggle, forceLatestFocusElements: true },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mapWidgetHeight }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: this.getExpandPanelPlacementClassName() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-expand-content' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 justify-content-between d-flex exbmap-ui-expand-content-header' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'panel-title text-truncate', style: { maxWidth: '210px' }, title: this.getTitle() }, this.getTitle()),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: () => { this.props.onActiveToolInfoChange(null); }, style: { cursor: 'pointer' }, tabIndex: 0, role: "button", "aria-label": this.props.intl.formatMessage({ id: 'close', defaultMessage: 'close' }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 20, height: 20, icon: closeIcon }))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { maxHeight: `${mapWidgetHeight - 55}px`, overflowY: this.toolName !== 'Search' ? 'auto' : 'inherit' } }, expandPanel),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.onResize }))))))))));
    }
    _renderMobileTool() {
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this.iconContainer = ref; }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), role: 'button', tabIndex: 0, onKeyDown: this._onKeyDown, title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.toolName === activeToolName && expandPanel &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex flex-column', css: this._cssStyle() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_scroll_container__WEBPACK_IMPORTED_MODULE_3__["default"], { className: 'w-100 h-100' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())))), mobilePanelContainer)))));
    }
    getExpandPanelPlacementClassName() {
        if (!this.props.toolJson.panelPlacement) {
            return null;
        }
        else {
            return `expand-placement-${this.props.toolJson.panelPlacement.split('-')[0]}`;
        }
    }
    render() {
        return this._getContent();
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/group.tsx":
/*!************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/group.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Group)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _base_tool_shell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tool-shell */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool-shell.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-modules */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






class Group extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    getStyle() {
        const groupJson = this.props.layoutConfig.elements[this.props.groupName];
        const direction = groupJson.direction;
        const isRTL = this.props.isRTL;
        const isVertical = direction === 'vertical';
        let flexFlow = '';
        if (isVertical) {
            flexFlow = 'column';
        }
        else {
            if (isRTL) {
                flexFlow = 'row-reverse';
            }
            else {
                flexFlow = 'row';
            }
        }
        let alignItems = 'flex-start';
        if (isVertical) {
            if (groupJson.isVerticalRrlAlignItemsStart) {
                if (isRTL) {
                    alignItems = 'flex-end';
                }
                else {
                    alignItems = 'flex-start';
                }
            }
            if (groupJson.isVerticalRrlAlignItemsEnd) {
                if (isRTL) {
                    alignItems = 'flex-start';
                }
                else {
                    alignItems = 'flex-end';
                }
            }
        }
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `

      display: flex;
      flex-flow: ${flexFlow};
      align-items: ${alignItems};

      .exbmap-ui-group-expand-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .expand-mobile-panel {
        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;
        border-radius: 10px 10px 0px 0px;
      }

      .expand-mobile-panel-transition {
        transition: height 0.3s;
      }

      .expand-mobile-panel-touch-container {
        top: 0;
        position: absolute;
        width: 100%;
        height: 31px;
      }

      .expand-mobile-panel-bar {
        width: 36px;
        height: 4px;
        background-color: #434343;
        border-radius: 2px;
      }
      `;
    }
    constructor(props) {
        super(props);
        this.checkIsHiddenElement = (elementName) => {
            if (this.props.hiddenElementNames) {
                if (this.props.hiddenElementNames.includes(elementName)) {
                    return true;
                }
                else {
                    return false;
                }
            }
            else {
                return false;
            }
        };
        /**
         * Hide some tools if widget hegith is too small.
         * This method only hide child element names if current group is main group and in mobile size.
         * @returns
         */
        this.checkResponsive = () => {
            if (!this.props.onSetHiddenElementNames) {
                return;
            }
            if (!this.props.isMainGroup || !this.props.isMobile) {
                this.props.onSetHiddenElementNames([]);
                return;
            }
            const mobileResponsiveStrategy = this.props.layoutConfig.mobileResponsiveStrategy;
            const aboveHeight = this.state.widgetHeight;
            // see issue #2862 for more details
            let hiddenElementNames = [];
            if (aboveHeight >= 465) {
                hiddenElementNames = [];
            }
            else if (aboveHeight >= 400 && aboveHeight < 465) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage1) || [];
            }
            else if (aboveHeight >= 320 && aboveHeight < 400) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage2) || [];
            }
            else if (aboveHeight >= 250 && aboveHeight < 320) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage3) || [];
            }
            else if (aboveHeight >= 160 && aboveHeight < 250) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage4) || [];
            }
            else if (aboveHeight >= 54 && aboveHeight < 160) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage5) || [];
            }
            else if (aboveHeight < 54) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage6) || [];
            }
            this.props.onSetHiddenElementNames(hiddenElementNames);
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.setState({
                widgetWidth: width,
                widgetHeight: height
                // isThumbMap: false
            }, () => {
                this.checkResponsive();
            });
        };
        this.returnNullNode = (key) => {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { key: key });
            }
            else {
                return null;
            }
        };
        this.checkIsLastElement = (parentGroupJson, toolJson) => {
            const toolName = toolJson.toolName;
            const layoutJson = this.props.layoutConfig;
            const children = layoutJson.layout[parentGroupJson.groupName].children;
            const index = children.indexOf(toolName);
            if (index === children.length - 1) {
                return true;
            }
            if (index < children.length - 1) {
                let isLastElement = true;
                for (let i = (index + 1); i < children.length; i++) {
                    const elementName = children[i];
                    if (layoutJson.elements[children[i]].type === 'GROUP') {
                        continue;
                    }
                    else if ((!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][elementName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${elementName}`]) ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(elementName)))) {
                        isLastElement = false;
                        break;
                    }
                    else {
                        continue;
                    }
                }
                return isLastElement;
            }
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        this.handlePanelHeightChange = (panelWidth, panelHeight) => {
            this.setState({ bottomPanelHeight: panelHeight }, () => {
                this.checkResponsive();
            });
        };
        this.getMobilePanelInContext = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer, mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.MobilePanel, { mapWidgetId: mapWidgetId, title: this.props.activeToolInfo && this.props.activeToolInfo.activeToolTitle, open: !!this.props.activeToolInfo, onClose: () => { this.handleToggleMobilePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: (container) => { if (mobilePanelContainer && container) {
                        container.appendChild(mobilePanelContainer);
                    } } })))));
        };
        this.getGroupContent = (layoutJson) => {
            if (!layoutJson) {
                return this.returnNullNode();
            }
            else {
                const children = layoutJson.layout[this.props.groupName] && layoutJson.layout[this.props.groupName].children;
                if (this.checkIsShowGroup(layoutJson, children)) {
                    const groupClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(`exbmap-ui exbmap-ui-group exbmap-ui-group-${this.props.groupName}`, this.props.className, { 'exbmap-ui-hidden-element': this.props.isHidden });
                    const styleObj = this.props.layoutConfig.elements[this.props.groupName].style || {};
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: (this.props.isMainGroup ? this.props.mapWidgetId : undefined), css: this.getStyle(), className: groupClassName, style: styleObj },
                        children.map((key, index) => {
                            var _a, _b;
                            if (!layoutJson.elements[key]) {
                                return this.returnNullNode(index);
                            }
                            if (layoutJson.elements[key].type === 'GROUP') {
                                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group, { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, isMobile: this.props.isMobile, intl: this.props.intl, jimuMapView: this.props.jimuMapView, groupName: key, activeToolInfo: this.props.activeToolInfo, hiddenElementNames: this.props.hiddenElementNames, onActiveToolInfoChange: this.props.onActiveToolInfoChange, theme: this.props.theme, isThumbMap: this.props.isMainGroup ? this.state.isThumbMap : this.props.isThumbMap, autoControlWidgetId: this.props.autoControlWidgetId, isRTL: this.props.isRTL }));
                            }
                            else if (layoutJson.elements[key].type === 'TOOL') {
                                const toolName = layoutJson.elements[key].toolName;
                                const viewType = (_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type;
                                // Navigation is not available for 2D MapView.
                                if ((toolName === 'Navigation' && viewType === '2d') || (toolName === 'ScaleBar' && viewType === '3d')) {
                                    return this.returnNullNode(index);
                                }
                                if (!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][key].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${key}`]) || (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(key))) {
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__["default"], { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), key: index, layoutConfig: layoutJson, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: key, theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: this.checkIsLastElement(layoutJson.elements[this.props.groupName], layoutJson.elements[key]), autoControlWidgetId: this.props.autoControlWidgetId }));
                                }
                                else {
                                    return this.returnNullNode(index);
                                }
                            }
                            else {
                                return this.returnNullNode(index);
                            }
                        }),
                        this.props.isMainGroup && this.props.isMobile && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }),
                        this.props.isMainGroup && this.props.isMobile && this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== 'Select' && this.getMobilePanelInContext(),
                        this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui w-100', style: {
                                position: 'relative',
                                pointerEvents: 'auto',
                                overflow: 'hidden',
                                touchAction: 'none',
                                display: this.props.isMobile && !(this.state.isThumbMap || this.props.isThumbMap) ? 'block' : 'none'
                            } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.props.mapWidgetId}-bottom-panel exbmap-ui w-100 expand-mobile-panel`, style: { overflow: 'hidden', pointerEvents: 'auto', position: 'relative', touchAction: 'none' } },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.handlePanelHeightChange }))))));
                }
                else {
                    return this.returnNullNode();
                }
            }
        };
        this.checkIsShowGroup = (layoutJson, children) => {
            if (!children || children.length === 0) {
                return false;
            }
            else {
                const toolNames = [];
                this.findAllToolNames(layoutJson, children, toolNames);
                let isShowGroup = false;
                for (let i = 0; i < toolNames.length; i++) {
                    if (this.props.toolConfig[`can${toolNames[i]}`] || !_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][toolNames[i]].getIsNeedSetting() ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(toolNames[i]))) {
                        isShowGroup = true;
                        break;
                    }
                }
                return isShowGroup;
            }
        };
        this.findAllToolNames = (layoutJson, children, toolNames) => {
            if (!children || children.length === 0) {
                return;
            }
            for (let i = 0; i < children.length; i++) {
                const childName = children[i];
                const elementInfo = layoutJson.elements[childName];
                if (elementInfo.type === 'GROUP') {
                    const groupName = elementInfo.groupName;
                    this.findAllToolNames(layoutJson, layoutJson.layout[groupName] && layoutJson.layout[groupName].children, toolNames);
                }
                else {
                    toolNames.push(children[i]);
                }
            }
        };
        this.state = {
            bottomPanelHeight: 0,
            isThumbMap: !!this.props.isMobile
        };
    }
    componentDidMount() {
        this.checkResponsive();
    }
    render() {
        if (this.props.isMainGroup && this.props.isMobile && this.props.toolConfig && this.props.toolConfig.canSelect) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `${this.props.mapWidgetId}-with-select-container`, style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', style: { position: 'relative' } }, this.getGroupContent(this.props.layoutConfig)))));
        }
        else {
            return this.getGroupContent(this.props.layoutConfig);
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/panel-shell.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/panel-shell.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PanelShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class PanelShell extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    componentWillUnmount() {
        if (this.props.onDestroyed) {
            this.props.onDestroyed();
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null, this.props.children));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/scroll-container.tsx":
/*!***********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/scroll-container.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScrollContainer)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/** @jsx jsx */

class ScrollContainer extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.moveY = 0;
        this.startY = 0;
        this.isRegisted = false;
        this.registerTouchEvent = (ref) => {
            if (ref && !this.isRegisted) {
                ref.addEventListener('touchstart', (event) => {
                    this.moveY = 0;
                    const touch = event.touches[0];
                    this.startY = touch.clientY;
                }, { passive: false });
                ref.addEventListener('touchmove', (event) => {
                    const touch = event.touches[0];
                    this.moveY = (touch.clientY - this.startY) * -1;
                    this.startY = touch.clientY;
                    ref.scrollTop = ref.scrollTop + this.moveY;
                }, { passive: false });
                ref.addEventListener('touchend', (event) => {
                    this.moveY = 0;
                    this.startY = 0;
                }, { passive: false });
                this.isRegisted = true;
            }
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      overflow: auto;
      pointer-events: auto;
      `;
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: this.props.className, style: this.props.style, ref: ref => {
                this.registerTouchEvent(ref);
            } }, this.props.children));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UIComponent: () => (/* binding */ UIComponent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class UIComponent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/layout.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/layout.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapToolLayout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _base_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/group */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/group.tsx");
/** @jsx jsx */


class MapToolLayout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getMaxHeightForPcExpand = (widgetHeight) => {
            if (!widgetHeight) {
                return null;
            }
            else {
                if (widgetHeight < 65) {
                    return null;
                }
                else {
                    const resultHeight = widgetHeight - 65;
                    if (resultHeight < 300) {
                        return resultHeight;
                    }
                    else {
                        return 300;
                    }
                }
            }
        };
        this.handSetHiddenElementNames = (elementNames) => {
            this.setState({
                hiddenElementNames: elementNames
            });
        };
        this.state = {
            toolsContentInMobileExpandPanel: null,
            hiddenElementNames: []
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      z-index: 8;
      pointer-events: none;

      .expand-panel-transition {
        transition: opacity 0.3s, right 0.3s;
      }

      .scale-attribution-xy-group {
        > div:first-of-type:nth-last-of-type(1) {
          width: 100%;
          max-width: 100% !important;
        }
      }

      .exbmap-ui-hidden-element {
        display: none !important;
      }

      .exbmap-ui-pc-expand-maxheight {
        max-height: ${this.getMaxHeightForPcExpand(this.props.widgetHeight)}px;
        overflow: auto
      }
      `;
    }
    getLayoutContent(layoutJson) {
        if (!layoutJson || !this.props.toolConfig) {
            return null;
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui esri-ui-inner-container map-tool-layout', css: this.getStyle() }, Object.keys(layoutJson.layout).map((key, index) => {
                const elementItem = layoutJson.elements[key];
                const layoutItem = layoutJson.layout[key];
                if (!elementItem || elementItem.type !== 'GROUP' || !layoutItem.isMainGroup) {
                    return null;
                }
                const isRTL = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appContext.isRTL;
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_group__WEBPACK_IMPORTED_MODULE_1__["default"], { mapWidgetId: this.props.mapWidgetId, className: elementItem.className, style: elementItem.style, isMobile: this.props.isMobile, isMainGroup: true, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, activeToolInfo: this.props.activeToolInfo, jimuMapView: this.props.jimuMapView, groupName: key, onActiveToolInfoChange: this.props.onActiveToolInfoChange, hiddenElementNames: layoutJson.mobileResponsiveStrategy && this.state.hiddenElementNames, intl: this.props.intl, onSetHiddenElementNames: this.handSetHiddenElementNames, theme: this.props.theme, autoControlWidgetId: this.props.autoControlWidgetId, isRTL: isRTL }));
            })));
        }
    }
    componentDidUpdate(prevProps) {
        if (prevProps.appMode !== this.props.appMode && this.props.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            this.props.onActiveToolInfoChange(null);
        }
    }
    render() {
        return this.getLayoutContent(this.props.layoutConfig);
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/map-fixed-layout.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/map-fixed-layout.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/** @jsx jsx */



class Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getMapFixedLayout = () => {
            // #1197, #2960
            if (window.jimuConfig.isInBuilder) {
                const LayoutEntry = this.props.LayoutEntry;
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayoutEntry, { layouts: layout || null, isInWidget: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map-fix-layout', { 'widget-map-usemask': !(0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode), 'map-is-live-mode': (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode) }) }));
            }
            else {
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.LayoutEntry, { layouts: layout ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(layout) : null, className: 'w-100 h-100 map-is-live-mode map-fix-layout' });
            }
        };
        this.state = {};
    }
    render() {
        return this.getMapFixedLayout();
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/mobile-layout-json.ts":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/mobile-layout-json.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const mobileLayoutJson = {
    elements: {
        mainGroup: {
            type: 'GROUP',
            groupName: 'mainGroup',
            direction: 'vertical',
            className: 'd-flex flex-column',
            style: {
                position: 'absolute',
                top: '0px',
                left: '0px',
                bottom: '0px',
                right: '0px'
            }
        },
        topGroup: {
            type: 'GROUP',
            groupName: 'topGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between',
            style: {
                padding: '10px 10px 0 10px'
            }
        },
        midGroup: {
            type: 'GROUP',
            groupName: 'midGroup',
            direction: 'horizontal',
            className: 'flex-grow-1 d-flex w-100 justify-content-between',
            style: {
                position: 'relative'
            }
        },
        bottomGroup: {
            type: 'GROUP',
            groupName: 'bottomGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between'
        },
        'midGroup-left-top': {
            type: 'GROUP',
            groupName: 'midGroup-left-top',
            direction: 'vertical',
            style: {
                position: 'absolute',
                left: '0px',
                top: '0px'
            }
        },
        'midGroup-left-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-left-bottom',
            direction: 'vertical',
            className: 'd-flex flex-column',
            isVerticalRrlAlignItemsStart: true,
            style: {
                position: 'absolute',
                left: '0px',
                bottom: '0px'
            }
        },
        'midGroup-right-content-top': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-top',
            direction: 'vertical',
            style: {
                position: 'absolute',
                top: '0px',
                right: '10px'
            }
        },
        'midGroup-right-content-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-bottom',
            direction: 'vertical',
            style: {
                position: 'absolute',
                bottom: '10px',
                right: '10px'
            }
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'flex-grow-1'
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            style: {
                marginLeft: '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'mb-0',
            style: {
                marginLeft: '10px',
                marginTop: '10px'
            }
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginLeft: '10px',
                marginBottom: '10px'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        ExtentNavigate: {
            type: 'TOOL',
            toolName: 'ExtentNavigate',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginLeft: '10px',
                marginBottom: '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginTop: '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginTop: '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                width: '100%'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginTop: '10px'
            }
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        }
    },
    layout: {
        mainGroup: {
            isMainGroup: true,
            children: ['topGroup', 'midGroup', 'bottomGroup']
        },
        topGroup: {
            children: ['Search', 'FullScreen']
        },
        midGroup: {
            children: ['midGroup-left-top', 'midGroup-left-bottom', 'midGroup-right-content-top', 'midGroup-right-content-bottom']
        },
        'midGroup-left-top': {
            children: ['Compass']
        },
        'midGroup-left-bottom': {
            children: ['ExtentNavigate', 'MapSwitch', 'ScaleBar']
        },
        'midGroup-right-content-top': {
            children: ['Layers', 'BaseMap', 'Measure', 'Select']
        },
        'midGroup-right-content-bottom': {
            children: ['Zoom', 'Home', 'Locate', 'ClearActionData']
        },
        bottomGroup: {
            children: ['SelectState']
        }
    },
    mobileResponsiveStrategy: {
        // height: 400-465
        stage1: ['Measure', 'Locate'],
        // height: 320-400
        stage2: ['Measure', 'Select', 'Locate', 'bottomGroup'],
        // height: 250-320
        stage3: ['ExtentNavigate', 'midGroup-right-content-top', 'Locate', 'bottomGroup'],
        // height: 160-250
        stage4: ['MapSwitch', 'midGroup-right-content-top', 'Home', 'Locate', 'ClearActionData', 'bottomGroup'],
        // height: 54-160
        stage5: ['midGroup', 'bottomGroup'],
        // height: 0-54
        stage6: ['topGroup', 'midGroup', 'bottomGroup']
    },
    lockToolNames: []
};
const mobileLayoutJsons = [mobileLayoutJson];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mobileLayoutJsons);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/pc-layout-json.ts":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/pc-layout-json.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const layoutJson1 = {
    elements: {
        leftTopContainer: {
            type: 'GROUP',
            groupName: 'leftTopContainer',
            direction: 'horizontal',
            style: {
                position: 'absolute',
                top: '15px',
                left: '15px'
            }
        },
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            style: {
                marginRight: '10px'
            }
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'vertical',
            isResponsive: true,
            style: {
                position: 'absolute',
                top: '15px',
                right: '15px'
            }
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100',
            style: {
                position: 'absolute',
                bottom: '0px',
                left: '0px'
            }
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                marginBottom: '0px',
                marginTop: '0px'
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                paddingLeft: '15px',
                paddingRight: '15px',
                marginBottom: '10px'
            }
        },
        'SelectState-FullScreen-Container': {
            type: 'GROUP',
            groupName: 'SelectState-FullScreen-Container',
            direction: 'vertical',
            isVerticalRrlAlignItemsEnd: true
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                maxWidth: '60%'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginBottom: '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginBottom: '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px',
                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        ExtentNavigate: {
            type: 'TOOL',
            toolName: 'ExtentNavigate',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginBottom: '10px'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginBottom: '10px'
            }
        }
    },
    layout: {
        leftTopContainer: {
            isMainGroup: true,
            children: ['navigator', 'Select']
        },
        navigator: {
            children: ['Zoom', 'Home', 'Navigation', 'ExtentNavigate', 'Locate', 'Compass']
        },
        interact: {
            isMainGroup: true,
            children: ['Search', 'Layers', 'BaseMap', 'Measure']
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'SelectState-FullScreen-Container']
        },
        'SelectState-FullScreen-Container': {
            children: ['FullScreen', 'ClearActionData', 'SelectState']
        },
        bottom: {
            isMainGroup: true,
            children: ['bottom-line2', 'bottom-line1']
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJson2 = {
    elements: {
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            isVerticalRrlAlignItemsEnd: true
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'horizontal',
            isResponsive: true,
            style: {
                position: 'absolute',
                top: '15px',
                left: '15px'
            }
        },
        fullScreenGroup: {
            type: 'GROUP',
            groupName: 'fullScreenGroup',
            direction: 'horizontal',
            style: {
                position: 'absolute',
                top: '15px',
                right: '15px'
            }
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100',
            style: {
                position: 'absolute',
                bottom: '0px',
                left: '0px'
            }
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                marginBottom: '0px',
                marginTop: '0px'
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                paddingLeft: '15px',
                paddingRight: '15px',
                marginBottom: '10px'
            }
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                maxWidth: '60%'
            },
            className: 'attibute-group'
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        ExtentNavigate: {
            type: 'TOOL',
            toolName: 'ExtentNavigate',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginTop: '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px',
                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        }
    },
    layout: {
        navigator: {
            children: ['Compass', 'Locate', 'ExtentNavigate', 'Navigation', 'Zoom', 'Home', 'SelectState']
        },
        interact: {
            isMainGroup: true,
            children: ['Search', 'Layers', 'BaseMap', 'Measure', 'Select']
        },
        fullScreenGroup: {
            isMainGroup: true,
            children: ['FullScreen', 'ClearActionData']
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'navigator']
        },
        bottom: {
            isMainGroup: true,
            children: ['bottom-line2', 'bottom-line1']
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJsons = [layoutJson1, layoutJson2];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layoutJsons);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tools_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/zoom */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/zoom.tsx");
/* harmony import */ var _tools_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/home */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/home.tsx");
/* harmony import */ var _tools_compass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/compass */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/compass.tsx");
/* harmony import */ var _tools_locate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/locate */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/locate.tsx");
/* harmony import */ var _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/clear-action-data */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/clear-action-data.tsx");
/* harmony import */ var _tools_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/navigation */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/navigation.tsx");
/* harmony import */ var _tools_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tools/search */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/search.tsx");
/* harmony import */ var _tools_layers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/layers */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/layers.tsx");
/* harmony import */ var _tools_basemap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/basemap */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/basemap.tsx");
/* harmony import */ var _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/mapswitch */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/mapswitch.tsx");
/* harmony import */ var _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/fullscreen */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/fullscreen.tsx");
/* harmony import */ var _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/scalebar */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/scalebar.tsx");
/* harmony import */ var _tools_attribution__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/attribution */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/attribution.tsx");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tools/measure */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/measure.tsx");
/* harmony import */ var _tools_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/select */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/index.tsx");
/* harmony import */ var _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/selectstate */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/index.tsx");
/* harmony import */ var _tools_extent_navigate__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../tools/extent-navigate */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/extent-navigate.tsx");

















const ToolModules = {
    Zoom: _tools_zoom__WEBPACK_IMPORTED_MODULE_0__["default"],
    Home: _tools_home__WEBPACK_IMPORTED_MODULE_1__["default"],
    Navigation: _tools_navigation__WEBPACK_IMPORTED_MODULE_5__["default"],
    Locate: _tools_locate__WEBPACK_IMPORTED_MODULE_3__["default"],
    ClearActionData: _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__["default"],
    Compass: _tools_compass__WEBPACK_IMPORTED_MODULE_2__["default"],
    Search: _tools_search__WEBPACK_IMPORTED_MODULE_6__["default"],
    Layers: _tools_layers__WEBPACK_IMPORTED_MODULE_7__["default"],
    BaseMap: _tools_basemap__WEBPACK_IMPORTED_MODULE_8__["default"],
    Measure: _tools_measure__WEBPACK_IMPORTED_MODULE_13__["default"],
    MapSwitch: _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__["default"],
    FullScreen: _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__["default"],
    ScaleBar: _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__["default"],
    Attribution: _tools_attribution__WEBPACK_IMPORTED_MODULE_12__["default"],
    Select: _tools_select__WEBPACK_IMPORTED_MODULE_14__["default"],
    SelectState: _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__["default"],
    ExtentNavigate: _tools_extent_navigate__WEBPACK_IMPORTED_MODULE_16__["default"]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolModules);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/attribution.tsx":
/*!************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/attribution.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Attribution)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Attribution extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Attribution';
    }
    static getIsNeedSetting() {
        return false;
    }
    getTitle() {
        return 'Attribution';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(AttributionInner, { jimuMapView: this.props.jimuMapView });
    }
}
class AttributionInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Attribution = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Attribution']).then(modules => {
                [this.Attribution] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.AttributionBtn && !this.AttributionBtn.destroy) {
                    this.AttributionBtn.view = this.props.jimuMapView.view;
                    this.AttributionBtn.renderNow();
                    this.props.jimuMapView.addJimuMapTool({
                        name: 'Attribution',
                        instance: this.AttributionBtn
                    });
                }
            }
            else {
                this.AttributionBtn = new this.Attribution({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Attribution');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Attribution',
                    instance: this.AttributionBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.AttributionBtn) {
            this.AttributionBtn.destroy();
            this.AttributionBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Attribution');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'attribution-map-tool', style: { position: 'relative' }, ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/basemap.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/basemap.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");





class BaseMap extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'BaseMap';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'BaseMapLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.BaseMapLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/basemap.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/basemap.svg")
        };
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(BaseMapInner, { jimuMapView: this.props.jimuMapView, isMobile: this.props.isMobile });
    }
}
class BaseMapInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.state = {
            apiLoaded: false,
            sourceLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/BasemapGallery', 'esri/widgets/BasemapGallery/support/LocalBasemapsSource']).then(modules => {
                if (this.__unmount) {
                    return;
                }
                [this.BasemapGallery, this.LocalBasemapsSource] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
        if (!this.state.sourceLoaded) {
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.basemapUtils.getOrgBasemaps().then((basemaps) => {
                if (this.__unmount) {
                    return;
                }
                this.orgBasemaps = basemaps;
                this.setState({
                    sourceLoaded: true
                });
            }).catch(err => {
                console.error(`load basemap gallery source error: ${err}`);
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.state.sourceLoaded && this.container) {
            if (this.basemapGallery) {
                // basemapGallery already created
                const isViewChanged = prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id);
                if (isViewChanged) {
                    // view changed
                    this.basemapGallery.view = this.props.jimuMapView.view;
                    this.basemapGallery.source = this.getFinalBasemapGallerySource(this.orgBasemaps, this.basemapGallery);
                    this.basemapGallery.renderNow();
                }
            }
            else {
                // basemapGallery not created
                this.basemapGallery = new this.BasemapGallery({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.basemapGallery.source = this.getFinalBasemapGallerySource(this.orgBasemaps, this.basemapGallery);
                this.props.jimuMapView.deleteJimuMapTool('BaseMap');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'BaseMap',
                    instance: this.basemapGallery
                });
            }
        }
    }
    getFinalBasemapGallerySource(orgBasemaps, basemapGallery) {
        var _a;
        const finalBasemaps = orgBasemaps.slice();
        const view = basemapGallery.view;
        if (view) {
            const originalBasemap = view.map.originalBasemap || view.map.basemap;
            const basemapGalleryViewModel = basemapGallery.viewModel;
            if (originalBasemap && basemapGalleryViewModel) {
                const isOriginalBasemapIncluded = finalBasemaps.some(item => basemapGalleryViewModel.basemapEquals(originalBasemap, item));
                if (!isOriginalBasemapIncluded) {
                    // If originalBasemap.thumbnailUrl is null, use map.thumbnailUrl as originalBasemap.thumbnailUrl.
                    if (!originalBasemap.thumbnailUrl) {
                        const thumbnailUrl = (_a = view.map) === null || _a === void 0 ? void 0 : _a.thumbnailUrl;
                        if (thumbnailUrl) {
                            originalBasemap.thumbnailUrl = thumbnailUrl;
                        }
                    }
                    finalBasemaps.unshift(originalBasemap);
                }
            }
        }
        const source = new this.LocalBasemapsSource({
            basemaps: finalBasemaps
        });
        return source;
    }
    componentWillUnmount() {
        this.__unmount = true;
        if (this.basemapGallery) {
            this.basemapGallery.destroy();
            this.basemapGallery = null;
            this.props.jimuMapView.deleteJimuMapTool('BaseMap');
        }
    }
    render() {
        if (this.props.isMobile) {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'basemap-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', maxWidth: 'none', maxHeight: 'none', overflowY: 'auto', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
        else {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '250px', minHeight: '32px', position: 'relative' }, className: 'exbmap-ui-pc-expand-maxheight basemap-map-tool' }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/clear-action-data.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/clear-action-data.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ClearActionData)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */





class ClearActionData extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'ClearActionData';
        this.onIconClick = () => { };
        this.onDropDownToggle = () => {
            this.setState({ isOpen: !this.state.isOpen });
        };
        this.onItemClick = (listItem, mapWidgetId) => {
            var _a, _b, _c;
            this.setState({ isOpen: false });
            const layerId = listItem.layerId;
            const mutableState = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId]) || {};
            if (listItem.isAction) {
                // this item comes from ShowOnMap/AddToMap actions, remove it by mutableStoreManager.updateStateValue().
                const actionDataId = layerId;
                const showOnMapDatas = mutableState.showOnMapDatas;
                const addToMapDatas = mutableState.addToMapDatas;
                if (showOnMapDatas) {
                    delete showOnMapDatas[actionDataId];
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, 'showOnMapDatas', showOnMapDatas);
                }
                if (addToMapDatas && ((_a = addToMapDatas[actionDataId]) === null || _a === void 0 ? void 0 : _a.dataChangeType) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Created) {
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, `addToMapDatas.${actionDataId}.dataChangeType`, jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Remove);
                }
            }
            else {
                // this item comes from JimuLayerView.removeableByMapTool
                // just remove the layer from map, don't need to update removeableLayerIdsInfo (only update removeableLayerIdsInfo when calling JimuLayerView.setRemoveableByMapTool())
                const map = (_c = (_b = this.props.jimuMapView) === null || _b === void 0 ? void 0 : _b.view) === null || _c === void 0 ? void 0 : _c.map;
                if (map) {
                    const layer = map.findLayerById(layerId);
                    if (layer) {
                        map.remove(layer);
                    }
                }
            }
        };
        this.getContent = (mapWidgetId) => {
            const listItems = this.getListItems(mapWidgetId);
            const dropdownItems = listItems.map((listItem, index) => this.createDropdownItem(listItem, mapWidgetId, index));
            if (dropdownItems.length > 0) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), title: this.getTitle() },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Dropdown, { direction: 'down', size: 'sm', toggle: this.onDropDownToggle, isOpen: this.state.isOpen },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownButton, { icon: true, arrow: false, size: 'sm', type: 'default' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { size: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, null, dropdownItems))));
            }
            return null;
        };
        this.state = { isOpen: false };
    }
    static getIsNeedSetting() {
        return false;
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .jimu-dropdown {
        display: flex;
        .icon-btn {
          padding: 7px;
          border-radius: 0;
        }
      }
    `;
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'clearResults', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.clearResults });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! jimu-icons/svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg"),
            onIconClick: () => {
                this.onIconClick();
            }
        };
    }
    getListItems(mapWidgetId) {
        const mapMutableState = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId]) || {};
        const listItems1 = this.getListItemsByAddOrShowOnMapDatas(mapWidgetId, mapMutableState);
        const layerIds1 = listItems1.map(listItem => listItem.layerId);
        let listItems2 = this.getListItemsByRemoveableLayerIdsInfo(mapMutableState);
        // one layerId maybe both in showOnMapDatas/addToMapDatas and removeableLayerIdsInfo, so need to remove repeat items
        listItems2 = listItems2.filter(listItem => !layerIds1.includes(listItem.layerId));
        const result = listItems1.concat(listItems2);
        return result;
    }
    /**
     * Only show layers that crated by data actions. The layers maybe crated by showOnMap data action or addToMap data action.
     * @param mapWidgetId
     * @returns
     */
    getListItemsByAddOrShowOnMapDatas(mapWidgetId, mapMutableState) {
        const showOnMapDatas = (mapMutableState === null || mapMutableState === void 0 ? void 0 : mapMutableState.showOnMapDatas) || {};
        const addToMapDatas = (mapMutableState === null || mapMutableState === void 0 ? void 0 : mapMutableState.addToMapDatas) || {};
        const showOnMapDataInfos = Object.entries(showOnMapDatas).map(entry => {
            return {
                id: entry[0],
                title: entry[1].title,
                jimuMapViewId: entry[1].jimuMapViewId,
                mapWidgetId: entry[1].mapWidgetId,
                needToRemove: true,
                type: entry[1].type
            };
        });
        const addToMapDataInfos = Object.entries(addToMapDatas).map(entry => {
            return {
                id: entry[0],
                title: entry[1].title,
                jimuMapViewId: entry[1].jimuMapViewId,
                mapWidgetId: entry[1].mapWidgetId,
                needToRemove: entry[1].dataChangeType === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Created,
                type: entry[1].type
            };
        });
        const dataActionInfos = showOnMapDataInfos.concat(addToMapDataInfos).filter(dataInfo => {
            // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,
            // use a default jimuMapViewId to show data.
            let jimuMapViewId = dataInfo.jimuMapViewId;
            if (!jimuMapViewId && dataInfo.mapWidgetId === mapWidgetId) {
                const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;
                jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === mapWidgetId);
            }
            return (jimuMapViewId === this.props.jimuMapView.id && dataInfo.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.ActionType.DataAction && dataInfo.needToRemove);
        });
        const dataActionListItems = dataActionInfos.map((item) => {
            const listItem = {
                layerId: item.id,
                title: item.title,
                isAction: true
            };
            return listItem;
        });
        return dataActionListItems;
    }
    /**
     * Get list items by JimuLayerView.removeableByMapTool.
     * @param mutableState
     */
    getListItemsByRemoveableLayerIdsInfo(mutableState) {
        var _a;
        const listItems = [];
        const removeableLayerIdsInfo = (mutableState === null || mutableState === void 0 ? void 0 : mutableState.removeableLayerIdsInfo) || {};
        const jimuMapView = this.props.jimuMapView;
        if (jimuMapView) {
            const map = (_a = jimuMapView.view) === null || _a === void 0 ? void 0 : _a.map;
            if (map) {
                const removeableLayerIds = removeableLayerIdsInfo[jimuMapView.id] || [];
                removeableLayerIds.forEach(layerId => {
                    const layer = map.findLayerById(layerId);
                    if (layer) {
                        const title = layer.title || layerId;
                        const listItem = {
                            layerId,
                            title,
                            isAction: false
                        };
                        listItems.push(listItem);
                    }
                });
            }
        }
        return listItems;
    }
    createDropdownItem(listItem, mapWidgetId, index) {
        const key = `${listItem.layerId}-index-${index}`;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { key: key, header: false, onClick: () => { this.onItemClick(listItem, mapWidgetId); } }, listItem.title));
    }
    getExpandPanel() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => (this.getContent(mapWidgetId))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/compass.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/compass.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Compass)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Compass extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Compass';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'CompassLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.CompassLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(CompassInner, { jimuMapView: this.props.jimuMapView });
    }
}
class CompassInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Compass = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Compass']).then(modules => {
                [this.Compass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.CompassBtn) {
                this.container.innerHTML = '';
            }
            this.CompassBtn = new this.Compass({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Compass');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Compass',
                instance: this.CompassBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.CompassBtn) {
            this.CompassBtn.destroy();
            this.CompassBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Compass');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'compass-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/extent-navigate.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/extent-navigate.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ExtentNavigate)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var jimu_icons_outlined_directional_arrow_fat_left__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-fat-left */ "./jimu-icons/outlined/directional/arrow-fat-left.tsx");
/* harmony import */ var jimu_icons_outlined_directional_arrow_fat_right__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-fat-right */ "./jimu-icons/outlined/directional/arrow-fat-right.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");






class ExtentNavigate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'ExtentNavigate';
        this.onViewStationary = () => {
            // view static, view.viewpointHistory maybe changed
            this.updateByCurrentView();
        };
        this.onClickPrevBtn = () => {
            if (!this.isPrevBtnEnabled()) {
                return;
            }
            this.view.viewpointIndex--;
            const viewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getViewpointInstanceFromHistory)(this.view, this.view.viewpointIndex);
            if (viewpoint) {
                this.view.goTo(viewpoint);
            }
            this.updateByCurrentView();
        };
        this.onClickNextBtn = () => {
            if (!this.isNextBtnEnabled()) {
                return;
            }
            this.view.viewpointIndex++;
            const viewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getViewpointInstanceFromHistory)(this.view, this.view.viewpointIndex);
            if (viewpoint) {
                this.view.goTo(viewpoint);
            }
            this.updateByCurrentView();
        };
    }
    getTitle() {
        return 'ExtentNavigate';
    }
    getIcon() {
        return {
            icon: null
        };
    }
    getExtendCssStyle() {
        return `
      .extent-navigate-btn {
        width: 32px;
        height: 32px;
        text-align: center;
        line-height: 32px;
        cursor: default;
      }

      .extent-navigate-btn.extent-navigate-btn-disabled {
        color: grey;
      }

      .extent-navigate-prev-btn {
        border-bottom: 1px solid #ccc;
      }
    `;
    }
    getExpandPanel() {
        const isPrevBtnDisabled = !this.isPrevBtnEnabled();
        const isNextBtnDisabled = !this.isNextBtnEnabled();
        const prevBtnClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button extent-navigate-btn extent-navigate-prev-btn', { 'extent-navigate-btn-disabled': isPrevBtnDisabled });
        const nextBtnClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button extent-navigate-btn extent-navigate-next-btn', { 'extent-navigate-btn-disabled': isNextBtnDisabled });
        const prevExtentTitle = this.formatMessage('prevExtent');
        const nextExtentTitle = this.formatMessage('nextExtent');
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null,
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: prevBtnClassName, title: prevExtentTitle, onClick: this.onClickPrevBtn },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_arrow_fat_left__WEBPACK_IMPORTED_MODULE_3__.ArrowFatLeftOutlined, null)),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: nextBtnClassName, title: nextExtentTitle, onClick: this.onClickNextBtn },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_arrow_fat_right__WEBPACK_IMPORTED_MODULE_4__.ArrowFatRightOutlined, null))));
    }
    formatMessage(strId) {
        return this.props.intl.formatMessage({ id: strId, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_5__.defaultMessages[strId] });
    }
    componentDidMount() {
        this.bindView();
    }
    componentDidUpdate() {
        this.bindView();
    }
    bindView() {
        var _a;
        const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
        if (this.view !== view) {
            // active view changes
            if (this.view) {
                this.view.stationaryCallback = null;
            }
            this.view = view;
            if (this.view) {
                this.view.stationaryCallback = this.onViewStationary;
            }
            this.updateByCurrentView();
        }
    }
    updateByCurrentView() {
        this.forceUpdate();
    }
    isPrevBtnEnabled() {
        return this.view && this.view.viewpointHistory.length >= 2 && this.view.viewpointIndex >= 1;
    }
    isNextBtnEnabled() {
        return this.view && this.view.viewpointHistory.length >= 2 && this.view.viewpointIndex < (this.view.viewpointHistory.length - 1);
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/fullscreen.tsx":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/fullscreen.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Fullscreen)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Fullscreen extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Fullscreen';
        this.isFullScreen = false;
        this.fullScreenMap = () => { };
        this.getContent = (fullScreenMap, isFullScreen) => {
            this.fullScreenMap = fullScreenMap;
            this.isFullScreen = isFullScreen;
            return super.render();
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'FullScreenLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.FullScreenLabel });
    }
    getIcon() {
        return {
            icon: this.isFullScreen ? __webpack_require__(/*! ../assets/icons/exit-full-screen.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exit-full-screen.svg") : __webpack_require__(/*! ../assets/icons/full-screen.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/full-screen.svg"),
            onIconClick: (evt) => {
                this.fullScreenMap();
            }
        };
    }
    getExpandPanel() {
        return null;
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Consumer, null, ({ fullScreenMap, isFullScreen }) => (this.getContent(fullScreenMap, isFullScreen))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/home.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/home.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Home)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class Home extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Home';
        this.getHomeContent = (initialMapState) => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(HomeInner, { jimuMapView: this.props.jimuMapView, initialMapState: initialMapState });
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'HomeLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.HomeLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        // return <HomeInner jimuMapView={this.props.jimuMapView}></HomeInner>;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ initialMapState }) => (this.getHomeContent(initialMapState))));
    }
}
class HomeInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Home = null;
        this.generateViewPointFromInitialMapState = (initialMapState) => {
            if (initialMapState.viewType === '2d') {
                return new this.Viewpoint({
                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                    rotation: initialMapState.rotation
                });
            }
            else {
                return this.Viewpoint.fromJSON(initialMapState.viewPoint);
            }
        };
        this.homeBtnGoToOverride = (view, goToParams) => __awaiter(this, void 0, void 0, function* () {
            const is2DView = view.type === '2d';
            // snapToZoom: true means integer zoom, false means float zoom
            // We need to make sure goTo the integer zoom when click home btn.
            let needToRestoreSnapToZoomToFalse = false;
            if (is2DView && view.constraints && !view.constraints.snapToZoom) {
                view.constraints.snapToZoom = true;
                needToRestoreSnapToZoomToFalse = true;
            }
            try {
                yield view.goTo(goToParams.target, goToParams.options);
            }
            catch (e) {
                console.error('home btn goto error', e);
            }
            // When goTo is done, we need to reset to float zoom to get the best synchronization between two map widgets.
            if (is2DView && view.constraints && needToRestoreSnapToZoomToFalse) {
                view.constraints.snapToZoom = false;
            }
        });
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Home',
                'esri/geometry/Extent',
                'esri/Viewpoint']).then(modules => {
                [this.Home, this.Extent, this.Viewpoint] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        var _a;
        if (!this.state.apiLoaded || !this.container) {
            return;
        }
        const currView = ((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) || null;
        // check initialMapState change or not
        // sometimes prevProps.initialMapState is undefined and props.initialMapState is null, so we need to convert undefined to null
        const preInitialMapState = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.initialMapState) || null;
        const currInitialMapState = this.props.initialMapState || null;
        const isInitialMapStateChanged = preInitialMapState !== currInitialMapState;
        // destroy current view when view changed or initialMapState changed
        if (this.homeBtn && (this.homeBtn.view !== currView || isInitialMapStateChanged)) {
            this.destroyHomeBtn();
        }
        // create new home btn if this.homeBtn is empty and currView is not empty
        if (!this.homeBtn && currView) {
            let initViewpoint = this.props.initialMapState
                ? this.generateViewPointFromInitialMapState(this.props.initialMapState)
                : this.props.jimuMapView.view.map.initialViewProperties.viewpoint;
            if (initViewpoint) {
                initViewpoint = initViewpoint.clone();
            }
            const homeBtnContainer = document.createElement('div');
            this.container.appendChild(homeBtnContainer);
            this.homeBtn = new this.Home({
                container: homeBtnContainer,
                view: this.props.jimuMapView.view,
                viewpoint: initViewpoint,
                goToOverride: this.homeBtnGoToOverride
            });
            this.props.jimuMapView.deleteJimuMapTool('Home');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Home',
                instance: this.homeBtn
            });
        }
        if (isInitialMapStateChanged) {
            // initialMapState change
            if (currView && this.homeBtn) {
                // const cloneViewpoint = this.homeBtn.viewpoint.clone()
                // set currView.viewpoint to cloneViewpoint directly not work with error 'invalid scale value of 0' if the init homeBtan.viewpoint.scale is 0, so use view.goTo() instead
                // currView.viewpoint = cloneViewpoint
                // currView.goTo(cloneViewpoint, {
                //   animate: false
                // })
                this.homeBtn.go();
            }
        }
    }
    destroyHomeBtn() {
        if (this.homeBtn) {
            // this.homeBtn.destroy() will remove this.homeBtn.container from dom tree and let this.homeBtn.container.parentNode be null
            this.homeBtn.destroy();
            this.homeBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Home');
        }
        if (this.container) {
            this.container.innerHTML = '';
        }
    }
    componentWillUnmount() {
        this.destroyHomeBtn();
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'home-map-tool', ref: ref => { if (!this.container) {
                this.container = ref;
            } } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/layers.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/layers.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layers)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Layers extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Layers';
        this.handleTabIndexChange = (activeTabIndex) => {
            this.setState({
                activeTabIndex: activeTabIndex
            });
        };
        this.handleKeyDown = (e, index) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.handleTabIndexChange(index);
            }
        };
        this.state = {
            activeTabIndex: 0
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'LayersLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/layerlist.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/layerlist.svg")
        };
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', minHeight: '32px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Nav, { tabs: true },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 0, onClick: () => { this.handleTabIndexChange(0); }, onKeyDown: e => { this.handleKeyDown(e, 0); } }, this.props.intl.formatMessage({ id: 'LayersLabelLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLayer }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 1, onClick: () => { this.handleTabIndexChange(1); }, onKeyDown: e => { this.handleKeyDown(e, 1); } }, this.props.intl.formatMessage({ id: 'LayersLabelLegend', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLegend })))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-1' }),
            this.state.activeTabIndex === 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LayerListInner, { jimuMapView: this.props.jimuMapView }),
            this.state.activeTabIndex === 1 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LegendInner, { jimuMapView: this.props.jimuMapView })));
    }
}
class LayerListInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.LayerList = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/LayerList']).then(modules => {
                [this.LayerList] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LayerListBtn) {
                    this.LayerListBtn.view = this.props.jimuMapView.view;
                    this.LayerListBtn.renderNow();
                }
            }
            else {
                this.LayerListBtn = new this.LayerList({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('LayerList');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'LayerList',
                    instance: this.LayerListBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LayerListBtn) {
            this.LayerListBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('LayerList');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'layers-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}
class LegendInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Legend = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Legend']).then(modules => {
                [this.Legend] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LegendBtn) {
                    this.LegendBtn.view = this.props.jimuMapView.view;
                    this.LegendBtn.renderNow();
                }
            }
            else {
                this.LegendBtn = new this.Legend({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Legend');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Legend',
                    instance: this.LegendBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LegendBtn) {
            this.LegendBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Legend');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/locate.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/locate.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Locate)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Locate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Locate';
    }
    getTitle() {
        return 'Locate';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LocateInner, { jimuMapView: this.props.jimuMapView });
    }
}
class LocateInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Locate = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Locate']).then(modules => {
                [this.Locate] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.LocateBtn) {
                this.container.innerHTML = '';
            }
            this.LocateBtn = new this.Locate({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Locate');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Locate',
                instance: this.LocateBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.LocateBtn) {
            this.LocateBtn.destroy();
            this.LocateBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Locate');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'esri-widget--button locate-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/mapswitch.tsx":
/*!**********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/mapswitch.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapSwitch)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var _components_map_thumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/map-thumb */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/map-thumb.tsx");
/** @jsx jsx */





class MapSwitch extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'MapSwitch';
        this.switchMap = () => { };
        this.handleKeyDown = (e, onClick) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e === null || e === void 0 ? void 0 : e.preventDefault();
                onClick();
            }
        };
        this.getContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme) => {
            const onClick = () => {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(mapWidgetId, mapWidgetId));
                switchMap();
            };
            if (isShowMapSwitchBtn) {
                if (this.props.isMobile) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-tool esri-widget--button', onClick: onClick, role: 'button', tabIndex: 0, onKeyDown: e => { this.handleKeyDown(e, onClick); }, "aria-label": this.props.intl.formatMessage({ id: 'SwitchMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SwitchMap }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })));
                }
                else {
                    const dsJsons = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources;
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-map-tool', css: this.getStyle(), onClick: onClick, role: 'button', tabIndex: 0, onKeyDown: e => { this.handleKeyDown(e, onClick); }, "aria-label": this.props.intl.formatMessage({ id: 'SwitchMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SwitchMap }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[0] !== activeDataSourceId }, { back: dataSourceIds[0] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].itemId : null, portUrl: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].portalUrl : null, theme: theme })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[1] !== activeDataSourceId }, { back: dataSourceIds[1] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].itemId : null, portUrl: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].portalUrl : null, theme: theme }))));
                }
            }
            else {
                return null;
            }
        };
        this.getIconContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) => {
            if (isShowMapSwitchBtn) {
                this.switchMap = switchMap;
                return super.render();
            }
            else {
                return null;
            }
        };
    }
    static getIsNeedSetting() {
        return false;
    }
    static isAvailable(toolShellProps) {
        if (toolShellProps.isMobile) {
            const widgetId = toolShellProps.mapWidgetId;
            if (widgetId) {
                const widgetInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets[widgetId];
                if (widgetInfo) {
                    return widgetInfo.useDataSources && widgetInfo.useDataSources.length >= 2;
                }
            }
            return false;
        }
        // Always return true for pc layout because false will let SelectState-FullScreen-Container in wroing position.
        return true;
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(68)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(52)};
      cursor: pointer;
      position: relative;

      .mapthumb-item {
        position: absolute;
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(64)};
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(48)};
        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;
      }

      .front {
        z-index: 1;
        bottom: 0;
        left: 0;
      }

      .back {
        z-index: 0;
        top: 0;
        right: 0;
      }
    `;
    }
    getTitle() {
        return 'MapSwitch';
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/exchange.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg"),
            onIconClick: () => {
                this.switchMap();
            }
        };
    }
    getExpandPanel() {
        if (this.props.toolJson.isOnlyExpanded) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme }) => (this.getContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme))));
        }
        else {
            return null;
        }
    }
    render() {
        if (this.props.toolJson.isOnlyExpanded) {
            return super.render();
            // In fact, it never goes here.
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (this.getIconContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap))));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/measure.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/measure.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Measure)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class Measure extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Measure';
        this.measureModules2D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'distance',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg")
            }];
        this.measureModules3D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'direct-line',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg")
            }];
        this.destroy = () => {
            if (this.state.measureInstance && !this.state.measureInstance.destroyed) {
                this.state.measureInstance.destroy();
                this.setState({
                    measureInstance: null,
                    activeTabIndex: 0
                });
            }
        };
        this.handleMeasurceInstanceCreated = (measureInstance) => {
            this.setState({
                measureInstance: measureInstance
            });
        };
        this.onTabClick = (index) => {
            if (this.state.activeTabIndex === index) {
                return;
            }
            this.state.measureInstance.clear();
            this.setState({ activeTabIndex: index });
            if (index === 0) {
                this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
            }
            else if (index === 1) {
                this.state.measureInstance.activeTool = 'area';
            }
        };
        this.handleKeyDown = (e, index) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.onTabClick(index);
            }
        };
        this.onRequestClosePanel = () => {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
        };
        this.onClosePanel = () => {
            this.destroy();
        };
        this.onShowPanel = () => {
            if (this.state.measureInstance) {
                if (this.state.activeTabIndex === 0) {
                    this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
                }
                else if (this.state.activeTabIndex === 1) {
                    this.state.measureInstance.activeTool = 'area';
                }
            }
        };
        this.getNavTab = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules2D.map((module, index) => {
                    const tabTitle = index === 0 ? 'drawModeLine' : 'drawModePolygon';
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, ref: ref => { this.state.activeTabIndex === index && (this.activeTabRef = ref); }, onClick: () => { this.onTabClick(index); }, onKeyDown: e => { this.handleKeyDown(e, index); }, "aria-label": this.props.intl.formatMessage({ id: `${tabTitle}`, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[tabTitle] }) },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else if (this.props.jimuMapView.view.type === '3d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules3D.map((module, index) => {
                    const tabTitle = index === 0 ? 'drawModeLine' : 'drawModePolygon';
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, ref: ref => { this.state.activeTabIndex === index && (this.activeTabRef = ref); }, onClick: () => { this.onTabClick(index); }, onKeyDown: e => { this.handleKeyDown(e, index); }, "aria-label": this.props.intl.formatMessage({ id: `${tabTitle}`, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[tabTitle] }) },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else {
                return null;
            }
        };
        this.getMeasureModule = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return this.measureModules2D[this.state.activeTabIndex];
            }
            else {
                return this.measureModules3D[this.state.activeTabIndex];
            }
        };
        this.state = {
            activeTabIndex: 0,
            measureInstance: null
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'MeasureLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.MeasureLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/measure.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure.svg")
        };
    }
    focusDefaultElement() {
        var _a;
        (_a = this.activeTabRef) === null || _a === void 0 ? void 0 : _a.focus();
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            this.getNavTab(),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(MeasureInner, { mapWidgetId: this.props.mapWidgetId, activeTabIndex: this.state.activeTabIndex, jimuMapView: this.props.jimuMapView, measureModule: this.getMeasureModule(), measureInstance: this.state.measureInstance, onMeasurceInstanceCreated: this.handleMeasurceInstanceCreated, autoControlWidgetId: this.props.autoControlWidgetId, onRequestClosePanel: this.onRequestClosePanel })));
    }
}
class MeasureInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.MeasureInstance = null;
        this.toolName = 'measurement';
        this.checkContainer = () => {
            if (this.container.style.opacity === '0' || this.container.style.opacity === 0) {
                this.container.style.opacity = 1;
                this.container.style.height = '';
            }
        };
        this.id = `${this.props.mapWidgetId}-measure-tool`;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)(['esri/widgets/Measurement']).then(modules => {
                [this.MeasureClass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.parentContainer && this.container) {
            if (!this.props.measureInstance) {
                // crate measure isntance here
                const tempInstance = new this.MeasureClass({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                tempInstance.activeTool = this.props.measureModule.activeTool;
                this.setCurrentJimuMapView(this.props.jimuMapView);
                this.currentJimuMapView.deleteJimuMapTool(this.toolName);
                this.currentJimuMapView.addJimuMapTool({
                    name: this.toolName,
                    instance: tempInstance
                });
                this.props.onMeasurceInstanceCreated(tempInstance);
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
            else {
                const newJimuMapView = this.props.jimuMapView;
                if (this.props.measureInstance.view !== newJimuMapView.view) {
                    // map view changed by switch
                    this.restoreClickHighlightEnabledForCurrentJimuMapView();
                    this.setCurrentJimuMapView(newJimuMapView);
                    this.props.measureInstance.clear();
                    this.props.measureInstance.view = newJimuMapView.view;
                    // @ts-expect-error
                    this.props.measureInstance.activeTool = this.props.measureModule.activeTool;
                }
            }
            this.checkContainer();
        }
        // check if autoControlWidgetId changed
        const prevAutoControlWidgetId = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.autoControlWidgetId) || '';
        if (prevAutoControlWidgetId === this.id && this.props.autoControlWidgetId !== this.id) {
            // measure is from active to inactive, destroy MeasureInner
            this.props.onRequestClosePanel();
        }
    }
    componentWillUnmount() {
        this.restoreClickHighlightEnabledForCurrentJimuMapView();
        if (this.props.autoControlWidgetId === this.id) {
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    setCurrentJimuMapView(jimuMapView) {
        this.currentJimuMapView = jimuMapView;
        this.originalClickHighlightEnabled = jimuMapView.isClickHighlightEnabled();
        // disable click highlight to avoid conflict with clicking-select
        this.currentJimuMapView.disableClickHighlight();
    }
    restoreClickHighlightEnabledForCurrentJimuMapView() {
        if (this.currentJimuMapView) {
            if (this.originalClickHighlightEnabled) {
                this.currentJimuMapView.enableClickHighlight();
            }
            else {
                this.currentJimuMapView.disableClickHighlight();
            }
        }
    }
    reload() {
        if (this.container.childNodes && this.container.childNodes[0]) {
            this.container.style.opacity = 0;
            this.container.style.height = '35px';
        }
        //this.setState({
        //  apiLoaded: false
        //}, () => {
        //  loadArcGISJSAPIModules(['esri/widgets/Measurement']).then(modules => {
        //    [this.MeasureClass] = modules
        //    this.setState({
        //      apiLoaded: true
        //    })
        //  })
        //})
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100', style: { width: '250px', position: 'relative', minHeight: '32px' }, ref: ref => { this.parentContainer = ref; } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'measure-container measure-map-tool', ref: ref => { this.container = ref; } }),
            !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/navigation.tsx":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/navigation.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Navigation)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Navigation extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Navigation';
    }
    getTitle() {
        return 'Navigation';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(NavigationInner, { jimuMapView: this.props.jimuMapView });
    }
    /**
     * Navigation only supports scene view, so ScaleBarTool.isAvailable() will return false if the map is map view.
     */
    static isAvailable(toolShellProps) {
        var _a, _b;
        return ((_b = (_a = toolShellProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) === '3d';
    }
}
class NavigationInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Navigation = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/NavigationToggle']).then(modules => {
                [this.Navigation] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.NavigationBtn) {
                this.container.innerHTML = '';
            }
            this.NavigationBtn = new this.Navigation({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Navigation',
                instance: this.NavigationBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.NavigationBtn) {
            this.NavigationBtn.destroy();
            this.NavigationBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'navigation-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/scalebar.tsx":
/*!*********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/scalebar.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScaleBar)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class ScaleBar extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'ScaleBar';
    }
    getTitle() {
        return 'ScaleBar';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ScaleBarInner, { jimuMapView: this.props.jimuMapView });
    }
    /**
     * ScaleBar only supports map view, so ScaleBarTool.isAvailable() will return false if the map is scene view.
     */
    static isAvailable(toolShellProps) {
        var _a, _b;
        return ((_b = (_a = toolShellProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) === '2d';
    }
}
class ScaleBarInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.ScaleBar = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/ScaleBar']).then(modules => {
                [this.ScaleBar] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ScaleBarBtn) {
                this.container.innerHTML = '';
            }
            let rawUnit = '';
            const appState = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState();
            if (appState) {
                if (appState.user && appState.user.units) {
                    rawUnit = appState.user.units;
                }
                else if (appState.portalSelf && appState.portalSelf.units) {
                    rawUnit = appState.portalSelf.units;
                }
            }
            let scaleBarUnit = null;
            // metric => metric
            // english => imperial
            // '' => dual
            if (rawUnit === 'metric') {
                scaleBarUnit = 'metric';
            }
            else if (rawUnit === 'english') {
                scaleBarUnit = 'imperial';
            }
            else {
                scaleBarUnit = 'dual';
            }
            this.ScaleBarBtn = new this.ScaleBar({
                container: this.container,
                view: this.props.jimuMapView.view,
                unit: scaleBarUnit
            });
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
            this.props.jimuMapView.addJimuMapTool({
                name: 'ScaleBar',
                instance: this.ScaleBarBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ScaleBarBtn) {
            this.ScaleBarBtn.destroy();
            this.ScaleBarBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'scalebar-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/search.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/search.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Search)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */




class Search extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Search';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SearchLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.SearchLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/search.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/search.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minHeight: '32px', position: 'relative', width: '100%' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minWidth: '250px', minHeight: '32px', position: 'relative' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
    }
}
class SearchInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Search = null;
        this.Portal = null;
        this.state = {
            apiLoaded: false
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      /* border: solid 1px rgba(110,110,110,0.3); */
    `;
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Search', 'esri/portal/Portal']).then(modules => {
                [this.Search, this.Portal] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.SearchBtn) {
                const containerParent = this.container.parentElement;
                this.SearchBtn.destroy();
                this.SearchBtn = null;
                if (!this.container.parentElement && containerParent) {
                    containerParent.appendChild(this.container);
                }
                this.container.innerHTML = '';
            }
            this.SearchBtn = new this.Search({
                container: this.container,
                view: this.props.jimuMapView.view,
                portal: new this.Portal({
                    url: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl
                })
            });
            this.props.jimuMapView.deleteJimuMapTool('Search');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Search',
                instance: this.SearchBtn
            });
            this.SearchBtn.on('select-result', (event) => {
                if (!event.result.feature.layer) {
                    const geometry = event.result.feature.geometry.toJSON();
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry));
                }
                else {
                    const geometry = event.result.feature.geometry;
                    if (geometry.type === 'point') {
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry.toJSON()));
                    }
                    else {
                        const point = geometry.extent.center;
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, point.toJSON()));
                    }
                }
            });
        }
    }
    componentWillUnmount() {
        if (this.SearchBtn) {
            this.SearchBtn.destroy();
            this.SearchBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Search');
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 search-map-tool', ref: ref => { this.container = ref; } }, !this.state.apiLoaded && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/index.tsx":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/index.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _select_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-pc */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-pc.tsx");
/* harmony import */ var _select_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-mobile */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-mobile.tsx");
/** @jsx jsx */





class Select extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Select';
        this.state = {};
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.SelectLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_mobile__WEBPACK_IMPORTED_MODULE_4__.SelectMobileTool, { mapWidgetId: this.props.mapWidgetId, autoControlWidgetId: this.props.autoControlWidgetId, activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); }, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView }));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_pc__WEBPACK_IMPORTED_MODULE_3__.SelectPCTool, { mapWidgetId: this.props.mapWidgetId, autoControlWidgetId: this.props.autoControlWidgetId, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); } }));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-mobile.tsx":
/*!*********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-mobile.tsx ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectMobileTool: () => (/* binding */ SelectMobileTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var _select_progress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-progress */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx");
/** @jsx jsx */





const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectMoreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-16.svg */ "./jimu-ui/lib/icons/more-16.svg");
class SelectMobileTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        var _a, _b;
        super(props);
        this.jsonUtils = null;
        this.currentActiveTool = 'rectangle';
        this.toggleIsSelectActive = () => {
            this.setState({
                isActive: !this.state.isActive
            });
        };
        this.toggleSelectTypePopup = () => {
            this.setState({
                isShowSelectTypePopup: !this.state.isShowSelectTypePopup
            });
        };
        this.onJimuMapViewSelectProgressChange = (progress) => {
            this.setState({
                selectProgress: progress
            });
        };
        this.onKeyDown = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
        };
        this.onKeyUp = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
        };
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === this.state.currentSelectType) {
                return;
            }
            if (currentSelectType === 'Point') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('point');
                }
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('rectangle');
                }
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('polygon');
                }
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('circle');
                }
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('polyline');
                }
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType,
                isActive: true
            });
        };
        this.onClickLoadingProgress = () => {
            if (this.activeJimuMapView) {
                const updateSelection = true;
                this.activeJimuMapView.cancelSelectByQuery(updateSelection);
            }
        };
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.getMobilePanelForSelectSetting = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanel, { mapWidgetId: `${mapWidgetId}-with-select-container`, title: '', open: this.state.isShowSelectTypePopup, onClose: () => { this.toggleSelectTypePopup(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100' }, this.getMobilePanelSettingContent())))));
        };
        this.getMobilePanelSettingContent = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 select-tool-type-mobile-container-shell' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-mobile-container d-flex' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                            }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Rectangle'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                            }), onClick: () => { this.setCurrentSelectType('Lasso'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Lasso'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                            }), onClick: () => { this.setCurrentSelectType('Circle'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Circle'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                            }), onClick: () => { this.setCurrentSelectType('Line'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Line'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                            }), onClick: () => { this.setCurrentSelectType('Point'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Point'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain }))))));
        };
        this.handleSelectTypeKeyDown = (e, selectType) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.setCurrentSelectType(selectType);
            }
        };
        this.handleKeyDown = (e, action) => {
            if (e.key === 'Enter' || e.key === ' ') {
                if (action === 'toggleIsSelectActive') {
                    this.toggleIsSelectActive();
                }
                else if (action === 'showSelectSetting') {
                    this.toggleSelectTypePopup();
                }
                else if (action === 'onClickLoadingProgress') {
                    this.onClickLoadingProgress();
                }
            }
        };
        this.isMac = ((_b = (_a = window.jimuUA) === null || _a === void 0 ? void 0 : _a.os) === null || _b === void 0 ? void 0 : _b.name) === 'macOS';
        this.id = `${this.props.mapWidgetId}-select-tool`;
        this.sketChCreateOptions = {
            polygon: {
                mode: 'hybrid'
            }
        };
        this.state = {
            sketchInitialed: false,
            isActive: false,
            isShowSelectTypePopup: false,
            currentSelectType: 'Rectangle',
            spatialRelationship: 'intersects',
            selectProgress: 0
        };
        this.bindShiftCtrlKeysEventListeners();
    }
    getCSSStyle() {
        const theme = this.props.theme;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .select-tool-btn-hover: hover {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.palette.primary[500], 0.1)};;
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
        padding: 4px;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 40%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine',
                // When you first click to enable the interactive tools, like the rectangle, for a couple of seconds, there is no cursor on the map, and you cannot do anything - which looks like a bug.
                // To fix the above issue, we need to preload the following API modules for SketchViewModel.
                'esri/views/2d/interactive/editingTools',
                'esri/views/3d/interactive/editingTools',
                'esri/views/2d/layers/GraphicsLayerView2D',
                'esri/views/3d/layers/GraphicsLayerView3D'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            // state.sketchInitialed changed from false to true
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            // active JimuMapView changed
            // need to destroy current this.sketchViewModel and recreate it, dont't change this.sketchViewModel.view, because we need to bind view keydown/keyup events before init sketchViewModel
            this.destroySketchViewModelAndReleaseHandles();
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevState.isActive !== this.state.isActive) {
            // active change
            this.initialSketchTool();
            if (this.state.isActive) {
                // change from inactive to active
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            else {
                // change from active to inactive
                this.destroySketchViewModelAndReleaseHandles();
            }
        }
        this.tryUpdateActiveToolInfoWhenStateChange(prevState);
        this.tryUpdateActiveToolInfoWhenPropsChange(prevProps);
    }
    /**
     * Update props.activeToolName for the following cases:
     * case1: If select tool gets active from inactive, needs to set map.props.activeToolName to select tool by calling props.onActiveToolInfoChange().
     * case2: If select tool gets inactive from active, needs to set map.props.activeToolName to null by calling props.onActiveToolInfoChange().
     */
    tryUpdateActiveToolInfoWhenStateChange(prevState) {
        if (!prevState) {
            return;
        }
        const prevSelectIsActiveTool = !!(prevState.isActive || prevState.isShowSelectTypePopup);
        const currentSelectIsActiveTool = !!(this.state.isActive || this.state.isShowSelectTypePopup);
        if (!prevSelectIsActiveTool && currentSelectIsActiveTool) {
            // select changes to active tool
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange({
            //   activeToolName: this.props.toolName,
            //   activeToolTitle: this.props.toolName
            // })
            this.setCurrentToolAsActiveTool();
        }
        else if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
            // select changes to inactive tool
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange(null)
            this.setActiveToolToNull();
        }
    }
    /**
     * try to set state.isActive and state.isShowSelectTypePopup to false for the following cases:
     * case1: If select tool is originally active, but another map select tool gets active, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * case2: If select tool is originally active, but another widget gets control of map, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * @param prevProps
     */
    tryUpdateActiveToolInfoWhenPropsChange(prevProps) {
        var _a, _b;
        let shouldBeInactive = false;
        const preActiveToolName = ((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) || '';
        const currentActiveToolName = ((_b = this.props.activeToolInfo) === null || _b === void 0 ? void 0 : _b.activeToolName) || '';
        if (preActiveToolName !== currentActiveToolName) {
            // props.activeToolInfo.activeToolName changes
            const toolName = this.props.toolName;
            const prevSelectIsActiveTool = preActiveToolName === toolName;
            const currentSelectIsActiveTool = currentActiveToolName === toolName;
            if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
                // select changes to inactive tool beacause another map tool gets active, e.g. map layers tool gets active
                shouldBeInactive = true;
            }
        }
        // If we don't check this.props.autoControlWidgetId is empty or not, we will get the following wrong case
        // 1. Click measure tool, measure is the active tool and measure controls the map
        // 2. Then click select tool, select tool doesn't get active
        if (prevProps.autoControlWidgetId === this.id && this.props.autoControlWidgetId && this.props.autoControlWidgetId !== this.id) {
            // another widget gets control of map, select tool loses control of map
            shouldBeInactive = true;
        }
        if (shouldBeInactive && (this.state.isActive || this.state.isShowSelectTypePopup)) {
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
        }
    }
    componentWillUnmount() {
        this.destroySketchViewModelAndReleaseHandles();
        this.releaseShiftCtrlKeysEventListeners();
    }
    destroySketchViewModelAndReleaseHandles() {
        this.releaseViewHandles();
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
            this.sketchViewModel = null;
        }
        this.activeJimuMapView = null;
        if (this.props.autoControlWidgetId === this.id) {
            // select tool releases the control of map
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    releaseViewHandles() {
        if (this.activeJimuMapView) {
            this.activeJimuMapView.removeSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
        }
        if (this.viewKeyDownHandle) {
            this.viewKeyDownHandle.remove();
            this.viewKeyDownHandle = null;
        }
        if (this.viewKeyUpHandle) {
            this.viewKeyUpHandle.remove();
            this.viewKeyUpHandle = null;
        }
    }
    setCurrentToolAsActiveTool() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (!this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    setActiveToolToNull() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    // this method is only used by setCurrentToolAsActiveTool and setActiveToolToNull
    isSelectIsActiveTool() {
        var _a;
        return this.props.toolName && this.props.toolName === ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName);
    }
    useShiftKey(tolearnaceMs) {
        return this.useKey(this.lastShiftKeyEventInfo, tolearnaceMs);
    }
    useCtrlKey(tolearnaceMs) {
        return this.useKey(this.lastCtrlKeyEventInfo, tolearnaceMs);
    }
    useKey(lastKeyEventInfo, tolearnaceMs) {
        if (lastKeyEventInfo) {
            if (lastKeyEventInfo.isKeyDown) {
                // key is still down and not up, return true
                return true;
            }
            else {
                // key is up, we use tolearnaceMs to deterine the return value
                const deltaTime = Date.now() - lastKeyEventInfo.eventDate.getTime();
                if (deltaTime <= tolearnaceMs) {
                    // keyup time is not too long from now
                    return true;
                }
                else {
                    // keyup time is too long from nows
                    return false;
                }
            }
        }
        else {
            // key never down, return false
            return false;
        }
    }
    bindShiftCtrlKeysEventListeners() {
        document.addEventListener('keydown', this.onKeyDown, true);
        document.addEventListener('keyup', this.onKeyUp, true);
    }
    releaseShiftCtrlKeysEventListeners() {
        document.removeEventListener('keydown', this.onKeyDown, true);
        document.removeEventListener('keyup', this.onKeyUp, true);
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.releaseViewHandles();
            const jimuMapView = this.props.jimuMapView;
            this.activeJimuMapView = jimuMapView;
            this.activeJimuMapView.addSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
            const view = jimuMapView.view;
            this.viewKeyDownHandle = view.on('key-down', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.viewKeyDownHandle = view.on('key-up', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.sketchViewModel = new this.SketchViewModel({
                view: view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    // keep continuous drawing for SketchViewModel
                    this.setActiveToolForSketchViewModel(this.currentActiveTool);
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.view.closePopup();
                    const graphic = event.graphic;
                    // graphic.geometry is null when double click map
                    if (!graphic.geometry) {
                        console.log('sketch graphic.geometry is null');
                        return;
                    }
                    const useKeyToleranceMs = 500;
                    const isShiftKey = this.useShiftKey(useKeyToleranceMs);
                    const isCtrlKey = this.useCtrlKey(useKeyToleranceMs);
                    let selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                    if (isShiftKey) {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.SelectFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.AddToCurrent;
                        }
                    }
                    else {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.RemoveFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                        }
                    }
                    jimuMapView.selectFeaturesByGraphic(graphic, this.state.spatialRelationship, selectionMode);
                }
            });
        }
    }
    setActiveToolForSketchViewModel(activeTool) {
        if (this.sketchViewModel) {
            const createOptions = this.sketChCreateOptions[activeTool];
            if (createOptions) {
                this.sketchViewModel.create(activeTool, createOptions);
            }
            else {
                this.sketchViewModel.create(activeTool);
            }
            if (this.props.autoControlWidgetId !== this.id) {
                // select tool gets control of map
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
        }
    }
    getSelectIconTitle() {
        let topTitle = '';
        if (this.state.currentSelectType === 'Point') {
            topTitle = this.formatMessage('SelectionByPoint');
        }
        else if (this.state.currentSelectType === 'Rectangle') {
            topTitle = this.formatMessage('SelectionByRectangle');
        }
        else if (this.state.currentSelectType === 'Lasso') {
            topTitle = this.formatMessage('SelectionByLasso');
        }
        else if (this.state.currentSelectType === 'Circle') {
            topTitle = this.formatMessage('SelectionByCircle');
        }
        else if (this.state.currentSelectType === 'Line') {
            topTitle = this.formatMessage('SelectionByLine');
        }
        else {
            topTitle = this.formatMessage('SelectLabel');
        }
        const newSelection = this.formatMessage('newSelection');
        const addToCurrentSelection = this.formatMessage('addToCurrentSelection');
        const removeFromCurrentSelection = this.formatMessage('removeFromCurrentSelection');
        const selectFromCurrentSelection = this.formatMessage('selectFromCurrentSelection');
        const drawShape = this.formatMessage('drawShape');
        const draw = this.formatMessage('draw');
        const ctrlKey = this.isMac ? 'Cmd' : 'Ctrl';
        const newSelectionTip = `∙ ${newSelection} (${drawShape})`;
        const addToCurrentSelectionTip = `∙ ${addToCurrentSelection} (Shift + ${draw})`;
        const removeFromCurrentSelectionTip = `∙ ${removeFromCurrentSelection} (${ctrlKey} + ${draw})`;
        const selectFromCurrentSelectionTip = `∙ ${selectFromCurrentSelection} (Shift + ${ctrlKey} + ${draw})`;
        const finalTitle = `${topTitle}
${newSelectionTip}
${addToCurrentSelectionTip}
${removeFromCurrentSelectionTip}
${selectFromCurrentSelectionTip}
    `;
        return finalTitle;
    }
    formatMessage(strId) {
        return this.props.intl.formatMessage({ id: strId, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[strId] });
    }
    render() {
        const selectIconTitle = this.getSelectIconTitle();
        const moreIconTitle = this.props.intl.formatMessage({ id: 'more', defaultMessage: 'More' });
        const isSelecting = this.state.selectProgress > 0 && this.state.selectProgress < 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            this.state.sketchInitialed && !isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.toggleIsSelectActive, style: {}, title: selectIconTitle, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.state.isActive
                }), onKeyDown: e => { this.handleKeyDown(e, 'toggleIsSelectActive'); }, role: 'button', tabIndex: 0 },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            this.state.sketchInitialed && isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_progress__WEBPACK_IMPORTED_MODULE_4__["default"], { progress: this.state.selectProgress, intl: this.props.intl, theme: this.props.theme, onClick: this.onClickLoadingProgress }),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'border border-top-0 w-100', style: { height: '1px' } }),
            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.toggleSelectTypePopup, title: moreIconTitle, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button'), onKeyDown: e => { this.handleKeyDown(e, 'showSelectSetting'); }, role: 'button', tabIndex: 0 },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, title: moreIconTitle, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            this.state.isShowSelectTypePopup && this.getMobilePanelForSelectSetting()));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-pc.tsx":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-pc.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectPCTool: () => (/* binding */ SelectPCTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _select_progress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-progress */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const IconArrowDown = __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-header.svg */ "./jimu-ui/lib/icons/arrow-down-header.svg");
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectClearIcon = __webpack_require__(/*! jimu-icons/svg/outlined/editor/clear-selection-general.svg */ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg");
class SelectPCTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        var _a, _b;
        super(props);
        this.currentActiveTool = 'rectangle';
        this.jsonUtils = null;
        this.resultGraphics = [];
        this.toggleIsSelectActive = () => {
            this.setState({
                isActive: !this.state.isActive
            });
        };
        this.toggleSelectTypePopup = () => {
            this.setState({
                isShowSelectTypePopup: !this.state.isShowSelectTypePopup
            });
        };
        this.onClickLoadingProgress = () => {
            const jimuMapView = this.activeJimuMapView;
            if (jimuMapView) {
                const updateSelection = true;
                jimuMapView.cancelSelectByQuery(updateSelection);
            }
        };
        this.clearSelect = () => __awaiter(this, void 0, void 0, function* () {
            // Don't use this.activeJimuMapView here because this.activeJimuMapView is null if select tool is not pressed, see #18200 for more details.
            const jimuMapView = this.props.jimuMapView;
            if (jimuMapView) {
                try {
                    const updateSelection = false;
                    yield jimuMapView.cancelSelectByQuery(updateSelection);
                }
                catch (e) {
                    console.error(`jimuMapView.cancelSelectByQuery() error, jimuMapViewId: ${jimuMapView.id}`, e);
                }
                setTimeout(() => {
                    jimuMapView.clearSelectedFeatures();
                }, 200);
            }
        });
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === 'Point') {
                this.setActiveToolForSketchViewModel('point');
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                this.setActiveToolForSketchViewModel('rectangle');
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                this.setActiveToolForSketchViewModel('polygon');
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                this.setActiveToolForSketchViewModel('circle');
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                this.setActiveToolForSketchViewModel('polyline');
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType,
                isShowSelectTypePopup: false,
                isActive: true
            });
        };
        this.onJimuMapViewSelectProgressChange = (progress) => {
            this.setState({
                selectProgress: progress
            });
        };
        this.onKeyDown = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
        };
        this.onKeyUp = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
        };
        this.onPopperToggle = (e) => {
            this.toggleSelectTypePopup();
            if (e) {
                if (e.type === 'keydown' && e.key === 'Escape') {
                    this.btnSelectTypeContainer.focus();
                }
            }
        };
        this.handleKeyDown = (e, selectType) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.setCurrentSelectType(selectType);
            }
        };
        this.isMac = ((_b = (_a = window.jimuUA) === null || _a === void 0 ? void 0 : _a.os) === null || _b === void 0 ? void 0 : _b.name) === 'macOS';
        this.id = `${this.props.mapWidgetId}-select-tool`;
        this.sketChCreateOptions = {
            polygon: {
                mode: 'hybrid'
            }
        };
        this.state = {
            sketchInitialed: false,
            isActive: false,
            isShowSelectTypePopup: false,
            currentSelectType: 'Rectangle',
            spatialRelationship: 'intersects',
            selectProgress: 0
        };
        this.bindShiftCtrlKeysEventListeners();
    }
    getCSSStyle() {
        const theme = this.props.theme;
        const containerbg = theme.arcgis.components.button.variants.default.default.bg;
        const containerBorder = theme.arcgis.components.button.variants.default.default.border;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .select-tool-container {
        ${containerbg && `background-color: ${containerbg};`}
        ${containerBorder && `border: ${containerBorder.color} ${containerBorder.width} solid;`}
      }

      .select-tool-btn {
        width: 32px;
        height: 32px;
      }

      .content-bg {
        background-color: ${theme.colors.palette.light[100]};
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }
    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine',
                // When you first click to enable the interactive tools, like the rectangle, for a couple of seconds, there is no cursor on the map, and you cannot do anything - which looks like a bug.
                // To fix the above issue, we need to preload the following API modules for SketchViewModel.
                'esri/views/2d/interactive/editingTools',
                'esri/views/3d/interactive/editingTools',
                'esri/views/2d/layers/GraphicsLayerView2D',
                'esri/views/3d/layers/GraphicsLayerView3D'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            // state.sketchInitialed changed from false to true
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            // active JimuMapView changed
            // need to destroy current this.sketchViewModel and recreate it, dont't change this.sketchViewModel.view, because we need to bind view keydown/keyup events before init sketchViewModel
            this.destroySketchViewModelAndReleaseHandles();
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevState.isActive !== this.state.isActive) {
            // active change
            this.initialSketchTool();
            if (this.state.isActive) {
                // change from inactive to active
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            else {
                // change from active to inactive
                this.destroySketchViewModelAndReleaseHandles();
            }
        }
        this.tryUpdateActiveToolInfoWhenStateChange(prevState);
        this.tryUpdateActiveToolInfoWhenPropsChange(prevProps);
    }
    /**
     * Update props.activeToolName for the following cases:
     * case1: If select tool gets active from inactive, needs to set map.props.activeToolName to select tool by calling props.onActiveToolInfoChange().
     * case2: If select tool gets inactive from active, needs to set map.props.activeToolName to null by calling props.onActiveToolInfoChange().
     */
    tryUpdateActiveToolInfoWhenStateChange(prevState) {
        if (!prevState) {
            return;
        }
        const prevSelectIsActiveTool = !!(prevState.isActive || prevState.isShowSelectTypePopup);
        const currentSelectIsActiveTool = !!(this.state.isActive || this.state.isShowSelectTypePopup);
        if (!prevSelectIsActiveTool && currentSelectIsActiveTool) {
            // select changes to active tool
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange({
            //   activeToolName: this.props.toolName,
            //   activeToolTitle: this.props.toolName
            // })
            this.setCurrentToolAsActiveTool();
        }
        else if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
            // select changes to inactive tool
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange(null)
            this.setActiveToolToNull();
        }
    }
    /**
     * try to set state.isActive and state.isShowSelectTypePopup to false for the following cases:
     * case1: If select tool is originally active, but another map select tool gets active, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * case2: If select tool is originally active, but another widget gets control of map, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * @param prevProps
     */
    tryUpdateActiveToolInfoWhenPropsChange(prevProps) {
        var _a, _b;
        let shouldBeInactive = false;
        const preActiveToolName = ((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) || '';
        const currentActiveToolName = ((_b = this.props.activeToolInfo) === null || _b === void 0 ? void 0 : _b.activeToolName) || '';
        if (preActiveToolName !== currentActiveToolName) {
            // props.activeToolInfo.activeToolName changes
            const toolName = this.props.toolName;
            const prevSelectIsActiveTool = preActiveToolName === toolName;
            const currentSelectIsActiveTool = currentActiveToolName === toolName;
            if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
                // select changes to inactive tool beacause another map tool gets active, e.g. map layers tool gets active
                shouldBeInactive = true;
            }
        }
        // If we don't check this.props.autoControlWidgetId is empty or not, we will get the following wrong case
        // 1. Click measure tool, measure is the active tool and measure controls the map
        // 2. Then click select tool, select tool doesn't get active
        if (prevProps.autoControlWidgetId === this.id && this.props.autoControlWidgetId && this.props.autoControlWidgetId !== this.id) {
            // another widget gets control of map, select tool loses control of map
            shouldBeInactive = true;
        }
        if (shouldBeInactive && (this.state.isActive || this.state.isShowSelectTypePopup)) {
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
        }
    }
    componentWillUnmount() {
        this.destroySketchViewModelAndReleaseHandles();
        this.releaseShiftCtrlKeysEventListeners();
    }
    destroySketchViewModelAndReleaseHandles() {
        this.releaseViewHandles();
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
            this.sketchViewModel = null;
        }
        this.activeJimuMapView = null;
        if (this.props.autoControlWidgetId === this.id) {
            // select tool releases the control of map
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    releaseViewHandles() {
        if (this.activeJimuMapView) {
            this.activeJimuMapView.removeSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
        }
        if (this.viewKeyDownHandle) {
            this.viewKeyDownHandle.remove();
            this.viewKeyDownHandle = null;
        }
        if (this.viewKeyUpHandle) {
            this.viewKeyUpHandle.remove();
            this.viewKeyUpHandle = null;
        }
    }
    setCurrentToolAsActiveTool() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (!this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    setActiveToolToNull() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    // this method is only used by setCurrentToolAsActiveTool and setActiveToolToNull
    isSelectIsActiveTool() {
        var _a;
        return this.props.toolName && this.props.toolName === ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName);
    }
    getSelectIconTitle() {
        let topTitle = '';
        if (this.state.currentSelectType === 'Point') {
            topTitle = this.formatMessage('SelectionByPoint');
        }
        else if (this.state.currentSelectType === 'Rectangle') {
            topTitle = this.formatMessage('SelectionByRectangle');
        }
        else if (this.state.currentSelectType === 'Lasso') {
            topTitle = this.formatMessage('SelectionByLasso');
        }
        else if (this.state.currentSelectType === 'Circle') {
            topTitle = this.formatMessage('SelectionByCircle');
        }
        else if (this.state.currentSelectType === 'Line') {
            topTitle = this.formatMessage('SelectionByLine');
        }
        else {
            topTitle = this.formatMessage('SelectLabel');
        }
        const newSelection = this.formatMessage('newSelection');
        const addToCurrentSelection = this.formatMessage('addToCurrentSelection');
        const removeFromCurrentSelection = this.formatMessage('removeFromCurrentSelection');
        const selectFromCurrentSelection = this.formatMessage('selectFromCurrentSelection');
        const drawShape = this.formatMessage('drawShape');
        const draw = this.formatMessage('draw');
        const ctrlKey = this.isMac ? 'Cmd' : 'Ctrl';
        const newSelectionTip = `∙ ${newSelection} (${drawShape})`;
        const addToCurrentSelectionTip = `∙ ${addToCurrentSelection} (Shift + ${draw})`;
        const removeFromCurrentSelectionTip = `∙ ${removeFromCurrentSelection} (${ctrlKey} + ${draw})`;
        const selectFromCurrentSelectionTip = `∙ ${selectFromCurrentSelection} (Shift + ${ctrlKey} + ${draw})`;
        const finalTitle = `${topTitle}
${newSelectionTip}
${addToCurrentSelectionTip}
${removeFromCurrentSelectionTip}
${selectFromCurrentSelectionTip}
    `;
        return finalTitle;
    }
    formatMessage(strId) {
        return this.props.intl.formatMessage({ id: strId, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[strId] });
    }
    useShiftKey(tolearnaceMs) {
        return this.useKey(this.lastShiftKeyEventInfo, tolearnaceMs);
    }
    useCtrlKey(tolearnaceMs) {
        return this.useKey(this.lastCtrlKeyEventInfo, tolearnaceMs);
    }
    useKey(lastKeyEventInfo, tolearnaceMs) {
        if (lastKeyEventInfo) {
            if (lastKeyEventInfo.isKeyDown) {
                // key is still down and not up, return true
                return true;
            }
            else {
                // key is up, we use tolearnaceMs to deterine the return value
                const deltaTime = Date.now() - lastKeyEventInfo.eventDate.getTime();
                if (deltaTime <= tolearnaceMs) {
                    // keyup time is not too long from now
                    return true;
                }
                else {
                    // keyup time is too long from nows
                    return false;
                }
            }
        }
        else {
            // key never down, return false
            return false;
        }
    }
    bindShiftCtrlKeysEventListeners() {
        document.addEventListener('keydown', this.onKeyDown, true);
        document.addEventListener('keyup', this.onKeyUp, true);
    }
    releaseShiftCtrlKeysEventListeners() {
        document.removeEventListener('keydown', this.onKeyDown, true);
        document.removeEventListener('keyup', this.onKeyUp, true);
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.releaseViewHandles();
            const jimuMapView = this.props.jimuMapView;
            this.activeJimuMapView = jimuMapView;
            this.activeJimuMapView.addSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
            const view = jimuMapView.view;
            this.viewKeyDownHandle = view.on('key-down', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.viewKeyDownHandle = view.on('key-up', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.sketchViewModel = new this.SketchViewModel({
                view: view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    // keep continuous drawing for SketchViewModel
                    this.setActiveToolForSketchViewModel(this.currentActiveTool);
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.view.closePopup();
                    const graphic = event.graphic;
                    // graphic.geometry is null when double click map
                    if (!graphic.geometry) {
                        console.log('sketch graphic.geometry is null');
                        return;
                    }
                    const useKeyToleranceMs = 500;
                    const isShiftKey = this.useShiftKey(useKeyToleranceMs);
                    const isCtrlKey = this.useCtrlKey(useKeyToleranceMs);
                    let selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                    if (isShiftKey) {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.SelectFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.AddToCurrent;
                        }
                    }
                    else {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.RemoveFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                        }
                    }
                    jimuMapView.selectFeaturesByGraphic(graphic, this.state.spatialRelationship, selectionMode);
                }
            });
        }
    }
    setActiveToolForSketchViewModel(activeTool) {
        if (this.sketchViewModel) {
            const createOptions = this.sketChCreateOptions[activeTool];
            if (createOptions) {
                this.sketchViewModel.create(activeTool, createOptions);
            }
            else {
                this.sketchViewModel.create(activeTool);
            }
            if (this.props.autoControlWidgetId !== this.id) {
                // select tool gets control of map
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
        }
    }
    render() {
        const selectIconTitle = this.getSelectIconTitle();
        const clearSelectionTitle = this.props.intl.formatMessage({ id: 'clearSelection', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clearSelection });
        const isSelecting = this.state.selectProgress > 0 && this.state.selectProgress < 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-center select-tool-container', ref: ref => { this.btnContainer = ref; } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex', title: selectIconTitle },
                        !isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleIsSelectActive, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isActive }), disabled: !this.state.sketchInitialed },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: this.getSelectToolIcon() })),
                        isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_progress__WEBPACK_IMPORTED_MODULE_3__["default"], { progress: this.state.selectProgress, intl: this.props.intl, theme: this.props.theme, onClick: this.onClickLoadingProgress }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleSelectTypePopup, style: { width: 18 }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isShowSelectTypePopup }), disabled: !this.state.sketchInitialed, ref: ref => { this.btnSelectTypeContainer = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 8, height: 8, icon: IconArrowDown }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { title: clearSelectionTitle, className: 'select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0', ref: ref => { this.selectResultContainer = ref; }, onClick: this.clearSelect, disabled: !this.state.sketchInitialed },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectClearIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { css: this.getCSSStyle(), reference: this.btnContainer, open: this.state.isShowSelectTypePopup, placement: 'bottom-start', toggle: this.onPopperToggle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'p-4 content-bg', style: { display: 'flex', flexDirection: 'column' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-2 mb-2' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex mb-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                                        }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, onKeyDown: e => { this.handleKeyDown(e, 'Rectangle'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                                        }), onClick: () => { this.setCurrentSelectType('Lasso'); }, onKeyDown: e => { this.handleKeyDown(e, 'Lasso'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                                        }), onClick: () => { this.setCurrentSelectType('Circle'); }, onKeyDown: e => { this.handleKeyDown(e, 'Circle'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle })))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                                        }), onClick: () => { this.setCurrentSelectType('Line'); }, onKeyDown: e => { this.handleKeyDown(e, 'Line'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                                        }), onClick: () => { this.setCurrentSelectType('Point'); }, onKeyDown: e => { this.handleKeyDown(e, 'Point'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain })))))))),
            (!this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx":
/*!***********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SelectProgress)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */


class SelectProgress extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {};
    }
    getStyle() {
        const progressColor = this.props.theme.darkTheme ? 'black' : 'white';
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      position: relative;

      .select-circle-progress {
        position: absolute;
        left: 6px;
        top: 6px;

        .progress-circle-bg {
          stroke: ${progressColor};
          opacity: 0.3;
        }

        .progress-circle-progress {
          stroke: ${progressColor};
          transition: none !important;
        }
      }

      .progress-stop {
        width: 6px;
        height: 6px;
        background: ${progressColor};
      }

      .progress-mask {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: transparent;
      }
    `;
    }
    render() {
        var _a;
        const progress = this.props.progress * 100;
        const progressInt = parseFloat(progress.toFixed(2));
        const defaultStr = jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selectingFeaturesTip;
        const title = ((_a = this.props.intl) === null || _a === void 0 ? void 0 : _a.formatMessage({ id: 'selectingFeaturesTip', defaultMessage: defaultStr })) || defaultStr;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { css: this.getStyle(), onClick: this.props.onClick, className: 'esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center active select-progress' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Progress, { className: 'select-circle-progress', color: 'light', type: 'circular', value: progressInt, circleSize: 20 }),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'progress-stop' }),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'progress-mask', title: title })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/index.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/index.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SelectState)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _selected_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selected-number */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/selected-number.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const SelectZoomtoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-zoomto.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-zoomto.svg");
const SelectClearIcon = __webpack_require__(/*! jimu-icons/svg/outlined/editor/clear-selection-general.svg */ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg");
class SelectState extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'SelectState';
        this.handleSelectedGraphicsChanged = (selectedGraphicCount) => {
            this.setState({
                selectedGraphicCount
            });
        };
        this.zoomToSelectedFeatures = () => __awaiter(this, void 0, void 0, function* () {
            var _a;
            const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
            if (view) {
                const graphics = yield this.getSelectedGraphics();
                if (graphics.length > 0) {
                    view.goTo(graphics);
                }
            }
        });
        this.clearSelectedFeatures = () => __awaiter(this, void 0, void 0, function* () {
            const jimuMapView = this.props.jimuMapView;
            if (jimuMapView) {
                try {
                    const updateSelection = false;
                    yield jimuMapView.cancelSelectByQuery(updateSelection);
                }
                catch (e) {
                    console.error(`jimuMapView.cancelSelectByQuery() error, jimuMapViewId: ${jimuMapView.id}`, e);
                }
                setTimeout(() => {
                    jimuMapView.clearSelectedFeatures();
                }, 200);
            }
        });
        this.state = {
            selectedGraphicCount: 0
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      background-color: ${this.props.theme.arcgis.components.button.variants.default.default.bg};

      .divide-line {
        border-right: 1px solid ${this.props.theme.colors.palette.dark[400]};
        height: 100%;
      }
    `;
    }
    getTitle() {
        return '';
    }
    getIcon() {
        return null;
    }
    getSelectedGraphics() {
        return __awaiter(this, void 0, void 0, function* () {
            let selectedGraphics = [];
            if (this.props.jimuMapView) {
                selectedGraphics = yield this.props.jimuMapView.getSelectedFeatures();
            }
            return selectedGraphics;
        });
    }
    getExpandPanel() {
        const selectedFeaturesTip = this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures });
        const clearSelectionTitle = this.props.intl.formatMessage({ id: 'clearSelection', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clearSelection });
        const zoomToSelectedFeaturesTip = this.props.intl.formatMessage({ id: 'SelectionZoomToSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionZoomToSelectedFeatures });
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 d-flex justify-content-between align-items-center', style: { height: '40px' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-2' }, `${selectedFeaturesTip}: ${this.state.selectedGraphicCount}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: zoomToSelectedFeaturesTip, className: 'h-100 border border-top-0 border-bottom-0 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.zoomToSelectedFeatures },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectZoomtoIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.clearSelectedFeatures, title: clearSelectionTitle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectClearIcon }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.zoomToSelectedFeatures, title: zoomToSelectedFeaturesTip },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectZoomtoIcon, className: 'mr-2' }),
                    `${selectedFeaturesTip}: ${this.state.selectedGraphicCount}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/selected-number.tsx":
/*!****************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/selected-number.tsx ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectedNumber: () => (/* binding */ SelectedNumber)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class _SelectedNumber extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.onJimuLayerViewSelectedFeaturesChange = () => {
            // Typically, this callback method is called when we highlight a feature by popup click, but the data source is not used and not created.
            this.computerSelectedGraphicCount();
        };
    }
    componentDidMount() {
        this.setCurrentJimuMapView(this.props.jimuMapView);
        this.computerSelectedGraphicCount();
    }
    componentDidUpdate(prevProps) {
        const preJimuMapView = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.jimuMapView) || null;
        const currJimuMapView = this.props.jimuMapView || null;
        if (preJimuMapView !== currJimuMapView) {
            // switch map
            this.setCurrentJimuMapView(currJimuMapView);
        }
        this.computerSelectedGraphicCount();
    }
    componentWillUnmount() {
        this.setCurrentJimuMapView(null);
    }
    setCurrentJimuMapView(jimuMapView) {
        if (this.currentJimuMapView) {
            this.currentJimuMapView.removeJimuLayerViewSelectedFeaturesChangeListener(this.onJimuLayerViewSelectedFeaturesChange);
        }
        this.currentJimuMapView = jimuMapView;
        if (this.currentJimuMapView) {
            this.currentJimuMapView.addJimuLayerViewSelectedFeaturesChangeListener(this.onJimuLayerViewSelectedFeaturesChange);
        }
    }
    computerSelectedGraphicCount() {
        if (this.props.onSelectedGraphicsChanged) {
            const selectedGraphicCount = this.props.jimuMapView.getSelectedFeatureCount();
            this.props.onSelectedGraphicsChanged(selectedGraphicCount);
        }
    }
    render() {
        return null;
    }
}
const mapStateToProps = (state, ownProps) => {
    if (state.appStateInBuilder) {
        const dataSourcesInfo = state.appStateInBuilder && state.appStateInBuilder.dataSourcesInfo;
        const jimuMapViewsInfo = state.appStateInBuilder && state.appStateInBuilder.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
    else {
        const dataSourcesInfo = state && state.dataSourcesInfo;
        const jimuMapViewsInfo = state && state.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
};
const SelectedNumber = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_SelectedNumber);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/zoom.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/zoom.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Zoom)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Zoom extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Zoom';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'ZoomLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.ZoomLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ZoomInner, { jimuMapView: this.props.jimuMapView });
    }
}
class ZoomInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Zoom = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Zoom']).then(modules => {
                [this.Zoom] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ZoomBtn) {
                this.container.innerHTML = '';
            }
            this.ZoomBtn = new this.Zoom({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Zoom',
                instance: this.ZoomBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ZoomBtn) {
            this.ZoomBtn.destroy();
            this.ZoomBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            /**
             * TODO
             * When the map widget has two maps, the "componentWillUnmount" is called only for the current active view,
             * so the another view's mapTool is not cleared.
             */
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'zoom-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/translations/default.ts":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/translations/default.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    _widgetLabel: 'Unscrollable map',
    _action_displayFeatureSet_label: 'Display feature set',
    _action_panTo_label: 'Pan to',
    _action_zoomToFeature_label: 'Zoom to',
    _action_selectFeature_label: 'Select feature',
    _action_flash_label: 'Flash',
    _action_filter_label: 'Filter',
    _action_showOnMap_label: 'Show on map',
    _action_addToMap_label: 'Add to map',
    showOnMapData: 'Show on map data',
    addedData: 'added data',
    failToAddTheDataOnMap: 'Fail to add the data.',
    addToMapData: 'Add to map data',
    mapCurrentRecord: '{layerName} map current record',
    _url_params_viewpoint_label: 'Viewpoint',
    _url_params_viewpoint_tooltip: "Viewpoint describes the point of view for a web map or web scene.",
    _url_params_center_label: 'Center',
    _url_params_scale_label: 'Scale',
    _url_params_rotation_label: 'Rotation',
    _url_params_layer_visibility_label: 'Layer visibility'
});


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts":
/*!***********************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkIsLive: () => (/* binding */ checkIsLive),
/* harmony export */   cloneFeature: () => (/* binding */ cloneFeature),
/* harmony export */   createNewFeaturelayer: () => (/* binding */ createNewFeaturelayer),
/* harmony export */   filterFeaturesByQuery: () => (/* binding */ filterFeaturesByQuery),
/* harmony export */   flashFeaturesByQuery: () => (/* binding */ flashFeaturesByQuery),
/* harmony export */   getChangedViewpointByViewAndUrlHashParams: () => (/* binding */ getChangedViewpointByViewAndUrlHashParams),
/* harmony export */   getJimuMapViewId: () => (/* binding */ getJimuMapViewId),
/* harmony export */   getLayersFromDataSourceIds: () => (/* binding */ getLayersFromDataSourceIds),
/* harmony export */   getMapBaseRestoreData: () => (/* binding */ getMapBaseRestoreData),
/* harmony export */   getMapOptionsByUrlHashParams: () => (/* binding */ getMapOptionsByUrlHashParams),
/* harmony export */   getViewpointInstanceFromHistory: () => (/* binding */ getViewpointInstanceFromHistory),
/* harmony export */   goToTargetImmediately: () => (/* binding */ goToTargetImmediately),
/* harmony export */   goToViewpointImmediately: () => (/* binding */ goToViewpointImmediately),
/* harmony export */   isNeedProjectSpatialReference: () => (/* binding */ isNeedProjectSpatialReference),
/* harmony export */   isNeedProjectViewpoint: () => (/* binding */ isNeedProjectViewpoint),
/* harmony export */   isSamelikeViewpoints: () => (/* binding */ isSamelikeViewpoints),
/* harmony export */   isTwoWidgetsMutuallyExtentChange: () => (/* binding */ isTwoWidgetsMutuallyExtentChange),
/* harmony export */   isWidgetSendZoomToActionToAnother: () => (/* binding */ isWidgetSendZoomToActionToAnother),
/* harmony export */   mapPanto: () => (/* binding */ mapPanto),
/* harmony export */   processZoomToFeatures: () => (/* binding */ processZoomToFeatures),
/* harmony export */   projectGeometries: () => (/* binding */ projectGeometries),
/* harmony export */   projectViewpoint: () => (/* binding */ projectViewpoint),
/* harmony export */   restoreMapBase: () => (/* binding */ restoreMapBase),
/* harmony export */   selectFeature: () => (/* binding */ selectFeature),
/* harmony export */   updateFeaturelayer: () => (/* binding */ updateFeaturelayer),
/* harmony export */   updateUrlHashParamsForActiveJimuMapView: () => (/* binding */ updateUrlHashParamsForActiveJimuMapView)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/* eslint-disable prefer-const */


function createNewFeaturelayer(mapBaseView, newFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const newLayerPromises = [];
        newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                console.warn('the feature layer is already created');
                return;
            }
            newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));
        });
        if (newLayerPromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(newLayerPromises);
        }
    });
}
function updateFeaturelayer(mapBaseView, changedFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const updatePromises = [];
        changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                mapBaseView.map.remove(layer);
                updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));
            }
        });
        if (updatePromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(updatePromises);
        }
    });
}
function addFeatureSetToMap(mapBaseView, featureSet, layerId) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield new Promise((resolve, reject) => {
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/layers/FeatureLayer'
            ]).then(modules => {
                if (featureSet.features.length < 1) {
                    resolve(null);
                }
                else {
                    // let FeatureSet: typeof  __esri.FeatureSet;
                    let FeatureLayer;
                    // eslint-disable-next-line
                    [FeatureLayer] = modules;
                    const layerFromFeatureSet = featureSet.features[0].layer;
                    const fieldsInFeaturelayer = [];
                    const fieldMap = {};
                    for (let i = 0; i < layerFromFeatureSet.fields.length; i++) {
                        const fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);
                        fieldMap[layerFromFeatureSet.fields[i].name] = fieldsItem.name;
                        fieldsInFeaturelayer.push(fieldsItem);
                    }
                    const fieldsInPopupTemplate = [];
                    for (const key in featureSet.features[0].attributes) {
                        if (fieldMap[key]) {
                            const fieldsItem = {
                                fieldName: fieldMap[key],
                                label: key
                            };
                            fieldsInPopupTemplate.push(fieldsItem);
                        }
                    }
                    const sourceFeatures = [];
                    featureSet.features.forEach((feature, index) => {
                        const tempFeature = feature;
                        if (tempFeature.attributes) {
                            for (const key in tempFeature.attributes) {
                                tempFeature.attributes[fieldMap[key]] = tempFeature.attributes[key];
                            }
                            tempFeature.attributes.exbfid = index;
                        }
                        else {
                            tempFeature.attributes = {
                                exbfid: index
                            };
                        }
                        sourceFeatures.push(tempFeature);
                    });
                    const layer = new FeatureLayer({
                        id: layerId,
                        title: layerFromFeatureSet.title,
                        source: sourceFeatures,
                        fields: fieldsInFeaturelayer,
                        outFields: ['*'],
                        objectIdField: 'exbfid',
                        renderer: layerFromFeatureSet.renderer,
                        popupEnabled: true,
                        popupTemplate: {
                            title: 'information',
                            content: [{
                                    type: 'fields',
                                    fieldInfos: fieldsInPopupTemplate
                                }]
                        }
                    });
                    mapBaseView.map.add(layer);
                    layer.on('layerview-create', event => {
                        resolve(null);
                    });
                }
            });
        });
    });
}
function getReasonableField(field) {
    // the function is supported to normalize the field.name
    const fieldName = field.name;
    return {
        name: fieldName.replace(/\./g, '_').replace(/\(/g, '_').replace(/\)/g, '_'),
        alias: field.alias,
        type: field.type
    };
}
function selectFeature(mapBaseView, target, layerId) {
    // In this function, we assume that features come from the same layer
    let featureLayerId = layerId;
    let featureLayerView = null;
    let tempFeature = null;
    // if layerId doesn't exist, we get layerId by feature
    if (!featureLayerId) {
        if (target instanceof Array) {
            tempFeature = target[0];
        }
        else {
            tempFeature = target;
        }
        if (tempFeature) {
            featureLayerId = tempFeature.layer && tempFeature.layer.id;
        }
    }
    if (featureLayerId) {
        const layerViews = mapBaseView.allLayerViews;
        for (let i = 0; i < layerViews.length; i++) {
            if (layerViews.getItemAt(i).layer.id === featureLayerId) {
                featureLayerView = layerViews.getItemAt(i);
            }
        }
        if (featureLayerView) {
            return {
                layerId: featureLayerId,
                handle: featureLayerView.highlight(target)
            };
        }
        else {
            return null;
        }
    }
}
function goToTargetImmediately(view, _target) {
    return __awaiter(this, void 0, void 0, function* () {
        const viewSR = view.spatialReference;
        const geometries = yield projectGeometries([_target], viewSR);
        if (geometries && geometries.length > 0) {
            const target = geometries[0];
            view.goTo(target, { animate: false });
        }
    });
}
function goToViewpointImmediately(view, _viewpoint) {
    return __awaiter(this, void 0, void 0, function* () {
        const viewSR = view.spatialReference;
        const viewpoint = yield projectViewpoint(_viewpoint, viewSR);
        // view.goTo(viewpoint, { animate: false })
        view.viewpoint = viewpoint;
    });
}
function isNeedProjectViewpoint(viewpoint, viewSR) {
    var _a, _b, _c;
    const sr1 = (_a = viewpoint.targetGeometry) === null || _a === void 0 ? void 0 : _a.spatialReference;
    if (sr1 && isNeedProjectSpatialReference(sr1, viewSR)) {
        return true;
    }
    const sr2 = (_c = (_b = viewpoint.camera) === null || _b === void 0 ? void 0 : _b.position) === null || _c === void 0 ? void 0 : _c.spatialReference;
    if (sr2 && isNeedProjectSpatialReference(sr2, viewSR)) {
        return true;
    }
    return false;
}
function isNeedProjectSpatialReference(sr1, sr2) {
    const isSame = sr1.wkid === sr2.wkid || sr1.equals(sr2);
    //  In JS API 4.x, the view can handle WebMercator and WGS84 spatialReference auto
    const isLike = (sr1.isWebMercator || sr1.isWGS84) && (sr2.isWebMercator || sr2.isWGS84);
    return !isSame && !isLike;
}
function projectViewpoint(_viewpoint, viewSR) {
    var _a;
    return __awaiter(this, void 0, void 0, function* () {
        const viewpoint = _viewpoint.clone();
        const targetGeometry = viewpoint.targetGeometry;
        const cameraPositon = (_a = viewpoint.camera) === null || _a === void 0 ? void 0 : _a.position;
        const toProjectGeometries = [];
        let isProjectTargetGeometry = false;
        let isProjectCameraPosition = false;
        if (targetGeometry && isNeedProjectSpatialReference(targetGeometry.spatialReference, viewSR)) {
            isProjectTargetGeometry = true;
            toProjectGeometries.push(targetGeometry);
        }
        if (cameraPositon && isNeedProjectSpatialReference(cameraPositon.spatialReference, viewSR)) {
            isProjectCameraPosition = true;
            toProjectGeometries.push(cameraPositon);
        }
        if (toProjectGeometries.length > 0) {
            const projectedGeometries = yield projectGeometries(toProjectGeometries, viewSR);
            if (isProjectTargetGeometry) {
                viewpoint.targetGeometry = projectedGeometries[0];
            }
            if (isProjectCameraPosition) {
                viewpoint.camera.position = projectedGeometries[projectedGeometries.length - 1];
            }
        }
        return viewpoint;
    });
}
function mapPanto(mapBaseView, target) {
    return __awaiter(this, void 0, void 0, function* () {
        const panToTarget = target;
        const tempBaseMapView = mapBaseView;
        if (panToTarget instanceof Array) {
            if (panToTarget.length === 0) {
                yield Promise.resolve();
                return;
            }
            if (panToTarget[0].geometry) {
                const geometryArr = [];
                for (let i = 0; i < panToTarget.length; i++) {
                    geometryArr.push(panToTarget[i].geometry);
                }
                yield getGeometriesExtent(geometryArr).then((extent) => {
                    return goTo(tempBaseMapView, extent.center);
                });
            }
            else {
                return getGeometriesExtent(panToTarget).then((extent) => {
                    return goTo(tempBaseMapView, extent.center);
                });
            }
        }
        else {
            if (panToTarget.geometry) {
                const getmetry = panToTarget.geometry;
                return goTo(tempBaseMapView, getCenterPoint(getmetry));
            }
            else {
                return goTo(tempBaseMapView, getCenterPoint(panToTarget));
            }
        }
    });
}
function goTo(view, target) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            // delay before updating of view turns true, 400ms is a temporary solution.
            setTimeout(() => {
                //// there is a conflict for paning when the layer view is updating, such as 'pan to' and 'filter'.
                //// this is a temporary solution, it can reduce the frequency of the problem rather than solve it completely.
                //if (view.updating) {
                //  const handler = view.watch('updating', value => {
                //    if (!value) {
                //      view.goTo(target).then(() => resolve()).catch(() => reject())
                //      handler.remove()
                //    }
                //  })
                //} else {
                //  view.goTo(target).then(() => resolve()).catch(() => reject())
                //}
                view.goTo(target).then(() => { resolve(); }).catch(() => { reject(); });
            }, 400);
        });
    });
}
function getGeometriesExtent(geometries) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/geometry/Extent'
        ]).then((modules) => __awaiter(this, void 0, void 0, function* () {
            // eslint-disable-next-line
            let Extent;
            [Extent] = modules;
            if (!geometries || !geometries.length) {
                return yield Promise.resolve(null);
            }
            let fullExtent = null;
            let index;
            const numGeometries = geometries.length;
            for (index = 0; index < numGeometries; index++) {
                const geometry = geometries[index];
                if (!geometry) {
                    continue;
                }
                let extent = geometry.extent;
                if (!extent && geometry.type === 'point') {
                    const pointGeometry = geometry;
                    if (pointGeometry.x && pointGeometry.y) {
                        extent = new Extent({
                            xmax: pointGeometry.x,
                            xmin: pointGeometry.x,
                            ymax: pointGeometry.y,
                            ymin: pointGeometry.y,
                            zmax: pointGeometry.z,
                            zmin: pointGeometry.z,
                            spatialReference: pointGeometry.spatialReference
                        });
                    }
                }
                if (!extent) {
                    continue;
                }
                if (fullExtent) {
                    fullExtent = fullExtent.union(extent);
                }
                else {
                    fullExtent = extent;
                }
            }
            if (fullExtent.width < 0 && fullExtent.height < 0) {
                return yield Promise.resolve(null);
            }
            return yield Promise.resolve(fullExtent);
        }));
    });
}
function filterFeaturesByQuery(jimuMapView, actionLayerDataSourceId, querySQL) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!actionLayerDataSourceId) {
            return;
        }
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(actionLayerDataSourceId);
        if (!dataSource) {
            return;
        }
        let jimuLayerView = null;
        try {
            jimuLayerView = yield jimuMapView.whenJimuLayerViewLoadedByDataSource(dataSource);
        }
        catch (err) {
            jimuLayerView = null;
            console.error('can\'t get jimuLayerView by dataSource', dataSource, err);
        }
        if (jimuLayerView && jimuLayerView.layer && (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer || jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer)) {
            jimuLayerView.setDefinitionExpression(querySQL);
        }
    });
}
function queryFeatures(layerObject, querySQL, outFields) {
    return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/rest/support/Query'
    ]).then(modules => {
        let Query;
        [Query] = modules;
        const query = new Query();
        query.where = querySQL;
        query.outFields = outFields || [];
        query.returnGeometry = true;
        return layerObject.queryFeatures(query).then(featureSet => {
            return featureSet;
        });
    });
}
function flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView) {
    if ((tempJimuLayerView).view) {
        let featureLayerView = (tempJimuLayerView).view;
        if (featureLayerView) {
            queryFeatures(featureLayerView.layer, querySQL, []).then(featureSet => {
                if (featureSet && featureSet.features && featureSet.features.length > 0) {
                    const symbol = getFlashSymbol(featureLayerView.layer.geometryType);
                    startFlash(jimuMapView.view, featureSet.features, symbol);
                }
            });
        }
        else {
            return null;
        }
    }
    else {
        (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/layers/FeatureLayer'
        ]).then(modules => {
            let FeatureLayer;
            [FeatureLayer] = modules;
            let tempFeatureLayer = new FeatureLayer({
                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(tempJimuLayerView.layer)
            });
            tempFeatureLayer.load().then(() => {
                queryFeatures(tempFeatureLayer, querySQL, []).then(featureSet => {
                    if (featureSet && featureSet.features && featureSet.features.length > 0) {
                        const symbol = getFlashSymbol(featureSet.features[0].geometry.type);
                        startFlash(jimuMapView.view, featureSet.features, symbol);
                    }
                });
            });
        });
    }
}
let sceneHightlightHandle = null;
function flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView) {
    var _a;
    if ((tempJimuLayerView).view) {
        let sceneLayerView = (tempJimuLayerView).view;
        // @ts-expect-error
        queryFeatures((_a = sceneLayerView === null || sceneLayerView === void 0 ? void 0 : sceneLayerView.layer) === null || _a === void 0 ? void 0 : _a.associatedLayer, querySQL, []).then(featureSet => {
            if (featureSet && featureSet.features && featureSet.features.length > 0) {
                const objectIdField = sceneLayerView.layer.objectIdField;
                const objectIds = featureSet.features.map(feature => feature.attributes[objectIdField]);
                let i = 0;
                const maxFlashCount = 6;
                let highlightColor = [255, 255, 0, 0.8];
                const originalHighlightOptions = jimuMapView.view.highlightOptions;
                const flash = function () {
                    if (i < maxFlashCount) {
                        i++;
                        if (highlightColor) {
                            highlightColor = null;
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: [0, 0, 0, 0] };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        else {
                            highlightColor = [255, 255, 0, 0.8];
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: highlightColor };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        setTimeout(flash, 500);
                    }
                    else {
                        jimuMapView.view.highlightOptions = originalHighlightOptions;
                        sceneHightlightHandle && sceneHightlightHandle.remove();
                    }
                };
                setTimeout(flash, 500);
            }
        });
    }
}
function flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!layerDataSourceId) {
            return;
        }
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(layerDataSourceId);
        if (!dataSource) {
            return;
        }
        let jimuLayerView = null;
        try {
            jimuLayerView = yield jimuMapView.whenJimuLayerViewLoadedByDataSource(dataSource);
        }
        catch (err) {
            jimuLayerView = null;
            console.error('can\'t get jimuLayerView by dataSource', dataSource, err);
        }
        if (jimuLayerView && jimuLayerView.layer) {
            if (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer) {
                flashOnFeatureLayer(jimuMapView, querySQL, jimuLayerView);
            }
            else if (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer) {
                flashOnSceneLayer(jimuMapView, querySQL, jimuLayerView);
            }
        }
    });
}
function startFlash(mapBaseView, features, symbol) {
    (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/Graphic'
    ]).then(modules => {
        // eslint-disable-next-line
        let Graphic;
        [Graphic] = modules;
        const flashFeatures = function (features, maxFlashCount) {
            const graphics = [];
            let flashCount = 0;
            for (let i = 0; i < features.length; i++) {
                const tempGraphic = new Graphic({
                    geometry: features[i].geometry,
                    symbol: symbol,
                    attributes: features[i].attributes
                });
                graphics.push(tempGraphic);
            }
            const singleFlash = function () {
                mapBaseView.graphics.addMany(graphics);
                setTimeout(() => {
                    mapBaseView.graphics.removeMany(graphics);
                    flashCount = flashCount + 1;
                    if (flashCount < maxFlashCount) {
                        setTimeout(() => {
                            singleFlash();
                        }, 500);
                    }
                }, 500);
            };
            singleFlash();
        };
        flashFeatures(features, 3);
    });
}
function getFlashSymbol(geometryType) {
    if (['point', 'multipoint'].includes(geometryType)) {
        return {
            type: 'simple-marker',
            style: 'circle',
            color: [255, 255, 0, 0.8],
            size: '16px',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['polyline'].includes(geometryType)) {
        return {
            type: 'simple-line',
            color: [255, 255, 0, 0.8],
            width: 3,
            style: 'solid'
        };
    }
    else if (['polygon', 'extent'].includes(geometryType)) {
        return {
            type: 'simple-fill', // autocasts as new SimpleFillSymbol()
            color: [255, 255, 0, 0.5],
            style: 'solid',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['mesh'].includes(geometryType)) {
        return {
            type: 'mesh-3d', // autocasts as new MeshSymbol3D()
            symbolLayers: [{
                    type: 'fill', // autocasts as new FillSymbol3DLayer()
                    material: { color: [255, 255, 0, 0.8] }
                }]
        };
    }
    else {
        return null;
    }
}
function getCenterPoint(geometry) {
    // point | multipoint | polyline | polygon | extent | mesh
    switch (geometry.type) {
        case 'point':
            return geometry;
        case 'extent':
            return geometry.center;
        case 'polygon':
            return geometry.centroid;
        case 'polyline':
            return geometry.extent.center;
        default:
            return geometry && geometry.extent ? geometry.extent.center : undefined;
        // todo
    }
}
function cloneFeature(feature, Graphic) {
    let tempFeature = null;
    if (feature.clone) {
        tempFeature = feature.clone();
    }
    else {
        tempFeature = Graphic.fromJSON(Object.assign({}, feature));
        tempFeature.attributes = Object.assign({}, feature.attributes);
    }
    return tempFeature;
}
function projectGeometries(geometries, spatialReference) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!geometries || geometries.length === 0 || !geometries[0] ||
            spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else {
            return yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.geometryUtils.projectToSpatialReference(geometries, spatialReference);
        }
    });
}
function processZoomToFeatures(mapBaseView, layer, features) {
    return __awaiter(this, void 0, void 0, function* () {
        if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {
            return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query'
            ]).then((modules) => {
                const [Query] = modules;
                const query = new Query();
                query.returnGeometry = true;
                query.outFields = ['*'];
                query.objectIds = features.map(feature => feature.attributes[layer.objectIdField]);
                return layer.queryFeatures(query).then((result) => __awaiter(this, void 0, void 0, function* () {
                    if (result && result.features && result.features.length === features.length) {
                        return yield Promise.resolve(result.features);
                    }
                    else {
                        return yield Promise.resolve(features);
                    }
                }), () => __awaiter(this, void 0, void 0, function* () {
                    return yield Promise.resolve(features);
                }));
            });
        }
        else {
            return yield Promise.resolve(features);
        }
    });
}
function checkIsLive(appMode) {
    if (window.jimuConfig.isInBuilder) {
        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            return false;
        }
        else {
            return true;
        }
    }
    else {
        return true;
    }
}
function getLayersFromDataSourceIds(dataSourceIds) {
    const layerPromises = [];
    dataSourceIds.forEach(dataSourceId => {
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dataSourceId);
        let layerPromise;
        if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
            layerPromise = Promise.resolve(dataSource.layer);
        }
        else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
            layerPromise = dataSource.createJSAPILayerByDataSource();
        }
        else {
            layerPromise = Promise.resolve(null);
        }
        layerPromises.push(layerPromise);
    });
    return Promise.all(layerPromises);
}
function getJimuMapViewId(widgetId, dataSourceId) {
    // If dataSourceId is null, make sure it converts to empty string.
    const dsId = dataSourceId || '';
    return `${widgetId}-${dsId}`;
}
function getMapBaseRestoreData(mapInstance) {
    const { mapContainer, state, Geometry, InitialViewProperties, TileLayer, Basemap, MapView, SceneView, Extent, Viewpoint, PortalItem, Portal, WebMap, WebScene, Color, SpatialReference, Point, expectedDataSourceInfo, mapCreatingInfo, view, lastUpdateViewConfig, mapDs, dsManager, isFirstReceiveMessage } = mapInstance;
    return {
        mapContainer,
        state,
        Geometry,
        InitialViewProperties,
        TileLayer,
        Basemap,
        MapView,
        SceneView,
        Extent,
        Viewpoint,
        PortalItem,
        Portal,
        WebMap,
        WebScene,
        Color,
        SpatialReference,
        Point,
        expectedDataSourceInfo,
        mapCreatingInfo,
        view,
        lastUpdateViewConfig,
        mapDs,
        dsManager,
        isFirstReceiveMessage
    };
}
function restoreMapBase(mapInstance, restoreData) {
    const keys = Object.keys(restoreData);
    for (const key of keys) {
        mapInstance[key] = restoreData[key];
    }
}
function isTwoWidgetsMutuallyExtentChange(widgetId1, widgetId2) {
    if (widgetId1 && widgetId2) {
        const messageConfigs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.messageConfigs;
        if (messageConfigs) {
            const actionNames = ['panTo', 'zoomToFeature'];
            const messageType = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageType.ExtentChange;
            if (isWidgetSendActionsToAnother(widgetId1, widgetId2, messageConfigs, messageType, actionNames) &&
                isWidgetSendActionsToAnother(widgetId2, widgetId1, messageConfigs, messageType, actionNames)) {
                return true;
            }
        }
    }
    return false;
}
function isWidgetSendZoomToActionToAnother(sendMessageWidgetId, actionWidgetId, messageType) {
    if (sendMessageWidgetId && actionWidgetId) {
        const messageConfigs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.messageConfigs;
        if (messageConfigs) {
            const actionNames = ['zoomToFeature'];
            return isWidgetSendActionsToAnother(sendMessageWidgetId, actionWidgetId, messageConfigs, messageType, actionNames);
        }
    }
    return false;
}
function isWidgetSendActionsToAnother(sendMessageWidgetId, actionWidgetId, messageConfigs, messageType, actionNames) {
    if (messageConfigs) {
        const messageJsonArray = Object.values(messageConfigs);
        for (let i = 0; i < messageJsonArray.length; i++) {
            const messageJson = messageJsonArray[i];
            if (messageJson.widgetId === sendMessageWidgetId && messageJson.messageType === messageType) {
                const actions = messageJson.actions;
                for (let j = 0; j < actions.length; j++) {
                    const action = actions[j];
                    if (action.widgetId === actionWidgetId) {
                        if (actionNames.includes(action.actionName)) {
                            return true;
                        }
                    }
                }
            }
        }
    }
    return false;
}
function isSamelikeViewpoints(view, vp1, vp2) {
    if (!vp1) {
        return false;
    }
    if (!vp2) {
        return false;
    }
    // We need to check both targetGeometry and camera.
    if (vp1.targetGeometry && vp1.targetGeometry.declaredClass === 'esri.geometry.Point' && vp2.targetGeometry && vp2.targetGeometry.declaredClass === 'esri.geometry.Point') {
        const screenPoint1 = view.toScreen(vp1.targetGeometry);
        const screenPoint2 = view.toScreen(vp2.targetGeometry);
        const deltaX = screenPoint1.x - screenPoint2.x;
        const deltaY = screenPoint1.y - screenPoint2.y;
        const dist = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
        if (dist >= 5) {
            return false;
        }
    }
    const camera1 = vp1.camera;
    const camera2 = vp2.camera;
    if (camera1 && camera2) {
        // compare viewpoint for SceneView
        const heading1 = parseFloat(camera1.heading.toFixed(2));
        const heading2 = parseFloat(camera2.heading.toFixed(2));
        if (heading1 !== heading2) {
            return false;
        }
        const tilt1 = parseFloat(camera1.tilt.toFixed(2));
        const tilt2 = parseFloat(camera2.tilt.toFixed(2));
        if (tilt1 !== tilt2) {
            return false;
        }
        const positionDist = camera1.position.distance(camera2.position);
        if (positionDist >= 1) {
            return false;
        }
    }
    else {
        // compare viewpoint for MapView
        const rotation1 = parseFloat(vp1.rotation.toFixed(2));
        const rotation2 = parseFloat(vp2.rotation.toFixed(2));
        if (rotation1 !== rotation2) {
            return false;
        }
        const deltaScale = vp1.scale - vp2.scale;
        if (Math.abs(deltaScale) >= 1) {
            return false;
        }
    }
    return true;
}
function getViewpointInstanceFromHistory(view, viewpointIndex) {
    if (view.viewpointHistory.length > 0) {
        const lastIndex = view.viewpointHistory.length - 1;
        if (viewpointIndex >= 0 && viewpointIndex <= lastIndex) {
            const viewpoint = view.viewpointHistory[viewpointIndex];
            return viewpoint.clone();
        }
    }
    return null;
}
function updateUrlHashParamsForActiveJimuMapView(jimuMapView) {
    var _a;
    if (jimuMapView && jimuMapView.isActive && jimuMapView.view && !jimuMapView.view.destroyed) {
        const view = jimuMapView.view;
        const urlManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.UrlManager.getInstance();
        const viewpointJson = view.viewpoint ? view.viewpoint.toJSON() : null;
        let viewpointStr = null;
        let centerStr = null;
        let scaleStr = null;
        let rotationStr = null;
        if (viewpointJson) {
            viewpointStr = JSON.stringify(viewpointJson);
        }
        // We only support center, scale and rotaion for MapView.
        if (view.type === '2d') {
            const wkid = (_a = view.spatialReference) === null || _a === void 0 ? void 0 : _a.wkid;
            if (wkid) {
                const viewCenter = view.center;
                centerStr = `${viewCenter.x},${viewCenter.y},${wkid}`;
            }
            scaleStr = String(view.scale);
            rotationStr = String(view.rotation);
        }
        view.lastViewpointToUpdateUrlParams = view.viewpoint ? view.viewpoint.clone() : null;
        view.lastViewpointUrlParamUpdateTimestamp = Date.now();
        const activeDatasourceId = jimuMapView.dataSourceId || null;
        const mapUrlHashParams = {
            active_datasource_id: activeDatasourceId,
            center: centerStr,
            scale: scaleStr,
            rotation: rotationStr,
            // if viewpointStr is null, UrlManager will remove it from url
            viewpoint: viewpointStr
        };
        // console.log('setWidgetUrlParams', Date.now())
        urlManager.setWidgetUrlParams(jimuMapView.mapWidgetId, mapUrlHashParams);
    }
}
/**
 * Get changed viewpoint by view and url hash params.
 * Return null if viewpoint not changed.
 * @param view
 * @param runtimeUrlHashParams
 * @param parseViewpoint
 * @param parseCenter
 * @param parseScale
 * @param parseRotation
 * @param Viewpoint
 * @param Point
 * @param SpatialReference
 * @returns
 */
function getChangedViewpointByViewAndUrlHashParams(view, runtimeUrlHashParams, parseViewpoint, parseCenter, parseScale, parseRotation, Viewpoint, Point, SpatialReference) {
    var _a;
    let result = null;
    const currViewpoint = (_a = view.viewpoint) === null || _a === void 0 ? void 0 : _a.clone();
    const is2D = view.type === '2d';
    if (!is2D) {
        parseCenter = false;
        parseScale = false;
        parseRotation = false;
    }
    const urlParamsMapOptions = getMapOptionsByUrlHashParams(runtimeUrlHashParams, is2D, Viewpoint, Point, SpatialReference);
    if (urlParamsMapOptions) {
        if (!parseViewpoint) {
            delete urlParamsMapOptions.viewpoint;
        }
        if (!parseCenter) {
            delete urlParamsMapOptions.center;
        }
        if (!parseScale) {
            delete urlParamsMapOptions.scale;
        }
        if (!parseRotation) {
            delete urlParamsMapOptions.rotation;
        }
        if (Object.keys(urlParamsMapOptions).length > 0) {
            if (is2D) {
                result = urlParamsMapOptions.viewpoint || currViewpoint;
                if (result) {
                    if (urlParamsMapOptions.center) {
                        result.targetGeometry = urlParamsMapOptions.center;
                    }
                    if ('scale' in urlParamsMapOptions) {
                        result.scale = urlParamsMapOptions.scale;
                    }
                    if ('rotation' in urlParamsMapOptions) {
                        result.rotation = urlParamsMapOptions.rotation;
                    }
                }
            }
            else {
                result = urlParamsMapOptions.viewpoint;
            }
        }
    }
    return result;
}
function getMapOptionsByUrlHashParams(runtimeUrlHashParams, is2D, Viewpoint, Point, SpatialReference) {
    let result = {};
    let viewpoint = null;
    let center = null;
    let scale = null;
    let rotation = null;
    if (runtimeUrlHashParams) {
        // parse viewpoint
        try {
            if (runtimeUrlHashParams.viewpoint) {
                const viewpointJson = JSON.parse(runtimeUrlHashParams.viewpoint);
                if (viewpointJson) {
                    viewpoint = Viewpoint.fromJSON(viewpointJson);
                }
            }
        }
        catch (e) {
            console.error('parse viewpoint from url hash params error', e);
            viewpoint = null;
        }
        // only support center, scale and rotation for MapView
        if (is2D) {
            // parse center
            // center format: x,y,wkid
            try {
                if (runtimeUrlHashParams.center) {
                    const splits = runtimeUrlHashParams.center.split(',');
                    if (splits.length >= 3) {
                        const x = parseFloat(splits[0]);
                        const y = parseFloat(splits[1]);
                        const wkid = parseFloat(splits[2]);
                        if (isValidNum(x) && isValidNum(y) && isValidNum(wkid)) {
                            const spatialReference = new SpatialReference({
                                wkid
                            });
                            center = new Point({
                                x,
                                y,
                                spatialReference
                            });
                        }
                    }
                }
            }
            catch (e) {
                console.error('parse center from url hash params error', e);
                center = null;
            }
            // parse scale
            try {
                if ('scale' in runtimeUrlHashParams) {
                    const scaleNum = parseFloat(runtimeUrlHashParams.scale);
                    if (isValidNum(scaleNum) && scaleNum >= 0) {
                        scale = scaleNum;
                    }
                }
            }
            catch (e) {
                scale = null;
                console.error('parse scale from url hash params error', e);
            }
            // parse rotation
            try {
                if ('rotation' in runtimeUrlHashParams) {
                    const rotationNum = parseFloat(runtimeUrlHashParams.rotation);
                    if (isValidNum(rotationNum) && rotationNum >= 0 && rotationNum <= 360) {
                        rotation = rotationNum;
                    }
                }
            }
            catch (e) {
                rotation = null;
                console.error('parse rotation from url hash params error', e);
            }
        }
    }
    if (viewpoint) {
        result.viewpoint = viewpoint;
    }
    // only support center, scale and rotation for MapView
    if (is2D) {
        if (center) {
            result.center = center;
        }
        if (isValidNum(scale)) {
            result.scale = scale;
        }
        if (isValidNum(rotation)) {
            result.rotation = rotation;
        }
    }
    if (Object.keys(result).length === 0) {
        result = null;
    }
    return result;
}
function isValidNum(value) {
    return typeof value === 'number' && !isNaN(value);
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/version-manager.ts":
/*!*************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/version-manager.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   versionManager: () => (/* binding */ versionManager)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class VersionManager extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.BaseVersionManager {
    constructor() {
        super(...arguments);
        this.versions = [{
                version: '1.10.0',
                description: '1.10.0',
                upgrader: (oldConfig) => {
                    let newConfig;
                    if (oldConfig.toolConifg) {
                        // fix typo for 'toolConifg'
                        newConfig = jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable.without(oldConfig, 'toolConifg');
                        newConfig = newConfig.set('toolConfig', oldConfig.toolConifg);
                    }
                    return newConfig;
                }
            }];
    }
}
const versionManager = new VersionManager();


/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/widget.tsx ***!
  \*************************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/multisourcemap */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var _components_default_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/default-map */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/default-map.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _version_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../version-manager */ "./your-extensions/widgets/map-unscrollable/src/version-manager.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./translations/default */ "./your-extensions/widgets/map-unscrollable/src/runtime/translations/default.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */









class Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.multiSourceMapInstance = null;
        this.activeJimuMapView = null;
        this.watchSelectedFeatureHandle = null;
        this.dataActionListContainer = null;
        this.reactiveUtils = null;
        this.popupDomNodeObserver = null;
        this.mapClicked = false; // Add a flag to track if the map is clicked
        this.handleClickOutsideMap = (e) => {
            if (this.container.contains(e.target)) {
                this.mapClicked = true; // Set the flag to true if the map is clicked
                document.removeEventListener('click', this.handleClickOutsideMap);
            }
        };
        this.enableMapScrolling = () => {
            if (this.activeJimuMapView) {
                this.activeJimuMapView.view.container.style.touchAction = 'auto';
                this.activeJimuMapView.view.navigation.mouseWheelZoomEnabled = true;
                document.addEventListener('click', this.disableMapScrolling);
            }
        };
        this.disableMapScrolling = (e) => {
            if (this.activeJimuMapView.view && !this.container.contains(e.target)) {
                this.activeJimuMapView.view.container.style.touchAction = 'none';
                this.activeJimuMapView.view.navigation.mouseWheelZoomEnabled = false;
                document.removeEventListener('click', this.disableMapScrolling);
            }
        };
        this.startRenderMap = () => {
            setTimeout(() => {
                this.setState({
                    startLoadModules: true
                });
            }, 100);
        };
        this.getPlaceHolderImage = () => {
            let placeHolderImage = this.props.config.placeholderImage;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getMainSession();
            if (placeHolderImage) {
                // eslint-disable-next-line
                const isPortalThumbExp = new RegExp('^(.)+/sharing/rest/content/items/(.)+/info/(.)+');
                if (isPortalThumbExp.test(placeHolderImage)) {
                    if (session) {
                        placeHolderImage = placeHolderImage + `?token=${session.token}`;
                    }
                    else {
                        // eslint-disable-next-line no-self-assign
                        placeHolderImage = placeHolderImage;
                    }
                }
            }
            return placeHolderImage;
        };
        this.fullScreenHanlder = (event) => {
            if (!document.fullscreenElement && !document.webkitFullscreenElement) {
                this.setState({
                    isFullScreen: false
                });
            }
        };
        this.fullScreenMap = () => {
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isTouchDevice()) {
                // is touch device
                if (this.container.style.position === 'fixed') {
                    this.container.style.height = `${this.containerClientRect.height}px`;
                    this.container.style.width = `${this.containerClientRect.width}px`;
                    this.container.style.top = `${this.containerClientRect.top}px`;
                    this.container.style.left = `${this.containerClientRect.left}px`;
                    setTimeout(() => {
                        this.container.style.transition = null;
                        this.container.style.position = 'relative';
                        this.container.style.height = '100%';
                        this.container.style.width = '100%';
                        this.container.style.top = '0';
                        this.container.style.left = '0';
                        this.container.style.backgroundColor = 'none';
                        this.parentContainer.appendChild(this.container);
                        this.setState({
                            isFullScreen: false
                        });
                    }, 100);
                }
                else {
                    const clientRect = this.container.getBoundingClientRect();
                    this.containerClientRect = clientRect;
                    this.container.style.height = `${clientRect.height}px`;
                    this.container.style.width = `${clientRect.width}px`;
                    this.container.style.position = 'fixed';
                    this.container.style.top = `${clientRect.top}px`;
                    this.container.style.left = `${clientRect.left}px`;
                    this.container.style.zIndex = '1';
                    document && document.body.appendChild(this.container);
                    setTimeout(() => {
                        this.container.style.transition = 'top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s';
                        this.container.style.top = '0px';
                        this.container.style.left = '0px';
                        this.container.style.right = '0px';
                        this.container.style.bottom = '0px';
                        this.container.style.height = null;
                        this.container.style.width = null;
                        this.container.style.backgroundColor = '#fff';
                        this.setState({
                            isFullScreen: true
                        });
                    }, 100);
                }
            }
            else {
                const element = this.container;
                if (!document) {
                    return;
                }
                document.addEventListener('webkitfullscreenchange', this.fullScreenHanlder);
                document.addEventListener('fullscreenchange', this.fullScreenHanlder);
                if (document.fullscreenElement === element) {
                    document.exitFullscreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                if (document.webkitFullscreenElement === element) {
                    document.webkitCancelFullScreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                const requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;
                if (requestMethod) {
                    this.setState({
                        isFullScreen: true
                    });
                    requestMethod.call(element);
                }
                else if (typeof window.ActiveXObject !== 'undefined') {
                    const wscript = new ActiveXObject('WScript.Shell');
                    if (wscript !== null) {
                        wscript.SendKeys('{F11}');
                    }
                }
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (viewGroup) {
                viewGroup.setMapWidgetInstance(this);
            }
        };
        this.onJimuMapViewCreated = (jimuMapView) => {
            jimuMapView.setMapWidgetState(this.props.state);
            this.setShowPopupUponSelectionForJimuMapView(jimuMapView);
            const mapContainer = this.container;
            if (mapContainer) {
                mapContainer.addEventListener('click', this.enableMapScrolling);
            }
        };
        this.onActiveJimuMapViewChange = (jimuMapView) => {
            this.activeJimuMapView = jimuMapView;
            this.watchPopupSelectedFeatureChange();
        };
        this.switchMap = (ignoreSwitchAnimation = false) => __awaiter(this, void 0, void 0, function* () {
            if (this.multiSourceMapInstance) {
                return yield this.multiSourceMapInstance.switchMap(ignoreSwitchAnimation);
            }
            else {
                yield Promise.resolve();
            }
        });
        this.setMultiSourceMapInstance = (instance) => {
            this.multiSourceMapInstance = instance;
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            if (width <= 545 && width > 0) {
                this.setState({
                    widthBreakpoint: 'xsmall',
                    widgetHeight: height
                });
            }
            else {
                this.setState({
                    widthBreakpoint: 'other',
                    widgetHeight: height
                });
            }
        };
        this.isLoadingDisplayed = () => {
            var _a;
            const addToMapDatas = ((_a = this.props.mutableStateProps) === null || _a === void 0 ? void 0 : _a.addToMapDatas) || {};
            return Object.values(addToMapDatas).some(value => (value === null || value === void 0 ? void 0 : value.dataChangeStatus) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.DataChangeStatus.Pending);
        };
        this.isWarningDisplayed = () => {
            var _a;
            const addToMapDatas = ((_a = this.props.mutableStateProps) === null || _a === void 0 ? void 0 : _a.addToMapDatas) || {};
            return Object.values(addToMapDatas).some(value => (value === null || value === void 0 ? void 0 : value.dataChangeStatus) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.DataChangeStatus.Rejected);
        };
        this.getInnerContent = (isMapInVisibleArea) => {
            if (!this.state.startLoadModules) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-map w-100 h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' }))));
            }
            else {
                if (!(this.props.useDataSources && this.props.useDataSources[0] && this.props.useDataSources[0].dataSourceId)) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_default_map__WEBPACK_IMPORTED_MODULE_2__["default"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, isDefaultMap: true, setMultiSourceMapInstance: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, onJimuMapViewCreated: this.onJimuMapViewCreated, onActiveJimuMapViewChange: this.onActiveJimuMapViewChange, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea, autoControlWidgetId: this.props.autoControlWidgetId })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
                else {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, this.props.useDataSources.length >= 1 &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__["default"], { key: 1, fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, onJimuMapViewCreated: this.onJimuMapViewCreated, onActiveJimuMapViewChange: this.onActiveJimuMapViewChange, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea, autoControlWidgetId: this.props.autoControlWidgetId })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
            }
        };
        this.warningIcon = `<svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.09926 5.37004C7.04598 4.83729 7.46434 4.375 7.99975 4.375C8.53516 4.375 8.95353 4.83728 8.90025 5.37004L8.5495 8.87748C8.52126 9.15992 8.2836 9.375 7.99975 9.375C7.71591 9.375 7.47825 9.15992 7.45 8.87748L7.09926 5.37004Z" fill="#938500"/>
                        <path d="M7.99975 12.375C8.55204 12.375 8.99975 11.9273 8.99975 11.375C8.99975 10.8227 8.55204 10.375 7.99975 10.375C7.44747 10.375 6.99975 10.8227 6.99975 11.375C6.99975 11.9273 7.44747 12.375 7.99975 12.375Z" fill="#938500"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.66642 14.375C0.9115 14.375 0.428811 13.5705 0.784067 12.9044L7.1174 1.02941C7.49387 0.323529 8.50564 0.323529 8.88211 1.02941L15.2154 12.9044C15.5707 13.5705 15.088 14.375 14.3331 14.375H1.66642ZM1.66642 13.375L7.99975 1.5L14.3331 13.375H1.66642Z" fill="#938500"/>
                        </svg>`;
        this.state = {
            widthBreakpoint: null,
            widgetHeight: null,
            isFullScreen: false,
            dataActionDataSet: null
        };
        this.dataActionListContainer = document.createElement('div');
        this.dataActionListContainer.className = 'data-action-list-wrapper';
        this.loadReactiveUtils();
    }
    getWidgetSyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .map-loading-bar {
        z-index: 8;
      }

      .map-warning-bar {
        z-index: 8;
        position: absolute;
        bottom: 4px;
        left: 4px;
        right: 4px;
        height: 35px;
        background: #fffdeb;
        border: 1px solid #fff592;
        display: flex;
        align-items: center;
        justify-content: flex-start;

        .warning-icon {
          width: 14px;
          margin: 0 12px 0 12px;
        }
      }

      .map-fix-layout {
        position: absolute !important;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        z-index: 7;
        pointer-events: none;
      }

      .hide-map-tools-layout .map-tool-layout{
        display: none;
      }

      .esri-view-root > .esri-ui {
        z-index: unset;
      }

      .esri-ui-manual-container .esri-swipe {
        z-index: 0;
      }

      .esri-ui .esri-popup {
        z-index: 9;
      }

      .data-action-list-wrapper {
        margin: 3px;
      }
    `;
    }
    getStyle() {
        const theme = this.props.theme;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      position: relative;

      .map-is-live-mode {
        .exbmap-ui {
          pointer-events: auto !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map-usemask {
        pointer-events: auto !important;
      }

      .map-is-design-mode {
        .exbmap-ui,
        .exbmap-ui-tool {
          pointer-events: none !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map{
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        z-index: -1;
        .overview-container{
          position: absolute;
          top: 12px;
          right: 12px;
          width: 300px;
          height: 200px;
          border: 1px solid black;
          z-index: 1;
        }

        .extent-container{
          background-color: rgba(0, 0, 0, 0.5);
          position: absolute;
          z-index: 2;
        }

        .extent-btn-container{
          button{
            outline: none;
          }
          .previous-extent-btn{
            color: #111;
          }
          .next-extent-btn{
            color: #222;
          }
        }
      }

      .mapswitch-container {
        position: absolute;
        z-index: 7;
        width: 32px;
        height: 32px;
        bottom: 10px;
        left: 10px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)
      }

      .mapswitch-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .widget-map-background {
        background-color: ${theme.colors.white};
        position: absolute;
        z-index: 1;
      }

      .widget-map-crashed {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.white, 0.85)};
        position: absolute;
        z-index: 1;
        top: 0;

        .widget-map-crashed-label-padding {
          padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
          padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
        }

        .widget-map-crashed-label {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
          color: ${theme.colors.black};
          font-weight: bold;
          text-align: center;
        }
      }

      @keyframes appear {
        0%{opacity:0}
        25%{opacity:.25}
        50%{opacity:.5;}
        75%{opacity:.75}
        100%{opacity:1;}
      }

      @keyframes disappear {
        0%{opacity:1}
        25%{opacity:.75}
        50%{opacity:.5;}
        75%{opacity:.25}
        100%{opacity:0;}
      }

      .multisourcemap-item-appear {
        animation: appear 300ms;
        -webkit-animation: appear 300ms;
        -moz-animation: appear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-disappear {
        animation: disappear 300ms;
        -webkit-animation: disappear 300ms;
        -moz-animation: disappear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-appear-noanimate {
        opacity: 1;
      }

      .multisourcemap-item-disappear-noanimate {
        opacity: 0;
      }
      `;
    }
    componentDidMount() {
        document.addEventListener('click', this.handleClickOutsideMap);
        if (!this.state.startLoadModules) {
            if (window.jimuConfig.isInBuilder || !this.props.config.canPlaceHolder) {
                this.startRenderMap();
            }
        }
    }
    componentDidUpdate(prevProps, prevState) {
        var _a, _b, _c;
        // check if props.state changed or not
        const preWidgetState = prevProps.state;
        const currWidgetState = this.props.state;
        if (preWidgetState !== currWidgetState) {
            const jimuMapViews = this.getJimuMapViews();
            jimuMapViews.forEach((jimuMapView) => {
                jimuMapView.setMapWidgetState(currWidgetState);
            });
        }
        // check if props.config.showPopupUponSelection changed or not
        const preShowPopupUponSelection = !!((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.config) === null || _a === void 0 ? void 0 : _a.showPopupUponSelection);
        const curShowPopupUponSelection = !!((_c = (_b = this.props) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.showPopupUponSelection);
        if (preShowPopupUponSelection !== curShowPopupUponSelection) {
            const jimuMapViews = this.getJimuMapViews();
            jimuMapViews.forEach((jimuMapView) => {
                this.setShowPopupUponSelectionForJimuMapView(jimuMapView);
            });
        }
        // check if props.enableDataAction changed or not
        const preEnableDataAction = prevProps === null || prevProps === void 0 ? void 0 : prevProps.enableDataAction;
        const currEnableDataAction = this.props.enableDataAction;
        if (preEnableDataAction !== currEnableDataAction) {
            console.log('enableDataAction changed');
            this.handleDataActionWhenPopupSelectedFeatureChange(this.activeJimuMapView);
        }
    }
    componentWillUnmount() {
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        document.removeEventListener('webkitfullscreenchange', this.fullScreenHanlder);
        document.removeEventListener('fullscreenchange', this.fullScreenHanlder);
        document.removeEventListener('click', this.handleClickOutsideMap);
        if (!widgets[this.props.id]) {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.id, 'restoreData', null);
        }
    }
    getJimuMapViews() {
        let jimuMapViews = [];
        const jimuMapViewGroup = jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.MapViewManager.getInstance().getJimuMapViewGroup(this.props.id);
        if (jimuMapViewGroup) {
            jimuMapViews = jimuMapViewGroup.getAllJimuMapViews();
        }
        return jimuMapViews;
    }
    setShowPopupUponSelectionForJimuMapView(jimuMapView) {
        if (jimuMapView) {
            jimuMapView.setShowPopupUponSelection(!!this.props.config.showPopupUponSelection);
        }
    }
    getCurrentPopupSelectedFeature() {
        var _a, _b, _c;
        return (_c = (_b = (_a = this.activeJimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.popup) === null || _c === void 0 ? void 0 : _c.selectedFeature;
    }
    loadReactiveUtils() {
        return __awaiter(this, void 0, void 0, function* () {
            [this.reactiveUtils] = (yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.loadArcGISJSAPIModules)(['esri/core/reactiveUtils']));
            this.watchPopupSelectedFeatureChange();
        });
    }
    watchPopupSelectedFeatureChange() {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.watchSelectedFeatureHandle) {
                this.watchSelectedFeatureHandle.remove();
                this.watchSelectedFeatureHandle = null;
            }
            const activeJimuMapView = this.activeJimuMapView;
            if (!activeJimuMapView || !this.reactiveUtils) {
                return;
            }
            if (this.getCurrentPopupSelectedFeature()) {
                this.handleDataActionWhenPopupSelectedFeatureChange(activeJimuMapView);
            }
            this.watchSelectedFeatureHandle = this.reactiveUtils.watch(() => { var _a, _b; return (_b = (_a = activeJimuMapView === null || activeJimuMapView === void 0 ? void 0 : activeJimuMapView.view) === null || _a === void 0 ? void 0 : _a.popup) === null || _b === void 0 ? void 0 : _b.selectedFeature; }, () => __awaiter(this, void 0, void 0, function* () {
                this.handleDataActionWhenPopupSelectedFeatureChange(activeJimuMapView);
            }));
        });
    }
    handleDataActionWhenPopupSelectedFeatureChange(activeJimuMapView) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            const popup = (_a = activeJimuMapView === null || activeJimuMapView === void 0 ? void 0 : activeJimuMapView.view) === null || _a === void 0 ? void 0 : _a.popup;
            const originalSelectedFeature = popup === null || popup === void 0 ? void 0 : popup.selectedFeature;
            // firstly, we need to remove dataActionListContainer from popup domNode,
            // when state.dataActionDataSet is ready, we can add dataActionListContainer to popup domNode
            if (this.dataActionListContainer.parentNode) {
                this.dataActionListContainer.parentNode.removeChild(this.dataActionListContainer);
            }
            this.releasePopupDomNodeObserver();
            yield this.updateDataActionDataSet(null);
            const isDataActionEnabled = this.isDataActionEnabled();
            if (isDataActionEnabled && originalSelectedFeature) {
                const dataActionDataSet = yield this.getDataActionDataSet(activeJimuMapView, originalSelectedFeature);
                // getDataActionDataSet may take a long time, so we need to check should we go on or not
                if (this.getCurrentPopupSelectedFeature() !== originalSelectedFeature) {
                    return;
                }
                yield this.updateDataActionDataSet(dataActionDataSet);
                if (this.getCurrentPopupSelectedFeature() !== originalSelectedFeature) {
                    return;
                }
                this.watchPopupDomNodeChange(popup);
            }
        });
    }
    updateDataActionDataSet(dataActionDataSet) {
        return new Promise((resolve) => {
            this.setState({
                dataActionDataSet
            }, () => {
                resolve();
            });
        });
    }
    releasePopupDomNodeObserver() {
        if (this.popupDomNodeObserver) {
            this.popupDomNodeObserver.disconnect();
            this.popupDomNodeObserver = null;
        }
    }
    watchPopupDomNodeChange(popup) {
        this.releasePopupDomNodeObserver();
        const popupDomNode = (popup.domNode || popup.container);
        this.tryAppendDataActionListDomNodeToPopup(popupDomNode);
        const config = {
            childList: true,
            subtree: true
        };
        const callback = (mutationsList) => {
            for (const mutation of mutationsList) {
                if (mutation.type === 'childList') {
                    this.tryAppendDataActionListDomNodeToPopup(popupDomNode);
                }
            }
        };
        const observer = new MutationObserver(callback);
        observer.observe(popupDomNode, config);
        this.popupDomNodeObserver = observer;
    }
    tryAppendDataActionListDomNodeToPopup(popupDomNode) {
        const selector = 'calcite-action-bar[slot="action-bar"]';
        const popupActionsContainer = popupDomNode.querySelector(selector);
        if (popupActionsContainer && !popupActionsContainer.contains(this.dataActionListContainer)) {
            // this.dataActionListContainer is not in popup
            if (this.state.dataActionDataSet) {
                // DataActionList domNode is ready, we can add it to popup domNode now
                if (this.dataActionListContainer.parentNode) {
                    this.dataActionListContainer.parentNode.removeChild(this.dataActionListContainer);
                }
                // append this.dataActionListContainer into popupActionsContainer as the first child
                if (popupActionsContainer.firstChild) {
                    popupActionsContainer.insertBefore(this.dataActionListContainer, popupActionsContainer.firstChild);
                }
                else {
                    popupActionsContainer.appendChild(this.dataActionListContainer);
                }
            }
        }
    }
    getDataActionDataSet(jimuMapView, selectedFeature) {
        return __awaiter(this, void 0, void 0, function* () {
            let jimuLayerView = null;
            // If the selectedFeature is from JimuLayerView selection, we can get the jimuLayerViewId.
            // See JimuFeatureLayerView.getSelectedFeatures() for more details.
            const jimuLayerViewId = selectedFeature.jimuLayerViewId;
            if (jimuLayerViewId) {
                jimuLayerView = jimuMapView.jimuLayerViews[jimuLayerViewId];
            }
            // If jimuLayerView is still null, means the selectedFeature comes from clicking map, we can try to find the jimuLayerView by layer.
            if (!jimuLayerView) {
                const allJimuLayerViews = Object.values(jimuMapView.jimuLayerViews);
                if (selectedFeature.layer) {
                    jimuLayerView = allJimuLayerViews.find(item => item.layer === selectedFeature.layer);
                }
                if (!jimuLayerView) {
                    // If the selected feature commes from esri.layers.support.Sublayer, then the selectedFeature.layer is null and selectedFeature.sourceLayer is not null.
                    const sourceLayer = selectedFeature.sourceLayer;
                    if (sourceLayer) {
                        jimuLayerView = allJimuLayerViews.find(item => item.layer === sourceLayer);
                    }
                }
            }
            if (!jimuLayerView) {
                return null;
            }
            let layerDataSource = jimuLayerView.getLayerDataSource();
            if (!layerDataSource) {
                layerDataSource = yield jimuLayerView.createLayerDataSource();
            }
            if (layerDataSource) {
                const sourceLabel = layerDataSource.getLabel() || '';
                const stringKey = 'mapCurrentRecord';
                const dataSetName = this.props.intl.formatMessage({ id: stringKey, defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"][stringKey] }, { layerName: sourceLabel });
                const record = layerDataSource.buildRecord(selectedFeature);
                const dataSet = {
                    dataSource: layerDataSource,
                    name: dataSetName,
                    type: 'current',
                    records: [record]
                };
                return dataSet;
            }
            return null;
        });
    }
    isDataActionEnabled() {
        // By default, this.props.enableDataAction is undefined, which means enabled.
        // eslint-disable-next-line @typescript-eslint/no-unnecessary-boolean-literal-compare
        return this.props.enableDataAction !== false;
    }
    renderDataActionList() {
        const isDataActionEnabled = this.isDataActionEnabled();
        if (isDataActionEnabled && this.state.dataActionDataSet) {
            // render the DataActionList into this.dataActionListContainer, so we can append it to popup domNode
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.DataActionList, { widgetId: this.props.id, dataSets: [this.state.dataActionDataSet], disableDataSourceLevelActions: true, listStyle: jimu_ui__WEBPACK_IMPORTED_MODULE_7__.DataActionListStyle.Dropdown, hideGroupTitle: true }), this.dataActionListContainer);
        }
        return null;
    }
    render() {
        const dataActionList = this.renderDataActionList();
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'jimu-widget arcgis-map', css: this.getWidgetSyle() },
            this.isLoadingDisplayed() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Loading, { className: 'map-loading-bar', type: jimu_ui__WEBPACK_IMPORTED_MODULE_7__.LoadingType.Bar }),
            this.isWarningDisplayed() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'map-warning-bar' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { className: 'warning-icon', icon: this.warningIcon, size: 26, currentColor: false }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'failToAddTheDataOnMap', defaultMessage: 'Fail to add the data.' }))),
            dataActionList,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.PageVisibilityContext.Consumer, null, (isPageVisible) => {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.ViewportVisibilityContext.Consumer, null, (isVisibleInViewPort) => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.ViewVisibilityContext.Consumer, null, (viewVisibilityContextProps) => {
                        // isPageVisible:
                        // App can have page1, page2, isPageVisible is used to judge whether the current page is visible.
                        // isVisibleInViewPort:
                        // When scrolling the scroll page, the widget may be scrolled out of the current viewport,
                        // isVisibleInViewPort is used to determine whether the current widget is in the viewport of the browser.
                        // isPrintPreview
                        // isPrintPreview is used to determine whether it is currently in browser printing mode.
                        // isVisibleInView:
                        // The widget is ultimately placed in a view in a layout. It is possible that we have a section with multiple views in it, similar to tabs.
                        // isVisibleInView is used to determine whether the widget is in the currently visible view.
                        const isVisibleInView = viewVisibilityContextProps.isInView ? viewVisibilityContextProps.isInCurrentView : true;
                        // isMapInVisibleArea:
                        // isMapInVisibleArea is used to finally determine whether the dom of the map is visible to the user.
                        // Here we use (isVisibleInViewPort || this.props.isPrintPreview), not only isVisibleInViewPort, consider the following case.
                        // Case:
                        // We create a scroll page with map. We scroll the page and the map is not visible for user.
                        // User wants to print the scroll page, including the map (even the map is not visible).
                        // Then the user enables print view mode by a button. Now, isVisibleInViewPort is false and this.props.isPrintPreview is true.
                        // We need to make sure the map widget is visible (let isMapInVisibleArea be true) when in print view mode, otherwise the print result will lose map.
                        // So we use (isVisibleInViewPort || this.props.isPrintPreview), instead of this.props.isPrintPreview.
                        const isMapInVisibleArea = isPageVisible && (isVisibleInViewPort || this.props.isPrintPreview) && isVisibleInView;
                        return this.getInnerContent(isMapInVisibleArea);
                    }));
                }));
            })));
    }
}
Widget.versionManager = _version_manager__WEBPACK_IMPORTED_MODULE_6__.versionManager;
Widget.mapExtraStateProps = (state, props) => {
    var _a, _b, _c;
    let autoControlWidgetId = '';
    const mapWidgetId = props.id;
    if (state.mapWidgetsInfo && mapWidgetId) {
        autoControlWidgetId = ((_a = state.mapWidgetsInfo[mapWidgetId]) === null || _a === void 0 ? void 0 : _a.autoControlWidgetId) || '';
    }
    const appMode = state && state.appRuntimeInfo && state.appRuntimeInfo.appMode;
    const isRunAppMode = appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run;
    let runtimeUrlHashParams = null;
    if (isRunAppMode && state.urlHashObject) {
        runtimeUrlHashParams = state.urlHashObject[mapWidgetId];
    }
    // MapView.timeZone
    let mapTimeZone = '';
    const timeZoneInfo = (_c = (_b = state.appConfig) === null || _b === void 0 ? void 0 : _b.attributes) === null || _c === void 0 ? void 0 : _c.timezone;
    if (timeZoneInfo) {
        // user sets timeZone info in ExB
        if (timeZoneInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.TimezoneConfig.Device) {
            mapTimeZone = 'system';
        }
        else if (timeZoneInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.TimezoneConfig.Specific) {
            mapTimeZone = timeZoneInfo.value;
        }
        else if (timeZoneInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.TimezoneConfig.Data) {
            // set mapTimeZone to empty, means we need to uses MapViewer's timeZone
            mapTimeZone = '';
        }
    }
    else {
        // if user doesn't set timeZone info in ExB, we should use 'system' for compatibility
        mapTimeZone = 'system';
    }
    return {
        appMode: appMode,
        isPrintPreview: state.appRuntimeInfo.isPrintPreview,
        queryObject: state.queryObject,
        autoControlWidgetId,
        isRunAppMode,
        runtimeUrlHashParams,
        mapTimeZone
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Widget);
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL2Rpc3QvcnVudGltZS93aWRnZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBNkM7QUFFYztBQUVwRCxNQUFNLG9CQUFvQixHQUFHLENBQUMsS0FBd0IsRUFBRSxFQUFFO0lBQy9ELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHO0lBQ3RCLE1BQU0sRUFBRSxTQUFTLEtBQWdCLEtBQUssRUFBaEIsTUFBTSxVQUFLLEtBQUssRUFBaEMsYUFBd0IsQ0FBUTtJQUV0QyxNQUFNLE9BQU8sR0FBRyxxREFBVSxDQUFDLCtCQUErQixFQUFFLFNBQVMsQ0FBQztJQUN0RSxJQUFJLENBQUMsR0FBRztRQUFFLE9BQU8sa0ZBQUssU0FBUyxFQUFFLE9BQU8sSUFBTSxNQUFhLEVBQUk7SUFDL0QsT0FBTywyREFBQyxHQUFHLGtCQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLDZFQUFHLElBQU0sTUFBTSxFQUFJO0FBQzFELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1g0QztBQUVzQjtBQUU1RCxN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WSxFQUFFLENBQUM7UUFDakIsaUNBQWlDO1FBQ2pDLElBQUksWUFBWSxDQUFDLElBQUksS0FBSyxxREFBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hELFdBQVcsR0FBRyxRQUFRO1FBQ3hCLENBQUM7YUFBTSxJQUFJLFlBQVksQ0FBQyxJQUFJLEtBQUsscURBQWMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6RCxXQUFXLEdBQUcsWUFBWSxDQUFDLEtBQUs7UUFDbEMsQ0FBQzthQUFNLElBQUksWUFBWSxDQUFDLElBQUksS0FBSyxxREFBYyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3JELHVFQUF1RTtZQUN2RSxXQUFXLEdBQUcsRUFBRTtRQUNsQixDQUFDO0lBQ0gsQ0FBQztTQUFNLENBQUM7UUFDTixxRkFBcUY7UUFDckYsV0FBVyxHQUFHLFFBQVE7SUFDeEIsQ0FBQztJQUVELE9BQU87UUFDTCxPQUFPLEVBQUUsT0FBTztRQUNoQixjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWMsQ0FBQyxjQUFjO1FBQ25ELFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztRQUM5QixtQkFBbUI7UUFDbkIsWUFBWTtRQUNaLG9CQUFvQjtRQUNwQixXQUFXO0tBQ1o7QUFDSCxDQUFDO2lFQXJVa0IsTUFBTTtBQSs0Qm5CLFNBQVMsMkJBQTJCLENBQUMsR0FBRyxJQUFJLHFCQUF1QixHQUFHLEdBQUcsRUFBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWZhdC1sZWZ0LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctZmF0LXJpZ2h0LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL2NsZWFyLXNlbGVjdGlvbi1nZW5lcmFsLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3RyYXNoLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9saWIvaWNvbnMvYXJyb3ctZG93bi1oZWFkZXIuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9saWIvaWNvbnMvd2lkZ2V0cy5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9jbG9zZS0xMi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Z1bGwtc2NyZWVuLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbGF5ZXJsaXN0LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbWVhc3VyZS1hcmVhLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWFyY2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxpbmUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXpvb210by5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvZmlsbGVkL2RhdGEvcGxhY2Vob2xkZXItbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1mYXQtbGVmdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctZmF0LXJpZ2h0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvY29uZmlnLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvZGVmYXVsdC1tYXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbWFwLXRodW1iLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9jb21wb25lbnRzL21hcGJhc2UudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9jb21wb25lbnRzL211bHRpc291cmNlbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9iYXNlLXRvb2wtc2hlbGwudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL2Jhc2UtdG9vbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvZ3JvdXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL3BhbmVsLXNoZWxsLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9zY3JvbGwtY29udGFpbmVyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS91aS1jb21wb25lbnQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2xheW91dC9sYXlvdXQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2xheW91dC9tYXAtZml4ZWQtbGF5b3V0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2xheW91dC9wYy1sYXlvdXQtanNvbi50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvdG9vbC1tb2R1bGVzLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL2F0dHJpYnV0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9iYXNlbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9jbGVhci1hY3Rpb24tZGF0YS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvY29tcGFzcy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvZXh0ZW50LW5hdmlnYXRlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9mdWxsc2NyZWVuLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9ob21lLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9sYXllcnMudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL2xvY2F0ZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvbWFwc3dpdGNoLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9tZWFzdXJlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9uYXZpZ2F0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9zY2FsZWJhci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2VhcmNoLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9zZWxlY3QvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdC9zZWxlY3QtbW9iaWxlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9zZWxlY3Qvc2VsZWN0LXBjLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9zZWxlY3Qvc2VsZWN0LXByb2dyZXNzLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9zZWxlY3RzdGF0ZS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvc2VsZWN0ZWQtbnVtYmVyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy96b29tLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90cmFuc2xhdGlvbnMvZGVmYXVsdC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS91dGlscy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvdmVyc2lvbi1tYW5hZ2VyLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1hcmNnaXNcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1jb3JlL2xpYi9zZXQtcHVibGljLXBhdGgudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvd2lkZ2V0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzA1MDUwNVxcXCIgZD1cXFwibTEyLjY4NyA5LjA3NC4wNzMtLjEzM2EuMTQ3LjE0NyAwIDAgMCAuMDE3LS4wNzhsLS4wMTItLjE0MmMtLjAwMi0uMDMzLS4wNDItLjA1MS0uMDY4LS4wMjhsLS4yMDUuMTc1YS4wNS4wNSAwIDAgMS0uMDE5LjAxbC0uMDkyLjAxN2EuMDQyLjA0MiAwIDAgMC0uMDMzLjA1MWwuMDE5LjA3N2EuMTM1LjEzNSAwIDAgMCAuMDkzLjA5N2wuMDcuMDJhLjEzNC4xMzQgMCAwIDAgLjE1Ny0uMDY2TTEzLjggOS4zODlhLjEzLjEzIDAgMCAwIC4wNTgtLjAxNGwuMTQxLS4wNjljLjAwMiAwIC4wMDIgMCAuMDAzLjAwMmwuMTA0LjEzYy4wMDUuMDA2LjAxMy4wMS4wMjMuMDFoLjA2OWEuMDI4LjAyOCAwIDAgMCAuMDIzLS4wNDZsLS4xMDgtLjE0MS0uMDQ3LS4wNC0uMzgyLS4xOTEtLjA5Mi4wMzZoLS4wN3YtLjAwMWwtLjAyNi0uMDg0YS4wMjcuMDI3IDAgMCAwLS4wMjUtLjAxOWgtLjA5M2EuMDI3LjAyNyAwIDAgMC0uMDI3LjAyOHYuMDgyaC4wNnYuMDI0YzAgLjAzLjAyMy4wNTUuMDUyLjA2bC4xMzYuMDE2aC4wMDFsLjA3NC4wOTNjLjAyMy4wMjguMDE5LjA5Ny0uMDA2LjEyNXYuMDAxaC4xMzF6TTEzLjg3OCA2Ljc3NWwtLjA0OC4wNDNhLjI5NC4yOTQgMCAwIDAtLjA5NC4xODcuMjk5LjI5OSAwIDAgMS0uMDgyLjE3OC40OTYuNDk2IDAgMCAxLS4yNDYuMTM2bC0uMDE4LjAwNC0uMDc2LjA2MnMtLjAyMi4xMSAwIC4xMzVjLjAwOS4wMTIuMDQ5LjAxLjA2MSAwIC4wMTYtLjAxMi4wMTctLjA4LjAxNy0uMDhsLjI0Mi0uMDg3cy4wNi4wOC4wOS4wODNjLjAxMi4wMDIuMDQyLS4wMTMuMDUtLjAyNS4wMzItLjA0NS4wNjgtLjIwOC4wNjgtLjIwOGEuNTQ2LjU0NiAwIDAgMCAuMDI0LS4xMTNsLjAxMy0uMTQzLjEwOC0uMDA3LjA0My0uMDg3LS4xMTItLjAxMXpNOS40MjcgMTAuMTJhLjE0MS4xNDEgMCAwIDAgLjI0NSAwdi0uMzM0YS4xMjIuMTIyIDAgMCAwLS4xODctLjEwNS4xMjUuMTI1IDAgMCAwLS4wNTguMTA1ek02LjY5OCA0LjMxNWwuMTQ0LS4wODQuMDAyLS4wMDZhLjA2NS4wNjUgMCAwIDAtLjAyNi0uMDg1LjA2My4wNjMgMCAwIDAtLjAzMS0uMDA4aC0uMzI4bC0uMDM1LS4wMzhhLjIxNi4yMTYgMCAwIDAtLjE1Ny0uMDc0TDUuNzc4IDRsLS4wNDguMDA5YTIuMzYyIDIuMzYyIDAgMCAxLS4wNDguMDA5bC0uMjg5LjEyMmEuMjA5LjIwOSAwIDAgMS0uMDc2LjAxOGwtLjQ2NC4wMjNhLjIzMi4yMzIgMCAwIDAtLjA5OS4wMjhsLS4yNi4xNDhhLjAzLjAzIDAgMCAwLS4wMTUuMDI0LjAzLjAzIDAgMCAwIC4wMTIuMDI2Yy4wMi4wMTUuMDE0LjA0Ny0uMDEuMDUzbC0uMjAzLjA1MWEuMDMuMDMgMCAwIDAtLjAxOS4wNDRsLjA2OC4xMTJhLjAzLjAzIDAgMCAwIC4wMi4wMTRsLjM2NC4wNjNjLjA1Ni4wMS4xMDYuMDQuMTQuMDg2bC4yNTEuMzMzLjA3NC4xMDJhLjA5NC4wOTQgMCAwIDEtLjAwNy4xMThsLS4wNTYuMDZhLjA5My4wOTMgMCAwIDAtLjAxNS4xMDVsLjE4My4zN2EuMTM0LjEzNCAwIDAgMCAuMDgxLjA2OC4yMjMuMjIzIDAgMCAwIC4yNzQtLjE0MmwuMDQ4LS4xMzdhLjA5Ny4wOTcgMCAwIDEgLjA0LS4wNWwuMjA0LS4xNzVhLjI0LjI0IDAgMCAxIC4wODUtLjA0NmwuMzItLjA4OGEuMjIuMjIgMCAwIDAgLjE0OC0uMTMzbC4xNTEtLjM3OGEuMjI3LjIyNyAwIDAgMC0uMDAxLS4xNzJsLS4wMy0uMDdhLjIyNy4yMjcgMCAwIDEgLjA5Ny0uMjhNNC4wMyA0LjY0M2wuMDYxLS4xMWEuMjIxLjIyMSAwIDAgMSAuMDg4LS4wODdsLjUwNC0uMjgyLS4wNTctLjA2Ni0uNTcyLS4wMzVhLjIwMy4yMDMgMCAwIDAtLjA1LjAwM2wtLjU1Ny4wOWEuMjMyLjIzMiAwIDAgMC0uMTM3LjM3N2wuMTI1LjE0OGMuMDQzLjA1MS4xMDcuMDguMTcyLjA4aC4yMjRhLjIyNi4yMjYgMCAwIDAgLjE5OS0uMTE4TTQuNjY2IDUuNjcybC4wNTItLjA2MWMuMDEzLS4wMTYuMDEtLjA0LS4wMDctLjA1MWwtLjE2Mi0uMTE2LS41NjktLjQyNWEuMTM3LjEzNyAwIDAgMC0uMDgxLS4wMjdoLS4yMjRhLjEzMS4xMzEgMCAwIDAtLjA5NS4wNGwtLjExOC4xMTVhLjAzNC4wMzQgMCAwIDAtLjAwMy4wNDdsLjA2Ny4wODVjLjAwNi4wMS4wMTguMDE1LjAzLjAxNGwuMDY0LS4wMDZhLjAzNS4wMzUgMCAwIDEgLjAzOC4wMzNsLjAwMi4wMzhjMCAuMDA1IDAgLjAxLS4wMDIuMDE2bC0uMDMuMDczYS4wMzYuMDM2IDAgMCAwIC4wMDYuMDM2bC4wNy4wODRhLjAzMi4wMzIgMCAwIDAgLjAyOC4wMTJsLjA2OC0uMDAzYS4wMzUuMDM1IDAgMCAwIC4wMzQtLjAzNXYtLjE0N2MwLS4wMTkuMDE0LS4wMzQuMDMyLS4wMzVsLjA5NC0uMDA3Yy4wMDggMCAuMDE4LjAwMi4wMjQuMDA3bC4xNzQuMTMzYy4wMTMuMDExLjAxNy4wMjkuMDEuMDQ0bC0uMDU3LjExNmEuMDMzLjAzMyAwIDAgMS0uMDMuMDE4bC0uMDU0LjAwNGEuMDM2LjAzNiAwIDAgMC0uMDMyLjAyNy4wMzYuMDM2IDAgMCAwIC4wMzIuMDQ0bC4xMTcuMDA5Yy4wMjQuMDAxLjA0OC4wMS4wNjkuMDI0bC4yMDYuMTQ2Yy4wMTQuMDEuMDMuMDA4LjA0My0uMDAzbC4wNjUtLjA1NWEuMDMuMDMgMCAwIDAgLjAxMS0uMDE4bC4wMjEtLjA4M2EuMDM1LjAzNSAwIDAgMC0uMDA0LS4wMjlsLS4wNy0uMTEuMDIyLS4wMDRhLjAzNy4wMzcgMCAwIDEgLjAyNC4wMDRsLjA5MS4wNTRhLjAzNS4wMzUgMCAwIDAgLjA0NC0uMDA4TTIuMDggNS4xMzdoLjA3bC4xMDQuMTQ2Yy4wMTQuMDE4LjAzLjAzMy4wNS4wNDRsLjEzNi4wNjhjLjAxOC4wMS4wNC4wMTUuMDYxLjAxNWguNDIyVjUuMjdsLS4xNTYtLjA1Ni0uMTgtLjA5N0EuMTQuMTQgMCAwIDEgMi41MiA1LjFsLS4yODgtLjE2NmEuMTMuMTMgMCAwIDAtLjA2Ny0uMDE4aC0uMTczYS4xMzYuMTM2IDAgMCAwLS4xMy4wOTVsLS4wMTQuMDQ3YS4xNC4xNCAwIDAgMCAuMDMzLjE0bC4wNjEuMDYyaC4xMzh6TTIuNjc5IDUuMDIybC4xMS0uMDU4YS4xMzkuMTM5IDAgMCAxIC4wNjMtLjAxNWguMDZjLjA1MiAwIC4xLjAzLjEyMy4wNzhsLjA0NC4wOTJ2LjA5NGgtLjJ2LS4xMmwtLjA4NC0uMDQzLS4xLjAwM3pNMy4wNjEgNC45NWwuMS4xNjQuMDguMDQ3aC4xMTVsLjExNi0uMTI0LS4wODgtLjExNi0uMjI1LjAyOHpNMi40MTQgNC42OThsLjE1OC4wNTdhLjEyLjEyIDAgMCAxIC4wMy4wMTVsLjEwOS4wNzNjLjAxOC4wMTIuMDM4LjAyLjA2LjAyMWwuMi4wMi0uMDI0LS4xMjQtLjIzOC0uMTMyYS4xNC4xNCAwIDAgMC0uMDY1LS4wMTdoLS4xMjJ6TTcuNDYgNS43MTJsLjA1OC4wOTJhLjAyNS4wMjUgMCAwIDEtLjAwMS4wMjhsLS4wNDQuMDZjLS4wMDQuMDA4LS4wMDcuMDE2LS4wMDQuMDIybC4wMTcuMDYxYS4wMi4wMiAwIDAgMCAuMDA4LjAxMmwuMDkyLjA3MmMuMDYzLjA0OC4wNy4xNDEuMDE3LjJsLS4wMDEuMDAyYS4xMzguMTM4IDAgMCAxLS4xMDEuMDQ2aC0uMTFhLjAyNS4wMjUgMCAwIDEtLjAyNC0uMDMxbC4wMjgtLjExYS4wMjMuMDIzIDAgMCAxIC4wMTQtLjAxN2wuMDQ5LS4wMjRjLjAxLS4wMDQuMDE1LS4wMTUuMDEzLS4wMjZsLS4wMDItLjAzYS4wMjYuMDI2IDAgMCAwLS4wMi0uMDIxbC0uMDcxLS4wMTVhLjAyNC4wMjQgMCAwIDAtLjAyNy4wMTRsLS4wMTYuMDM1di4wMDJsLS4wMDEuMDAyLS4wMzUuMTE4Yy0uMDAzLjAxMS0uMDEzLjAxOC0uMDI0LjAxOGwtLjExLS4wMDNhLjAyNC4wMjQgMCAwIDEtLjAxOC0uMDA3LjAyNC4wMjQgMCAwIDEtLjAwNy0uMDE3di0uMTI3YzAtLjAxMy4wMTEtLjAyNC4wMjQtLjAyNGwuMDU4LS4wMDJjLjAwOCAwIC4wMTQtLjAwNC4wMi0uMDFsLjA1My0uMDc5QS4wMjcuMDI3IDAgMCAwIDcuMyA1Ljk0VjUuODJjMC0uMDA4LjAwNC0uMDE1LjAxLS4wMTlsLjExNS0uMDk0YS4wMjQuMDI0IDAgMCAxIC4wMzcuMDA1XFxcIj48L3BhdGg+PHBhdGggZmlsbD1cXFwiIzA1MDUwNVxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTUuMDczIDUuMUgxNC43YS4wNDIuMDQyIDAgMCAxLS4wNC0uMDNsLS4zNTgtLjA2OWEuMTYxLjE2MSAwIDAgMS0uMDg4LS4wMjdsLS4wODEtLjA1NWEuMTYuMTYgMCAwIDAtLjA4OC0uMDI3cy0uODMyLS40My0xLjkyMi0uMzg4Yy0uNDEuMDE2LS43Ny4yMjItLjc3LjIyMmEuMDMzLjAzMyAwIDAgMC0uMDIuMDI2bC0uMDA0LjAzNGEuMDMzLjAzMyAwIDAgMS0uMDMzLjAyOGwtLjE2NC0uMDA0YS4wMzMuMDMzIDAgMCAwLS4wMzQuMDMybC0uNDU5LjAxNmMtLjA0IDAtLjA3Ny4wMi0uMS4wNTNsLS4wNDEuMDZjLS4wMy4wNDUtLjQ0MS4wNi0uNDQxLjA2YS4wNi4wNiAwIDAgMS0uMDM2LS4wNTV2LS4wNDljMC0uMDE3LjAwNi0uMDMyLjAyLS4wNDRsLjIxOC0uMmEuMTYyLjE2MiAwIDAgMSAuMDg3LS4wNGwuMTM2LS4wMThhLjA2LjA2IDAgMCAwIC4wNC0uMDI0bC4wMTYtLjAyNGEuMDYuMDYgMCAwIDAtLjAyOC0uMDlsLS4wMS0uMDA1YS4wNi4wNiAwIDAgMC0uMDQ3LjAwNGwtLjEwNC4wNjFhLjA1Ny4wNTcgMCAwIDEtLjAzLjAwOGgtLjEwMWEuMTU5LjE1OSAwIDAgMC0uMTE0LjA0OWwtLjI0NC4yNTJhLjE2NS4xNjUgMCAwIDAtLjA0Mi4wOGwtLjAyMy4xMS4wMTYuMDQ3LS4wOTYuMTM1LS4wODcuMDg3aC0uMDgxdi0uMDg3SDkuNDVsLS4wMjguMTFhLjE2MS4xNjEgMCAwIDEtLjA5OC4xMWwtLjA4MS4wMzJhLjE1Ny4xNTcgMCAwIDEtLjE1Ni0uMDI2bC0uMTA2LS4wODYuMjg0LjAxNS4wMzItLjA2MlM5IDUuMTggOC44MjggNS4wODRjLS4xNC0uMDgtLjMyNC0uMDEzLS4zODguMDE2YS4xNDcuMTQ3IDAgMCAwLS4wNDIuMDI3bC0uNjIuNTY1YS4xNjIuMTYyIDAgMCAwLS4wMDYuMjMxbC4wNTguMDYxLjA4My0uMDY5YS4wNTcuMDU3IDAgMCAxIC4wNzYuMDAzbC4xNTUuMTQ2aC4wNGwuMTQ2LS4xNzZhLjA1Ny4wNTcgMCAwIDAgLjAwMi0uMDcybC0uMDE5LS4wMjZhLjA2LjA2IDAgMCAxLS4wMDQtLjA2NmwuMjA0LS4zMzRhLjA0Mi4wNDIgMCAwIDEgLjA1Mi0uMDE3bC4wMzYuMDE4Yy4wMjIuMDEuMDMuMDM1LjAxOS4wNTdsLS4xNC4yNjhhLjEzNC4xMzQgMCAwIDAtLjAxLjEwNGwuMDIzLjA3MWEuMTguMTggMCAwIDEtLjAzLjE0NmwtLjA4Ny4xMmEuMTYxLjE2MSAwIDAgMS0uMTM0LjA2NGwtLjI1NC0uMDFhLjA0Ni4wNDYgMCAwIDEtLjAzMS0uMDEzLjA0Ny4wNDcgMCAwIDEtLjAxMy0uMDMydi0uMDQyYS4wNDUuMDQ1IDAgMCAwLS4wNDYtLjA0Ni4wNDYuMDQ2IDAgMCAwLS4wNDUuMDQybC0uMDA3LjA3NGEuMDQ2LjA0NiAwIDAgMS0uMDQ1LjA0MmgtLjAyNGEuMDQyLjA0MiAwIDAgMC0uMDMuMDEybC0uNDE0LjM4Ni4wNi4wODh2LjA5M2EuMDU3LjA1NyAwIDAgMS0uMDU2LjA1NmgtLjEzMmMtLjA3MSAwLS4xMjcuMDYtLjEyMy4xMzJsLjAwMS4wMThhLjEyNC4xMjQgMCAwIDAgLjExOS4xMTZsLjE0MS4wMDRhLjE2LjE2IDAgMCAwIC4xMzUtLjA2OGwuMTAxLS4xNDRhLjE1OC4xNTggMCAwIDEgLjEzLS4wNjdoLjA5N2MuMDMyIDAgLjA2NC4wMS4wOS4wMjhsLjE1Ny4xMWMuMDMuMDIyLjAzMy4wNjguMDA0LjA5MmwtLjA4OC4wNzdhLjE1Ni4xNTYgMCAwIDEtLjEwNC4wNGgtLjU1YS4xNTguMTU4IDAgMCAwLS4xMjYuMDY0bC0uNDI1LjU3M2EuMTY4LjE2OCAwIDAgMC0uMDMyLjA5NnYuMzhjMCAuMDM1LjAxMS4wNjkuMDMyLjA5N2wuMTQ4LjE5OGMuMDEzLjAxNi4wMi4wMzYuMDI3LjA1NS4wMS4wMzMuMDM2LjA4LjEuMDhoLjY4NnMuMTcyLjAwNS4xNzIuMTJjMCAuMDQtLjAwMS4wOC0uMDAzLjExNmEuMTYyLjE2MiAwIDAgMCAuMDgzLjE0OGMuMDQ4LjAyOC4wOTkuMDc3LjA5OS4xNTV2LjIxYS4yMDMuMjAzIDAgMCAxLS4wMDcuMDQ5Ljc3Mi43NzIgMCAwIDEtLjA3OS4xNzhjLS4wMzYuMDU0LjAxNS4xMzUuMDUyLjE4MmEuMTcuMTcgMCAwIDEgLjAzNS4xMDJ2LjIxcy4wMTYuMDc2LjA4OC4xMDlhLjU4My41ODMgMCAwIDEgLjA5Ny4wNXYuMDg0YzAgLjA5LjA3MS4xNi4xNi4xNmguMjA3cy4wOTQuMDA4LjE1NS0uMDg3bC4yOC0uNDM3cy4wNC0uMDQzIDAtLjEyYy0uMDQtLjA3Ni0uMDIxLS4xNDUtLjAyMS0uMTQ1bC4xOS0uMTFzLjA5LS4wMTYuMDktLjE0MXYtLjEzNmEuMTE1LjExNSAwIDAgMC0uMDE4LS4wNjJsLS4wMzMtLjA1N2EuMTYyLjE2MiAwIDAgMSAuMDIxLS4xOTFsLjM5NS0uNDI0cy4xMDQtLjE1Ni4xMDQtLjIzNUg5LjQ5YS4xNi4xNiAwIDAgMS0uMTM2LS4wNzdsLS4zNDYtLjU3NmEuMDg3LjA4NyAwIDAgMSAuMDMzLS4xMjEuMDg0LjA4NCAwIDAgMSAuMTEyLjAzbC4zMzUuNTUyLS4wMDEuMDVjMCAuMDE2LjAxMi4wMjguMDI4LjAyOC4wODMgMCAuMzI3LS4wMS40NjMtLjEzYS41OTYuNTk2IDAgMCAwIC4xNDMtLjE4MS4xNi4xNiAwIDAgMC0uMDM4LS4xOWwtLjA4NS0uMDc2LS4xMS4wMjUtLjE5Ny0uMTk5YS4wNjMuMDYzIDAgMCAxIC4wMTYtLjEuMDYuMDYgMCAwIDEgLjA2NS4wMDdsLjMwNy4yMzhzLjA2My4wNTYuMTI3LjA1NmguMThjLjA1NiAwIC4xMDguMDMuMTM2LjA3OGwuNDAyLjY4M3MuMDYuMDU2LjA5NC4wNTRjLjAzNS0uMDAzLjA4Mi0uMTUuMDgyLS4xNSAwLS4xMzYuMDY1LS4yNjYuMTc2LS4zNDRsLjEzOC0uMDk4YS4xNTguMTU4IDAgMCAxIC4yMDIuMDE1bC4wODUuMDgzdi4wOWMwIC4wMTQuMDEyLjAyNy4wMjguMDI3aC4wMzhsLjAzNi0uMDM2aC4wNDJ2LjM1OWMwIC4wNC4wMTUuMDguMDQzLjEwOWwuMjY3LjI4OHYtLjEwM2EuMTU5LjE1OSAwIDAgMC0uMDM1LS4xbC0uMTI1LS4xNThhLjE1OS4xNTkgMCAwIDEtLjAzNS0uMXYtLjEwOWMwLS4wMTcuMDIxLS4wMjYuMDMzLS4wMTNsLjE2Mi4xNjcuMDA0LjEwNWMuMDAxLjAyLjAyNS4wMy4wMzguMDE1bC4yMjktLjI1cy4wNjYtLjA4MyAwLS4xNTJhNS40MDUgNS40MDUgMCAwIDAtLjE1OC0uMTU0LjA1LjA1IDAgMCAxLS4wMTYtLjAzOS4wNS4wNSAwIDAgMSAuMDE5LS4wMzhsLjA0NC0uMDM3LjExLjAwMnMtLjAyMy4wNTItLjA1OC4xMTJjMCAwIC4wMTcuMDk2LjEyMy0uMDgzLjAwOC0uMDA3LjAzNi0uMDAzLjA2Ny4wMDIuMDQuMDA2LjA4NC4wMTQuMS0uMDAyLjA2LS4wNjQuMzA5LS40MDcuMzA5LS40MDdzLjAzMi0uMTI2LS4wNDMtLjE5MmMtLjA3Ni0uMDY2LS4wNDMtLjE0Ny0uMDQzLS4xNDdsLjA5NC0uMDgydi0uMDU4aC0uMjQ0cy4wMi0uMTMuMTk0LS4xMzlsLjAzMS0uMDAxYy4wMTEgMCAuMDIxIDAgLjAzLS4wMDJhLjEzMi4xMzIgMCAwIDEgLjEyNy4wODNjLjAwNi4wMTYuMDEuMDM0LjAxLjA1MnYuMjQzbC4wMzYuMDA0cy4wNjguMDA3LjA5My0uMDg0YzAgMCAuMDQ2LS4wMTMuMDQ2LS4wNjh2LS4wNjZsLS4wNjYtLjA4LjEwNy0uMTM4YS4xMjIuMTIyIDAgMCAxIC4wNzUtLjA0NWwuMDU0LS4wMTFhLjEyNS4xMjUgMCAwIDAgLjA4LS4wNTNsLjI0Ny0uMzczYS4xNjUuMTY1IDAgMCAwIC4wMjctLjA5di0uMTAyYS4wNS4wNSAwIDAgMC0uMDUtLjA1aC0uMTQ0cy0uMDYtLjA3LjAyMi0uMTJjLjA1Ny0uMDM1LjE2OS0uMTI4LjIzMi0uMThhLjE1NS4xNTUgMCAwIDEgLjEwMS0uMDM4aC4yOWEuMTYuMTYgMCAwIDAgLjA5My0uMDNsLjE5LS4xMzdhLjA0LjA0IDAgMCAxIC4wMjUtLjAwOGMuMDgyIDAgLjEyNS4xLjA3LjE2MmwtLjE5OC4yMTRhLjE1OC4xNTggMCAwIDAtLjA0My4xMDZsLS4wMDMuMTczYzAgLjAzMi4wMjYuMDYuMDU5LjA2aC4wNDhsLjI1OS0uMjY4YS4xMjUuMTI1IDAgMCAwIC4wMzMtLjA2NmwuMDEtLjA1NmEuMTYuMTYgMCAwIDEgLjE1NS0uMTM0aC4xMTRhLjE1NC4xNTQgMCAwIDAgLjEwNC0uMDM5bC4xNTktLjE0YS4wNDMuMDQzIDAgMCAxIC4wMjgtLjAxaC4wODJhLjA0Mi4wNDIgMCAwIDAgLjA0My0uMDQ0di0uMDhjMC0uMDEzLjAwNS0uMDI0LjAxMy0uMDMybC4wNjItLjA1OGEuMTU2LjE1NiAwIDAgMSAuMTgxLS4wMjRsLjEwNC4wNTVhLjA2MS4wNjEgMCAwIDAgLjA3Ni0uMDE2bC4wNTEtLjA2NWEuMDYyLjA2MiAwIDAgMCAuMDEyLS4wNTIuMDYyLjA2MiAwIDAgMC0uMDMzLS4wNDJsLS41MDMtLjI1YTUuNDI3IDUuNDI3IDAgMCAwLS4zOS0uMDE0TTguMTQxIDcuMDI0bC4wOS0uMDc4emwtLjEzMy0uMTYzYS4wNTMuMDUzIDAgMCAxLS4wMS0uMDE5LjA1My4wNTMgMCAwIDAgLjAxLjAxOHptLjc1NS40OTNoLS4wODFhLjEzLjEzIDAgMCAxLS4wMzItLjAwNCA5LjEyNyA5LjEyNyAwIDAgMS0uNjEtLjE4Ni4wNjIuMDYyIDAgMCAxLS4wMzUtLjA0NS4wNjMuMDYzIDAgMCAxIC4wMTUtLjA1NWwuMTEtLjExN2EuMDk0LjA5NCAwIDAgMSAuMTMuMDA1bC4xLjEwNy4wODctLjAxNi0uMDI0LS4wNjRzLS4wMS0uMDMtLjAyMS0uMDU2Yy0uMDExLS4wMjcuMDQ4LS4wNjEuMDQ4LS4wNjFzLjA2LS4wMDYuMDYuMDg4YzAgLjA5My4wOTcuMTYzLjA5Ny4xNjNoLjMzMmMuMDIxIDAgLjAzNS4wMjMuMDI0LjA0bC0uMDU5LjExM2EuMTYuMTYgMCAwIDEtLjE0MS4wODhtLjQxNy0uNTAzSDkuMmwtLjA4My0uMDY1YS4wNTcuMDU3IDAgMCAwLS4wMzItLjAxaC0uMTA4YS4wNjcuMDY3IDAgMCAwLS4wNDQuMDE3bC0uMDc4LjA3LS4wNzguMDEyYS4wNTMuMDUzIDAgMCAxLS4wNTYtLjAyNi4wNTUuMDU1IDAgMCAxLS4wMDYtLjAybC0uMDExLS4wODdhLjA5LjA5IDAgMCAxIC4wMjEtLjA2OWwuMTI4LS4xNDUuMDU4LS4wMDUtLjAwMy4wMjZhLjA1MS4wNTEgMCAwIDAgLjA1LjA1OGguMDI5YS4wNjkuMDY5IDAgMCAwIC4wNjQtLjA0MmwuMDI2LS4wNTguMTIuMDIuMDEuMDg3YS4wNzcuMDc3IDAgMCAwIC4wMjYuMDQ4bC4xMzMuMTEydi4wMjVjMCAuMDMtLjAyMy4wNTItLjA1My4wNTJtLjU3NC4wOTN2LjA5OWgtLjIwNWwtLjAxOC0uMDk5YS4wNS4wNSAwIDAgMSAuMDA4LS4wMzlsLjAxMS0uMDE1YS4wNTIuMDUyIDAgMCAwLS4wMDgtLjA2OWwtLjA5Ni0uMDg5di0uMTYzbC4xNC0uMDZoLjA3MmMuMDI4IDAgLjA1Mi4wMTkuMDYuMDQ2bC4wMDEuMDA0Yy4wMDYuMDIgMCAuMDQtLjAxMy4wNTZhLjA2MS4wNjEgMCAwIDAtLjAxNS4wMzFsLS4wMTMuMDg1LjExMy4xMDUtLjA4LjA1NHpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwNTA1MDVcXFwiIGQ9XFxcIk0xMi45NDUgNy44Yy0uMDA2LS4wMTUtLjAxLS4wMjItLjAxNy0uMDIxLS4wMDcgMC0uMDE4LjAwOS0uMDM2LjAyNWEuMTEuMTEgMCAwIDAtLjAzOS4wOGMwIC4wMi4wMDMuMDQuMDEyLjA2Mi4wMDcuMDE4LjAyLjAzMi4wMjguMDMyLjAyNSAwIC4wNjYtLjE0LjA1Mi0uMTc4TTEyLjg5NCA4LjEwOGEuMTE2LjExNiAwIDAgMSAuMDI0LjAwNWwuMDE0LjAwNGMuMDE4LjAwNi4wMjcuMDA5LjAzMy4wMTUuMDA1LjAwNS4wMDguMDE0LjAxMy4wM2wuMDA0LjAxNGMuMDA4LjAyNy4wMDIuMDUzLS4wMTguMDctLjA0Ni4wMzctLjAzOC4wNTcuMDMuMDcyLjA0Ny4wMS4wNjEuMDI0LjA2MS4wNjIgMCAuMDQ2LS4wMDMuMDQ2LS4wNTUuMDE5LS4wMy0uMDE2LS4wNi0uMDIzLS4wNjUtLjAxNi0uMDA3LjAwNyAwIC4wMTYuMDE0LjAyMS4wNTUuMDIuMDg2LjA3MS4wNzQuMTItLjAxNC4wNTcuMDE0LjA2Ni4wNTkuMDIuMDQ4LS4wNDkuMDg5LjAyMy4wNzguMTM2LS4wMDQuMDM4LS4wMzguMDU1LS4wOS4wNDNhLjA0Ny4wNDcgMCAwIDEtLjAyMi0uMDEyLjA0LjA0IDAgMCAxLS4wMTMtLjAyN2MwLS4wMjQtLjAxMy0uMDI5LS4wNTEtLjAyLS4wMzguMDEtLjA1LjAwNi0uMDUtLjAxOGEuMDUuMDUgMCAwIDEgLjAzLS4wNDRjLjAxMy0uMDA1LjAyLS4wMDkuMDItLjAxNyAwLS4wMDgtLjAwNy0uMDE5LS4wMi0uMDM4YS4xNzQuMTc0IDAgMCAxLS4wMy0uMDhjMC0uMDItLjAwOC0uMDM3LS4wMTktLjAzNy0uMDI3IDAtLjA4OC0uMTkzLS4wNjMtLjIwMS4wMDQtLjAwMi4wMDktLjAwOC4wMTItLjAxNmEuMTQ4LjE0OCAwIDAgMCAuMDA5LS4wNTNjMC0uMDQuMDAzLS4wNTQuMDIxLS4wNTJNMTIuOCA4LjU2N2MuMDQ3LS4wNDQuMDcyLS4xMTYuMDQtLjExNi0uMDE0IDAtLjA4Mi4wNzktLjExLjEyOS0uMDMuMDUyLjAwOS4wNDUuMDctLjAxM00xMi45MTIgOC42OThhLjAyLjAyIDAgMCAxIC4wMjEuMDJjMCAuMDExLS4wMDMuMDItLjAwOC4wMiAwIDAtLjAwNSAwLS4wMDctLjAwM2EuMDY0LjA2NCAwIDAgMS0uMDE1LS4wMTdjLS4wMDctLjAxMS0uMDAzLS4wMi4wMS0uMDJNMTMuMjU0IDguOTEzYy0uMDEzLS4wMy0uMDMtLjA0NS0uMDQ0LS4wNDMtLjAxNC4wMDEtLjAyNS4wMTgtLjAzLjA1YS4wNTguMDU4IDAgMCAxLS4wMS4wMjZjLjAxMy4wNTIuMDUyLjA2LjA2NC4wNjNoLjAwNGEuMjU1LjI1NSAwIDAgMSAuMDI1LS4wMjkuNzUxLjc1MSAwIDAgMCAuMDE0LS4wMTV6TTEzLjA4MiA4Ljg5NGMuMDI2LS4wMDQuMDM1LjAxNS4wMTEuMDQzYS4wNDQuMDQ0IDAgMCAwLS4wMDguMDE1bC0uMDU3LjAxYS42Mi42MiAwIDAgMS0uMDM2LjAwNWMtLjAzOC4wMDYtLjA3Ny4wMTEtLjEuMDM3IDAgLjAwNC4wMDQuMDA3LjAxLjAwOS4wMDcuMDAyLjAxOS4wMDIuMDMyLS4wMDFsLjAwNi0uMDAzLjAwNS0uMDAzLjAyLS4wMDIuMDY0LjAwOC0uMDA0LjAwNmgtLjAwMmwtLjAwNS4wMDQtLjAxMy4wMDhjLS4wMy4wMjYtLjA0NC4wNTQtLjAzNC4wNjcuMDA4LjAxMi4wMTUuMDQuMDE1LjA2Mi0uMDAyLjA1My0uMDY2LjA2Ny0uMDc5LjAxNy0uMDA2LS4wMjMtLjAxLS4wMTYtLjAxMi4wMjEtLjAwMS4wNDQtLjAxMS4wNTctLjAzOC4wNTEtLjAyLS4wMDQtLjAzNS0uMDI1LS4wMzUtLjA0N2EuMTQyLjE0MiAwIDAgMC0uMDE2LS4wNjVjLS4wMDgtLjAxMy0uMDA2LS4wNDguMDA2LS4wNzguMDA3LS4wMTkuMDA5LS4wMjguMDEtLjAzNmwuMDAyLS4wMDYuMDEyLS4wMzIuMDE4LS4wNS0uMDAzLjAwMWMuMDI4LS4wMjYuMDU2LS4wMzIuMS0uMDIybC4wMzIuMDA0YS4xNS4xNSAwIDAgMCAuMDY4LS4wMTJjLjAxLS4wMDUuMDItLjAxLjAzMS0uMDExTTEzLjM2IDkuMTM2YzAtLjAyNy0uMDM0LS4wNDItLjA5Mi0uMDQyYS40NDUuNDQ1IDAgMCAwLS4wNjQuMDA2Yy0uMDguMDEyLS4xMDMuMDI3LS4wOC4wNTEuMDIuMDIuMjM2LjAwNy4yMzYtLjAxNU01Ljg2NiA5LjM2MmwtLjM1LS4xODVhLjIyMi4yMjIgMCAwIDAtLjEwMi0uMDI2aC0uMTAxYS4wMzguMDM4IDAgMCAxLS4wMzctLjAzMy4yMi4yMiAwIDAgMC0uMjE4LS4yMDFoLS4wMzJhLjIxNy4yMTcgMCAwIDEtLjE3My0uMDg4bC0uMDQ4LS4wNjVhLjIxNi4yMTYgMCAwIDAtLjE1NS0uMDg2bC0uMjYyLS4wMjNhLjAyOC4wMjggMCAwIDEtLjAxNy0uMDA3bC0uMDQzLS4wM2MtLjAxMi0uMDA3LS4wMjYtLjAwOS0uMDM4IDBsLS4xODcuMTA2YS4yMTYuMjE2IDAgMCAxLS4xMDguMDI4aC0uMTkyYS4wMzcuMDM3IDAgMCAxLS4wMTctLjAwNC4xNDYuMTQ2IDAgMCAxLS4wNzEtLjEzM3YtLjExMmEuMDM4LjAzOCAwIDAgMC0uMDIzLS4wMzUuMDM3LjAzNyAwIDAgMC0uMDE0LS4wMDNoLS4xMjJhLjAzNy4wMzcgMCAwIDEtLjAzMi0uMDE5LjAzOC4wMzggMCAwIDEgMC0uMDM4bC4wNTctLjFhLjA0NC4wNDQgMCAwIDAgLjAwNi0uMDJWOC4yYzAtLjAxLS4wMDQtLjAyLS4wMTEtLjAyN2EuMDM3LjAzNyAwIDAgMC0uMDI3LS4wMTFoLS4wNjZhLjAzNy4wMzcgMCAwIDAtLjAzLjAxN2wtLjAzOC4wNmEuMjE3LjIxNyAwIDAgMS0uMTg0LjFoLS4wNTRzLS4wODYtLjAxNS0uMDg2LS4xMDh2LS4zMzlhLjA5Ny4wOTcgMCAwIDEgLjA0NS0uMDY3Yy4wMzItLjAyLjEwNy0uMDYxLjE0NC0uMDgxYS4wMzguMDM4IDAgMCAxIC4wNDMuMDA1bC4wNy4wNjZjLjAwNy4wMDcuMDE1LjAxLjAyNC4wMWguMDE1Yy4wMjIgMCAuMDUxIDAgLjA1Ny0uMDAzLjAwNC0uMDAyLjAwNC0uMDA3LjAwMy0uMDE0IDAtLjAxNyAwLS4wNDYuMDQ1LS4wNi4wNjYtLjAxOS4xMDkuMDQuMTA5LjA0bC4xNjUuMTk5YS4wMzcuMDM3IDAgMCAwIC4wNS4wMDZsLjAyMy0uMDE2YS4wMzguMDM4IDAgMCAwIC4wMTItLjA1bC0uMDAyLS4wMDVhLjIyMy4yMjMgMCAwIDEgLjA0OC0uMjhsLjEzNy0uMTE4cy4wMTYtLjAxLjAyNC0uMDcxYy4wMDUtLjAzNy4wMTUtLjA5LjAyMS0uMTI4bC4wMjEtLjAzNi4wMi0uMDM2LjI5Ny0uMjUyYS4wMzYuMDM2IDAgMCAxIC4wNTUuMDA4Yy4wMTQuMDIyLjAzOC4wNDYuMDY5LjA0NWEuNzY3Ljc2NyAwIDAgMCAuMjA4LS4wOTMuMDM2LjAzNiAwIDAgMCAuMDE5LS4wMzN2LS4wNDdsLS4xNDMuMDNhLjAzOC4wMzggMCAwIDEtLjA0NC0uMDMxbC0uMDE2LS4wOTVhLjAzOC4wMzggMCAwIDAtLjAzNi0uMDNsLS4xNDMuMDE1LjAxOC0uMDQzYS4wNDMuMDQzIDAgMCAxIC4wMzQtLjAyN2wuMzUyLS4wMzcuMDU2LS4wMjMuMDU2LS4wMjMuMDcxLS4wNTZhLjAzOC4wMzggMCAwIDAgLjAwNC0uMDU1bC0uMzk2LS40MWEuMDM5LjAzOSAwIDAgMC0uMDQzLS4wMDhsLS4xMTguMDU3YS4wNC4wNCAwIDAgMS0uMDM4LS4wMDNMNC4xIDUuOTFhLjAzNi4wMzYgMCAwIDAtLjA1LjAwOGwtLjA1MS4wN2EuMDMzLjAzMyAwIDAgMC0uMDA3LjAybC0uMDEuMTc0YzAgLjAxMS4wMDMuMDIuMDExLjAyOWwuMDQ4LjA1YS4wMzguMDM4IDAgMCAxLS4wMDUuMDU2bC0uMDcuMDUxYS4wMzcuMDM3IDAgMCAxLS4wMzQuMDA2bC0uMTYuMDI3YS4yMi4yMiAwIDAgMC0uMTMzLS4xM2wtLjA4LS4wMjhhLjIyMi4yMjIgMCAwIDEtLjA5OC0uMzVsLjE1Ni0uMTlhLjA0Mi4wNDIgMCAwIDAgLjAwNy0uMDM4bC0uMDQ0LS4xMTUtLjAwOC0uMDEyLS4xNzYtLjE5YS4xMjIuMTIyIDAgMCAwLS4yMS4wNjVsLS4wMDEuMDFhLjEyMy4xMjMgMCAwIDEtLjEyLjEwNEgyLjU0bC0uMDUtLjAxYTIuNjUyIDIuNjUyIDAgMCAxLS4wNC0uMDA5bC0uMzU4LS4xNjJhMi4wMDMgMi4wMDMgMCAwIDAtLjA3NS0uMDE4bC0uMzMtLjAyMmEyLjE1OCAyLjE1OCAwIDAgMS0uMDkyLjAxNWwtLjE0OC4wNThhLjIxNy4yMTcgMCAwIDEtLjEyNC4wMUwuNTkxIDUuMjNhLjIxMi4yMTIgMCAwIDAtLjEzMi4wMTNsLS4zNDYuMTVhLjAzOC4wMzggMCAwIDAtLjAwOS4wNjNsLjA5LjA3N2MuMDI2LjAyMS4wMTEuMDY1LS4wMjIuMDY2bC0uMTM2LjAwM2MtLjAyIDAtLjAzNi4wMTctLjAzNi4wMzd2LjAyYzAgLjAyLjAxNi4wMzYuMDM2LjAzN2wuMTE3LjAwMWMuMDQuMDAyLjA1MS4wNTYuMDE1LjA3MmwtLjEwMS4wNDZhLjAzNy4wMzcgMCAwIDAtLjAyMi4wMzdsLjAxLjEwM2EuMjIuMjIgMCAwIDAgLjE4NC4xOThsLjA3Mi4wMTJjLjAzNC4wMDYuMDQyLjA1MS4wMTMuMDY5bC0uMDIzLjAxM2MtLjAyNC4wMTUtLjAyNC4wNSAwIC4wNjRsLjAxMi4wMDZhLjA0LjA0IDAgMCAwIC4wMzUuMDAzbC42MTgtLjI4MmEuMjE1LjIxNSAwIDAgMSAuMjM3LjA0bC41ODguNTQzYS4yMi4yMiAwIDAgMSAuMDcxLjE1MmwuMDIuNDE1YS4yMjIuMjIyIDAgMCAwIC4wNDguMTI4bC41NzkuNzI4Yy4wMS4wMTQuMDMuMDE4LjA0NS4wMWEuMDM4LjAzOCAwIDAgMCAuMDE0LS4wNTVzLjM2NS4zODMuNC4zOTlsLjI5Ni4xNDhhLjIyLjIyIDAgMCAwIC4wOTcuMDIzaC4xNDdjLjAxNSAwIC4wMjguMDA4LjAzMy4wMjFsLjA1LjEwOFY4LjdsLjAwMS4wMDEuMDAyLjAwM2MuMDE1LjAyNS4wODguMTQzLjE2NS4xNDguMDg3LjAwNS4yNDMgMCAuMjQzIDBzLjA1Ni0uMDAxLjA1Ni4wNnYuMDk1YS4wMzYuMDM2IDAgMCAxLS4wMTkuMDMyYy0uMDQ4LjAyNy0uMTcyLjEwNy0uMTcyLjE5N3YuMjEyYzAgLjAxLjAwMy4wMTcuMDA4LjAyNC4wMTYuMDE5LjA1LjA2LjA4LjA4NC4wMjcuMDIyLjA3Mi4wNzMuMDk4LjEwM2wuMDEzLjAxNGEuMDM4LjAzOCAwIDAgMSAuMDA4LjAyNHYuMTIyYS4wNC4wNCAwIDAgMSAuMDAxLjAwNmwuMDAxLjAwN2MuMDA3LjAxNi4wMjQuMDU3LjA1NS4wNzIuMDE5LjAwOS4wNjUuMDQ3LjEwOC4wODVhLjIyMi4yMjIgMCAwIDEgLjA3Ni4xODZsLS4wMjcuMzQ1LS4wMDMuMDJhLjQzLjQzIDAgMCAxLS4wMDMuMDJsLS4xMTkuNDVhMS43NSAxLjc1IDAgMCAwLS4wMDcuMDhsLjAxMi4xODVhLjIzMy4yMzMgMCAwIDEtLjAxLjA5NWwtLjA0NC4xMjZhLjIzNS4yMzUgMCAwIDAtLjAwNy4xMjVsLjA1Ni4yMzNhLjEyMy4xMjMgMCAwIDAgLjA0NC4wN2wuMDU3LjA0NWMuMDIyLjAxOC4wNTQuMDQyLjA3Ni4wMjYuMDc3LS4wNTQuMTItLjIxOC4xNTUtLjM1My4wMTUtLjA2LjAzLS4xMTUuMDQ0LS4xNS4wMS0uMDIzLjA2Ny0uMTA1LjEzNC0uMjAyLjExLS4xNTYuMjQ1LS4zNS4yNDQtLjM4OWwtLjAwMy0uMDljMC0uMDIyLjAxNi0uMDM4LjAzNy0uMDM4aC4xMTRjLjAxIDAgLjAyLS4wMDQuMDI2LS4wMTJsLjI2Ni0uMjk0YS4wMzYuMDM2IDAgMCAwIC4wMS0uMDI2di0uMTJjMC0uMDIxLjAxNy0uMDM3LjAzOC0uMDM3LjA0NS4wMDIuMTIuMDAyLjE0NS0uMDIuMDI3LS4wMjEuMDk3LS4xMDMuMTM4LS4xNWwuMDIxLS4wMjRhLjAzOS4wMzkgMCAwIDAgLjAxLS4wMjV2LS4xOWMwLS4wNTUuMDItLjEwOC4wNTctLjE1bC4xMzMtLjE0OGEuMTM3LjEzNyAwIDAgMC0uMDQzLS4yMTVNMTQuOTE2IDEwLjdsLS4wMDguMDAxYy0uMDA2LjAwNS4wMDUuMDM2LjAyNC4wNjcuMDMxLjA1MS4wMzMuMDYyLjAxNi4wODYtLjAxNy4wMjUtLjAxNi4wMy4wMDQuMDQ0LjAzNi4wMjMuMDI4LjAzNC0uMDIyLjAzLS4wMzgtLjAwNC0uMDQ5LjAwMi0uMDcuMDM5YS4yNy4yNyAwIDAgMS0uMDc4LjA3NGMtLjA3MS4wNDQtLjEwOC4xMDktLjA2LjEwOS4wMTMgMCAuMDE3LjAxLjAxMi4wMjYtLjAxLjAzMi0uMDA2LjAzMi4wNjUtLjAwMi4wNDEtLjAyLjA2LS4wMzguMDY2LS4wNjVhLjA2NS4wNjUgMCAwIDEgLjA0MS0uMDQ4Yy4wMTgtLjAwNi4wMzItLjAxNS4wMy0uMDE5LS4wMDctLjAxOC4wMzMtLjA4Mi4wNDgtLjA3Ny4wMi4wMDYuMDgtLjA2LjA3LS4wNzYtLjAwNS0uMDA2LjAwMS0uMDExLjAxMi0uMDExLjAyMiAwIC4wNDMtLjA0OC4wMy0uMDY3LS4wMDQtLjAwNi0uMDIzLS4wMDctLjA0My0uMDAzLS4wMjQuMDA1LS4wMzUuMDAyLS4wMzUtLjAxIDAtLjAyLS4wNzUtLjA4OS0uMTAyLS4wOTdNMTIuODg1IDkuMjc0bC0uNDg2LS4wNTdhLjExOS4xMTkgMCAwIDEtLjAzNS0uMDFsLS4xMTgtLjA0OGEuMTQ0LjE0NCAwIDAgMS0uMDQ4LS4wMzJsLS4zOS0uNDE0YS4wNS4wNSAwIDAgMC0uMDQyLS4wMTUuMDQ3LjA0NyAwIDAgMC0uMDI4LjA3OGwuNDEuNDY2YS4xNS4xNSAwIDAgMCAuMDYzLjA0bC4yMzIuMDdhLjEyOC4xMjggMCAwIDAgLjA0LjAwNWguMzk3ek0xMy44NSA5LjUzNWwtLjAyLjA1N2EuMjU1LjI1NSAwIDAgMS0uMjcuMTcuMDUuMDUgMCAwIDEtLjAzOC0uMDI3LjA1LjA1IDAgMCAxIC4wMDEtLjA0N2wuMS0uMTg2LS4yNi4wMWEuMjU0LjI1NCAwIDAgMC0uMS4wMjNsLS4wOTguMDQ2YS4yNDkuMjQ5IDAgMCAwLS4wNy4wNDlsLS4xOC4xNzhhLjI0LjI0IDAgMCAxLS4wNzUuMDUxbC0uMTIzLjA1NWEuMjU5LjI1OSAwIDAgMC0uMTUyLjIzNnYuMDJjMCAuMDM0LjAwNy4wNjguMDIuMWwuMDk2LjIyOGMuMDAzLjAwNS4wMDQuMDEuMDA1LjAxNWEuMTEuMTEgMCAwIDAgLjE0My4wNzdsLjI0NS0uMDg4YS4yNDguMjQ4IDAgMCAxIC4xMDgtLjAxM2wuMjk0LjAyN2MuMDguMDA2LjE1LjA1LjE5My4xMmwuMDIuMDNhLjI1NC4yNTQgMCAwIDAgLjIxOC4xMjJoLjExOGEuMjU1LjI1NSAwIDAgMCAuMTgyLS4wNzZsLjEzLS4xMzJhLjI2LjI2IDAgMCAwIC4wNzUtLjE4M3YtLjE3M2EuMjYuMjYgMCAwIDAtLjA4Mi0uMTlsLS4yNjgtLjI0OGEuMjQuMjQgMCAwIDEtLjA2LS4wODJsLS4wOC0uMTc1Yy0uMDE3LS4wMjctLjA2LS4wMjYtLjA3MS4wMDZNMTMuMzIyIDkuMjVjLjAxNy4wMDEuMDI5LjAxNC4wMjguMDM3IDAgLjAxNS0uMDI5LjA0My0uMDY0LjA2M2EuMzMyLjMzMiAwIDAgMS0uMDY4LjAzMmMtLjAxNi4wMDQtLjAxOS0uMDA1LS4wMTktLjAyNyAwLS4wMTcuMDA2LS4wMzEuMDE0LS4wMzEuMDA3IDAgLjAzLS4wMi4wNTEtLjA0My4wMi0uMDIyLjA0MS0uMDMyLjA1OC0uMDNNMTMuMDc5IDkuMjcyYy4xNiAwIC4xNDkuMDQtLjAxMy4wNDgtLjA5NS4wMDQtLjEyIDAtLjExNS0uMDIxLjAwNS0uMDE4LjA0NS0uMDI3LjEyOC0uMDI3TTYuMTE3IDUuNTJoLjA5bC4wNjcuMDQ2LjE4Mi0uMDQ3LjAzMy4wODF2LjExNWwtLjE3NS4wMjFhLjEzMy4xMzMgMCAwIDEtLjEtLjAyOGwtLjE1My0uMTIxek04LjEyIDQuNTUxaC0uMjNsLS4wNTYuMDQuMTk3LjI1aC4wOWwuMDgyLS4xNTIuMjAyLjEwMy4wMzItLjA0OC0uMjQtLjE2OWEuMTMyLjEzMiAwIDAgMC0uMDc2LS4wMjRNOC42MTEgNC4zNzJoLS4yOThsLS4wMjguMDQ2LjA4Ni4wNjRhLjEzLjEzIDAgMCAwIC4wOC4wMjdoLjE2bC4wNzYtLjA4ek0zLjA0MiA0LjM3OWwtLjE5Ny4wNzQtLjE5LjA0OC4yNzMuMTMuMjE2LS4wNy4wNzItLjAxMy0uMDU3LS4xMDl6TTMuNDE1IDQuNzhoLS4wODZ2LjA0M2wuMDQ2LjAxNy4wMS4wNDQuMDcxLjAxLjA0OC4wNTUuNDI0LS4wMTQuMDI0LS4wNS0uMDM3LS4wNTZoLS40NTZ6TTMuMDMgNC44ODRsLS4wMzMtLjA5Ni4wMzMtLjAxOC4xMjcuMDEuMDMuMDI5LS4wNy4wODJ6TTMuMjE2IDQuNzI1bC4wMTYtLjA1NC4wMzUtLjAyNC4wMzQuMDEzLjA1OC4wMjV2LjAyNGgtLjAzbC0uMDQ2LjAzOHpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDUwNTA1XFxcIiBkPVxcXCJtMy44NDQgOC4wOTUtLjA4My4wMzdjLS4wMS4wMDUtLjAxLjAyMSAwIC4wMjRsLjA4OC4wMzcuMTAzLS4wMTcuMTY3LjExNWguMTE5cy4wODEtLjAxLjA4MS0uMDMyLS4wODEtLjAzMy0uMDgxLS4wMzNsLS4xNzItLjEzek00LjQgOC4yNzJzLS4wNzQuMDQ1LS4wNjUuMDY2Yy4wMTYuMDM4LjE2IDAgLjE2IDBzLjA1Mi0uMDQ4LjA0My0uMDY2Yy0uMDE4LS4wMzEtLjEzOCAwLS4xMzggME0xNC4xNjIgMTAuOTNoLS4yOGwuMDc0LjE2NGguMDY2elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTS40IDggOCAxLjkyVjUuNWg3djVIOHYzLjU4ek03IDkuNWg3di0zSDdWNEwyIDhsNSA0elxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJtMTYgOC03LjYgNi4wOFYxMC41aC03di01aDdWMS45MnpNOS40IDYuNWgtN3YzaDdWMTJsNS00LTUtNHpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTdcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTAgMTJ2LTEuNWgxVjEyaDEuNXYxSDFhMSAxIDAgMCAxLTEtMU0xIDFoMS41djFIMXYxLjVIMFYyYTEgMSAwIDAgMSAxLTFtMCA3LjVIMHYtM2gxek00LjUgMlYxaDN2MXptNSAwVjFIMTFhMSAxIDAgMCAxIDEgMXYxLjVoLTFWMnptNC44MTMgMTQuMDItMy41MzUtMy41MzUtMy41MzYgMy41MzUtLjcwNy0uNzA3IDMuNTM2LTMuNTM1LTMuNTM2LTMuNTM2LjcwNy0uNzA3IDMuNTM2IDMuNTM2IDMuNTM1LTMuNTM2LjcwNy43MDctMy41MzUgMy41MzYgMy41MzUgMy41MzV6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNiA2LjVhLjUuNSAwIDAgMSAxIDB2NmEuNS41IDAgMCAxLTEgMHpNOS41IDZhLjUuNSAwIDAgMC0uNS41djZhLjUuNSAwIDAgMCAxIDB2LTZhLjUuNSAwIDAgMC0uNS0uNVxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTExIDBINWExIDEgMCAwIDAtMSAxdjJILjVhLjUuNSAwIDAgMCAwIDFoMS42bC44MSAxMS4xYTEgMSAwIDAgMCAuOTk1LjloOC4xOWExIDEgMCAwIDAgLjk5NS0uOUwxMy45IDRoMS42YS41LjUgMCAwIDAgMC0xSDEyVjFhMSAxIDAgMCAwLTEtMW0wIDNWMUg1djJ6bTEuODk1IDFoLTkuNzlsLjggMTFoOC4xOXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgOSA1XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk00LjEyOCA0LjU4Ny43NTEuODM0QS41LjUgMCAwIDEgMS4xMjMgMGg2Ljc1NGEuNS41IDAgMCAxIC4zNzIuODM0TDQuODcyIDQuNTg3YS41LjUgMCAwIDEtLjc0NCAwXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PGcgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNMTMgNy41YTEuNSAxLjUgMCAxIDEgMyAwIDEuNSAxLjUgMCAwIDEtMyAwbS02LjUgMGExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgME0wIDcuNWExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgMFxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoMTZ2MTZIMHpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzMiAzMlxcXCI+PHBhdGggZD1cXFwiTTIwLjg4OSAxLjMzM2g2LjIyMmEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1NiAzLjU1NnY2LjIyMmEzLjU1NiAzLjU1NiAwIDAgMS0zLjU1NiAzLjU1NmgtNi4yMjJhMy41NTYgMy41NTYgMCAwIDEtMy41NTYtMy41NTZWNC44ODlhMy41NTYgMy41NTYgMCAwIDEgMy41NTYtMy41NTZNMjAgNHY4aDhWNHpNNC44ODkgMTcuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2SDQuODg5YTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2LTMuNTU2di02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1Nk00IDIwdjhoOHYtOHptMjAgOGE0IDQgMCAxIDAgMC04IDQgNCAwIDAgMCAwIDhtMCAyLjY2N2E2LjY2NyA2LjY2NyAwIDEgMSAwLTEzLjMzNCA2LjY2NyA2LjY2NyAwIDAgMSAwIDEzLjMzNE00Ljk4MSAxMmg2LjAzN0w3Ljk5OSA1Ljk2M3ptNC4yMTItOS42MTUgNS4xNzYgMTAuMzUyYTEuMzM0IDEuMzM0IDAgMCAxLTEuMTkyIDEuOTNIMi44MjVhMS4zMzMgMS4zMzMgMCAwIDEtMS4xOTItMS45MjlMNi44MDkgMi4zODZhMS4zMzIgMS4zMzIgMCAwIDEgMi4zODUgMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIk0uMSA2LjloNi44Vi4xSC4xem02LS44SDMuOTg1Yy4wNzctLjQwMy4yNS0uNzguNTA2LTEuMTAyYTQuNTc0IDQuNTc0IDAgMCAwIDEuNjA5LjgwNXptMC0xLjEyOGEzLjc1OCAzLjc1OCAwIDAgMS0xLjAwNi0uNTIzYy4zMS0uMjAzLjY1LS4zNTggMS4wMDYtLjQ1OXpNNi4xLjl2Mi4yNjZhNC4yMjkgNC4yMjkgMCAwIDAtMS42MTMuNzMgNi4wMzggNi4wMzggMCAwIDEtMS4xLTEuNzY3bC4wMDItLjAwNC0uMDA0LS4wMDFBOC4xNiA4LjE2IDAgMCAxIDIuOTkuOXpNLjkuOWgxLjI2NmE4LjcgOC43IDAgMCAwIC4zNTkgMS4yNDlBMS45MyAxLjkzIDAgMCAxIC45IDMuMTg4em0wIDMuMDlhMi44MjggMi44MjggMCAwIDAgMi4wMDYtLjk2NmMuMjYyLjUxOS41OTQgMSAuOTg3IDEuNDI4QTMuMzY3IDMuMzY3IDAgMCAwIDMuMTcgNi4xSC45ek05LjEuMXY2LjhoNi44Vi4xem0uOC44aDQuMDYzYS4zNzMuMzczIDAgMCAxLS4wNDUuMi41OTQuNTk0IDAgMCAxLS40MzguMTc2IDEuNjM3IDEuNjM3IDAgMCAwLTEuMTc1LjQ5LjkxLjkxIDAgMCAwLS4yMDMuNzA4Yy0uMDAxLjAwNy0uMTE0LjczNi0uNjA3Ljc0MmEuNzQuNzQgMCAwIDAtLjcxOS4zODQuODI4LjgyOCAwIDAgMC0uMDI2LjZIOS45em01LjIgNS4ySDkuOVY1aDIuMjk2bC0uNDc0LS42MzlhMS41NjIgMS41NjIgMCAwIDEtLjE5Mi0uMzQ2YzEuMDQxLS4wMyAxLjM3LTEuMTg4IDEuMzY1LTEuNTg3YS4xOS4xOSAwIDAgMSAuMDI4LS4xNTRjLjAzMS0uMDM3LjE2Ni0uMTYyLjYyNC0uMi40MTkgMCAuODEtLjIwNSAxLjA0OS0uNTQ5YTEuMTMgMS4xMyAwIDAgMCAuMTYtLjYyNWguMzQ0em0tMTUgOS44aDYuOFY5LjFILjF6bS44LTZoNS4ydi40NmwtMiAxLjk3M3YuODY3bC0zLjItLjA4OXptMCA0LjAxIDQgLjExMnYtMS4zNTVsMS4yLTEuMTgyVjE1LjFILjl6bTguMiAxLjk5aDYuOFY5LjFIOS4xem02LS44aC0xLjc5MmwtMS4yNy0xLjU3MiAxLjQ2OC0xLjQ2OCAxLjU5NCAxLjYwNXptMC01LjJ2Mi42MjhMMTIuNDkgOS45em0tNS4yIDBoMS40NmwxLjU4MSAxLjU5Mi0xLjk3OCAxLjk4IDEuMzE2IDEuNjI4SDkuOXpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48ZyBmaWxsPVxcXCJub25lXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIm03Ljc0NSA3IDQuMSA0LjFhLjUyNy41MjcgMCAwIDEtLjc0NS43NDZMNyA3Ljc0NmwtNC4xIDQuMWEuNTI3LjUyNyAwIDAgMS0uNzQ2LS43NDZsNC4xLTQuMS00LjEtNC4xYS41MjcuNTI3IDAgMCAxIC43NDYtLjc0Nmw0LjEgNC4xIDQuMS00LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni43NDZ6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTEgMWgxMnYxMkgxelxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDM5IDMyXFxcIj48cGF0aCBkPVxcXCJNMzguNzg0IDkuNzc4djIuOTYySDMuMjM2VjkuNzc4aC4wNzRMMTMuMDg2LjAwMmwyLjExMSAyLjExMS03LjcwMiA3LjY2NXpNMy4yMzYgMjEuNjI4aDMxLjMyN2wtNy43MDIgNy43MDIgMi4xMTEgMi4xMTEgOS43NzYtOS44MTNoLjAzN3YtMi45NjJIMy4yMzd2Mi45NjJ6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNNSAxMXY1SDR2LTQuMDAxTDAgMTJ2LTF6bTExIDB2MWwtNC0uMDAxVjE2aC0xdi01ek01IDB2NUgwVjRsNCAuMDAxVjB6bTcgMHY0LjAwMUwxNiA0djFoLTVWMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIk0xIDExdjQuMDAxTDUgMTV2MUgwdi01em0xNSAwdjVoLTV2LTFsNCAuMDAxVjExek01IDB2MUwxIC45OTlWNUgwVjB6bTExIDB2NWgtMVYuOTk5TDExIDFWMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIm0xNC4zNzYgMTAuNTczIDEuNjQ3LjkyNy04IDQuNS04LTQuNSAxLjY0OC0uOTI3IDEuMDIuNTc0LS42MjguMzUzIDUuOTYgMy4zNTMgNS45Ni0zLjM1My0uNjI3LS4zNTN6bS0uOTk5LTIuNDE0LjYwNi4zNDEtNS45NiAzLjM1M0wyLjA2MyA4LjVsLjYwNy0uMzQxLTEuMDItLjU3NEwuMDIzIDguNWw4IDQuNSA4LTQuNS0xLjYyNi0uOTE1ek04LjAyMyAxLjAyM2wtOCA0LjUgOCA0LjUgOC00LjV6bS01Ljk2IDQuNSA1Ljk2LTMuMzUyIDUuOTYgMy4zNTItNS45NiAzLjM1M3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE1IDE2XFxcIj48ZyBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIk00IDhoMXYzSDR6TTIgOWgxdjJIMnptNi0xaDF2M0g4em00IDBoMXYzaC0xelxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xNSAxMlY2aC0yVjVoMVYyaC0zdjFMNCAxLjA1VjBIMXYzaDF2M0gwdjZoMnYxSDF2M2gzdi0xaDd2MWgzdi0zaC0xdi0xem0tMy05aDF2MWgtMXptLTgtLjkyTDExIDR2MWgxdjFIM1YzaDF6TTIgMWgxdjFIMnptMSAxNEgydi0xaDF6bTgtMUg0di0xSDN2LTFoOXYxaC0xem0yIDFoLTF2LTFoMXpNMSAxMVY3aDEzdjR6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTYgOWgxdjJINnptNCAwaDF2MmgtMXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNSAxMFxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNMCAxMGgxNVY0SDB6bTEtNWgxM3Y0aC0xVjZoLTF2M2gtMVY3aC0xdjJIOVY2SDh2M0g3VjdINnYySDVWNkg0djNIM1Y3SDJ2Mkgxem0xMS01djFIM1YwSDB2M2gzVjJoOXYxaDNWMHpNMiAySDFWMWgxem0xMiAwaC0xVjFoMXpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIk0wIDl2NmgxNlY5em0xNSAzaC0xdjJoLTF2LTNoLTF2M2gtMXYtMmgtMXYySDl2LTNIOHYzSDd2LTJINnYySDV2LTNINHYzSDN2LTJIMnYySDF2LTRoMTR6bS4xOC03LjUtMi44NSAyLjg1LS43MS0uN0wxMy4yMyA1SDlWNGg0LjMybC0xLjctMS42OS43MS0uN3pNMi42OCA0SDd2MUgyLjc3bDEuNjEgMS42NS0uNzEuN0wuODIgNC41bDIuODUtMi44NS43MS43elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwiTTcgMWE2IDYgMCAxIDAgMCAxMkE2IDYgMCAwIDAgNyAxbTAgMTNhNyA3IDAgMSAxIDUuNjIxLTIuODI4bC0uMjIyLjI4NCAzLjQwNSAzLjQwNGEuNjY4LjY2OCAwIDAgMS0uOTQ0Ljk0NEwxMS40NTYgMTIuNEE2Ljk3NCA2Ljk3NCAwIDAgMSA3IDE0XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PGcgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJtLjI1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NXptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMC4zMTggMEMxMy40NTYgMCAxNiAyLjQ2MiAxNiA1LjVTMTMuNDU2IDExIDEwLjMxOCAxMWE1Ljc5NiA1Ljc5NiAwIDAgMS0zLjAyMy0uODQybC0uMjItLjE0Mi41NC0uNzUyYy43ODguNTMgMS43MjIuODIgMi43MDMuODIgMi42MTUgMCA0LjczNS0yLjA1MyA0LjczNS00LjU4NCAwLTIuNTMxLTIuMTItNC41ODMtNC43MzUtNC41ODMtMS45MTYgMC0zLjYxNyAxLjExMi00LjM1NCAyLjc3OWwtLjA3OC4xODdMNSAzLjU2QzUuODI3IDEuNDM1IDcuOTMzIDAgMTAuMzE4IDBcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNyAxNlxcXCI+PGcgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJtLjc1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NXptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk04LjcyMSAwYzEuODIgMCAyLjg2NSAxLjU1NiAyLjg2NSA0LjM1IDAgLjQ2Mi4xMi42Ni4zODUuNzc0LjIxOS4wOTMuNDczLjEyNi45OS4xMzFoLjU1MWwuMzk3LjAwOWMxLjI1MS4wNSAxLjgwNy4zMzYgMi4wNCAxLjMzMy40MSAxLjc2LTEuNjIgMy4xMTQtNS45MDQgNC4zMTNsLS4zMjYuMDktLjI0NS0uOTk5LjY0LS4xOGMzLjUxNi0xLjAyIDUuMDg4LTIuMDg5IDQuODgtMi45NzktLjA5NC0uNDA3LS4zODItLjUzNS0xLjMwNC0uNTUzbC0uNzg3LS4wMDJjLS42Mi0uMDA4LS45NDMtLjA1NS0xLjMtLjIwNy0uNjQ4LS4yNzYtLjk5OC0uODU5LS45OTgtMS43MyAwLTIuMjg2LS42OTQtMy4zMTgtMS44ODQtMy4zMTgtLjczMSAwLTEuNjguNTUtMi44MTUgMS42ODVsLS4yMTUuMjJMNSAyLjIwM0M2LjM5OC43NDggNy42MjYgMCA4LjcyMSAwXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwibS4yNSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTV6bS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OHpNOS43MiAxLjExbC41ODgtLjgwOCA1LjA4MiAzLjctNC41NzcgMi42NTZMMTQuNjEgOS40OWwtLjU5OC44MDFMOSA2LjU1NWw0LjU2LTIuNjQ5elxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1em0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDh6TTEyIDZhMiAyIDAgMSAwIDAtNCAyIDIgMCAwIDAgMCA0XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJtLjI1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NXptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4ek0xNiAwdjExSDguNXYtMUgxNVYxSDZ2Mi41SDVWMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0wIDEwLjVWMTJhMSAxIDAgMCAwIDEgMWgxLjV2LTFIMXYtMS41ek0yLjUgMUgxYTEgMSAwIDAgMC0xIDF2MS41aDFWMmgxLjV6TTAgOC41aDF2LTNIMHpNNC41IDF2MWgzVjF6bTUgMHYxSDExdjEuNWgxVjJhMSAxIDAgMCAwLTEtMXpNNi4zMTggMTMuNjgyYTQuNSA0LjUgMCAwIDAgNS45OTEuMzM0bDEuODQ4IDEuODQ4LjcwNy0uNzA3LTEuODQ3LTEuODQ4YTQuNSA0LjUgMCAxIDAtNi42OTkuMzczbS43MDctLjcwN2EzLjUgMy41IDAgMSAxIDQuOTUtNC45NSAzLjUgMy41IDAgMCAxLTQuOTUgNC45NU05IDEzdi0ySDd2LTFoMlY4aDF2MmgydjFoLTJ2MnpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFBsYWNlaG9sZGVyTWFwRmlsbGVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWZhdC1sZWZ0LnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBBcnJvd0ZhdExlZnRPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1mYXQtcmlnaHQuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IEFycm93RmF0UmlnaHRPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgdHlwZSBJbW11dGFibGVPYmplY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSU1KaW11TWFwQ29uZmlnIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9tYXAnXHJcblxyXG5leHBvcnQgZW51bSBTY2VuZVF1YWxpdHlNb2RlIHtcclxuICBhdXRvID0gJ2F1dG8nLFxyXG4gIGxvdyA9ICdsb3cnLFxyXG4gIG1lZGl1bSA9ICdtZWRpdW0nLFxyXG4gIGhpZ2ggPSAnaGlnaCdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWcgZXh0ZW5kcyBJTUppbXVNYXBDb25maWcge1xyXG4gIGlzVXNlQ3VzdG9tTWFwU3RhdGU6IGJvb2xlYW5cclxuICBzY2VuZVF1YWxpdHlNb2RlOiBTY2VuZVF1YWxpdHlNb2RlXHJcbiAgLy8gd2VibWFwL3dlYnNjZW5lIGRhdGEgc291cmNlIGlkcyB0aGF0IGVuYWJsZXMgY2xpZW50IHF1ZXJ5XHJcbiAgY2xpZW50UXVlcnlEYXRhU291cmNlSWRzPzogc3RyaW5nW11cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgSU1Db25maWcgPSBJbW11dGFibGVPYmplY3Q8Q29uZmlnPlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb29sQ29uZmlnIHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIE1hcFdpZGdldFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xyXG5pbXBvcnQgeyBjaGVja0lzTGl2ZSB9IGZyb20gJy4uL3V0aWxzJ1xyXG5pbXBvcnQgTXVsdGlTb3VyY2VNYXAgZnJvbSAnLi9tdWx0aXNvdXJjZW1hcCdcclxuaW1wb3J0IHsgdHlwZSBKaW11TWFwVmlld0dyb3VwLCBwb3J0YWxVdGlscywgdHlwZSBEZWZhdWx0TWFwSW5mbywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBiYXNlV2lkZ2V0UHJvcHM6IE1hcFdpZGdldFByb3BzXHJcbiAgc3RhcnRMb2FkTW9kdWxlczogYm9vbGVhblxyXG4gIGZ1bGxTY3JlZW5NYXA6ICgpID0+IHZvaWRcclxuXHJcbiAgaXNEZWZhdWx0TWFwPzogYm9vbGVhblxyXG4gIG9uVmlld0dyb3VwQ3JlYXRlOiAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB2b2lkXHJcbiAgb25KaW11TWFwVmlld0NyZWF0ZWQ6IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcpID0+IHZvaWRcclxuICBvbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlOiAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB2b2lkXHJcblxyXG4gIHdpZHRoQnJlYWtwb2ludDogc3RyaW5nXHJcbiAgd2lkZ2V0SGVpZ2h0OiBudW1iZXJcclxuXHJcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXHJcbiAgaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuXHJcblxyXG4gIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2U6IChpbnN0YW5jZTogTXVsdGlTb3VyY2VNYXApID0+IHZvaWRcclxuXHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcclxuXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgZGVmYXVsdE1hcEluZm86IERlZmF1bHRNYXBJbmZvXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmF1bHRNYXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgZGVmYXVsdE1hcEluZm86IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHBvcnRhbFV0aWxzLmdldERlZmF1bHRXZWJNYXAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucG9ydGFsVXJsKS50aGVuKGRlZmF1bHRNYXBJbmZvID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZGVmYXVsdE1hcEluZm86IGRlZmF1bHRNYXBJbmZvXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmRlZmF1bHRNYXBJbmZvICYmIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtbWFwIHctMTAwIGgtMTAwIHdpZGdldC1tYXAtYmFja2dyb3VuZCc+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAnNTAlJywgdG9wOiAnNTAlJyB9fSBjbGFzc05hbWU9J2ppbXUtc2Vjb25kYXJ5LWxvYWRpbmcnIC8+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmRlZmF1bHRNYXBJbmZvICYmIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCcsIHsgJ21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5hcHBNb2RlKSB9KX0+XHJcbiAgICAgICAgICB7PE11bHRpU291cmNlTWFwXHJcbiAgICAgICAgICAgIGtleT17MH0gZnVsbFNjcmVlbk1hcD17dGhpcy5wcm9wcy5mdWxsU2NyZWVuTWFwfVxyXG4gICAgICAgICAgICBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzfSBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9IGlzRGVmYXVsdE1hcFxyXG4gICAgICAgICAgICByZWY9e3RoaXMucHJvcHMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX1cclxuICAgICAgICAgICAgb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMucHJvcHMub25WaWV3R3JvdXBDcmVhdGV9XHJcbiAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkfVxyXG4gICAgICAgICAgICBvbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlSmltdU1hcFZpZXdDaGFuZ2V9XHJcbiAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5wcm9wcy53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbj17dGhpcy5wcm9wcy5pc0Z1bGxTY3JlZW59IGlzTWFwSW5WaXNpYmxlQXJlYT17dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgIGRlZmF1bHRNYXBJbmZvPXt0aGlzLnN0YXRlLmRlZmF1bHRNYXBJbmZvfVxyXG4gICAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICA8L011bHRpU291cmNlTWFwPn1cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgU2Vzc2lvbk1hbmFnZXIsIGVzcmksIGdldEFwcFN0b3JlLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEltYWdlV2l0aFBhcmFtIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgUGxhY2Vob2xkZXJNYXBGaWxsZWQgfSBmcm9tICdqaW11LWljb25zL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcCdcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgbWFwSXRlbUlkOiBzdHJpbmdcclxuICBwb3J0VXJsOiBzdHJpbmdcclxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBtYXBUaHVtYlVybDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFRodW1iIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGVzPiB7XHJcbiAgdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgbWFwVGh1bWJVcmw6IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHRoaXMudW5tb3VudCA9IGZhbHNlXHJcbiAgICB0aGlzLnNldE1hcFRodW1iVXJsKHRoaXMucHJvcHMubWFwSXRlbUlkKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzLCBwcmV2U3RhdGUpIHtcclxuICAgIGlmIChwcmV2UHJvcHMubWFwSXRlbUlkICE9PSB0aGlzLnByb3BzLm1hcEl0ZW1JZCkge1xyXG4gICAgICB0aGlzLnNldE1hcFRodW1iVXJsKHRoaXMucHJvcHMubWFwSXRlbUlkKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TWFwVGh1bWJVcmwgPSAobWFwSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKCFtYXBJZCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbWFwVGh1bWJVcmw6IG51bGwgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBubyBwb3J0YWxVcmwgb3Igc2FtZSB0byBjb25maWcgcG9ydGFsdXJsLCB1c2UgYXBwIGNvbmZpZydzIHBvcnRhbFVybFxyXG4gICAgY29uc3QgcG9ydGFsVXJsID0gdGhpcy5wcm9wcz8ucG9ydFVybCB8fCBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkucG9ydGFsVXJsXHJcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTZXNzaW9uQnlVcmwocG9ydGFsVXJsKSB8fCBudWxsXHJcbiAgICBlc3JpLnJlc3RQb3J0YWwuc2VhcmNoSXRlbXMoe1xyXG4gICAgICBxOiBgaWQ6JHttYXBJZH1gLFxyXG4gICAgICBhdXRoZW50aWNhdGlvbjogc2Vzc2lvbixcclxuICAgICAgcG9ydGFsOiBwb3J0YWxVcmwgKyAnL3NoYXJpbmcvcmVzdCdcclxuICAgIH0pLnRoZW4oaXRlbXMgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMudW5tb3VudCkge1xyXG4gICAgICAgIGlmIChpdGVtcy5yZXN1bHRzWzBdPy50aHVtYm5haWwpIHtcclxuICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25CeVVybChwb3J0YWxVcmwpXHJcbiAgICAgICAgICBsZXQgdGVtcFRodW1iVXJsID0gbnVsbFxyXG4gICAgICAgICAgaWYgKHNlc3Npb24gJiYgc2Vzc2lvbi50b2tlbikge1xyXG4gICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYCArXHJcbiAgICAgICAgICAgIGBpbmZvLyR7aXRlbXMucmVzdWx0c1swXS50aHVtYm5haWx9P3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYCArXHJcbiAgICAgICAgICAgIGBpbmZvLyR7aXRlbXMucmVzdWx0c1swXS50aHVtYm5haWx9YFxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogdGVtcFRodW1iVXJsIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogbnVsbCB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIHRoaXMudW5tb3VudCA9IHRydWVcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5tYXBUaHVtYlVybCkge1xyXG4gICAgICByZXR1cm4gPEltYWdlV2l0aFBhcmFtIGltYWdlUGFyYW09e3sgdXJsOiB0aGlzLnN0YXRlLm1hcFRodW1iVXJsIH19IC8+XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBwYWxldHRlID0gdGhpcy5wcm9wcy50aGVtZS5jb2xvcnMucGFsZXR0ZVxyXG4gICAgICByZXR1cm4gKDxkaXYgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBwYWxldHRlLmxpZ2h0WzIwMF0sIGhlaWdodDogJzEwMCUnIH19ID5cclxuICAgICAgICAgIDxQbGFjZWhvbGRlck1hcEZpbGxlZCBjb2xvcj17cGFsZXR0ZS5saWdodFs2MDBdfSBzaXplPXsnMTAwJSd9IC8+XHJcbiAgICAgICAgPC9kaXY+KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHtcclxuICBSZWFjdCwgRGF0YVNvdXJjZU1hbmFnZXIsIEV4dGVudENoYW5nZU1lc3NhZ2UsIERhdGFTb3VyY2VDb21wb25lbnQsIHBvcnRhbFVybFV0aWxzLCB0eXBlIFNxbFF1ZXJ5UGFyYW1zLCB0eXBlIERhdGFTb3VyY2VKc29uLFxyXG4gIGdldEFwcFN0b3JlLCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgZGF0YVNvdXJjZVV0aWxzLCB0eXBlIEZlYXR1cmVMYXllckRhdGFTb3VyY2UsIHR5cGUgVXNlRGF0YVNvdXJjZSxcclxuICB0eXBlIEltbXV0YWJsZUFycmF5LCB0eXBlIEpTQVBJTGF5ZXJNaXhpbiwgY3NzLCBqc3gsIGxvZGFzaCwgc2VydmljZVVybFV0aWxzLCBvYnNlcnZlU3RvcmUsIHR5cGUgUmVzb3VyY2VTZXNzaW9ucyxcclxuICBTZXJ2aWNlTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXJcclxufSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgVW5zdWJzY3JpYmUgfSBmcm9tICdyZWR1eCdcclxuaW1wb3J0IHsgdHlwZSBJTUNvbmZpZywgU2NlbmVRdWFsaXR5TW9kZSB9IGZyb20gJy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgdHlwZSBNYXBEYXRhU291cmNlLCBEYXRhU291cmNlVHlwZXMsIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIE1hcFZpZXdNYW5hZ2VyLCB0eXBlIEppbXVNYXBWaWV3LCB6b29tVG9VdGlscywgdHlwZSBEZWZhdWx0TWFwSW5mbyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyB0eXBlIEluaXRpYWxNYXBTdGF0ZSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIEljb24gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZU5ld0ZlYXR1cmVsYXllciwgdXBkYXRlRmVhdHVyZWxheWVyLCBnZXRNYXBCYXNlUmVzdG9yZURhdGEsIHJlc3RvcmVNYXBCYXNlLCBzZWxlY3RGZWF0dXJlLFxyXG4gIG1hcFBhbnRvLCBmbGFzaEZlYXR1cmVzQnlRdWVyeSwgcHJvamVjdEdlb21ldHJpZXMsIGZpbHRlckZlYXR1cmVzQnlRdWVyeSwgcHJvY2Vzc1pvb21Ub0ZlYXR1cmVzLFxyXG4gIGdldExheWVyc0Zyb21EYXRhU291cmNlSWRzLCBnZXRKaW11TWFwVmlld0lkLCBpc05lZWRQcm9qZWN0Vmlld3BvaW50LCBwcm9qZWN0Vmlld3BvaW50LCBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZSxcclxuICBpc1R3b1dpZGdldHNNdXR1YWxseUV4dGVudENoYW5nZSwgaXNTYW1lbGlrZVZpZXdwb2ludHMsIGdldFZpZXdwb2ludEluc3RhbmNlRnJvbUhpc3RvcnksIHVwZGF0ZVVybEhhc2hQYXJhbXNGb3JBY3RpdmVKaW11TWFwVmlldyxcclxuICB0eXBlIFVybFBhcmFtc01hcE9wdGlvbnMsIGdldE1hcE9wdGlvbnNCeVVybEhhc2hQYXJhbXMsIGdldENoYW5nZWRWaWV3cG9pbnRCeVZpZXdBbmRVcmxIYXNoUGFyYW1zXHJcbn0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4vbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuaW1wb3J0IHsgdHlwZSBNYXBXaWRnZXRQcm9wcywgdHlwZSBBY3Rpb25SZWxhdGVkUHJvcHMgfSBmcm9tICcuLi93aWRnZXQnXHJcbmltcG9ydCB0eXBlIHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuLi9sYXlvdXQvbGF5b3V0J1xyXG5cclxuY29uc3QgRXhjaGFuZ2UgPSByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJylcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuXHJcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcclxuICBpc0RlZmF1bHRNYXA/OiBib29sZWFuXHJcbiAgYmFzZVdpZGdldFByb3BzOiBNYXBXaWRnZXRQcm9wc1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICBkYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gIGRlZmF1bHRNYXBJbmZvPzogRGVmYXVsdE1hcEluZm9cclxuICBtdWx0aVNvdXJjZU1hcERvbTogSFRNTERpdkVsZW1lbnRcclxuICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgcHJvcEtleTogc3RyaW5nLCB2YWx1ZT86IGFueSkgPT4gdm9pZFxyXG5cclxuICBvbkV4dGVudENoYW5nZWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1lc3NhZ2U6IEV4dGVudENoYW5nZU1lc3NhZ2UpID0+IHZvaWRcclxuICBvbk1hcExvYWRlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cykgPT4gdm9pZFxyXG4gIG9uSmltdU1hcFZpZXdDcmVhdGVkOiAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB2b2lkXHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcclxuICAvLyBvblNob3dPbk1hcERhdGFDaGFuZ2VkPzogKHNob3dPbk1hcERhdGFzS2V5OiBzdHJpbmdbXSkgPT4gdm9pZFxyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9ISUdITElHSFRfQ09MT1IgPSAnIzAwRkZGRidcclxuY29uc3QgREVGQVVMVF9ISUdITElHSFRfSEFMT19DT0xPUiA9ICcjMDBGRkZGJ1xyXG5cclxuZXhwb3J0IGVudW0gTWFwTG9hZFN0YXR1cyB7XHJcbiAgTG9hZGluZyA9ICdMT0FESU5HJyxcclxuICBMb2Fkb2sgPSAnTE9BRE9LJyxcclxuICBMb2FkRXJyb3IgPSAnTE9BREVSUk9SJ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhpZ2hMaWdodEhhbmRsZSB7XHJcbiAgbGF5ZXJJZDogc3RyaW5nXHJcbiAgaGFuZGxlOiBfX2VzcmkuSGFuZGxlXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGUge1xyXG4gIGRhdGFTb3VyY2VJZDogc3RyaW5nXHJcbiAgaXNCYXNpY01vZHVsZXNMb2FkZWQ6IGJvb2xlYW4gLy8gdHJ1ZSBtZWFucyBjb21tb24gbW9kdWxlcyBsb2FkZWQsIG5vdCBtZWFucyBhbGwgbmVlZCBtb2R1bGVzIGxvYWRlZFxyXG4gIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXNcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTWFwYmFzZVZpZXcgPSAoX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3KSAmIHtcclxuICBtYXBiYXNlOiBNYXBCYXNlXHJcbiAgZGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mb1xyXG4gIGlzSW5DYWNoaW5nOiBib29sZWFuXHJcbiAgdmlld1doZW5Jbml0aWFsVmlld3BvaW50OiBfX2VzcmkuVmlld3BvaW50XHJcbiAgbGFzdFZpZXdwb2ludFRvVXBkYXRlVXJsUGFyYW1zOiBfX2VzcmkuVmlld3BvaW50XHJcbiAgbGFzdFZpZXdwb2ludFVybFBhcmFtVXBkYXRlVGltZXN0YW1wOiBudW1iZXJcclxuICB2aWV3V2hlblRpbWVzdGFtcDogbnVtYmVyXHJcbiAgLy8gdHJ1ZSBtZWFucyB2aWV3LmludGVyYWN0aW5nIHNldCB0byB0cnVlIGF0IGxlYXN0IG9uZSB0aW1lXHJcbiAgd2F0Y2hJbnRlcmFjdGluZ0hhbmRsZTogX19lc3JpLldhdGNoSGFuZGxlXHJcbiAgZXh0ZW50V2F0Y2hIYW5kbGU6IF9fZXNyaS5XYXRjaEhhbmRsZVxyXG4gIGZhdGFsRXJyb3JXYXRjaEhhbmRsZTogX19lc3JpLldhdGNoSGFuZGxlXHJcbiAgaGlnaExpZ2h0SGFuZGxlczogeyBbbGF5ZXJJZDogc3RyaW5nXTogX19lc3JpLkhhbmRsZSB9XHJcbiAgbWFwQmFzZVZpZXdFdmVudEhhbmRsZXM6IHsgW2V2ZW50TmFtZTogc3RyaW5nXTogX19lc3JpLkhhbmRsZSB9XHJcbiAgc3RhdGlvbmFyeVRpbWVySWQ6IE5vZGVKUy5UaW1lb3V0XHJcbiAgLy8gVXNlIGV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHMgdG8gYXZvaWQgdHdvIG1hcCB3aWRnZXQgdHdvLXdheSBleHRlbnQgc3luY1xyXG4gIGV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHM6IHN0cmluZ1tdXHJcbiAgZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZTogbnVtYmVyXHJcbiAgLy8gdmlld3BvaW50SGlzdG9yeSB1c2VkIHRvIHN0b3JlIGFsbCBzdGF0aWMgdmlld3BvaW50cywgdXNlZCBmb3IgRXh0ZW50TmF2aWdhdGlvblxyXG4gIHZpZXdwb2ludEhpc3Rvcnk6IF9fZXNyaS5WaWV3cG9pbnRbXVxyXG4gIHZpZXdwb2ludEluZGV4OiBudW1iZXJcclxuICBzdGF0aW9uYXJ5Q2FsbGJhY2s/OiAoKSA9PiB2b2lkXHJcbiAgbGFzdFpvb21Ub0V4dGVudFRpbWU6IG51bWJlclxyXG4gIC8qKlxyXG4gICAqIG1lc3NhZ2Ugd29ya2Zsb3c6IHJlY2VpdmUgbWVzc2FnZSAodGltZTEpIC0+IG1heWJlIGFzeW5jIC0+IHVwZGF0ZSB2aWV3ICh0aW1lMiksIHRpbWUxIGFuZCB0aW1lMiBtYXliZSBkaWZmZXJlbnRcclxuICAgKiByZWNlaXZlTWVzc2FnZVRpbWVPZkxhc3RWaWV3VXBkYXRlIGlzIHRpbWUxIG9mIGxhc3QgdXBkYXRlIHZpZXdcclxuICAgKi9cclxuICByZWNlaXZlTWVzc2FnZVRpbWVPZkxhc3RWaWV3VXBkYXRlOiBudW1iZXJcclxuICBpc01hcFRvb2xzSGlkZGVuOiBib29sZWFuXHJcbiAgcHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2U6IChzdGF0aW9uYXJ5OiBib29sZWFuLCBpbnRlcmFjaXZlOiBib29sZWFuKSA9PiB2b2lkXHJcbiAgaGlkZU1hcFRvb2xzOiAoKSA9PiB2b2lkXHJcbiAgc2hvd01hcFRvb2xzOiAoKSA9PiB2b2lkXHJcbiAgaW5pdFVybEhhc2hNYXBPcHRpb25zPzogVXJsUGFyYW1zTWFwT3B0aW9uc1xyXG5cclxuICBpc1ZpZXdXaGVuUmVhZHk/OiBib29sZWFuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zaWRlciB0aGlzIGNhc2U6XHJcbiAqIFdlIGFyZSBjcmVhdGluZyBtYXBWaWV3MSBmb3IgZGF0YVNvdXJjZTEsIHRoZSBjcmVhdGlvbiBwcm9jZXNzIGlzIGFzeW5jIGFuZCB3ZSBnZXQgdGhlIHByb21pc2UxLlxyXG4gKiBEdXJpbmcgdGhlIGNyZWF0aW9uIHByb2Nlc3MsIHRoZSBwcm9wcy5kYXRhU291cmNlSWQgY2hhbmdlZCwgdGhlbiBwcm9taXNlMSBpcyByZXNvbHZlZC5cclxuICogV2Ugc2hvdWxkIG5vdCBleGVjdXRlIHRoZSBjYWxsYmFjayBsb2dpYyBvZiBwcm9taXNlMS50aGVuKGNhbGxiYWNrKSBiZWNhdXNlIHRoZSBsYXRlc3QgZXhwZWN0ZWQgbWFwVmlldyBpcyBtYXBWaWV3Miwgbm90IG1hcFZpZXcxLlxyXG4gKiBTbyB3ZSBuZWVkIGEgd2F5IHRvIGlkZW50aWZ5IGlmIHdlIHNob3VsZCBleGVjdXRlIGNhbGxiYWNrIGluIGV2ZXJ5IHByb21pc2UudGhlbihjYWxsYmFjaykuIFdlIGNhbiB1c2UgTWFwYmFzZURhdGFTb3VyY2VJbmZvIHRvIHNvbHZlIGl0LlxyXG4gKlxyXG4gKiBNYXBiYXNlRGF0YVNvdXJjZUluZm8gaXMgdXNlZCB0byBjcmVhdGUgbWFwIHZpZXcgb3Igc2NlbmUgdmlldy4gRWFjaCBNYXBiYXNlRGF0YVNvdXJjZUluZm8gaGFzIGEgdW5pcXVlIGlkLCB0aGUgdW5pcXVlSWQgaXMgY2FsY3VsYXRlZCBieSBkYXRhIHNvdXJjZSB0eXBlLCBkYXRhIHNvdXJjZUlkIGFuZCBpdGVtSWQuXHJcbiAqIFdoZW4gd2UgbmVlZCB0byBjcmVhdGUgbWFwVmlldzEsIHdlIG5lZWQgdG8gdXBkYXRlIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mby4gdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvIGFsd2F5cyBiaW5kIHRvIHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLlxyXG4gKiBXZSBwYXNzIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbyBhcyBmb3JtYWwgcGFyYW1ldGVyIHRvIG1hcCBjcmVhdGlvbiByZWxhdGVkIGZ1bmN0aW9ucyB3aGVuIHdlIGNyZWF0ZSBhIG1hcFZpZXcuXHJcbiAqIEFuZCBpbiB0aGUgbWFwIGNyZWF0aW9uIHByb21pc2UudGhlbihjYWxsYmFjayksIHdlIGNoZWNrIHRoZSBkYXRhU291cmNlSW5mby51bmlxdWVJZCBpcyBjaGFuZ2VkIG9yIG5vdC4gSWYgY2hhbmdlZCwgd2Ugc3RvcCB0aGUgY2FsbGJhY2sgbG9naWMuIElmIG5vdCBjaGFuZ2VkLCBnbyBoZWFkLlxyXG4gKlxyXG4gKiBBbGwgZGF0YSBzb3VyY2UgY2FzZXM6XHJcbiAqIDEuIHVzZSBkZWZhdWx0IHdlYm1hcFxyXG4gKiAyLiB1c2VyIHNlbGVjdCBhIHdlYm1hcCBkYXRhIHNvdXJjZVxyXG4gKiAzLiB1c2VyIHNlbGVjdCBhIHdlYnNjZW5lIGRhdGEgc291cmNlXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1hcGJhc2VEYXRhU291cmNlSW5mbyB7XHJcbiAgLy8gdHJ1ZSBmb3IgZGF0YSBzb3VyY2UgY2FzZTEsIGZhbHNlIGZvciBkYXRhIHNvdXJjZSBjYXNlMiBhbmQgY2FzZTNcclxuICBpc0RlZmF1bHRNYXA6IGJvb2xlYW5cclxuXHJcbiAgLy8gdHJ1ZSBmb3IgZGF0YSBzb3VyY2UgY2FzZTEgYW5kIGNhc2UyLCBmYWxzZSBmb3IgZGF0YSBzb3VyY2UgY2FzZTNcclxuICBpc1dlYk1hcDogYm9vbGVhblxyXG5cclxuICAvLyBmb3JtYXQgaXMgPHdlYm1hcCBvciB3ZWJzY2VuZT4tZGF0YVNvdXJjZUlkLWl0ZW1JZFxyXG4gIC8vIGV4YW1wbGVzOlxyXG4gIC8vIHVzZSBkZWZhdWx0IHdlYm1hcDogJ3dlYm1hcC1kZWZhdWx0J1xyXG4gIC8vIHVzZXIgc2VsZWN0IGEgd2VibWFwIGRhdGEgc291cmNlOiAnd2VibWFwLWRhdGFTb3VyY2VfMS0yYzhkOWE3NzJhYTA0ZTU5ODVhYzMwMzBkYmVjYjIzMidcclxuICAvLyB1c2VyIHNlbGVjdCBhIHdlYnNjZW5lIGRhdGEgc291cmNlOiAnd2Vic2NlbmUtZGF0YVNvdXJjZV8xLTJjOGQ5YTc3MmFhMDRlNTk4NWFjMzAzMGRiZWNiMjMyJ1xyXG4gIHVuaXF1ZUlkOiBzdHJpbmdcclxuXHJcbiAgLy8gbnVsbCBmb3IgZGF0YSBzb3VyY2UgY2FzZTEsIG5vdCBudWxsIGZvciBkYXRhIHNvdXJjZSBjYXNlMiBhbmQgY2FzZTNcclxuICBkYXRhU291cmNlSWQ6IHN0cmluZ1xyXG5cclxuICBqaW11TWFwVmlld0lkOiBzdHJpbmdcclxuXHJcbiAgZGF0YVNvdXJjZUpzb246IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj5cclxufVxyXG5cclxuLyoqXHJcbiAqIG1hcGJhc2UubWFwQ3JlYXRpbmdJbmZvIGlzIG5vdCBudWxsIGR1cmluZyB0aGUgYXN5bmMgbWFwKE1hcFZpZXcvSmltdU1hcFZpZXcpIGNyZWF0aW9uIHBlcmlvZC5cclxuICogV2hlbiBtYXAgY3JlYXRlZCwgbWFwYmFzZS5tYXBDcmVhdGluZ0luZm8gaXMgc2V0IHRvIG51bGwuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1hcENyZWF0aW5nSW5mbyB7XHJcbiAgZGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mb1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1hcGJhc2VSZXN0b3JlRGF0YSB7XHJcbiAgbWFwQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG4gIHN0YXRlOiBTdGF0ZVxyXG5cclxuICBHZW9tZXRyeTogdHlwZW9mIF9fZXNyaS5HZW9tZXRyeVxyXG4gIEluaXRpYWxWaWV3UHJvcGVydGllczogdHlwZW9mIF9fZXNyaS5Jbml0aWFsVmlld1Byb3BlcnRpZXNcclxuICBUaWxlTGF5ZXI6IHR5cGVvZiBfX2VzcmkuVGlsZUxheWVyXHJcbiAgQmFzZW1hcDogdHlwZW9mIF9fZXNyaS5CYXNlbWFwXHJcbiAgTWFwVmlldzogdHlwZW9mIF9fZXNyaS5NYXBWaWV3XHJcbiAgU2NlbmVWaWV3OiB0eXBlb2YgX19lc3JpLlNjZW5lVmlld1xyXG4gIEV4dGVudDogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeS5FeHRlbnRcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50XHJcbiAgUG9ydGFsSXRlbTogdHlwZW9mIF9fZXNyaS5Qb3J0YWxJdGVtXHJcbiAgUG9ydGFsOiB0eXBlb2YgX19lc3JpLlBvcnRhbFxyXG4gIFdlYk1hcDogdHlwZW9mIF9fZXNyaS5XZWJNYXBcclxuICBXZWJTY2VuZTogdHlwZW9mIF9fZXNyaS5XZWJTY2VuZVxyXG4gIENvbG9yOiB0eXBlb2YgX19lc3JpLkNvbG9yXHJcbiAgU3BhdGlhbFJlZmVyZW5jZTogdHlwZW9mIF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlXHJcbiAgUG9pbnQ6IHR5cGVvZiBfX2VzcmkuUG9pbnRcclxuXHJcbiAgZXhwZWN0ZWREYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvXHJcbiAgbWFwQ3JlYXRpbmdJbmZvOiBNYXBDcmVhdGluZ0luZm9cclxuICB2aWV3OiBNYXBiYXNlVmlld1xyXG4gIGxhc3RVcGRhdGVWaWV3Q29uZmlnOiBJTUNvbmZpZ1xyXG4gIG1hcERzOiBNYXBEYXRhU291cmNlXHJcblxyXG4gIGRzTWFuYWdlcjogRGF0YVNvdXJjZU1hbmFnZXJcclxuICBpc0ZpcnN0UmVjZWl2ZU1lc3NhZ2U6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwQmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcbiAgbWFwQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG4gIHdpZGdldENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuXHJcbiAgR2VvbWV0cnk6IHR5cGVvZiBfX2VzcmkuR2VvbWV0cnlcclxuICBJbml0aWFsVmlld1Byb3BlcnRpZXM6IHR5cGVvZiBfX2VzcmkuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzXHJcbiAgVGlsZUxheWVyOiB0eXBlb2YgX19lc3JpLlRpbGVMYXllclxyXG4gIEJhc2VtYXA6IHR5cGVvZiBfX2VzcmkuQmFzZW1hcFxyXG4gIE1hcFZpZXc6IHR5cGVvZiBfX2VzcmkuTWFwVmlld1xyXG4gIFNjZW5lVmlldzogdHlwZW9mIF9fZXNyaS5TY2VuZVZpZXdcclxuICBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnkuRXh0ZW50XHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludFxyXG4gIFBvcnRhbEl0ZW06IHR5cGVvZiBfX2VzcmkuUG9ydGFsSXRlbVxyXG4gIFBvcnRhbDogdHlwZW9mIF9fZXNyaS5Qb3J0YWxcclxuICBXZWJNYXA6IHR5cGVvZiBfX2VzcmkuV2ViTWFwXHJcbiAgV2ViU2NlbmU6IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmVcclxuICBDb2xvcjogdHlwZW9mIF9fZXNyaS5Db2xvclxyXG4gIFNwYXRpYWxSZWZlcmVuY2U6IHR5cGVvZiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZVxyXG4gIFBvaW50OiB0eXBlb2YgX19lc3JpLlBvaW50XHJcblxyXG4gIGV4cGVjdGVkRGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mb1xyXG4gIG1hcENyZWF0aW5nSW5mbzogTWFwQ3JlYXRpbmdJbmZvIC8vIG1hcENyZWF0aW5nSW5mbyBhbmQgdmlldyBhcmUgbXV0dWFsbHktZXhjbHVzaXZlXHJcbiAgdmlldzogTWFwYmFzZVZpZXdcclxuICBsYXN0VXBkYXRlVmlld0NvbmZpZzogSU1Db25maWdcclxuICBtYXBEczogTWFwRGF0YVNvdXJjZVxyXG5cclxuICBkc01hbmFnZXIgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gdHJ1ZVxyXG5cclxuICBfX3VubW91bnQgPSBmYWxzZVxyXG4gIC8vIHRydWUgbWVhbnMgbWFwYmFzZS52aWV3IGlzIHJlc3RvcmVkIGZyb20gTXV0YWJsZVN0b3JlXHJcbiAgcmVzdG9yZWQ6IGJvb2xlYW5cclxuXHJcbiAgY3JlYXRlRmFpbGVkRGF0YVNvdXJjZUlkczogeyBbZHNJZDogc3RyaW5nXTogYm9vbGVhbiB9XHJcblxyXG4gIHJlc291cmNlU2Vzc2lvbnNVbnN1YnNjcmliZT86IFVuc3Vic2NyaWJlXHJcblxyXG4gIC8vIGxhc3QgdXNlciBpbnRlcmFjdGl2ZSB2aWV3XHJcbiAgc3RhdGljIGxhc3RJbnRlcmFjaXZlVmlldzogTWFwYmFzZVZpZXdcclxuXHJcbiAgLy8gUmVjb3JkIHRoZSBKaW11TWFwVmlldy9NYXBiYXNlIGluaXRlZCBjb3VudCBmb3IgdGhlIHNwZWNpZmljIGppbXVNYXBWaWV3SWQgKG1hcFdpZGdldElkICsgZGF0YVNvdXJjZUlkKSBhdCBydW50aW1lLCB0aGUga2V5IGlzIGppbXVNYXBWaWV3SWQsIHRoZSB2YWx1ZSBpcyB0aGUgSmltdU1hcFZpZXcvTWFwYmFzZSBpbml0ZWQgY291bnQuXHJcbiAgLy8gV2UgdXNlIHJ1bnRpbWVJbml0ZWRKaW11TWFwVmlld3MgdG8gaWRlbnRpZnkgd2hldGhlciB0aGUgSmltdU1hcFZpZXcvTWFwYmFzZSBpcyBpbml0aWFsaXplZCBmb3IgdGhlIGZpcnN0IHRpbWUsXHJcbiAgLy8gYW5kIHJlcGxhY2UgY29uZmlnLmluaXRpYWxNYXBTdGF0ZSB3aXRoIG1hcF9zdGF0ZSBpbiB0aGUgdXJsIGhhc2ggZHVyaW5nIHRoZSBmaXJzdCBpbml0aWFsaXphdGlvbi5cclxuICBzdGF0aWMgcnVudGltZUluaXRlZEppbXVNYXBWaWV3czogeyBbamltdU1hcFZpZXdJZDogc3RyaW5nXTogbnVtYmVyIH0gPSB7fVxyXG5cclxuICAvLyB1bmlxdWVJZCBjb21lcyBmcm9tIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mby51bmlxdWVJZFxyXG4gIG1hcFZpZXdDcmVhdGVGYWlsZWRVbmlxdWVJZHNJbmZvOiB7IFt1bmlxdWVJZDogc3RyaW5nXTogYm9vbGVhbiB9XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5kZWJvdW5jZVVwZGF0ZVVybEhhc2hQYXJhbXMgPSBsb2Rhc2guZGVib3VuY2UoKCkgPT4ge1xyXG4gICAgICB0aGlzLnVwZGF0ZVVybEhhc2hQYXJhbXMoKVxyXG4gICAgfSwgNTAwKVxyXG5cclxuICAgIHRoaXMucmVzdG9yZWQgPSBmYWxzZVxyXG4gICAgdGhpcy5jcmVhdGVGYWlsZWREYXRhU291cmNlSWRzID0ge31cclxuICAgIHRoaXMubWFwVmlld0NyZWF0ZUZhaWxlZFVuaXF1ZUlkc0luZm8gPSB7fVxyXG5cclxuICAgIHRoaXMudXBkYXRlRXhwZWN0ZWREYXRhU291cmNlSW5mbygpXHJcblxyXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSB0aGlzLmdldFJlc3RvcmVEYXRhRnJvbU1TKClcclxuXHJcbiAgICBpZiAocmVzdG9yZURhdGEgJiYgcmVzdG9yZURhdGEuZXhwZWN0ZWREYXRhU291cmNlSW5mby51bmlxdWVJZCA9PT0gdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvLnVuaXF1ZUlkKSB7XHJcbiAgICAgIHJlc3RvcmVNYXBCYXNlKHRoaXMsIHJlc3RvcmVEYXRhKVxyXG4gICAgICB0aGlzLnVwZGF0ZVJlc3RvcmVEYXRhVG9NUyhudWxsKVxyXG4gICAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHRoaXMudmlldylcclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMudmlldy5tYXBiYXNlID0gdGhpc1xyXG4gICAgICAgIHRoaXMucmVzdG9yZWQgPSB0cnVlXHJcbiAgICAgICAgdGhpcy50cnlGYXRhbEVycm9yUmVjb3ZlcnkodGhpcy52aWV3KVxyXG5cclxuICAgICAgICBpZiAodGhpcy52aWV3LmlzTWFwVG9vbHNIaWRkZW4pIHtcclxuICAgICAgICAgIHRoaXMudmlldy5oaWRlTWFwVG9vbHMoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnZpZXcuc2hvd01hcFRvb2xzKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgZGF0YVNvdXJjZUlkOiBudWxsLFxyXG4gICAgICAgIGlzQmFzaWNNb2R1bGVzTG9hZGVkOiBmYWxzZSxcclxuICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmdcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudW5zdWJzY3JpYmVSZXNvdXJjZVNlc3Npb25zKClcclxuXHJcbiAgICAvLyBPYnNlcnZlIG5vIHBlcm1pc3Npb24gcmVzb3VyY2UgY2hhbmdlcy5cclxuICAgIHRoaXMucmVzb3VyY2VTZXNzaW9uc1Vuc3Vic2NyaWJlID0gb2JzZXJ2ZVN0b3JlKHRoaXMub25TdG9yZVJlc291cmNlU2Vzc2lvbnNDaGFuZ2UuYmluZCh0aGlzKSwgWydyZXNvdXJjZVNlc3Npb25zJ10pXHJcbiAgfVxyXG5cclxuICB1bnN1YnNjcmliZVJlc291cmNlU2Vzc2lvbnMgKCkge1xyXG4gICAgaWYgKHRoaXMucmVzb3VyY2VTZXNzaW9uc1Vuc3Vic2NyaWJlKSB7XHJcbiAgICAgIHRoaXMucmVzb3VyY2VTZXNzaW9uc1Vuc3Vic2NyaWJlKClcclxuICAgICAgdGhpcy5yZXNvdXJjZVNlc3Npb25zVW5zdWJzY3JpYmUgPSBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIChuZXh0UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKSB7XHJcbiAgICBpZiAobmV4dFByb3BzLmRhdGFTb3VyY2VJZCAhPT0gcHJldlN0YXRlLmRhdGFTb3VyY2VJZCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogbmV4dFByb3BzLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmdcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC5lc3JpLXZpZXcgLmVzcmktdmlldy1zdXJmYWNlOmZvY3VzOjphZnRlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCB1c2VEYXRhU291cmNlID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcykge1xyXG4gICAgICB1c2VEYXRhU291cmNlID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5kYXRhU291cmNlSWQgPT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtYXAtYmFzZScgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0gY3NzPXt0aGlzLmdldFN0eWxlKCl9IHJlZj17cmVmID0+IHsgdGhpcy53aWRnZXRDb250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgeyh0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXMgPT09IE1hcExvYWRTdGF0dXMuTG9hZGluZykgJiZcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCB3aWRnZXQtbWFwLWJhY2tncm91bmQnPlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAnNTAlJywgdG9wOiAnNTAlJyB9fSBjbGFzc05hbWU9J2ppbXUtc2Vjb25kYXJ5LWxvYWRpbmcnIC8+XHJcbiAgICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyh0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXMgPT09IE1hcExvYWRTdGF0dXMuTG9hZEVycm9yKSAmJlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIHdpZGdldC1tYXAtYmFja2dyb3VuZCc+XHJcbiAgICAgICAgICAgIHt0aGlzLmdldE1hcFN3aXRjaEZvckVycm9yTWFwKCl9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXInPnt0aGlzLmZvcm1hdE1lc3NhZ2UoJ21hcEZhaWx1cmUnKX08L2Rpdj5cclxuICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7IXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwICYmIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGRpc3BsYXk6ICdub25lJyB9fT48RGF0YVNvdXJjZUNvbXBvbmVudFxyXG4gICAgICAgICAgdXNlRGF0YVNvdXJjZT17dXNlRGF0YVNvdXJjZX1cclxuICAgICAgICAgIG9uRGF0YVNvdXJjZUNyZWF0ZWQ9e3RoaXMub25EYXRhU291cmNlQ3JlYXRlZH0gb25DcmVhdGVEYXRhU291cmNlRmFpbGVkPXt0aGlzLm9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZH1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICB0aGlzLl9fdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMud2lkZ2V0Q29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dpZGdldC1tYXAnKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgaWYgKCF0aGlzLm1hcENvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMubWFwQ29udGFpbmVyID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICB0aGlzLm1hcENvbnRhaW5lci5jbGFzc05hbWUgPSAndy0xMDAgaC0xMDAgd2lkZ2V0LW1hcCBtYXB2aWV3LWNvbnRhaW5lcidcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy53aWRnZXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tYXBDb250YWluZXIpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlcykge1xyXG4gICAgICB0aGlzLmxvYWRDb21tb25Nb2R1bGVzKClcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5yZXN0b3JlZCkge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuZ2V0SmltdU1hcFZpZXdGb1ZpZXcodGhpcy52aWV3KVxyXG5cclxuICAgICAgaWYgKGppbXVNYXBWaWV3ICYmICFqaW11TWFwVmlldy5pc0NhY2hlZCgpKSB7XHJcbiAgICAgICAgamltdU1hcFZpZXcub25SZXN0b3JlKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XHJcbiAgICB0aGlzLnRyeUNyZWF0ZU1hcFZpZXdXaGVuRGlkVXBkYXRlKHByZXZQcm9wcylcclxuICAgIHRoaXMudHJ5SGFuZGxlVXJsUGFyYW1zQ2hhbmdlV2hlbkRpZFVwZGF0ZShwcmV2UHJvcHMpXHJcbiAgfVxyXG5cclxuICB0cnlDcmVhdGVNYXBWaWV3V2hlbkRpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcykge1xyXG4gICAgLy8gdXBkYXRlIHRoZSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gYnkgdGhlIGN1cnJlbnQgcHJvcHNcclxuICAgIHRoaXMudXBkYXRlRXhwZWN0ZWREYXRhU291cmNlSW5mbygpXHJcblxyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzQmFzaWNNb2R1bGVzTG9hZGVkKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBjaGVjayBpc01hcEluVmlzaWJsZUFyZWEgYmVmb3JlIHRoaXMuY2hlY2tBbmRIYW5kbGVJZkRhdGFTb3VyY2VJZFByb3BDaGFuZ2UoKSA/XHJcbiAgICAvLyBwcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgY2hhbmdlZFxyXG4gICAgaWYgKHRoaXMudmlldyAmJiBwcmV2UHJvcHMuaXNNYXBJblZpc2libGVBcmVhICE9PSB0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID09PSAyKSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEpIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMudHJ5RmF0YWxFcnJvclJlY292ZXJ5KHRoaXMudmlldylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGUgZm9sbG93aW5nIGNvZGUgaXMgbWFpbmx5IHVzZWQgdG8gY2hlY2sgYW5kIGhhbmRsZSBpZiBkYXRhU291cmNlSWQgcHJvcCBjaGFuZ2VcclxuICAgIGxldCBuZWVkQ3JlYXRlTmV3VmlldyA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAvLyB0aGlzLnZpZXcgY3JlYXRlZCwgbm93IG5lZWQgdG8gY2hlY2sgaWYgdGhpcy52aWV3IG1hdGNoIHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkIG9yIG5vdFxyXG4gICAgICBpZiAodGhpcy5pc1ZpZXdFeHBlY3RlZCh0aGlzLnZpZXcpKSB7XHJcbiAgICAgICAgLy8gZGF0YSBzb3VyY2UgbWF0Y2ggdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGRvIG5vdGhpbmdcclxuICAgICAgICBuZWVkQ3JlYXRlTmV3VmlldyA9IGZhbHNlXHJcbiAgICAgICAgLy8gdGhpcy52aWV3IGlzIHRoZSBleHBlY3RlZCB2aWV3XHJcbiAgICAgICAgLy8gV2UgY2FsbCB0aGlzLnRyeVVwZGF0ZUN1cnJlbnRWaWV3QnlDb25maWdQcm9wcygpIHRvIGNvbnN1bWUgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnIGNoYW5nZVxyXG4gICAgICAgIHRoaXMudHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzKGZhbHNlKVxyXG4gICAgICAgIC8vIFdlIGNhbGwgdGhpcy5jaGVja0FuZEhhbmRsZU11dGFibGVTdGF0ZVByb3BzKCkgdG8gY29uc3VtZSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcyBjaGFuZ2VcclxuICAgICAgICB0aGlzLmNoZWNrQW5kSGFuZGxlTXV0YWJsZVN0YXRlUHJvcHMoKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGRhdGEgc291cmNlIGNoYW5nZWQsIHdlIG5lZWQgdG8gZGVzdHJveSB0aGlzLnZpZXdcclxuICAgICAgICBuZWVkQ3JlYXRlTmV3VmlldyA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdGhpcy52aWV3IG5vdCBjcmVhdGVkLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGFyZSBjcmVhdGluZyB0aGUgZXhwZWN0ZWQgdmlld1xyXG4gICAgICBpZiAodGhpcy5pc0NyZWF0aW5nRXhwZWN0ZWRWaWV3KCkpIHtcclxuICAgICAgICAvLyBXZSBhcmUgY3JlYXRpbmcgdGhlIGV4cGVjdGVkIHZpZXcsIGRvIG5vdGhpbmdcclxuICAgICAgICBuZWVkQ3JlYXRlTmV3VmlldyA9IGZhbHNlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdW5pcXVlSWQgPSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8/LnVuaXF1ZUlkXHJcblxyXG4gICAgICAgIGlmICh1bmlxdWVJZCAmJiB0aGlzLm1hcFZpZXdDcmVhdGVGYWlsZWRVbmlxdWVJZHNJbmZvW3VuaXF1ZUlkXSkge1xyXG4gICAgICAgICAgLy8gbWFwIHZpZXcgY3JlYXRlIGZhaWxlZCBiZWZvcmUsIGRvbid0IG5lZWQgdG8gcmVjcmVhdGUgdmlld1xyXG4gICAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSBmYWxzZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBuZWVkIHRvIGNyZWF0ZSBuZXcgdmlld1xyXG4gICAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5lZWRDcmVhdGVOZXdWaWV3KSB7XHJcbiAgICAgIHRoaXMuZGVzdHJveUN1cnJlbnRNYXBiYXNlVmlldygpXHJcbiAgICAgIHRoaXMuY2FjaGVMb2FkTW9kdWxlc0FuZENyZWF0ZU1hcGJhc2VWaWV3KHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFdoZW4gdXNlciB1cGRhdGVzIG1hcCB1cmwgcGFyYW1zIG1hbnVhbGx5LCB3ZSBuZWVkIHRvIHVwZGF0ZSB2aWV3LnZpZXdwb2ludC5cclxuICB0cnlIYW5kbGVVcmxQYXJhbXNDaGFuZ2VXaGVuRGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXRoaXMudmlldykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBwcmVSdW50aW1lVXJsSGFzaFBhcmFtcyA9IHByZXZQcm9wcz8uYmFzZVdpZGdldFByb3BzPy5ydW50aW1lVXJsSGFzaFBhcmFtc1xyXG4gICAgICBjb25zdCBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMgPSB0aGlzLnByb3BzPy5iYXNlV2lkZ2V0UHJvcHM/LnJ1bnRpbWVVcmxIYXNoUGFyYW1zXHJcblxyXG4gICAgICBpZiAoY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zICYmIGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcyAhPT0gcHJlUnVudGltZVVybEhhc2hQYXJhbXMgJiYgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLmFjdGl2ZV9kYXRhc291cmNlX2lkKSB7XHJcbiAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgICAgaWYgKGppbXVNYXBWaWV3ICYmIGppbXVNYXBWaWV3LmlzQWN0aXZlICYmIGppbXVNYXBWaWV3LmRhdGFTb3VyY2VJZCA9PT0gY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLmFjdGl2ZV9kYXRhc291cmNlX2lkKSB7XHJcbiAgICAgICAgICAvLyBXaGVuIHVzZXIgbW92ZSBtYXAsIGl0IHdpbGwgdHJpZ2dlciBleHRlbnQgY2hhbmdlIGV2ZW50LCBhbmQgdXBkYXRlVXJsSGFzaFBhcmFtc0ZvckFjdGl2ZUppbXVNYXBWaWV3KCkgbWV0aG9kIHdpbGwgY2FsbCB1cmxNYW5hZ2VyLnNldFdpZGdldFVybFBhcmFtcygpIHRvIGNoYW5nZSB1cmwgcGFyYW1zLlxyXG4gICAgICAgICAgLy8gVGhlbiBpdCB3aWxsIHRyaWdnZXIgY29tcG9uZW50RGlkVXBkYXRlKCkgYmVjYXVzZSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5ydW50aW1lVXJsSGFzaFBhcmFtcyBjaGFuZ2VkLiBGb3IgdGhpcyBjYXNlLCB3ZSBkb24ndCBuZWVkIHRvIGhhbmRsZSBpdCB0byBhdm9pZCBkZWFkIGxvb3AuXHJcbiAgICAgICAgICAvLyBTbyB3ZSBuZWVkIHRvIGRldGVybWluZSB0aGUgdXJsIGlzIGNoYW5nZWQgYnkgdXNlciBvciBtYXAgc2VsZi5cclxuICAgICAgICAgIC8vIEJ5IHRlc3QsIHRoZSBkdXJhdGlvbiBiZXR3ZWVuIHVybE1hbmFnZXIuc2V0V2lkZ2V0VXJsUGFyYW1zKCkgYW5kIGNvbXBvbmVudERpZFVwZGF0ZSgpIGlzIGFib3V0IDN+NG1zLCB3ZSB1c2UgMTAwbXMgaGVyZSBmb3Igc2FmZS5cclxuICAgICAgICAgIGNvbnN0IGlzVXJsUGFyYW1zQ2hhbmdlQnlNYXBTZWxmID0gdGhpcy52aWV3Lmxhc3RWaWV3cG9pbnRVcmxQYXJhbVVwZGF0ZVRpbWVzdGFtcCA+IDAgJiYgKERhdGUubm93KCkgLSB0aGlzLnZpZXcubGFzdFZpZXdwb2ludFVybFBhcmFtVXBkYXRlVGltZXN0YW1wKSA8PSAxMDBcclxuICAgICAgICAgIGNvbnN0IGlzVXJsUGFyYW1zQ2hhbmdlZEJ5VXNlciA9ICFpc1VybFBhcmFtc0NoYW5nZUJ5TWFwU2VsZlxyXG5cclxuICAgICAgICAgIGlmIChpc1VybFBhcmFtc0NoYW5nZWRCeVVzZXIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3VybCBoYXNoIHByYW1zIGNoYW5nZWQnLCBEYXRlLm5vdygpKVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1WaWV3cG9pbnRDaGFuZ2VkID0gY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLnZpZXdwb2ludCAmJiBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMudmlld3BvaW50ICE9PSBwcmVSdW50aW1lVXJsSGFzaFBhcmFtcz8udmlld3BvaW50XHJcbiAgICAgICAgICAgIGNvbnN0IHVybFBhcmFtQ2VudGVyQ2hhbmdlZCA9IGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy5jZW50ZXIgJiYgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLmNlbnRlciAhPT0gcHJlUnVudGltZVVybEhhc2hQYXJhbXM/LmNlbnRlclxyXG4gICAgICAgICAgICBjb25zdCB1cmxQYXJhbVNjYWxlQ2hhbmdlZCA9IGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy5zY2FsZSAmJiBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMuc2NhbGUgIT09IHByZVJ1bnRpbWVVcmxIYXNoUGFyYW1zPy5zY2FsZVxyXG4gICAgICAgICAgICBjb25zdCB1cmxQYXJhbVJvdGF0aW9uQ2hhbmdlZCA9IGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy5yb3RhdGlvbiAmJiBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMucm90YXRpb24gIT09IHByZVJ1bnRpbWVVcmxIYXNoUGFyYW1zPy5yb3RhdGlvblxyXG5cclxuICAgICAgICAgICAgaWYgKHVybFBhcmFtVmlld3BvaW50Q2hhbmdlZCB8fCB1cmxQYXJhbUNlbnRlckNoYW5nZWQgfHwgdXJsUGFyYW1TY2FsZUNoYW5nZWQgfHwgdXJsUGFyYW1Sb3RhdGlvbkNoYW5nZWQpIHtcclxuICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VkVmlld3BvaW50ID0gZ2V0Q2hhbmdlZFZpZXdwb2ludEJ5Vmlld0FuZFVybEhhc2hQYXJhbXMoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcsXHJcbiAgICAgICAgICAgICAgICBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMsXHJcbiAgICAgICAgICAgICAgICB1cmxQYXJhbVZpZXdwb2ludENoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICB1cmxQYXJhbUNlbnRlckNoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICB1cmxQYXJhbVNjYWxlQ2hhbmdlZCxcclxuICAgICAgICAgICAgICAgIHVybFBhcmFtUm90YXRpb25DaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5WaWV3cG9pbnQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLlBvaW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5TcGF0aWFsUmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCBjdXJyVmlld3BvaW50ID0gdGhpcy52aWV3LnZpZXdwb2ludD8uY2xvbmUoKVxyXG5cclxuICAgICAgICAgICAgICBpZiAoY2hhbmdlZFZpZXdwb2ludCAmJiAhaXNTYW1lbGlrZVZpZXdwb2ludHModGhpcy52aWV3LCBjaGFuZ2VkVmlld3BvaW50LCBjdXJyVmlld3BvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3VwZGF0ZSB2aWV3cG9pbnQgYnkgdXJsJywgRGF0ZS5ub3coKSlcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy52aWV3cG9pbnQgPSBjaGFuZ2VkVmlld3BvaW50XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2hhbmRsZVVybFBhcmFtc0NoYW5nZSBlcnJvcicsIGUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcclxuXHJcbiAgICB0aGlzLnVuc3Vic2NyaWJlUmVzb3VyY2VTZXNzaW9ucygpXHJcblxyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICB0aGlzLnZpZXcubWFwYmFzZSA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3aWRnZXRzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzXHJcblxyXG4gICAgaWYgKHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdICYmIHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdLnVzZURhdGFTb3VyY2VzID09PSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAmJlxyXG4gICAgICB0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXMgIT09IE1hcExvYWRTdGF0dXMuTG9hZGluZykge1xyXG4gICAgICAvLyBKUyBBUEkgbGltaXRzIG9ubHkgMTYgY2FudmFzIHdpdGggV2ViR0wgY29udGV4dCBvbiBhIGh0bWwgcGFnZS4gQ2FjaGluZyB0aGUgbWFwIHdpZGdldCAodW5tb3VudCB0aGUgY2FudmFzIGZyb20gdGhlIGh0bWwgdHJlZSBidXQgZG9uJ3QgZGVzdHJveSB0aGUgdmlldykgaXMgYSB3b3Jrcm91bmQuXHJcbiAgICAgIC8vIFdlIHNjcm9sbCB0aGUgcGFnZSBhbmQgdGhlIG1hcCB3aWRnZXQgaXMgbm90IGluIHRoZSB2aXNpYmxlIGFyZWEsIHdlIG5lZWQgdG8gY2FjaGUgaXQgc28gd2UgY2FuIHJlc3RvcmUgaXQgcXVpY2tseS5cclxuICAgICAgLy8gV2UgZG9uJ3QgZGVzdHJveSB0aGUgbWFwIHZpZXcgaGVyZSwganVzdCBjYWNoZSBpdCB0byBtdXRhYmxlIHN0b3JlLlxyXG4gICAgICBjb25zdCByZXN0b3JlRGF0YSA9IGdldE1hcEJhc2VSZXN0b3JlRGF0YSh0aGlzKVxyXG5cclxuICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgIHRoaXMudmlldy5pc0luQ2FjaGluZyA9IHRydWVcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy51cGRhdGVSZXN0b3JlRGF0YVRvTVMocmVzdG9yZURhdGEpXHJcblxyXG4gICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgICBqaW11TWFwVmlldy5vbkNhY2hlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIERlc3Ryb3kgdGhlIG1hcCB2aWV3XHJcbiAgICAgIHRoaXMuZGVzdHJveUN1cnJlbnRNYXBiYXNlVmlldygpXHJcbiAgICAgIHRoaXMubWFwQ3JlYXRpbmdJbmZvID0gbnVsbFxyXG5cclxuICAgICAgaWYgKHRoaXMudmlldyAmJiAhdGhpcy52aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgIHRoaXMudmlldy5jb250YWluZXIgPSBudWxsXHJcbiAgICAgICAgdGhpcy52aWV3ID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1hcERzID0gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlRGF0YVNvdXJjZUluZm8gKGRhdGFTb3VyY2VJZDogc3RyaW5nKTogTWFwYmFzZURhdGFTb3VyY2VJbmZvIHtcclxuICAgIGxldCByZXN1bHQ6IE1hcGJhc2VEYXRhU291cmNlSW5mbyA9IG51bGxcclxuXHJcbiAgICBjb25zdCBkYXRhU291cmNlSnNvbiA9IHRoaXMuZ2V0RHNKc29uRnJvbURzSWQoZGF0YVNvdXJjZUlkKVxyXG5cclxuICAgIGlmIChkYXRhU291cmNlSnNvbiAmJiBkYXRhU291cmNlSnNvbi5pZCkge1xyXG4gICAgICAvLyBkYXRhIHNvdXJjZSBjYXNlMiBvciBkYXRhIHNvdXJjZSBjYXNlM1xyXG4gICAgICBjb25zdCB0eXBlID0gZGF0YVNvdXJjZUpzb24udHlwZSB8fCAnJ1xyXG4gICAgICBjb25zdCBpdGVtSWQgPSBkYXRhU291cmNlSnNvbi5pdGVtSWQgfHwgJydcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZUlkID0gZGF0YVNvdXJjZUpzb24uaWRcclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHRoaXMuZ2V0SmltdU1hcFZpZXdJZChkYXRhU291cmNlSWQpXHJcblxyXG4gICAgICBpZiAodHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XHJcbiAgICAgICAgLy8gdXNlciBzZWxlY3QgYSB3ZWIgc2NlbmVcclxuICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICBpc0RlZmF1bHRNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgaXNXZWJNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgdW5pcXVlSWQ6IGB3ZWJzY2VuZS0ke2RhdGFTb3VyY2VJZH0tJHtpdGVtSWR9YCxcclxuICAgICAgICAgIGRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgIGppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgICBkYXRhU291cmNlSnNvblxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB1c2VyIHNlbGVjdCBhIHdlYiBtYXBcclxuICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICBpc0RlZmF1bHRNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgaXNXZWJNYXA6IHRydWUsXHJcbiAgICAgICAgICB1bmlxdWVJZDogYHdlYm1hcC0ke2RhdGFTb3VyY2VJZH0tJHtpdGVtSWR9YCxcclxuICAgICAgICAgIGRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgIGppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgICBkYXRhU291cmNlSnNvblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZGF0YSBzb3VyY2UgY2FzZTE6IHVzZSBkZWZhdWx0IHdlYiBtYXBcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZUlkID0gJydcclxuICAgICAgLy8gVE9ETzogY291bGQgd2UgdXNlIHRoaXMuZ2V0SmltdU1hcFZpZXdJZCgnZGVmYXVsdG1hcCcpIGhlcmUgP1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gdGhpcy5nZXRKaW11TWFwVmlld0lkKGRhdGFTb3VyY2VJZClcclxuICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgIGlzRGVmYXVsdE1hcDogdHJ1ZSxcclxuICAgICAgICBpc1dlYk1hcDogdHJ1ZSxcclxuICAgICAgICB1bmlxdWVJZDogJ3dlYm1hcC1kZWZhdWx0JyxcclxuICAgICAgICBkYXRhU291cmNlSWQsXHJcbiAgICAgICAgamltdU1hcFZpZXdJZCxcclxuICAgICAgICBkYXRhU291cmNlSnNvblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgZ2V0SmltdU1hcFZpZXdJZCAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGdldEppbXVNYXBWaWV3SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIGRhdGFTb3VyY2VJZClcclxuICB9XHJcblxyXG4gIGdldERzSnNvbkZyb21Ec0lkIChkYXRhU291cmNlSWQ6IHN0cmluZyk6IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj4ge1xyXG4gICAgbGV0IHJlc3VsdDogSW1tdXRhYmxlT2JqZWN0PERhdGFTb3VyY2VKc29uPiA9IG51bGxcclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgIHJlc3VsdCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcuZGF0YVNvdXJjZXNbZGF0YVNvdXJjZUlkXVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIHJlc3VsdCA9IHt9IGFzIEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50RGF0YVNvdXJjZUpzb24gKCk6IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj4ge1xyXG4gICAgLy8gd2hlbiBzZWxlY3QgYSB3ZWIgbWFwIG9yIHdlYiBzY2VuZSBpbiBidWlsZGVyLCB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCBpcyBub3QgbnVsbCwgdGhlIHJlc3VsdCBpcyBsaWtlIHRoaXNcclxuICAgIC8vIHtcclxuICAgIC8vICAgaWQ6IFwiZGF0YVNvdXJjZV81XCIsXHJcbiAgICAvLyAgIHR5cGU6IFwiV0VCX01BUFwiLFxyXG4gICAgLy8gICBzb3VyY2VMYWJlbDogXCJDaGluYSBWZXJzaW9uIDFfMlwiLFxyXG4gICAgLy8gICBpdGVtSWQ6IFwiYTJjNTQ0OWM0YzYyNDQ0N2JmNDVkNDg0NzhiMjU4MzhcIixcclxuICAgIC8vICAgcG9ydGFsVXJsOiBcImh0dHBzOi8vZXNyaWRldmJlaWppbmcubWFwcy5hcmNnaXMuY29tXCIsXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gd2hlbiB1c2UgdGhlIGRlZmF1bHQgd2ViIG1hcCBpbiBidWlsZGVyLCB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCBpcyBudWxsLCB0aGUgcmVzdWx0IGlzIGVtcHR5IG9iamVjdCB7fVxyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpXHJcbiAgfVxyXG5cclxuICB1cGRhdGVFeHBlY3RlZERhdGFTb3VyY2VJbmZvICgpIHtcclxuICAgIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbyA9IHRoaXMuY3JlYXRlRGF0YVNvdXJjZUluZm8odGhpcy5wcm9wcy5kYXRhU291cmNlSWQpXHJcbiAgfVxyXG5cclxuICBpc0N1cnJlbnRWaWV3RXhwZWN0ZWQgKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNWaWV3RXhwZWN0ZWQodGhpcy52aWV3KVxyXG4gIH1cclxuXHJcbiAgaXNWaWV3RXhwZWN0ZWQgKHZpZXc6IE1hcGJhc2VWaWV3KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdmlldyAmJiB2aWV3LmRhdGFTb3VyY2VJbmZvLnVuaXF1ZUlkID09PSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8udW5pcXVlSWRcclxuICB9XHJcblxyXG4gIGlzQ3JlYXRpbmdFeHBlY3RlZFZpZXcgKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwQ3JlYXRpbmdJbmZvICYmIHRoaXMuaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkKHRoaXMubWFwQ3JlYXRpbmdJbmZvLmRhdGFTb3VyY2VJbmZvKVxyXG4gIH1cclxuXHJcbiAgaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkIChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gZGF0YVNvdXJjZUluZm8gJiYgZGF0YVNvdXJjZUluZm8udW5pcXVlSWQgPT09IHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mby51bmlxdWVJZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3VtZSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcgY2hhbmdlXHJcbiAgICogQHBhcmFtIGNhbGxlZFdoZW5WaWV3Q3JlYXRlIHRydWUgbWVhbnMgdGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdmlldyBqdXN0IGNyZWF0ZWQsIGZhbHNlIG1lYW5zIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIGNvbmZpZyBwcm9wcyBjaGFuZ2VcclxuICAgKi9cclxuICB0cnlVcGRhdGVDdXJyZW50Vmlld0J5Q29uZmlnUHJvcHMgKGNhbGxlZFdoZW5WaWV3Q3JlYXRlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMudmlldykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWc6IElNQ29uZmlnID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnXHJcbiAgICBjb25zdCBwcmVDb25maWc6IElNQ29uZmlnID0gdGhpcy5sYXN0VXBkYXRlVmlld0NvbmZpZ1xyXG4gICAgdGhpcy5sYXN0VXBkYXRlVmlld0NvbmZpZyA9IGNvbmZpZ1xyXG5cclxuICAgIC8vIHVwZGF0ZSBwb3B1cCBvcHRpb25zXHJcbiAgICBjb25zdCBjdXJyUG9wdXBFbmFibGVkID0gIWNvbmZpZy5kaXNhYmxlUG9wVXBcclxuXHJcbiAgICBpZiAoY2FsbGVkV2hlblZpZXdDcmVhdGUpIHtcclxuICAgICAgLy8gY2FsbGVkV2hlblZpZXdDcmVhdGUgaXMgdHJ1ZSwgbWVhbnMgdHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzIGlzIGNhbGxlZCB3aGVuIHZpZXcganVzdCBjcmVhdGVkLCB3ZSBqdXN0IHNldCB2aWV3LnBvcHVwRW5hYmxlZCB0byAhY29uZmlnLmRpc2FibGVQb3BVcC5cclxuICAgICAgdGhpcy52aWV3LnBvcHVwRW5hYmxlZCA9IGN1cnJQb3B1cEVuYWJsZWRcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGNhbGxlZFdoZW5WaWV3Q3JlYXRlIGlzIGZhbHNlLCBtZWFucyB0cnlVcGRhdGVDdXJyZW50Vmlld0J5Q29uZmlnUHJvcHMgaXMgY2FsbGVkIHdoZW4gY29uZmlnIHByb3BzIGNoYW5nZSwgd2UgbmVlZCB0byBoYW5kbGUgY29uZmlnLmRpc2FibGVQb3BVcCBjaGFuZ2UuXHJcblxyXG4gICAgICBjb25zdCBwcmVQb3B1cEVuYWJsZWQgPSAhcHJlQ29uZmlnPy5kaXNhYmxlUG9wVXBcclxuICAgICAgY29uc3QgcG9wdXBFbmFibGVkID0gIWNvbmZpZy5kaXNhYmxlUG9wVXBcclxuXHJcbiAgICAgIC8vIEJvdGggTWFwIHdpZGdldCAnZGlzYWJsZVBvcFVwJyBvcHRpb24gYW5kIEppbXVNYXBWaWV3LmVuYWJsZUNsaWNrT3BlblBvcHVwKCkgY2FuIGNvbnRyb2wgJ3ZpZXcucG9wdXBFbmFibGVkJy5cclxuICAgICAgLy8gV2Ugc2hvdWxkIG5vdCB1c2UgYHRoaXMudmlldy5wb3B1cEVuYWJsZWQgIT09IGN1cnJQb3B1cEVuYWJsZWRgIGhlcmUgYmVjYXVzZSB3ZSBvbmx5IHdhbnQgdG8gY2hlY2sgaWYgTWFwIHdpZGdldCAnZGlzYWJsZVBvcFVwJyBvcHRpb24gY2hhbmdlZCxcclxuICAgICAgLy8gc28gd2Ugc2hvdWxkIHVzZSBgcHJlUG9wdXBFbmFibGVkICE9PSBjdXJyUG9wdXBFbmFibGVkYCBoZXJlLlxyXG4gICAgICBpZiAocHJlUG9wdXBFbmFibGVkICE9PSBwb3B1cEVuYWJsZWQpIHtcclxuICAgICAgICAvLyBjb25maWcuZGlzYWJsZVBvcFVwIHJlYWxseSBjaGFuZ2VkXHJcbiAgICAgICAgdGhpcy52aWV3LnBvcHVwRW5hYmxlZCA9IHBvcHVwRW5hYmxlZFxyXG5cclxuICAgICAgICBpZiAoIXBvcHVwRW5hYmxlZCkge1xyXG4gICAgICAgICAgdGhpcy52aWV3LmNsb3NlUG9wdXAoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yICE9PSBwcmVDb25maWc/LnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB8fCAoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciAhPT0gcHJlQ29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IpKSB7XHJcbiAgICAgIC8vIGhpZ2hsaWdodCBpbmZvIGNoYW5nZXNcclxuICAgICAgY29uc3QgaGlnaGxpZ2h0Q29sb3IgPSBjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IgfHwgREVGQVVMVF9ISUdITElHSFRfQ09MT1JcclxuICAgICAgY29uc3QgaGlnaGxpZ2h0SGFsb0NvbG9yID0gY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9IQUxPX0NPTE9SXHJcbiAgICAgIGNvbnN0IGhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcbiAgICAgICAgLi4udGhpcy52aWV3LmhpZ2hsaWdodE9wdGlvbnMsXHJcbiAgICAgICAgY29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodENvbG9yKSxcclxuICAgICAgICBoYWxvQ29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodEhhbG9Db2xvcilcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IGhpZ2hsaWdodE9wdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbmFibGVTY3JvbGwgPSAhY29uZmlnLmRpc2FibGVTY3JvbGxcclxuXHJcbiAgICAvLyB0aGlzLnZpZXcubmF2aWdhdGlvbiBpcyBlbXB0eSBzb21ldGltZXMsIHNvIHdlIG5lZWQgdG8gY2hlY2sgaXQgaGVyZS5cclxuICAgIGlmICh0aGlzLnZpZXcubmF2aWdhdGlvbikge1xyXG4gICAgICBpZiAodGhpcy52aWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkICE9PSBlbmFibGVTY3JvbGwpIHtcclxuICAgICAgICB0aGlzLnZpZXcubmF2aWdhdGlvbi5tb3VzZVdoZWVsWm9vbUVuYWJsZWQgPSBlbmFibGVTY3JvbGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMudmlldy5uYXZpZ2F0aW9uLmJyb3dzZXJUb3VjaFBhbkVuYWJsZWQgIT09IGVuYWJsZVNjcm9sbCkge1xyXG4gICAgICAgIHRoaXMudmlldy5uYXZpZ2F0aW9uLmJyb3dzZXJUb3VjaFBhbkVuYWJsZWQgPSBlbmFibGVTY3JvbGxcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnZpZXcudWkpIHtcclxuICAgICAgdGhpcy52aWV3LnVpLmNvbXBvbmVudHMgPSBbXVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNjZW5lUXVhbGl0eU1vZGUgPSBjb25maWcuc2NlbmVRdWFsaXR5TW9kZVxyXG5cclxuICAgIGlmICh0aGlzLmlzU2NlbmVWaWV3KHRoaXMudmlldykpIHtcclxuICAgICAgY29uc3Qgc2NlbmVWaWV3ID0gdGhpcy52aWV3IGFzIF9fZXNyaS5TY2VuZVZpZXdcclxuXHJcbiAgICAgIGlmIChzY2VuZVF1YWxpdHlNb2RlICYmIHNjZW5lUXVhbGl0eU1vZGUgIT09IHNjZW5lVmlldy5xdWFsaXR5UHJvZmlsZSkge1xyXG4gICAgICAgIHNjZW5lVmlldy5xdWFsaXR5UHJvZmlsZSA9IHNjZW5lUXVhbGl0eU1vZGUgYXMgJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdHJ5IHRvIHVwZGF0ZSBtYXBWaWV3LnRpbWVab25lXHJcbiAgICBpZiAodGhpcy52aWV3LnR5cGUgPT09ICcyZCcpIHtcclxuICAgICAgY29uc3QgbmV3VGltZVpvbmUgPSB0aGlzLmNhbE1hcFZpZXdUaW1lWm9uZSh0aGlzLnZpZXcubWFwIGFzIF9fZXNyaS5XZWJNYXApXHJcbiAgICAgIGNvbnN0IG1hcFZpZXcgPSB0aGlzLnZpZXcgYXMgX19lc3JpLk1hcFZpZXdcclxuXHJcbiAgICAgIGlmIChtYXBWaWV3LnRpbWVab25lICE9PSBuZXdUaW1lWm9uZSkge1xyXG4gICAgICAgIG1hcFZpZXcudGltZVpvbmUgPSBuZXdUaW1lWm9uZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25zdW1lIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzIGNoYW5nZVxyXG4gICAqL1xyXG4gIGNoZWNrQW5kSGFuZGxlTXV0YWJsZVN0YXRlUHJvcHMgKCkge1xyXG4gICAgaWYgKHRoaXMudmlldyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gdGhpcy52aWV3LmRhdGFTb3VyY2VJbmZvLmppbXVNYXBWaWV3SWRcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgamltdU1hcFZpZXcud2hlbkppbXVNYXBWaWV3TG9hZGVkKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBjaGVjayB0aGlzLnZpZXcgaWYgbnVsbCBvciBkZXN0cm95ZWQgaGVyZSwgd2UgZG8gaXQgaW4gdGhpcy5oYW5kbGVBY3Rpb24oKVxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUFjdGlvbih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcywgdGhpcy52aWV3LCBqaW11TWFwVmlldylcclxuICAgICAgICAgICAgdGhpcy5pc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPSBmYWxzZVxyXG4gICAgICAgICAgfSwgdGhpcy5pc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPyA1MDAgOiAwKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzTWFwVmlldyAodmlldzogTWFwYmFzZVZpZXcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB2aWV3ICYmIHZpZXcuZGVjbGFyZWRDbGFzcyA9PT0gJ2Vzcmkudmlld3MuTWFwVmlldydcclxuICB9XHJcblxyXG4gIGlzU2NlbmVWaWV3ICh2aWV3OiBNYXBiYXNlVmlldyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZpZXcgJiYgdmlldy5kZWNsYXJlZENsYXNzID09PSAnZXNyaS52aWV3cy5TY2VuZVZpZXcnXHJcbiAgfVxyXG5cclxuICBkaWZmUHJvcHMgKHByZXZQcm9wczogUHJvcHMpIHtcclxuICAgIGNvbnN0IGFkZGVkS2V5czogc3RyaW5nW10gPSBbXVxyXG4gICAgY29uc3QgcmVtb3ZlS2V5czogc3RyaW5nW10gPSBbXVxyXG4gICAgY29uc3QgdXBkYXRlZEtleXM6IHN0cmluZ1tdID0gW11cclxuXHJcbiAgICBjb25zdCBjdXJyS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMpXHJcbiAgICBjb25zdCBwcmV2S2V5cyA9IE9iamVjdC5rZXlzKHByZXZQcm9wcylcclxuXHJcbiAgICBjb25zdCBwcmV2S2V5c01hcDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fVxyXG4gICAgcHJldktleXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBwcmV2S2V5c01hcFtrZXldID0gdHJ1ZVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBjdXJyS2V5c01hcDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fVxyXG4gICAgY3VycktleXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBjdXJyS2V5c01hcFtrZXldID0gdHJ1ZVxyXG4gICAgfSlcclxuXHJcbiAgICBjdXJyS2V5cy5mb3JFYWNoKGN1cnJLZXkgPT4ge1xyXG4gICAgICBpZiAocHJldktleXNNYXBbY3VycktleV0pIHtcclxuICAgICAgICBpZiAocHJldlByb3BzW2N1cnJLZXldICE9PSB0aGlzLnByb3BzW2N1cnJLZXldKSB7XHJcbiAgICAgICAgICB1cGRhdGVkS2V5cy5wdXNoKGN1cnJLZXkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFkZGVkS2V5cy5wdXNoKGN1cnJLZXkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgcHJldktleXMuZm9yRWFjaChwcmV2S2V5ID0+IHtcclxuICAgICAgaWYgKCFjdXJyS2V5c01hcFtwcmV2S2V5XSkge1xyXG4gICAgICAgIHJlbW92ZUtleXMucHVzaChwcmV2S2V5KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFkZGVkS2V5cyxcclxuICAgICAgcmVtb3ZlS2V5cyxcclxuICAgICAgdXBkYXRlZEtleXNcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRDb21tb25Nb2R1bGVzICgpIHtcclxuICAgIGNvbnN0IG1vZHVsZXMgPSBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgJ2VzcmkvZ2VvbWV0cnkvRXh0ZW50JyxcclxuICAgICAgJ2VzcmkvVmlld3BvaW50JyxcclxuICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbCcsXHJcbiAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWxJdGVtJyxcclxuICAgICAgJ2VzcmkvQ29sb3InLFxyXG4gICAgICAnZXNyaS9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlJyxcclxuICAgICAgJ2VzcmkvZ2VvbWV0cnkvUG9pbnQnXHJcbiAgICBdKTtcclxuXHJcbiAgICBbXHJcbiAgICAgIHRoaXMuRXh0ZW50LCB0aGlzLlZpZXdwb2ludCwgdGhpcy5Qb3J0YWwsIHRoaXMuUG9ydGFsSXRlbSwgdGhpcy5Db2xvciwgdGhpcy5TcGF0aWFsUmVmZXJlbmNlLCB0aGlzLlBvaW50XHJcbiAgICBdID0gbW9kdWxlc1xyXG5cclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNCYXNpY01vZHVsZXNMb2FkZWQ6IHRydWVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBjYWNoZUxvYWRNb2R1bGVzQW5kQ3JlYXRlTWFwYmFzZVZpZXcgKGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm8pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCB8fCB0aGlzLmlzQ3VycmVudFZpZXdFeHBlY3RlZCgpIHx8IHRoaXMuaXNDcmVhdGluZ0V4cGVjdGVkVmlldygpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVuaXF1ZUlkID0gZGF0YVNvdXJjZUluZm8/LnVuaXF1ZUlkXHJcblxyXG4gICAgaWYgKHVuaXF1ZUlkKSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLm1hcFZpZXdDcmVhdGVGYWlsZWRVbmlxdWVJZHNJbmZvW3VuaXF1ZUlkXVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmdcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgbWFwQ3JlYXRpbmdJbmZvOiBNYXBDcmVhdGluZ0luZm8gPSB7XHJcbiAgICAgIGRhdGFTb3VyY2VJbmZvXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tYXBDcmVhdGluZ0luZm8gPSBtYXBDcmVhdGluZ0luZm9cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoZGF0YVNvdXJjZUluZm8uaXNXZWJNYXApIHtcclxuICAgICAgICAvLyBsb2FkIG1vZHVsZXMgdG8gY3JlYXRlIE1hcFZpZXdcclxuICAgICAgICBpZiAoIXRoaXMuTWFwVmlldykge1xyXG4gICAgICAgICAgY29uc3QgbW9kdWxlcyA9IGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAgICAgICAnZXNyaS9nZW9tZXRyeS9HZW9tZXRyeScsXHJcbiAgICAgICAgICAgICdlc3JpL3dlYm1hcC9Jbml0aWFsVmlld1Byb3BlcnRpZXMnLFxyXG4gICAgICAgICAgICAnZXNyaS9CYXNlbWFwJyxcclxuICAgICAgICAgICAgJ2VzcmkvbGF5ZXJzL1RpbGVMYXllcicsXHJcbiAgICAgICAgICAgICdlc3JpL3ZpZXdzL01hcFZpZXcnLFxyXG4gICAgICAgICAgICAnZXNyaS9XZWJNYXAnXHJcbiAgICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIHRoaXMuR2VvbWV0cnksIHRoaXMuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzLCB0aGlzLkJhc2VtYXAsIHRoaXMuVGlsZUxheWVyLCB0aGlzLk1hcFZpZXcsIHRoaXMuV2ViTWFwXHJcbiAgICAgICAgICBdID0gbW9kdWxlc1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBsb2FkIG1vZHVsZXMgZm9yIGNyZWF0ZSBTY2VuZVZpZXdcclxuICAgICAgICBpZiAoIXRoaXMuU2NlbmVWaWV3KSB7XHJcbiAgICAgICAgICBjb25zdCBtb2R1bGVzID0gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgICAgICdlc3JpL3ZpZXdzL1NjZW5lVmlldycsXHJcbiAgICAgICAgICAgICdlc3JpL1dlYlNjZW5lJ1xyXG4gICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgW1xyXG4gICAgICAgICAgICB0aGlzLlNjZW5lVmlldywgdGhpcy5XZWJTY2VuZVxyXG4gICAgICAgICAgXSA9IG1vZHVsZXNcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9fdW5tb3VudCB8fCB0aGlzLmlzQ3VycmVudFZpZXdFeHBlY3RlZCgpIHx8ICF0aGlzLmlzRGF0YVNvdXJjZUluZm9FeHBlY3RlZChtYXBDcmVhdGluZ0luZm8uZGF0YVNvdXJjZUluZm8pKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlTWFwYmFzZVZpZXcobWFwQ3JlYXRpbmdJbmZvKVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdjYWNoZUxvYWRNb2R1bGVzQW5kQ3JlYXRlTWFwYmFzZVZpZXcgZXJyb3InLCBlKVxyXG5cclxuICAgICAgaWYgKHVuaXF1ZUlkKSB7XHJcbiAgICAgICAgdGhpcy5tYXBWaWV3Q3JlYXRlRmFpbGVkVW5pcXVlSWRzSW5mb1t1bmlxdWVJZF0gPSB0cnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLm1hcENyZWF0aW5nSW5mbyA9PT0gbWFwQ3JlYXRpbmdJbmZvKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRFcnJvclxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5tYXBDcmVhdGluZ0luZm8gPT09IG1hcENyZWF0aW5nSW5mbykge1xyXG4gICAgICB0aGlzLm1hcENyZWF0aW5nSW5mbyA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZU1hcGJhc2VWaWV3IChtYXBDcmVhdGluZ0luZm86IE1hcENyZWF0aW5nSW5mbyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZUluZm8gPSBtYXBDcmVhdGluZ0luZm8uZGF0YVNvdXJjZUluZm9cclxuXHJcbiAgICBpZiAodGhpcy5fX3VubW91bnQgfHwgdGhpcy5pc0N1cnJlbnRWaWV3RXhwZWN0ZWQoKSB8fCAhdGhpcy5pc0RhdGFTb3VyY2VJbmZvRXhwZWN0ZWQoZGF0YVNvdXJjZUluZm8pKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldCBtYXBWaWV3T3B0aW9uIG9yIHNjZW5lVmlld09wdGlvblxyXG4gICAgbGV0IG1hcFZpZXdPcHRpb246IF9fZXNyaS5NYXBWaWV3UHJvcGVydGllcyA9IG51bGxcclxuICAgIGxldCBzY2VuZVZpZXdPcHRpb246IF9fZXNyaS5TY2VuZVZpZXdQcm9wZXJ0aWVzID0gbnVsbFxyXG5cclxuICAgIGlmIChkYXRhU291cmNlSW5mby5pc1dlYk1hcCkge1xyXG4gICAgICAvLyBnZXQgbWFwIHZpZXcgb3B0aW9uXHJcbiAgICAgIG1hcFZpZXdPcHRpb24gPSBhd2FpdCB0aGlzLmdldE1hcFZpZXdPcHRpb25Ub0NyZWF0ZU1hcFZpZXcoZGF0YVNvdXJjZUluZm8pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBnZXQgc2NlbmUgdmlldyBvcHRpb25cclxuICAgICAgc2NlbmVWaWV3T3B0aW9uID0gYXdhaXQgdGhpcy5nZXRTY2VuZVZpZXdPcHRpb25Ub0NyZWF0ZVNjZW5lVmlldyhkYXRhU291cmNlSW5mbylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwb3B1cE9wdGlvbnM6IF9fZXNyaS5Qb3B1cFByb3BlcnRpZXMgPSB7XHJcbiAgICAgIGRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDogdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXBWaWV3T3B0aW9uKSB7XHJcbiAgICAgIG1hcFZpZXdPcHRpb24ucG9wdXAgPSBwb3B1cE9wdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2NlbmVWaWV3T3B0aW9uKSB7XHJcbiAgICAgIHNjZW5lVmlld09wdGlvbi5wb3B1cCA9IHBvcHVwT3B0aW9uc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG5lZWQgdG8gY2hlY2sgdmlldyBhZ2FpbiB0byBhdm9pZCBuZXcgTWFwVmlldygpIHR3aWNlLCBiZWNhdXNlIHdlIHVzZSBhc3luYyBmdW5jdGlvbiB0byBnZXQgbWFwVmlld09wdGlvblxyXG4gICAgaWYgKHRoaXMuX191bm1vdW50IHx8IHRoaXMuaXNDdXJyZW50Vmlld0V4cGVjdGVkKCkgfHwgIXRoaXMuaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkKGRhdGFTb3VyY2VJbmZvKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5pdFVybEhhc2hNYXBPcHRpb25zOiBVcmxQYXJhbXNNYXBPcHRpb25zID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pc1J1bkFwcE1vZGUpIHtcclxuICAgICAgaW5pdFVybEhhc2hNYXBPcHRpb25zID0gdGhpcy5nZXRNYXBPcHRpb25zQnlVcmxIYXNoUGFyYW1zKGRhdGFTb3VyY2VJbmZvLmlzV2ViTWFwKVxyXG5cclxuICAgICAgaWYgKGluaXRVcmxIYXNoTWFwT3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IGhhc2hWaWV3cG9pbnQgPSBpbml0VXJsSGFzaE1hcE9wdGlvbnMudmlld3BvaW50XHJcblxyXG4gICAgICAgIGlmIChtYXBWaWV3T3B0aW9uKSB7XHJcbiAgICAgICAgICBsZXQgem9vbU1heWJlRmxvYXQgPSBmYWxzZVxyXG5cclxuICAgICAgICAgIGlmIChoYXNoVmlld3BvaW50KSB7XHJcbiAgICAgICAgICAgIG1hcFZpZXdPcHRpb24udmlld3BvaW50ID0gaGFzaFZpZXdwb2ludFxyXG4gICAgICAgICAgICB6b29tTWF5YmVGbG9hdCA9IHRydWVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoaW5pdFVybEhhc2hNYXBPcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICBtYXBWaWV3T3B0aW9uLmNlbnRlciA9IGluaXRVcmxIYXNoTWFwT3B0aW9ucy5jZW50ZXJcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiBpbml0VXJsSGFzaE1hcE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgbWFwVmlld09wdGlvbi5zY2FsZSA9IGluaXRVcmxIYXNoTWFwT3B0aW9ucy5zY2FsZVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICgncm90YXRpb24nIGluIGluaXRVcmxIYXNoTWFwT3B0aW9ucykge1xyXG4gICAgICAgICAgICBtYXBWaWV3T3B0aW9uLnJvdGF0aW9uID0gaW5pdFVybEhhc2hNYXBPcHRpb25zLnJvdGF0aW9uXHJcbiAgICAgICAgICAgIHpvb21NYXliZUZsb2F0ID0gdHJ1ZVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh6b29tTWF5YmVGbG9hdCkge1xyXG4gICAgICAgICAgICAvLyBOb3RlLCB3ZSBtdXN0IHNldCBzbmFwVG9ab29tIHRvIGZhbHNlIGlmIHdlIGNhbiBnZXQgaGFzaFZpZXdwb2ludCwgb3RoZXJ3aXNlIHRoZSBmaW5hbCB2aWV3LnNjYWxlIGlzIGRpZmZlcmVudCB3aXRoIGhhc2hWaWV3cG9pbnQuc2NhbGUsXHJcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgaGFzaFZpZXdwb2ludC5zY2FsZSBjb21lcyBmcm9tIGEgZmxvYXQtem9vbSBtYXAgYW5kIHZpZXcuc2NhbGUgY29tZXMgZnJvbSBhIGludC16b29tIG1hcC5cclxuICAgICAgICAgICAgbWFwVmlld09wdGlvbi5jb25zdHJhaW50cy5zbmFwVG9ab29tID0gZmFsc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzY2VuZVZpZXdPcHRpb24pIHtcclxuICAgICAgICAgIGlmIChoYXNoVmlld3BvaW50KSB7XHJcbiAgICAgICAgICAgIHNjZW5lVmlld09wdGlvbi52aWV3cG9pbnQgPSBoYXNoVmlld3BvaW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZpZXc6IE1hcGJhc2VWaWV3ID0gbnVsbFxyXG5cclxuICAgIC8vIGNyZWF0ZSBtYXAgdmlldyBvciBzY2VuZSB2aWV3XHJcbiAgICBpZiAoZGF0YVNvdXJjZUluZm8uaXNXZWJNYXApIHtcclxuICAgICAgdmlldyA9IG5ldyB0aGlzLk1hcFZpZXcobWFwVmlld09wdGlvbikgYXMgTWFwYmFzZVZpZXdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZpZXcgPSBuZXcgdGhpcy5TY2VuZVZpZXcoc2NlbmVWaWV3T3B0aW9uKSBhcyBNYXBiYXNlVmlld1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXcuaW5pdFVybEhhc2hNYXBPcHRpb25zID0gaW5pdFVybEhhc2hNYXBPcHRpb25zXHJcblxyXG4gICAgY29uc3QgbWFwID0gdmlldy5tYXAgYXMgX19lc3JpLk1hcCAmIHsgdGh1bWJuYWlsVXJsOiBzdHJpbmcsIG9yaWdpbmFsQmFzZW1hcDogX19lc3JpLkJhc2VtYXAgfVxyXG5cclxuICAgIC8vIHNldCB2aWV3Lm1hcC5vcmlnaW5hbEJhc2VtYXBcclxuICAgIGNvbnN0IHNldE9yaWdpbmFsQmFzZW1hcCA9ICgpID0+IHtcclxuICAgICAgaWYgKG1hcC5vcmlnaW5hbEJhc2VtYXApIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgb3JpZ2luYWxCYXNlbWFwID0gbWFwLmJhc2VtYXBcclxuXHJcbiAgICAgIC8vIG9yaWdpbmFsQmFzZW1hcCBtYXliZSBudWxsLCB3ZSBuZWVkIHRvIGNoZWNrIG9yaWdpbmFsQmFzZW1hcCBpcyBudWxsIG9yIG5vdFxyXG4gICAgICBpZiAoIW9yaWdpbmFsQmFzZW1hcCkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIW9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwpIHtcclxuICAgICAgICBjb25zdCBtYXBUaHVtYm5haWxVcmwgPSBtYXAudGh1bWJuYWlsVXJsXHJcblxyXG4gICAgICAgIC8vIHVzZSBtYXAudGh1bWJuYWlsVXJsIGFzIG9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwgaWYgb3JpZ2luYWxCYXNlbWFwLnRodW1ibmFpbFVybCBpcyBlbXB0eVxyXG4gICAgICAgIGlmIChtYXBUaHVtYm5haWxVcmwpIHtcclxuICAgICAgICAgIG9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwgPSBtYXBUaHVtYm5haWxVcmxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1hcC5vcmlnaW5hbEJhc2VtYXAgPSBvcmlnaW5hbEJhc2VtYXBcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWFwLmJhc2VtYXApIHtcclxuICAgICAgc2V0T3JpZ2luYWxCYXNlbWFwKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCB3YXRjaEJhc2VtYXBIYW5kbGU6IF9fZXNyaS5IYW5kbGUgPSBudWxsXHJcblxyXG4gICAgICB3YXRjaEJhc2VtYXBIYW5kbGUgPSBtYXAud2F0Y2goJ2Jhc2VtYXAnLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gb25seSB3YXRjaCBvbmNlXHJcbiAgICAgICAgaWYgKHdhdGNoQmFzZW1hcEhhbmRsZSkge1xyXG4gICAgICAgICAgd2F0Y2hCYXNlbWFwSGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3YXRjaEJhc2VtYXBIYW5kbGUgPSBudWxsXHJcblxyXG4gICAgICAgIGlmIChtYXAuYmFzZW1hcCkge1xyXG4gICAgICAgICAgc2V0T3JpZ2luYWxCYXNlbWFwKClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5tYXBiYXNlID0gdGhpc1xyXG4gICAgdmlldy5oaWdoTGlnaHRIYW5kbGVzID0ge31cclxuICAgIHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMgPSB7fVxyXG4gICAgdmlldy5leHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzID0gW11cclxuICAgIHZpZXcucHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2UgPSBmdW5jdGlvbiAoc3RhdGlvbmFyeTogYm9vbGVhbiwgaW50ZXJhY2l2ZTogYm9vbGVhbikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICh2aWV3ICYmICF2aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgY29uc3QgbWFwYmFzZSA9IHZpZXcubWFwYmFzZVxyXG5cclxuICAgICAgICAgIGlmIChtYXBiYXNlICYmICFtYXBiYXNlLl9fdW5tb3VudCAmJiBtYXBiYXNlLnByb3BzICYmIG1hcGJhc2UucHJvcHMub25FeHRlbnRDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIG1hcGJhc2UucHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2Uodmlldywgc3RhdGlvbmFyeSwgaW50ZXJhY2l2ZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCd2aWV3IHB1Ymxpc2ggZXh0ZW50IGNoYW5nZSBtZXNzYWdlIGVycm9yJywgZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZpZXcuaGlkZU1hcFRvb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZpZXcuaXNNYXBUb29sc0hpZGRlbiA9IHRydWVcclxuXHJcbiAgICAgICAgaWYgKHZpZXcgJiYgIXZpZXcuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICBjb25zdCBtYXBiYXNlID0gdmlldy5tYXBiYXNlXHJcblxyXG4gICAgICAgICAgaWYgKG1hcGJhc2UgJiYgIW1hcGJhc2UuX191bm1vdW50ICYmIG1hcGJhc2UucHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKG1hcGJhc2UucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSkge1xyXG4gICAgICAgICAgICAgIC8vIHNldCBubyBhY3RpdmUgdG9vbFxyXG4gICAgICAgICAgICAgIG1hcGJhc2UucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtdWx0aVNvdXJjZU1hcERvbSA9IG1hcGJhc2UucHJvcHMubXVsdGlTb3VyY2VNYXBEb21cclxuXHJcbiAgICAgICAgICAgIGlmIChtdWx0aVNvdXJjZU1hcERvbSkge1xyXG4gICAgICAgICAgICAgIG11bHRpU291cmNlTWFwRG9tLmNsYXNzTGlzdC5hZGQoJ2hpZGUtbWFwLXRvb2xzLWxheW91dCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCd2aWV3IGhpZGUgbWFwIHRvb2xzIGVycm9yJywgZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmlldy52aWV3cG9pbnRIaXN0b3J5ID0gW11cclxuICAgIHZpZXcudmlld3BvaW50SW5kZXggPSAtMVxyXG5cclxuICAgIHZpZXcuc2hvd01hcFRvb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZpZXcuaXNNYXBUb29sc0hpZGRlbiA9IGZhbHNlXHJcblxyXG4gICAgICAgIGlmICh2aWV3ICYmICF2aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgY29uc3QgbWFwYmFzZSA9IHZpZXcubWFwYmFzZVxyXG5cclxuICAgICAgICAgIGlmIChtYXBiYXNlICYmICFtYXBiYXNlLl9fdW5tb3VudCAmJiBtYXBiYXNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpU291cmNlTWFwRG9tID0gbWFwYmFzZS5wcm9wcy5tdWx0aVNvdXJjZU1hcERvbVxyXG5cclxuICAgICAgICAgICAgaWYgKG11bHRpU291cmNlTWFwRG9tKSB7XHJcbiAgICAgICAgICAgICAgbXVsdGlTb3VyY2VNYXBEb20uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1tYXAtdG9vbHMtbGF5b3V0JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3ZpZXcgc2hvdyBtYXAgdG9vbHMgZXJyb3InLCBlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5kYXRhU291cmNlSW5mbyA9IGRhdGFTb3VyY2VJbmZvXHJcblxyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICB0aGlzLmRlc3Ryb3lDdXJyZW50TWFwYmFzZVZpZXcoKVxyXG4gICAgICB0aGlzLnZpZXcgPSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoaXMudmlld1xyXG4gICAgdGhpcy52aWV3ID0gdmlld1xyXG4gICAgdGhpcy5tYXBDcmVhdGluZ0luZm8gPSBudWxsXHJcblxyXG4gICAgaWYgKHRoaXMuaXNSZWFkeVRvQ3JlYXRlSmltdU1hcFZpZXcoKSkge1xyXG4gICAgICB0aGlzLmNyZWF0ZUppbXVNYXBWaWV3KClcclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGUgZm9sbG93aW5nIGNvZGUgYXJlIHNhbWUgZm9yIGJvdGggbWFwIHZpZXcgYW5kIHNjZW5lIHZpZXdcclxuXHJcbiAgICB2aWV3LndoZW4oKCkgPT4ge1xyXG4gICAgICB2aWV3LmlzVmlld1doZW5SZWFkeSA9IHRydWVcclxuXHJcbiAgICAgIGlmICh2aWV3LnZpZXdwb2ludCkge1xyXG4gICAgICAgIHZpZXcudmlld1doZW5Jbml0aWFsVmlld3BvaW50ID0gdmlldy52aWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgICAgIHZpZXcubGFzdFZpZXdwb2ludFRvVXBkYXRlVXJsUGFyYW1zID0gdmlldy52aWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZpZXcudmlld1doZW5Jbml0aWFsVmlld3BvaW50ID0gbnVsbFxyXG4gICAgICAgIHZpZXcubGFzdFZpZXdwb2ludFRvVXBkYXRlVXJsUGFyYW1zID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB2aWV3LnZpZXdXaGVuVGltZXN0YW1wID0gRGF0ZS5ub3coKVxyXG5cclxuICAgICAgLy8gdmlldy53aGVuKCkgaXMgYXN5bmMsIHdlIG5lZWQgdG8gY2hlY2sgdGhlIHZpZXcgaXMgZXhwZWN0ZWQgb3Igbm90XHJcbiAgICAgIC8vIGlmIHRoZSB2aWV3IGlzIG5vdCBleHBlY3RlZCBhZ2Fpbiwgd2UgZG9uJ3QgZXhlY3V0ZSB0aGUgZm9sbG93aW5nIGxvZ2ljXHJcbiAgICAgIGNvbnN0IGlzVmlld09rID0gIXZpZXcuZGVzdHJveWVkICYmIHRoaXMudmlldyA9PT0gdmlldyAmJiB0aGlzLmlzVmlld0V4cGVjdGVkKHZpZXcpXHJcblxyXG4gICAgICBpZiAoIWlzVmlld09rKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmICghdmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgIC8vIG1ha2Ugc3VyZSBwdWJsaXNoIGV4dGVudC1jaGFuZ2UgbWVzc2FnZSBhdCBsZWFzdCBvbmNlXHJcbiAgICAgICAgICB0aGlzLnB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlKHZpZXcsIHRydWUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxMDAwKVxyXG5cclxuICAgICAgdmlldy53YXRjaEludGVyYWN0aW5nSGFuZGxlID0gdmlldy53YXRjaCgnaW50ZXJhY3RpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZXcuaW50ZXJhY3RpbmcpIHtcclxuICAgICAgICAgIE1hcEJhc2UubGFzdEludGVyYWNpdmVWaWV3ID0gdmlld1xyXG4gICAgICAgICAgLy8gV2UgbXVzdCBzZXQgdmlldy5leHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzIHRvIGVtcHR5IGFycmF5LCBiZWN1YXNlIGN1cnJlbnQgdmlldyBpcyB0aGUgZXh0ZW50LWNoYW5nZSBzb3VyY2VyLlxyXG4gICAgICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyh2aWV3LCBbXSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBNYXBWaWV3IGFsd2F5cyB0cmlnZ2VyIHR3aWNlIGV4dGVudCBjaGFuZ2UgZXZlbnQgYWZ0ZXIgdmlldyB3aGVuLCBhYm91dCAzbXMgLSA4MG1zIGFmdGVyIHZpZXcgd2hlbi5cclxuICAgICAgLy8gU2NlbmVWaWV3IGFsd2F5cyB0cmlnZ2VyIDItNSB0aW1lcyBleHRlbnQgY2hhbmdlIGV2ZW50IGFmdGVyIHZpZXcgd2hlbiwgYWJvdXQgMyAtIDUwMDAgbXMsIGRlcGVuZHMgb24gZGF0YS5cclxuICAgICAgdmlldy5leHRlbnRXYXRjaEhhbmRsZSA9IHZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcclxuICAgICAgICBpZiAoIWV4dGVudCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlKHZpZXcsIGZhbHNlKVxyXG5cclxuICAgICAgICBpZiAodmlldy5zdGF0aW9uYXJ5VGltZXJJZCkge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHZpZXcuc3RhdGlvbmFyeVRpbWVySWQpXHJcbiAgICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gbnVsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2UgZG9uJ3QgdXNlIHZpZXcud2F0Y2goJ3N0YXRpb25hcnknLCBjYikgdG8gY2hlY2sgaWYgdmlldyBpcyBzdGF0aWMgb3Igbm90LCBiZWNhdXNlIHRoZSBiZWhhdmlvciBvZiB2aWV3LnN0YXRpb25hcnkgaXMgc3RyYW5nZS5cclxuICAgICAgICAvLyBJbnN0ZWFkLCB3ZSB1c2UgYSB0aW1lb3V0IHRvIGNoZWNrIGlmIHZpZXcgaXMgc3RhdGljIG9yIG5vdC5cclxuICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gbnVsbFxyXG4gICAgICAgICAgLy8gdmlldyBpcyBzdGF0aWMgbm93XHJcblxyXG4gICAgICAgICAgLy8gV2UgbmVlZCB0byBwdWJsaXNoIGV4dGVudC1jaGFuZ2UgbWVzc2FnZSBhZ2FpbiB3aGVuIHZpZXcgaXMgc3RhdGljLlxyXG4gICAgICAgICAgdGhpcy5wdWJsaXNoRXh0ZW50Q2hhbmdlTWVzc2FnZSh2aWV3LCB0cnVlKVxyXG5cclxuICAgICAgICAgIC8vIE5vdGUsIG1ha2Ugc3VyZSB3ZSBjYWxsIHNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KCkgYWZ0ZXIgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UuXHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KHZpZXcsIFtdKVxyXG5cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmlldyA9PT0gTWFwQmFzZS5sYXN0SW50ZXJhY2l2ZVZpZXcgJiYgIXZpZXcuaW50ZXJhY3RpbmcpIHtcclxuICAgICAgICAgICAgICBNYXBCYXNlLmxhc3RJbnRlcmFjaXZlVmlldyA9IG51bGxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICB9LCAyMDApXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoIXZpZXcuZmF0YWxFcnJvcldhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgdmlldy5mYXRhbEVycm9yV2F0Y2hIYW5kbGUgPSB2aWV3LndhdGNoKCdmYXRhbEVycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRG9uJ3QgdXNlIHRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhIHRvIGNoZWNrIGlzIG1hcCB2aXNpYmxlIG9yIG5vdCwgYmVjYXVzZSBtYXBiYXNlIG1heWJlIHVubW91bnRlZCBhbmQgdGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgaXMgc3RpbGwgdHJ1ZS5cclxuICAgICAgICAgICAgLy8gSXQgaXMgbW9yZSBzYWZlIHRvXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlY292ZXJ5ID0gIXZpZXcuaXNJbkNhY2hpbmcgJiYgdmlldy5jb250YWluZXIgJiYgdmlldy5jb250YWluZXIuY2xpZW50V2lkdGggPiAwICYmIHZpZXcuY29udGFpbmVyLmNsaWVudEhlaWdodCA+IDBcclxuICAgICAgICAgICAgY29uc3Qgd2lkZ2V0SWQgPSB0aGlzLnByb3BzPy5iYXNlV2lkZ2V0UHJvcHM/LmlkIHx8ICcnXHJcblxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVjb3ZlcnkpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3dpZGdldElkfSBGYXRhbCBFcnJvciEgVmlldyBoYXMgbG9zdCBpdHMgV2ViR0wgY29udGV4dC4gQXR0ZW1wdGluZyB0byByZWNvdmVyIGl0IGJlY2F1c2UgdGhlIHZpZXcgaXMgdmlzaWJsZS5gKVxyXG4gICAgICAgICAgICAgIHRoaXMudHJ5RmF0YWxFcnJvclJlY292ZXJ5KHZpZXcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt3aWRnZXRJZH0gRmF0YWwgRXJyb3IhIFZpZXcgaGFzIGxvc3QgaXRzIFdlYkdMIGNvbnRleHQuIERvbid0IHJlY292ZXIgaXQgYmVjYXVzZSB0aGUgdmlldyBpcyBub3QgdmlzaWJsZS5gKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYWZ0ZXIgdmlldyBpcyBsb2FkZWQsIHNlbmQgZXh0ZW50IGNoYW5nZSBtZXNzYWdlXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRvayB9LCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1hcExvYWRlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgTWFwTG9hZFN0YXR1cy5Mb2Fkb2spXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBleHRlbnQgaXMgcGFzc2VkIGZyb20gZXh0ZW50TWVzc2FnZSBiZWZvcmUsIGRvbid0IGluaXQgZXh0ZW50IGhlcmUgYXMgdGhpcyB3aWxsIHB1Ymxpc2hcclxuICAgICAgLy8gZXh0ZW50TWVzc2FnZSBhbmQgY2hhbmdlIG90aGVyIG1hcFdpZGdldCdzIGV4dGVudC5cclxuICAgICAgaWYgKCF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcz8ubXV0YWJsZVN0YXRlUHJvcHM/Lnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZT8udmFsdWUpIHtcclxuICAgICAgICAvLyBJbiAyMDIzLlIwMiwgaXQgYWx3YXlzIGNhbGxzIHRoaXMuZ29Ib21lKGZhbHNlKSBoZXJlLiBXZSBrZWVwIGl0IGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgICAgIC8vIEluIHRoZSBuZXh0IHJlbGVhc2UsIGlmIHdlIGNhbiBnZXQgdmlld3BvaW50IGZyb20gdXJsIGhhc2gsIHdlIHdpbGwgdXNlIGl0IGFzIG1hcCBpbml0aWFsIHZpZXdwb2ludC5cclxuICAgICAgICAvLyBGb3IgdGhpcyBjYXNlICh2aWV3LmluaXRVcmxIYXNoVmlld3BvaW50IG5vdCBlbXB0eSksIHdlIGRvbid0IGNhbGwgdGhpcy5nb0hvbWUoZmFsc2UpLCBiZWNhdXNlIGdvSG9tZSB3aWxsIGxldCB0aGUgbWFwIGdvdG8gY29uZmlnLmluaXRpYWxNYXBTdGF0ZS5cclxuICAgICAgICBpZiAoIXZpZXcuaW5pdFVybEhhc2hNYXBPcHRpb25zKSB7XHJcbiAgICAgICAgICB0aGlzLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLmlzTWFwVmlldyh2aWV3KSkge1xyXG4gICAgICAgIC8vIHNuYXBUb1pvb206IHRydWUgbWVhbnMgaW50ZWdlciB6b29tLCBmYWxzZSBtZWFucyBmbG9hdCB6b29tXHJcbiAgICAgICAgLy8gV2UgbmVlZCB0byBzZXQgdGhlIGluaXRpYWwgdmFsdWUgdG8gdHJ1ZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBhbmQga2VlcCB0aGUgc2FtZSBiZWhhdmlvciB3aXRoIE1hcFZpZXdlclxyXG4gICAgICAgIC8vIEFmdGVyIG1hcCBpbml0ZWQsIHdlIHdpbGwgc2V0IHNuYXBUb1pvb20gdG8gZmFsc2UgdG8gZ2V0IHRoZSBiZXN0IHN5bmNocm9uaXphdGlvbiBiZXR3ZWVuIHR3byBtYXAgd2lkZ2V0c1xyXG5cclxuICAgICAgICAvLyBXZSB1c2Ugc2V0VGltZW91dCBoZXJlIHRvIG1ha2Ugc3VyZSB0aGUgYWJvdmUgdGhpcy5nb0hvbWUoZmFsc2UpIGlzIGRvbmUuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAodmlldyBhcyBfX2VzcmkuTWFwVmlldykuY29uc3RyYWludHMuc25hcFRvWm9vbSA9IGZhbHNlXHJcbiAgICAgICAgfSwgMClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHZpZXcpXHJcblxyXG4gICAgdGhpcy50cnlVcGRhdGVDdXJyZW50Vmlld0J5Q29uZmlnUHJvcHModHJ1ZSlcclxuICAgIHRoaXMuY2hlY2tBbmRIYW5kbGVNdXRhYmxlU3RhdGVQcm9wcygpXHJcbiAgfVxyXG5cclxuICBwdWJsaXNoRXh0ZW50Q2hhbmdlTWVzc2FnZSAodmlldzogTWFwYmFzZVZpZXcsIHN0YXRpb25hcnk6IGJvb2xlYW4sIGludGVyYWNpdmU/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICBpZiAoIXZpZXcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm93VGltZSA9IERhdGUubm93KClcclxuXHJcbiAgICBpZiAoIXZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSkge1xyXG4gICAgICB2aWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUgPSBub3dUaW1lXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXh0ZW50ID0gdmlldy5leHRlbnQuY2xvbmUoKVxyXG4gICAgY29uc3Qgdmlld3BvaW50ID0gdmlldy52aWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgY29uc3QgZXh0ZW50TWVzc2FnZSA9IG5ldyBFeHRlbnRDaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBleHRlbnQsIHZpZXdwb2ludCwgc3RhdGlvbmFyeSlcclxuICAgIGV4dGVudE1lc3NhZ2UucHVibGlzaFRpbWUgPSBub3dUaW1lXHJcbiAgICBleHRlbnRNZXNzYWdlLmludGVyYWNpdmUgPSBpbnRlcmFjaXZlIHx8IHZpZXcuaW50ZXJhY3RpbmdcclxuICAgIGNvbnN0IGV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNPZlZpZXcgPSB0aGlzLmdldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNPZlZpZXcodmlldylcclxuXHJcbiAgICBleHRlbnRNZXNzYWdlLnNldFJlbGF0ZWRXaWRnZXRJZHMoZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc09mVmlldylcclxuICAgIGV4dGVudE1lc3NhZ2UuYWRkUmVsYXRlZFdpZGdldElkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKVxyXG4gICAgdGhpcy5wcm9wcy5vbkV4dGVudENoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGV4dGVudE1lc3NhZ2UpXHJcblxyXG4gICAgaWYgKHN0YXRpb25hcnkpIHtcclxuICAgICAgLy8gaGFuZGxlIHZpZXdwb2ludEhpc3RvcnlcclxuICAgICAgY29uc3QgY3VycmVudFZpZXdwb2ludCA9IHZpZXcudmlld3BvaW50LmNsb25lKClcclxuXHJcbiAgICAgIGlmICh2aWV3LnZpZXdwb2ludEhpc3RvcnkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ZXM6IG51bWJlcltdID0gW3ZpZXcudmlld3BvaW50SW5kZXgsIHZpZXcudmlld3BvaW50SW5kZXggLSAxLCB2aWV3LnZpZXdwb2ludEluZGV4ICsgMV1cclxuICAgICAgICBsZXQgaXNTYW1lbGlrZVZpZXdwb2ludDogYm9vbGVhbiA9IGZhbHNlXHJcbiAgICAgICAgY29uc3QgbGFzdFZpZXdwb2ludEluZGV4ID0gdmlldy52aWV3cG9pbnRIaXN0b3J5Lmxlbmd0aCAtIDFcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjb25zdCB2aWV3cG9pbnRJbmRleCA9IGluZGV4ZXNbaV1cclxuXHJcbiAgICAgICAgICBpZiAodmlld3BvaW50SW5kZXggPj0gMCAmJiB2aWV3cG9pbnRJbmRleCA8PSBsYXN0Vmlld3BvaW50SW5kZXgpIHtcclxuICAgICAgICAgICAgY29uc3Qgdmlld3BvaW50ID0gZ2V0Vmlld3BvaW50SW5zdGFuY2VGcm9tSGlzdG9yeSh2aWV3LCB2aWV3cG9pbnRJbmRleClcclxuXHJcbiAgICAgICAgICAgIGlmICh2aWV3cG9pbnQgJiYgaXNTYW1lbGlrZVZpZXdwb2ludHModmlldywgY3VycmVudFZpZXdwb2ludCwgdmlld3BvaW50KSkge1xyXG4gICAgICAgICAgICAgIGlzU2FtZWxpa2VWaWV3cG9pbnQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc1NhbWVsaWtlVmlld3BvaW50KSB7XHJcbiAgICAgICAgICAvLyBjdXJyZW50IHZpZXdwb2ludEhpc3Rvcnk6IHZpZXcudmlld3BvaW50SW5kZXggcG9pbnQgdG8gQ1xyXG4gICAgICAgICAgLy8gQSAtPiBCIC0+IFtDXSAtPiBEIC0+IEVcclxuXHJcbiAgICAgICAgICAvLyB0ZW1wIHZpZXdwb2ludEhpc3RvcnlcclxuICAgICAgICAgIC8vIEEgLT4gQiAtPiBbQ11cclxuICAgICAgICAgIHZpZXcudmlld3BvaW50SGlzdG9yeS5zcGxpY2Uodmlldy52aWV3cG9pbnRJbmRleCArIDEpXHJcblxyXG4gICAgICAgICAgLy8gbmV3IHZpZXdwb2ludEhpc3RvcnlcclxuICAgICAgICAgIC8vIEEgLT4gQiAtPiBDIC0+IFtGXVxyXG4gICAgICAgICAgdmlldy52aWV3cG9pbnRIaXN0b3J5LnB1c2goY3VycmVudFZpZXdwb2ludClcclxuICAgICAgICAgIHZpZXcudmlld3BvaW50SW5kZXggKz0gMVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBmaXJzdCB2aWV3cG9pbnRcclxuICAgICAgICB2aWV3LnZpZXdwb2ludEhpc3RvcnkucHVzaChjdXJyZW50Vmlld3BvaW50KVxyXG4gICAgICAgIHZpZXcudmlld3BvaW50SW5kZXggPSAwXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2aWV3LnN0YXRpb25hcnlDYWxsYmFjaykge1xyXG4gICAgICAgIHZpZXcuc3RhdGlvbmFyeUNhbGxiYWNrKClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGVib3VuY2VVcGRhdGVVcmxIYXNoUGFyYW1zKClcclxuICB9XHJcblxyXG4gIGRlYm91bmNlVXBkYXRlVXJsSGFzaFBhcmFtcyA9ICgpID0+IHt9XHJcblxyXG4gIHVwZGF0ZVVybEhhc2hQYXJhbXMgKCkge1xyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuZ2V0SmltdU1hcFZpZXdGb1ZpZXcodGhpcy52aWV3KVxyXG5cclxuICAgICAgaWYgKGppbXVNYXBWaWV3ICYmIGppbXVNYXBWaWV3LmlzQWN0aXZlKSB7XHJcbiAgICAgICAgLy8gTWFwVmlldyBhbHdheXMgdHJpZ2dlciB0d2ljZSBleHRlbnQgY2hhbmdlIGV2ZW50IGFmdGVyIHZpZXcgd2hlbiwgYWJvdXQgM21zIC0gODBtcyBhZnRlciB2aWV3IHdoZW4uXHJcbiAgICAgICAgLy8gU2NlbmVWaWV3IGFsd2F5cyB0cmlnZ2VyIDItNSB0aW1lcyBleHRlbnQgY2hhbmdlIGV2ZW50IGFmdGVyIHZpZXcgd2hlbiwgYWJvdXQgMyAtIDUwMDAgbXMsIGRlcGVuZHMgb24gZGF0YS5cclxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIHVwZGF0ZSBtYXAgdXJsIHBhcmFtZXRlcnMgZHVyaW5nIG1hcCBpbml0aWFsaXppbmcsIHNvIG5lZWQgdG8gY2hlY2sgdmlld3BvaW50IHJlYWxseSBjaGFuZ2VkIG9yIG5vdC5cclxuICAgICAgICBjb25zdCBpc1ZpZXdwb2ludENoYW5nZSA9ICFpc1NhbWVsaWtlVmlld3BvaW50cyh0aGlzLnZpZXcsIHRoaXMudmlldy52aWV3cG9pbnQsIHRoaXMudmlldy5sYXN0Vmlld3BvaW50VG9VcGRhdGVVcmxQYXJhbXMpXHJcblxyXG4gICAgICAgIGlmIChpc1ZpZXdwb2ludENoYW5nZSkge1xyXG4gICAgICAgICAgLy8gdmlld3BvaW50IHJlYWxseSBjaGFuZ2VkXHJcbiAgICAgICAgICB1cGRhdGVVcmxIYXNoUGFyYW1zRm9yQWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUgKGluaXRpYWxNYXBTdGF0ZTogSW1tdXRhYmxlT2JqZWN0PEluaXRpYWxNYXBTdGF0ZT4pOiBfX2VzcmkuVmlld3BvaW50IHtcclxuICAgIC8vIEZvciAyZCwgaW5pdGlhbE1hcFN0YXRlLmV4dGVudCBhbmQgaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludCBoYXZlIHNvbWUgZGlmZmVyZW5jZS5cclxuICAgIC8vIFRoZSBsb2dpYyBoYXMgcnVuIGxvbmcgdGltZSwgZm9yIG5vdyB3ZSBkb24ndCBjaGFuZ2UgaXRzIGxvZ2ljIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgaWYgKGluaXRpYWxNYXBTdGF0ZS52aWV3VHlwZSA9PT0gJzJkJykge1xyXG4gICAgICByZXR1cm4gbmV3IHRoaXMuVmlld3BvaW50KFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRhcmdldEdlb21ldHJ5OiB0aGlzLkV4dGVudC5mcm9tSlNPTihpbml0aWFsTWFwU3RhdGUuZXh0ZW50KSxcclxuICAgICAgICAgIHJvdGF0aW9uOiBpbml0aWFsTWFwU3RhdGUucm90YXRpb25cclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLlZpZXdwb2ludC5mcm9tSlNPTihpbml0aWFsTWFwU3RhdGUudmlld1BvaW50KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwT3B0aW9uc0J5VXJsSGFzaFBhcmFtcyAoaXMyZCk6IFVybFBhcmFtc01hcE9wdGlvbnMge1xyXG4gICAgbGV0IHJlc3VsdDogVXJsUGFyYW1zTWFwT3B0aW9ucyA9IG51bGxcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpc1J1bkFwcE1vZGUgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pc1J1bkFwcE1vZGVcclxuICAgICAgY29uc3QgcnVudGltZVVybEhhc2hQYXJhbXMgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5ydW50aW1lVXJsSGFzaFBhcmFtc1xyXG5cclxuICAgICAgaWYgKGlzUnVuQXBwTW9kZSAmJiBydW50aW1lVXJsSGFzaFBhcmFtcykge1xyXG4gICAgICAgIHJlc3VsdCA9IGdldE1hcE9wdGlvbnNCeVVybEhhc2hQYXJhbXMocnVudGltZVVybEhhc2hQYXJhbXMsIGlzMmQsIHRoaXMuVmlld3BvaW50LCB0aGlzLlBvaW50LCB0aGlzLlNwYXRpYWxSZWZlcmVuY2UpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcigncGFyc2UgbWFwIG9wdGlvbnMgZnJvbSB1cmwgaGFzaCBwYXJhbXMgZXJyb3InLCBlKVxyXG4gICAgICByZXN1bHQgPSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgY2FsTWFwVmlld1RpbWVab25lICh3ZWJNYXBPcldlYlNjZW5lOiBfX2VzcmkuV2ViTWFwIHwgX19lc3JpLldlYlNjZW5lKTogc3RyaW5nIHtcclxuICAgIGxldCBmaW5hbFRpbWVab25lOiBzdHJpbmcgPSAnJ1xyXG5cclxuICAgIGNvbnN0IHRpbWVab25lUHJvcCA9IHRoaXMucHJvcHM/LmJhc2VXaWRnZXRQcm9wcz8ubWFwVGltZVpvbmVcclxuICAgIGNvbnN0IG9yaWdpbmFsSXRlbVRpbWVab25lID0gKHdlYk1hcE9yV2ViU2NlbmUgYXMgYW55KT8ub3JpZ2luYWxJdGVtVGltZVpvbmVcclxuXHJcbiAgICBpZiAodGltZVpvbmVQcm9wKSB7XHJcbiAgICAgIC8vIGNhc2UxOiB1c2VyIHNldHMgJ0RldmljZSB0aW1lIHpvbmUnIGFzIHRpbWVab25lIGluIEV4QlxyXG4gICAgICAvLyBjYXNlMjogdXNlciBzZXRzICdTcGVjaWZpYyB0aW1lIHpvbmUnIGFzIHRpbWVab25lIGluIEV4QlxyXG4gICAgICBmaW5hbFRpbWVab25lID0gdGltZVpvbmVQcm9wXHJcbiAgICB9IGVsc2UgaWYgKG9yaWdpbmFsSXRlbVRpbWVab25lKSB7XHJcbiAgICAgIC8vIHVzZXIgc2V0cyAnRGF0YSB0aW1lIHpvbmUnIGFzIHRpbWVab25lIGluIEV4QlxyXG4gICAgICAvLyBUaGUgd2VibWFwIGlzIGEgbmV3IG9uZSB3aXRoIHRpbWVab25lLlxyXG4gICAgICBmaW5hbFRpbWVab25lID0gb3JpZ2luYWxJdGVtVGltZVpvbmVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHVzZXIgZG9lc24ndCBzZXQgdGltZVpvbmUgaW4gRXhCXHJcbiAgICAgIC8vIFRoZSB3ZWJtYXAgaXMgYW4gb2xkIG9uZSB3aXRob3V0IHRpbWVab25lLlxyXG4gICAgICBmaW5hbFRpbWVab25lID0gJ3N5c3RlbSdcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmluYWxUaW1lWm9uZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgY3JlYXRlIHdlYiBtYXAgb3Igd2ViIHNjZW5lIGJ5IGRhdGEgc291cmNlLiBUaGlzIG1ldGhvZCBkb2Vzbid0IGNvbnNpZGVyIGRlZmF1bHQgd2ViIG1hcCBjYXNlLlxyXG4gICAqIEBwYXJhbSBkYXRhU291cmNlSW5mb1xyXG4gICAqIEByZXR1cm5zXHJcbiAgICovXHJcbiAgYXN5bmMgY3JlYXRlV2ViTWFwT3JXZWJTY2VuZUJ5RGF0YVNvdXJjZSAoZGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mbyk6IFByb21pc2U8X19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZT4ge1xyXG4gICAgbGV0IHdlYk1hcE9yV2ViU2NlbmU6IF9fZXNyaS5XZWJNYXAgfCBfX2VzcmkuV2ViU2NlbmUgPSBudWxsXHJcbiAgICBjb25zdCBNYXBDbGFzczogdHlwZW9mIF9fZXNyaS5XZWJNYXAgfCB0eXBlb2YgX19lc3JpLldlYlNjZW5lID0gZGF0YVNvdXJjZUluZm8uaXNXZWJNYXAgPyB0aGlzLldlYk1hcCA6IHRoaXMuV2ViU2NlbmVcclxuXHJcbiAgICBjb25zdCBkYXRhU291cmNlSnNvbiA9IGRhdGFTb3VyY2VJbmZvLmRhdGFTb3VyY2VKc29uXHJcblxyXG4gICAgaWYgKGRhdGFTb3VyY2VKc29uLnBvcnRhbFVybCkge1xyXG4gICAgICAvLyBjcmVhdGUgd2ViIG1hcCBvciB3ZWIgc2NlbmUgZm9yIHBvcnRhbFxyXG4gICAgICBjb25zdCBwb3J0YWwgPSBuZXcgdGhpcy5Qb3J0YWwoe1xyXG4gICAgICAgIHVybDogcG9ydGFsVXJsVXRpbHMuZ2V0UGxhdGZvcm1VcmxCeU9yZ1VybChkYXRhU291cmNlSnNvbi5wb3J0YWxVcmwpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB3ZWJNYXBPcldlYlNjZW5lID0gbmV3IE1hcENsYXNzKHtcclxuICAgICAgICBwb3J0YWxJdGVtOiBuZXcgdGhpcy5Qb3J0YWxJdGVtKHtcclxuICAgICAgICAgIGlkOiBkYXRhU291cmNlSnNvbi5pdGVtSWQsXHJcbiAgICAgICAgICBwb3J0YWw6IHBvcnRhbFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBjcmVhdGUgd2ViIG1hcCBvciB3ZWIgc2NlbmUgZm9yIGFyY2dpcyBvbmxpbmVcclxuICAgICAgd2ViTWFwT3JXZWJTY2VuZSA9IG5ldyBNYXBDbGFzcyh7XHJcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZUpzb24uaXRlbUlkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZVV0aWxzLmdldFdoZXRoZXJVc2VQcm94eSgpKSB7XHJcbiAgICAgIGF3YWl0IHdlYk1hcE9yV2ViU2NlbmUubG9hZCgpXHJcbiAgICAgIGF3YWl0IHdlYk1hcE9yV2ViU2NlbmUud2hlbigpXHJcblxyXG4gICAgICAvLyBzZXQgcHJveHkgdXJsIGZvciBsYXllcnMgYW5kIHRhYmxlc1xyXG4gICAgICBjb25zdCBhbGxMYXllcnMgPSB3ZWJNYXBPcldlYlNjZW5lLmFsbExheWVycy50b0FycmF5KClcclxuICAgICAgY29uc3QgdGFibGVzID0gd2ViTWFwT3JXZWJTY2VuZS50YWJsZXMgPyB3ZWJNYXBPcldlYlNjZW5lLnRhYmxlcy50b0FycmF5KCkgOiBbXVxyXG4gICAgICBjb25zdCBsYXllcnNBbmRUYWJsZXMgPSBhbGxMYXllcnMuY29uY2F0KHRhYmxlcykgYXMgQXJyYXk8X19lc3JpLkxheWVyICYgeyB1cmw6IHN0cmluZywgcG9ydGFsSXRlbT86IF9fZXNyaS5Qb3J0YWxJdGVtIH0+XHJcbiAgICAgIGxheWVyc0FuZFRhYmxlcy5mb3JFYWNoKGxheWVyID0+IHtcclxuICAgICAgICBjb25zdCBzb3VyY2VVcmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcihsYXllcilcclxuXHJcbiAgICAgICAgaWYgKCFzb3VyY2VVcmwpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcHJveHlVcmw6IHN0cmluZyA9IGRhdGFTb3VyY2VVdGlscy5nZXREYXRhU291cmNlUHJveHlVcmwoc291cmNlVXJsKVxyXG5cclxuICAgICAgICBpZiAocHJveHlVcmwpIHtcclxuICAgICAgICAgIGxheWVyLnVybCA9IHByb3h5VXJsXHJcblxyXG4gICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGlzIHRoZSB3b3JrYXJvdW5kIHRvIGZpeCBKUyBBUEkgNC4yOCBpc3N1ZS4gTmVlZCB0byBiZSByZXBsYWNlZCB3aXRoIHJlcXVlc3QgaW50ZXJjZXB0b3IgaW4gbmV4dCByZWxlYXNlLlxyXG4gICAgICAgICAgY29uc3QgcG9ydGFsSXRlbSA9IGxheWVyLnBvcnRhbEl0ZW1cclxuXHJcbiAgICAgICAgICBpZiAocG9ydGFsSXRlbSAmJiBwb3J0YWxJdGVtLndoZW4pIHtcclxuICAgICAgICAgICAgcG9ydGFsSXRlbS53aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAvLyBBZnRlciBleGVjdXRlICdsYXllci51cmwgPSBwcm94eVVybCcsIGxheWVyLnVybCBtYXliZSBzdGlsbCBkaWZmZXJlbnQgd2l0aCBwcm94eVVybCwgZS5nLiBwcm94eVVybCBpcyAneHh4L2ZlYXR1cmVzZXJ2ZXIvMCcsIGJ1dCB0aGUgZmluYWwgbGF5ZXIudXJsIGlzICd4eHgvZmVhdHVyZXNlcnZlcicuXHJcbiAgICAgICAgICAgICAgLy8gc28gd2UgdXNlIGxheWVyLnVybCBoZXJlLCBub3QgcHJveHlVcmwuXHJcbiAgICAgICAgICAgICAgcG9ydGFsSXRlbS51cmwgPSBsYXllci51cmxcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHBvcnRhbEl0ZW0uc291cmNlSlNPTikge1xyXG4gICAgICAgICAgICAgICAgcG9ydGFsSXRlbS5zb3VyY2VKU09OLnVybCA9IGxheWVyLnVybFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHdlYk1hcE9yV2ViU2NlbmVcclxuICB9XHJcblxyXG4gIGdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwID0gKCk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xyXG4gICAgY29uc3QgZGVmYXVsdEV4dGVudCA9IHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8gJiYgdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mby5kZWZhdWx0RXh0ZW50XHJcbiAgICBsZXQgdGVtcFZpZXdQb2ludCA9IG51bGxcclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUudmlld1BvaW50KSB7XHJcbiAgICAgIHRlbXBWaWV3UG9pbnQgPSB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVtcFZpZXdQb2ludCA9IG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogbmV3IHRoaXMuRXh0ZW50KHtcclxuICAgICAgICAgICAgeG1pbjogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtaW4sXHJcbiAgICAgICAgICAgIHltaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWluLFxyXG4gICAgICAgICAgICB4bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1heCxcclxuICAgICAgICAgICAgeW1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnltYXgsXHJcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLndraWQgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICAgIHJldHVybiB0ZW1wVmlld1BvaW50XHJcbiAgfVxyXG5cclxuICBnZXREZWZhdWx0V2ViTWFwICgpOiBfX2VzcmkuV2ViTWFwIHtcclxuICAgIGNvbnN0IGRlZmF1bHRFeHRlbnQgPSB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvICYmIHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdEV4dGVudFxyXG5cclxuICAgIGNvbnN0IHRlbXBWaWV3UG9pbnQgPSBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgIHtcclxuICAgICAgICB0YXJnZXRHZW9tZXRyeTogbmV3IHRoaXMuRXh0ZW50KHtcclxuICAgICAgICAgIHhtaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWluLFxyXG4gICAgICAgICAgeW1pbjogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnltaW4sXHJcbiAgICAgICAgICB4bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1heCxcclxuICAgICAgICAgIHltYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWF4LFxyXG4gICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiBkZWZhdWx0RXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Uud2tpZCB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIGNvbnN0IGRlZmF1bHRXZWJtYXAgPSBuZXcgdGhpcy5XZWJNYXAoe1xyXG4gICAgICBwb3J0YWxJdGVtOiB7XHJcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdE1hcElkLFxyXG4gICAgICAgIHBvcnRhbDoge1xyXG4gICAgICAgICAgdXJsOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5wb3J0YWxVcmxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGluaXRpYWxWaWV3UHJvcGVydGllczogbmV3IHRoaXMuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzKHtcclxuICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZSxcclxuICAgICAgICB2aWV3cG9pbnQ6IHRlbXBWaWV3UG9pbnRcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIGRlZmF1bHRXZWJtYXBcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldE1hcFZpZXdPcHRpb25Ub0NyZWF0ZU1hcFZpZXcgKGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm8pOiBQcm9taXNlPF9fZXNyaS5NYXBWaWV3UHJvcGVydGllcz4ge1xyXG4gICAgbGV0IG1hcFZpZXdPcHRpb246IF9fZXNyaS5NYXBWaWV3UHJvcGVydGllc1xyXG5cclxuICAgIGNvbnN0IGluaXRpYWxNYXBTdGF0ZSA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGVcclxuICAgIGxldCB3ZWJNYXA6IF9fZXNyaS5XZWJNYXAgPSBudWxsXHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIHdlYk1hcCA9IHRoaXMuZ2V0RGVmYXVsdFdlYk1hcCgpXHJcbiAgICAgIG1hcFZpZXdPcHRpb24gPSB7XHJcbiAgICAgICAgbWFwOiB3ZWJNYXAsXHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcclxuICAgICAgICB2aWV3cG9pbnQ6IHRoaXMuZ2V0SW5pdFZpZXdQb2ludEZvckRlZmF1bHRXZWJNYXAoKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3ZWJNYXAgPSBhd2FpdCB0aGlzLmNyZWF0ZVdlYk1hcE9yV2ViU2NlbmVCeURhdGFTb3VyY2UoZGF0YVNvdXJjZUluZm8pIGFzIF9fZXNyaS5XZWJNYXBcclxuXHJcbiAgICAgIGlmIChpbml0aWFsTWFwU3RhdGUpIHtcclxuICAgICAgICBtYXBWaWV3T3B0aW9uID0ge1xyXG4gICAgICAgICAgbWFwOiB3ZWJNYXAsXHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMubWFwQ29udGFpbmVyLFxyXG4gICAgICAgICAgdmlld3BvaW50OiBpbml0aWFsTWFwU3RhdGUgJiYgdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUoaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtYXBWaWV3T3B0aW9uID0ge1xyXG4gICAgICAgICAgbWFwOiB3ZWJNYXAsXHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMubWFwQ29udGFpbmVyXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IHRoZSBpbml0aWFsIHRpbWVab25lIG9mIE1hcFZpZXdlclxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgd2ViTWFwLmxvYWQoKVxyXG4gICAgICBhd2FpdCB3ZWJNYXAud2hlbigpXHJcblxyXG4gICAgICBjb25zdCB3ZWJtYXBDb25maWcgPSBhd2FpdCAod2ViTWFwIGFzIGFueSkucmVzb3VyY2VJbmZvXHJcblxyXG4gICAgICBpZiAod2VibWFwQ29uZmlnKSB7XHJcbiAgICAgICAgKHdlYk1hcCBhcyBhbnkpLm9yaWdpbmFsSXRlbVRpbWVab25lID0gd2VibWFwQ29uZmlnLnRpbWVab25lXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignY2FuIG5vdCBnZXQgTWFwVmlld2VyIHRpbWVab25lJywgZSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLnByb3BzPy5iYXNlV2lkZ2V0UHJvcHM/LmNvbmZpZ1xyXG4gICAgY29uc3QgaGlnaGxpZ2h0Q29sb3IgPSBjb25maWc/LnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yIHx8IERFRkFVTFRfSElHSExJR0hUX0NPTE9SXHJcbiAgICBjb25zdCBoaWdobGlnaHRIYWxvQ29sb3IgPSBjb25maWc/LnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9IQUxPX0NPTE9SXHJcbiAgICBtYXBWaWV3T3B0aW9uLmhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcbiAgICAgIGNvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRDb2xvciksXHJcbiAgICAgIGhhbG9Db2xvcjogbmV3IHRoaXMuQ29sb3IoaGlnaGxpZ2h0SGFsb0NvbG9yKVxyXG4gICAgfVxyXG5cclxuICAgIG1hcFZpZXdPcHRpb24uY29uc3RyYWludHMgPSB7XHJcbiAgICAgIC8vIHNuYXBUb1pvb206IHRydWUgbWVhbnMgaW50ZWdlciB6b29tLCBmYWxzZSBtZWFucyBmbG9hdCB6b29tXHJcbiAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBpbml0aWFsIHZhbHVlIHRvIHRydWUgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYW5kIGtlZXAgdGhlIHNhbWUgYmVoYXZpb3Igd2l0aCBNYXBWaWV3ZXJcclxuICAgICAgLy8gQWZ0ZXIgbWFwIGluaXRlZCwgd2Ugd2lsbCBzZXQgc25hcFRvWm9vbSB0byBmYWxzZSB0byBnZXQgdGhlIGJlc3Qgc3luY2hyb25pemF0aW9uIGJldHdlZW4gdHdvIG1hcCB3aWRnZXRzXHJcbiAgICAgIHNuYXBUb1pvb206IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaW5hbFRpbWVab25lID0gdGhpcy5jYWxNYXBWaWV3VGltZVpvbmUod2ViTWFwKVxyXG4gICAgbWFwVmlld09wdGlvbi50aW1lWm9uZSA9IGZpbmFsVGltZVpvbmVcclxuXHJcbiAgICBpZiAoIXdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5xdWVyeU9iamVjdFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIHtcclxuICAgICAgICBjb25zdCBleHRlbnRTdHIgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5xdWVyeU9iamVjdFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0uc3Vic3RyKCdleHRlbnQ9Jy5sZW5ndGgpXHJcbiAgICAgICAgbGV0IGV4dGVudFxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZXh0ZW50ID0gbmV3IHRoaXMuRXh0ZW50KEpTT04ucGFyc2UoZXh0ZW50U3RyKSlcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0JhZCBleHRlbnQgVVJMIHBhcmFtZXRlci4nKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV4dGVudCkge1xyXG4gICAgICAgICAgbWFwVmlld09wdGlvbi5leHRlbnQgPSBleHRlbnRcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWFwVmlld09wdGlvblxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0U2NlbmVWaWV3T3B0aW9uVG9DcmVhdGVTY2VuZVZpZXcgKGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm8pOiBQcm9taXNlPF9fZXNyaS5TY2VuZVZpZXdQcm9wZXJ0aWVzPiB7XHJcbiAgICBjb25zdCB3ZWJTY2VuZSA9IGF3YWl0IHRoaXMuY3JlYXRlV2ViTWFwT3JXZWJTY2VuZUJ5RGF0YVNvdXJjZShkYXRhU291cmNlSW5mbylcclxuXHJcbiAgICBjb25zdCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcyA9IHtcclxuICAgICAgbWFwOiB3ZWJTY2VuZSxcclxuICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lclxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHdpZGdldENvbmZpZyA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZ1xyXG4gICAgY29uc3QgaW5pdGlhbE1hcFN0YXRlID0gd2lkZ2V0Q29uZmlnLmluaXRpYWxNYXBTdGF0ZVxyXG5cclxuICAgIGlmIChpbml0aWFsTWFwU3RhdGUpIHtcclxuICAgICAgbWFwVmlld09wdGlvbi52aWV3cG9pbnQgPSBpbml0aWFsTWFwU3RhdGUgJiYgdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUoaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhpZ2hsaWdodENvbG9yID0gd2lkZ2V0Q29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yIHx8IERFRkFVTFRfSElHSExJR0hUX0NPTE9SXHJcbiAgICBjb25zdCBoaWdobGlnaHRIYWxvQ29sb3IgPSB3aWRnZXRDb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0SGFsb0NvbG9yIHx8IERFRkFVTFRfSElHSExJR0hUX0hBTE9fQ09MT1JcclxuICAgIG1hcFZpZXdPcHRpb24uaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuICAgICAgY29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodENvbG9yKSxcclxuICAgICAgaGFsb0NvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRIYWxvQ29sb3IpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2NlbmVRdWFsaXR5TW9kZSA9IHdpZGdldENvbmZpZy5zY2VuZVF1YWxpdHlNb2RlXHJcblxyXG4gICAgaWYgKHNjZW5lUXVhbGl0eU1vZGUgJiYgc2NlbmVRdWFsaXR5TW9kZSAhPT0gU2NlbmVRdWFsaXR5TW9kZS5hdXRvKSB7XHJcbiAgICAgIG1hcFZpZXdPcHRpb24ucXVhbGl0eVByb2ZpbGUgPSBzY2VuZVF1YWxpdHlNb2RlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB1c2UgJ2xvdycgYXMgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICBtYXBWaWV3T3B0aW9uLnF1YWxpdHlQcm9maWxlID0gU2NlbmVRdWFsaXR5TW9kZS5sb3dcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWFwVmlld09wdGlvblxyXG4gIH1cclxuXHJcbiAgYmluZE1hcEJhc2VWaWV3RXZlbnQgKHZpZXc6IE1hcGJhc2VWaWV3KSB7XHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICB0aGlzLnJlbGVhc2VNYXBiYXNlVmlld0V2ZW50SGFuZGxlcyh2aWV3KVxyXG5cclxuICAgICAgdmlldy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcy5jbGljayA9IHZpZXcub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVsZWFzZUhpZ2hMaWdodEhhbmRsZXModmlldylcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzUmVhZHlUb0NyZWF0ZUppbXVNYXBWaWV3ICgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgICAgLy8gRG9uJ3QgbmVlZCBkYXRhIHNvdXJjZSBpZiB1c2UgZGVmYXVsdCBtYXAuXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXBEcyAmJiB0aGlzLm1hcERzLmlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBnZXRKaW11TWFwVmlld0ZvVmlldyAodmlldzogTWFwYmFzZVZpZXcpOiBKaW11TWFwVmlldyB7XHJcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gdmlldz8uZGF0YVNvdXJjZUluZm8/LmppbXVNYXBWaWV3SWRcclxuXHJcbiAgICBpZiAoamltdU1hcFZpZXdJZCkge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXHJcblxyXG4gICAgICByZXR1cm4gamltdU1hcFZpZXdcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgY3JlYXRlSmltdU1hcFZpZXcgKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzUmVhZHlUb0NyZWF0ZUppbXVNYXBWaWV3KCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmlldyA9IHRoaXMudmlld1xyXG5cclxuICAgIC8vIElmIGRhdGFTb3VyY2VJZCBpcyBudWxsLCBtYWtlIHN1cmUgaXQgY29udmVydHMgdG8gZW1wdHkgc3RyaW5nLlxyXG4gICAgY29uc3QgZGF0YVNvdXJjZUlkID0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgfHwgJydcclxuXHJcbiAgICBjb25zdCB1c2VVcmxIYXNoTGF5ZXJzVmlzaWJpbGl0eSA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlzUnVuQXBwTW9kZVxyXG5cclxuICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlSmltdU1hcFZpZXcoe1xyXG4gICAgICBtYXBXaWRnZXRJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgIGRhdGFTb3VyY2VJZCxcclxuICAgICAgdmlldyxcclxuICAgICAgaXNFbmFibGVQb3B1cDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnICYmICF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuZGlzYWJsZVBvcFVwLFxyXG4gICAgICBtYXBWaWV3TWFuYWdlcjogTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKSxcclxuICAgICAgdXNlVXJsSGFzaExheWVyc1Zpc2liaWxpdHlcclxuICAgIH0pXHJcblxyXG4gICAgdmlldy53aGVuKCgpID0+IHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHZpZXcuZGF0YVNvdXJjZUluZm8uamltdU1hcFZpZXdJZFxyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXHJcblxyXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgICBpZiAoamltdU1hcFZpZXcudmlldykge1xyXG4gICAgICAgICAgamltdU1hcFZpZXcud2hlbkppbXVNYXBWaWV3TG9hZGVkKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghamltdU1hcFZpZXcudmlldykge1xyXG4gICAgICAgICAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KGppbXVNYXBWaWV3SWQpXHJcbiAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmlld0V4cGVjdGVkKHZpZXcpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25KaW11TWFwVmlld0NyZWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25KaW11TWFwVmlld0NyZWF0ZWQoamltdU1hcFZpZXcpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhqaW11TWFwVmlld0lkKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGRlc3Ryb3lDdXJyZW50TWFwYmFzZVZpZXcgKCkge1xyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICB0aGlzLmRlc3Ryb3lNYXBiYXNlVmlldyh0aGlzLnZpZXcpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm90ZSwgZG9uJ3Qgc2V0IHRoaXMubWFwRHMgdG8gbnVsbCBoZXJlLlxyXG4gICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gICAgLy8gV2UgY3JlYXRlIGEgbmV3IE1hcGJhc2UgaW5zdGFuY2UsIG9uRGF0YVNvdXJjZUNyZWF0ZWQgY2FsbGJhY2sgaXMgcXVpY2tseSwgdGhlbiB3ZSBnZXQgdGhpcy5tYXBEcy5cclxuICAgIC8vIFRoZW4gY29tcG9uZW50RGlkTW91bnQgaXMgaW52b2tlZCBmb3Igc29tZSByZWFzb24gKGUuZy4gdGhpcy5pc0Jhc2ljTW9kdWxlc0xvYWRlZCBjaGFuZ2VkIGZyb20gZmFsc2UgdG8gdHJ1ZSksXHJcbiAgICAvLyBhbmQgd2UgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kIHRvIGRlc3Ryb3kgdGhpcy52aWV3LlxyXG4gICAgLy8gU28sIGlmIHdlIHNldCB0aGlzLm1hcERzIHRvIG51bGwsIHdlIHdpbGwgbmV2ZXIgZ2V0IHRoaXMubWFwRHMsXHJcbiAgICAvLyBhbmQgdGhpcy5pc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldygpIGFsd2F5cyByZXR1cm4gZmFsc2UsIHRoZW4gd2UgY2FuJ3QgY3JlYXRlIGppbXUgbWFwIHZpZXcuXHJcbiAgICB0aGlzLnZpZXcgPSBudWxsXHJcbiAgfVxyXG5cclxuICBkZXN0cm95TWFwYmFzZVZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KSB7XHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICAvLyByZWxlYXNlIGhhbmRsZXNcclxuICAgICAgaWYgKHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZSkge1xyXG4gICAgICAgIHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgIHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpZXcuZXh0ZW50V2F0Y2hIYW5kbGUpIHtcclxuICAgICAgICB2aWV3LmV4dGVudFdhdGNoSGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgdmlldy5leHRlbnRXYXRjaEhhbmRsZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpZXcuZmF0YWxFcnJvcldhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgdmlldy5mYXRhbEVycm9yV2F0Y2hIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICB2aWV3LmZhdGFsRXJyb3JXYXRjaEhhbmRsZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpZXcuc3RhdGlvbmFyeVRpbWVySWQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodmlldy5zdGF0aW9uYXJ5VGltZXJJZClcclxuICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzKHZpZXcpXHJcblxyXG4gICAgICB0aGlzLnJlbGVhc2VNYXBiYXNlVmlld0V2ZW50SGFuZGxlcyh2aWV3KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSB2aWV3LmRhdGFTb3VyY2VJbmZvLmppbXVNYXBWaWV3SWRcclxuXHJcbiAgICBpZiAoamltdU1hcFZpZXdJZCkge1xyXG4gICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhqaW11TWFwVmlld0lkKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgdmlldy5kZXN0cm95KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcuaGlnaExpZ2h0SGFuZGxlcykge1xyXG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmlldy5oaWdoTGlnaHRIYW5kbGVzKVxyXG5cclxuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgIHZpZXcuaGlnaExpZ2h0SGFuZGxlc1trZXldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2aWV3LmhpZ2hMaWdodEhhbmRsZXMgPSB7fVxyXG4gIH1cclxuXHJcbiAgcmVsZWFzZU1hcGJhc2VWaWV3RXZlbnRIYW5kbGVzICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMpIHtcclxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMpXHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XHJcbiAgICAgICAgdmlldy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1trZXldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2aWV3Lm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzID0ge31cclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25TdG9yZVJlc291cmNlU2Vzc2lvbnNDaGFuZ2UgKHByZXZSZXNvdXJjZVNlc3Npb25zOiBJbW11dGFibGVPYmplY3Q8UmVzb3VyY2VTZXNzaW9ucz4sIHJlc291cmNlU2Vzc2lvbnM6IEltbXV0YWJsZU9iamVjdDxSZXNvdXJjZVNlc3Npb25zPikge1xyXG4gICAgLy8gV2hlbiB1c2VyIGxvZ2lucywgaXQgd2lsbCB0cmlnZ2VyIG9uU3RvcmVSZXNvdXJjZVNlc3Npb25zQ2hhbmdlIHR3aWNlLCB0aGUgZHVyYXRpb24gaXMgYWJvdXQgMTBtcy4gU28gdXNlIHRoZSBkZWZlciB0byBvbmx5IGhhbmRsZSB0aGUgbGFzdCBvblN0b3JlUmVzb3VyY2VTZXNzaW9uc0NoYW5nZS5cclxuICAgIGxvZGFzaC5kZWZlcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlzTWFwRHNDcmVhdGVGYWlsZWQgPSB0aGlzLmNyZWF0ZUZhaWxlZERhdGFTb3VyY2VJZHNbdGhpcy5wcm9wcy5kYXRhU291cmNlSWRdXHJcblxyXG4gICAgICBpZiAoaXNNYXBEc0NyZWF0ZUZhaWxlZCkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5tYXBDcmVhdGluZ0luZm8pIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLnZpZXcpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLnZpZXcuaXNWaWV3V2hlblJlYWR5KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZXcuaXNJbkNhY2hpbmcpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgIGlmICghamltdU1hcFZpZXcpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYWxsTGF5ZXJzID0gdGhpcy52aWV3Lm1hcD8ubGF5ZXJzPy50b0FycmF5KCkgfHwgW11cclxuICAgICAgY29uc3QgbG9hZEVyckxheWVycyA9IGFsbExheWVycy5maWx0ZXIobGF5ZXIgPT4ge1xyXG4gICAgICAgIHJldHVybiBsYXllci5sb2FkU3RhdHVzID09PSAnZmFpbGVkJyAmJiBsYXllci5sb2FkRXJyb3IgJiYgKGxheWVyIGFzIGFueSkudXJsXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAobG9hZEVyckxheWVycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc2VydmljZU1hbmFnZXIgPSBTZXJ2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgICAgIGNvbnN0IG5vUGVybWlzc2lvblJlc291cmNlSW5mb0xpc3QgPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE5vUGVybWlzc2lvblJlc291cmNlSW5mb0xpc3QoKSB8fCB7fVxyXG5cclxuICAgICAgY29uc3QgaXNTb21lTGF5ZXJSZUxvZ2luID0gbG9hZEVyckxheWVycy5zb21lKGxheWVyID0+IHtcclxuICAgICAgICBjb25zdCBsYXllclVybCA9IChsYXllciBhcyBhbnkpLnVybFxyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VPd25pbmdTeXN0ZW1VcmwgPSBzZXJ2aWNlTWFuYWdlci5nZXRTZXJ2ZXJJbmZvQnlTZXJ2aWNlVXJsKGxheWVyVXJsKT8ub3duaW5nU3lzdGVtVXJsXHJcbiAgICAgICAgY29uc3Qgc2VydmVyUm9vdFVybCA9IHNlcnZpY2VVcmxVdGlscy5nZXRTZXJ2ZXJSb290VXJsKGxheWVyVXJsKVxyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VTdGFuZGFyZFBsYXRmb3JtVXJsID0gcG9ydGFsVXJsVXRpbHMuZ2V0U3RhbmRhcmRQb3J0YWxVcmwoc2VydmljZU93bmluZ1N5c3RlbVVybCB8fCBzZXJ2ZXJSb290VXJsKVxyXG5cclxuICAgICAgICBpZiAoIXNlcnZpY2VTdGFuZGFyZFBsYXRmb3JtVXJsKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByZVVzZXIgPSBwcmV2UmVzb3VyY2VTZXNzaW9ucz8uW3NlcnZpY2VTdGFuZGFyZFBsYXRmb3JtVXJsXSB8fCAnJ1xyXG4gICAgICAgIGNvbnN0IGN1cnJVc2VyID0gcmVzb3VyY2VTZXNzaW9ucz8uW3NlcnZpY2VTdGFuZGFyZFBsYXRmb3JtVXJsXSB8fCAnJ1xyXG5cclxuICAgICAgICBpZiAocHJlVXNlciAhPT0gY3VyclVzZXIgJiYgY3VyclVzZXIgJiYgIW5vUGVybWlzc2lvblJlc291cmNlSW5mb0xpc3RbbGF5ZXJVcmxdKSB7XHJcbiAgICAgICAgICAvLyB1c2VyIGNhbiBhY2Nlc3MgbGF5ZXJVcmwgbm93XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoaXNTb21lTGF5ZXJSZUxvZ2luICYmIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbyAmJiB0aGlzLmlzVmlld0V4cGVjdGVkKHRoaXMudmlldykpIHtcclxuICAgICAgICBjb25zdCBtYXBXaWRnZXRJZCA9IHRoaXMucHJvcHM/LmJhc2VXaWRnZXRQcm9wcz8ud2lkZ2V0SWRcclxuICAgICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gamltdU1hcFZpZXcuaWRcclxuICAgICAgICBjb25zb2xlLmxvZyhgcmVjcmVhdGUgbWFwYmFzZXZpZXcgYmVjYXVzZSBsYXllcnMgdGhhdCBwcmV2aW91c2x5IGZhaWxlZCB0byBsb2FkIGFyZSBub3cgYWNjZXNzaWJsZSwgbWFwV2lkZ2V0SWQ6ICR7bWFwV2lkZ2V0SWR9LCBqaW11TWFwVmlld0lkOiAke2ppbXVNYXBWaWV3SWR9YClcclxuICAgICAgICB0aGlzLmRlc3Ryb3lDdXJyZW50TWFwYmFzZVZpZXcoKVxyXG4gICAgICAgIHRoaXMuY2FjaGVMb2FkTW9kdWxlc0FuZENyZWF0ZU1hcGJhc2VWaWV3KHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uRGF0YVNvdXJjZUNyZWF0ZWQgYW5kIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCB3aWxsIG5vdCBpbnZva2VkIHdoZW4gdGhpcy5wcm9wcy5pc1dlYk1hcCBpcyB0cnVlXHJcbiAgICogQHBhcmFtIGRhdGFTb3VyY2VcclxuICAgKi9cclxuICBvbkRhdGFTb3VyY2VDcmVhdGVkID0gKGRhdGFTb3VyY2U6IE1hcERhdGFTb3VyY2UpOiB2b2lkID0+IHtcclxuICAgIGlmIChkYXRhU291cmNlLmlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkge1xyXG4gICAgICBjb25zdCBpc01hcERzQ3JlYXRlRmFpbGVkQmVmb3JlID0gdGhpcy5jcmVhdGVGYWlsZWREYXRhU291cmNlSWRzW3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkXVxyXG4gICAgICBkZWxldGUgdGhpcy5jcmVhdGVGYWlsZWREYXRhU291cmNlSWRzW3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkXVxyXG4gICAgICB0aGlzLm1hcERzID0gZGF0YVNvdXJjZVxyXG5cclxuICAgICAgaWYgKHRoaXMuaXNSZWFkeVRvQ3JlYXRlSmltdU1hcFZpZXcoKSkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlSmltdU1hcFZpZXcoKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNNYXBEc0NyZWF0ZUZhaWxlZEJlZm9yZSAmJiAhdGhpcy52aWV3ICYmICF0aGlzLm1hcENyZWF0aW5nSW5mbyAmJiB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gJiYgdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvLmRhdGFTb3VyY2VJZCA9PT0gZGF0YVNvdXJjZS5pZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGByZWNyZWF0ZSBtYXAgYmVjYXVzZSBkYXRhIHNvdXJjZSAke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfSBpcyByZWNyZWF0ZWRgKVxyXG4gICAgICAgIHRoaXMuY2FjaGVMb2FkTW9kdWxlc0FuZENyZWF0ZU1hcGJhc2VWaWV3KHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DcmVhdGVEYXRhU291cmNlRmFpbGVkID0gKGVycik6IHZvaWQgPT4ge1xyXG4gICAgY29uc29sZS53YXJuKCdvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQnLCBlcnIpXHJcbiAgICB0aGlzLm1hcERzID0gbnVsbFxyXG4gICAgY29uc3QgZHNJZCA9IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkXHJcbiAgICB0aGlzLmNyZWF0ZUZhaWxlZERhdGFTb3VyY2VJZHNbZHNJZF0gPSB0cnVlXHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZEVycm9yXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQoZHNJZCwgTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0UmVzdG9yZURhdGFGcm9tTVMgKCk6IE1hcGJhc2VSZXN0b3JlRGF0YSB7XHJcbiAgICBjb25zdCBiYXNpY0tleSA9IHRoaXMuZ2V0UmVzdG9yZURhdGFLZXkoKVxyXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsICdyZXN0b3JlRGF0YScsIGJhc2ljS2V5XSkgYXMgTWFwYmFzZVJlc3RvcmVEYXRhXHJcbiAgICByZXR1cm4gcmVzdG9yZURhdGFcclxuICB9XHJcblxyXG4gIHVwZGF0ZVJlc3RvcmVEYXRhVG9NUyAocmVzdG9yZURhdGE6IE1hcGJhc2VSZXN0b3JlRGF0YSkge1xyXG4gICAgY29uc3QgYmFzaWNLZXkgPSB0aGlzLmdldFJlc3RvcmVEYXRhS2V5KClcclxuICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBgcmVzdG9yZURhdGEuJHtiYXNpY0tleX1gLCByZXN0b3JlRGF0YSlcclxuICB9XHJcblxyXG4gIGdldFJlc3RvcmVEYXRhS2V5ICgpIHtcclxuICAgIHJldHVybiBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gXHJcbiAgfVxyXG5cclxuICAvLyBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHN5bmMgdmlld3BvaW50IGJldHdlZW4gdHdvIG1hcGJhc2Ugb2Ygc2FtZSBtYXAgd2lkZ2V0LlxyXG4gIHNldFZpZXdQb2ludCA9ICh2aWV3UG9pbnQ6IF9fZXNyaS5WaWV3cG9pbnQpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLnZpZXcgJiYgdmlld1BvaW50KSB7XHJcbiAgICAgIHRoaXMudmlldy52aWV3cG9pbnQgPSB2aWV3UG9pbnQuY2xvbmUoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzeW5jIHZpZXdwb2ludCBiZXR3ZWVuIHR3byBtYXBiYXNlIG9mIHNhbWUgbWFwIHdpZGdldC5cclxuICBnZXRWaWV3UG9pbnQgPSAoKTogX19lc3JpLlZpZXdwb2ludCA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy52aWV3ICYmIHRoaXMudmlldy52aWV3cG9pbnQgPyB0aGlzLnZpZXcudmlld3BvaW50LmNsb25lKCkgOiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRNYXBMb2FkU3RhdHVzID0gKCk6IE1hcExvYWRTdGF0dXMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1c1xyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld1R5cGUgPSAoKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiB0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB1c2VyIGNsaWNrcyB0aGUgbWFwIHRodWJuYWlsIGluIG1hcCBzZXR0aW5nIHBhZ2UgYW5kIGNoYW5nZSB0aGUgY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQuXHJcbiAgICogQHBhcmFtIHVzZUFtaW5hdGlvblxyXG4gICAqL1xyXG4gIGFzeW5jIGdvSG9tZSAodXNlQW1pbmF0aW9uPzogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3aWRnZXRzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzXHJcblxyXG4gICAgaWYgKHRoaXMudmlldyAmJiB3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkge1xyXG4gICAgICBjb25zdCBpbml0Vmlld1BvaW50ID0gdGhpcy5nZXRNYXBCYXNlSW5pdFZpZXdQb2ludCgpXHJcblxyXG4gICAgICBpZiAoaW5pdFZpZXdQb2ludCkge1xyXG4gICAgICAgIC8vIFRPRE86IG1heWJlIG5lZWQgdG8gc2V0IHZpZXcuY29uc3RyYWludHMuc25hcFRvWm9vbSB0byB0cnVlIGJlZm9yZSBjYWxsIHZpZXcuZ29UbygpIGFuZCByZXNldCBpdCB0byBmYWxzZSBhZnRlciB2aWV3LmdvVG8oKSBpcyBkb25lLlxyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ29Ubyhpbml0Vmlld1BvaW50LCB7XHJcbiAgICAgICAgICBhbmltYXRlOiB1c2VBbWluYXRpb25cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNYXBCYXNlSW5pdFZpZXdQb2ludCAoKTogX19lc3JpLlZpZXdwb2ludCB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5pdFZpZXdQb2ludEZvckRlZmF1bHRXZWJNYXAoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgaW5pdGlhbE1hcFN0YXRlID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZVxyXG5cclxuICAgICAgaWYgKGluaXRpYWxNYXBTdGF0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZShpbml0aWFsTWFwU3RhdGUpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgY29uc3QgbWFwID0gdGhpcy52aWV3Lm1hcCBhcyBfX2VzcmkuV2ViTWFwIHwgX19lc3JpLldlYlNjZW5lXHJcbiAgICAgICAgICByZXR1cm4gbWFwPy5pbml0aWFsVmlld1Byb3BlcnRpZXM/LnZpZXdwb2ludD8uY2xvbmUoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZm9ybWF0TWVzc2FnZSAoaWQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiBpZCwgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1tpZF0gfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZURpc2FibGVXaGVlbCAoKSB7XHJcbiAgICB0aGlzLndpZGdldENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy53aWRnZXRDb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJ1xyXG4gICAgfSwgNTApXHJcbiAgfVxyXG5cclxuICBnZXRNYXBTd2l0Y2hGb3JFcnJvck1hcCAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwIH0pID0+IChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPSdtYXBzd2l0Y2gtY29udGFpbmVyJyBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlzU2hvd01hcFN3aXRjaEJ0biA/ICdibG9jaycgOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCcgPyAxMCA6IDBcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXsoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IHN3aXRjaE1hcCgpIH19IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZXNyaS13aWRnZXQtLWJ1dHRvbic+XHJcbiAgICAgICAgICAgICAgPEljb24gaWNvbj17RXhjaGFuZ2V9IHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdtYXBzd2l0Y2gtaWNvbicgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIHF1ZXJ5RXh0ZW50RnJvbVNpbmdsZUxheWVyUXVlcnlQYXJhbXMgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2UgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKGRhdGFTb3VyY2VJZCkgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZVxyXG4gICAgY29uc3QgcXVlcnlQYXJhbXM6IFNxbFF1ZXJ5UGFyYW1zID0gZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgbGV0IGxheWVyT2JqZWN0UHJvbWlzZVxyXG5cclxuICAgIGlmIChkYXRhU291cmNlPy5sYXllcikge1xyXG4gICAgICBsYXllck9iamVjdFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxheWVyT2JqZWN0UHJvbWlzZSA9IGRhdGFTb3VyY2UuY3JlYXRlSlNBUElMYXllckJ5RGF0YVNvdXJjZSgpLnRoZW4oKGxheWVyT2JqZWN0KSA9PiBQcm9taXNlLnJlc29sdmUobGF5ZXJPYmplY3QpKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcclxuICAgICAgJ2VzcmkvR3JhcGhpYycsXHJcbiAgICAgICdlc3JpL2dlb21ldHJ5L1BvaW50J1xyXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgY29uc3QgW1F1ZXJ5LCBHcmFwaGljLCBQb2ludF0gPSBtb2R1bGVzXHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KClcclxuICAgICAgcXVlcnkud2hlcmUgPSBxdWVyeVBhcmFtcz8ud2hlcmVcclxuXHJcbiAgICAgIHJldHVybiBsYXllck9iamVjdFByb21pc2UudGhlbihsYXllck9iamVjdCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGxheWVyT2JqZWN0LnF1ZXJ5RXh0ZW50KHF1ZXJ5KS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBleHRlbnRDZW50ZXIgPSByZXN1bHQ/LmV4dGVudD8uY2VudGVyXHJcbiAgICAgICAgICBjb25zdCBleHRlbnQgPSByZXN1bHQ/LmV4dGVudFxyXG4gICAgICAgICAgbGV0IHNpbmdsZVBvaW50R3JhcGhpY1xyXG4gICAgICAgICAgaWYgKHJlc3VsdD8uY291bnQgPT09IDEgJiYgKGxheWVyT2JqZWN0Lmdlb21ldHJ5VHlwZSA9PT0gJ3BvaW50JykgJiYgZXh0ZW50Q2VudGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KHtcclxuICAgICAgICAgICAgICB4OiBleHRlbnRDZW50ZXIueCxcclxuICAgICAgICAgICAgICB5OiBleHRlbnRDZW50ZXIueSxcclxuICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBleHRlbnQuc3BhdGlhbFJlZmVyZW5jZVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljID0gbmV3IEdyYXBoaWMoeyBnZW9tZXRyeTogcG9pbnQgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxyXG4gICAgICAgICAgICBzaW5nbGVQb2ludEdyYXBoaWM6IHNpbmdsZVBvaW50R3JhcGhpYyxcclxuICAgICAgICAgICAgY291bnQ6IHJlc3VsdD8uY291bnQsXHJcbiAgICAgICAgICAgIGxheWVyOiBsYXllck9iamVjdFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcXVlcnlFeHRlbnRGcm9tUXVlcnlQYXJhbXMgPSAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgZGF0YVNvdXJjZUlkczogc3RyaW5nW10sIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPikgPT4ge1xyXG4gICAgLy9jb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2VcclxuICAgIC8vY29uc3QgcXVlcnlQYXJhbXM6IFNxbFF1ZXJ5UGFyYW1zID0gZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgY29uc3QgdXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXcgPSAhdXNlRGF0YVNvdXJjZXMuc29tZSh1c2VEYXRhU291cmNlID0+IHtcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UodXNlRGF0YVNvdXJjZS5kYXRhU291cmNlSWQpIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2VcclxuICAgICAgY29uc3QgcXVlcnlQYXJhbXM6IFNxbFF1ZXJ5UGFyYW1zID0gZGF0YVNvdXJjZS5nZXRSdW50aW1lUXVlcnlQYXJhbXMoKVxyXG4gICAgICAvLyB1c2UgZGVmYXVsdCBleHRlbnQgaWYgYWxsIG1lcmdlZCBTUUxzIG9uIGRhdGEgc291cmNlIGlzIHJlbXZvdmVkLlxyXG4gICAgICBjb25zdCBoYXNRdWVyeVdoZXJlID0gcXVlcnlQYXJhbXM/LndoZXJlICYmIHF1ZXJ5UGFyYW1zLndoZXJlICE9PSAnMT0xJ1xyXG5cclxuICAgICAgaWYgKGhhc1F1ZXJ5V2hlcmUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmICh1c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xyXG4gICAgICBjb25zdCBpbml0Vmlld1BvaW50ID0gdGhpcy5nZXRNYXBCYXNlSW5pdFZpZXdQb2ludCgpXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgIHZpZXdwb2ludDogaW5pdFZpZXdQb2ludCxcclxuICAgICAgICB1c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50VmlldzogdHJ1ZSxcclxuICAgICAgICBzaW5nbGVQb2ludEdyYXBoaWM6IG51bGwsXHJcbiAgICAgICAgY291bnQ6IDIsXHJcbiAgICAgICAgbGF5ZXI6IG51bGxcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleHRlbnRSZXN1bHRQcm9taXNlcyA9IFtdXHJcbiAgICBkYXRhU291cmNlSWRzLmZvckVhY2goZGF0YVNvdXJjZUlkID0+IHtcclxuICAgICAgZXh0ZW50UmVzdWx0UHJvbWlzZXMucHVzaCh0aGlzLnF1ZXJ5RXh0ZW50RnJvbVNpbmdsZUxheWVyUXVlcnlQYXJhbXMoZGF0YVNvdXJjZUlkKSlcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGV4dGVudFJlc3VsdFByb21pc2VzKS50aGVuKHJlc3VsdHMgPT4ge1xyXG4gICAgICBsZXQgZnVsbEV4dGVudCA9IG51bGxcclxuICAgICAgbGV0IGNvdW50ID0gMFxyXG4gICAgICBpZiAocmVzdWx0cz8ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcclxuICAgICAgICAgIGlmIChyZXN1bHQuZXh0ZW50KSB7XHJcbiAgICAgICAgICAgIGZ1bGxFeHRlbnQgPSBmdWxsRXh0ZW50ID8gZnVsbEV4dGVudC51bmlvbihyZXN1bHQuZXh0ZW50KSA6IHJlc3VsdC5leHRlbnRcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvdW50ID0gY291bnQgKyByZXN1bHQuY291bnRcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBleHRlbnQ6IGZ1bGxFeHRlbnQsXHJcbiAgICAgICAgICBzaW5nbGVQb2ludEdyYXBoaWM6IG51bGwsXHJcbiAgICAgICAgICBjb3VudDogY291bnQsXHJcbiAgICAgICAgICBsYXllcjogbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGhhbmRsZSBtZXNzYWdlL2FjdGlvbi5cclxuICAgKi9cclxuICBoYW5kbGVBY3Rpb24gKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldywgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSB7XHJcbiAgICBpZiAoIW1hcEJhc2VWaWV3IHx8IG1hcEJhc2VWaWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZVxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3Jab29tVG9GZWF0dXJlQWN0aW9uVmFsdWUobXV0YWJsZVN0YXRlUHJvcHMsIG1hcEJhc2VWaWV3KVxyXG5cclxuICAgIC8vIGNvbnN1bWUgbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZVxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3JQYW5Ub0FjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZVxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3JOZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUobXV0YWJsZVN0YXRlUHJvcHMsIG1hcEJhc2VWaWV3KVxyXG5cclxuICAgIC8vIGNvbnN1bWUgbXV0YWJsZVN0YXRlUHJvcHMuY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZVxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3JDaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLnNlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZVxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3JTZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUobXV0YWJsZVN0YXRlUHJvcHMsIG1hcEJhc2VWaWV3KVxyXG5cclxuICAgIC8vIGNvbnN1bWUgZmxhc2hBY3Rpb25WYWx1ZSBhbmQgZmlsdGVyQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yRmxhc2hBY3Rpb25WYWx1ZUFuZEZpbHRlckFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBoYW5kbGUgc2hvdyBkYXRhIG9uIG1hcCBhY3Rpb25cclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yU2hvd09uTWFwRGF0YXMobXV0YWJsZVN0YXRlUHJvcHMsIGppbXVNYXBWaWV3KVxyXG5cclxuICAgIC8vIGhhbmRsZSBhZGQgZGF0YSB0byBtYXAgYWN0aW9uXHJcbiAgICB0aGlzLmhhbmRsZUFjdGlvbkZvckFkZFRvTWFwRGF0YXMobXV0YWJsZVN0YXRlUHJvcHMsIGppbXVNYXBWaWV3KVxyXG4gIH1cclxuXHJcbiAgZ2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc09mVmlldyAodmlldzogTWFwYmFzZVZpZXcpOiBzdHJpbmdbXSB7XHJcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmdbXSA9IFtdXHJcblxyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgY29uc3QgcmVsYXRlZFdpZGdldElkcyA9IHZpZXcuZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkcyB8fCBbXVxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGNsb25lIHRoZSByZWxhdGVkV2lkZ2V0SWRzLlxyXG4gICAgICByZXN1bHQgPSByZWxhdGVkV2lkZ2V0SWRzLnNsaWNlKClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICBzZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyAodmlldzogTWFwYmFzZVZpZXcsIF9yZWxhdGVkV2lkZ2V0SWRzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgY29uc3QgcmVsYXRlZFdpZGdldElkcyA9IF9yZWxhdGVkV2lkZ2V0SWRzIHx8IFtdXHJcbiAgICAgIC8vIFdlIG5lZWQgdG8gY2xvbmUgdGhlIHJlbGF0ZWRXaWRnZXRJZHMuXHJcbiAgICAgIHZpZXcuZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkcyA9IHJlbGF0ZWRXaWRnZXRJZHMuc2xpY2UoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdHJ5RmF0YWxFcnJvclJlY292ZXJ5ICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgdmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yWm9vbVRvRmVhdHVyZUFjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGlmICghbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlY2VpdmVNZXNzYWdlVGltZSA9IERhdGUubm93KClcclxuXHJcbiAgICBjb25zdCB6b29tVG9GZWF0dXJlQWN0aW9uVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWVcclxuXHJcbiAgICBjb25zdCByZWxhdGVkV2lkZ2V0SWRzOiBzdHJpbmdbXSA9IG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cyB8fCBbXVxyXG5cclxuICAgIGlmIChyZWxhdGVkV2lkZ2V0SWRzICYmIHJlbGF0ZWRXaWRnZXRJZHMuaW5jbHVkZXModGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpKSB7XHJcbiAgICAgIC8vIGF2b2lkIGVuZGxlc3MgbG9vcFxyXG4gICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlID0gem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnZhbHVlXHJcblxyXG4gICAgICBpZiAoem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tZXh0ZW50Jykge1xyXG4gICAgICAgIC8vIFpvb21Ub0V4dGVudEludGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgY29uc3Qgbm93VGltZSA9IERhdGUubm93KClcclxuXHJcbiAgICAgICAgbWFwQmFzZVZpZXcubGFzdFpvb21Ub0V4dGVudFRpbWUgPSBub3dUaW1lXHJcblxyXG4gICAgICAgIC8vIG1hcCB3aWRnZXQxIGV4dGVudCBjaGFnbmVzIGFuZCBtYXAgd2lkZ2V0MiBuZWVkcyB0byBzeW5jIHRoZSBleHRlbnQgYnkgbWVzc2FnZSBhY3Rpb24uXHJcbiAgICAgICAgLy8gRmluYWxseSwgaXQgY2FsbHMgdmlldy5nb1RvKGV4dGVudClcclxuXHJcbiAgICAgICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gICAgICAgIC8vIE9uIGFwcCBsb2FkOlxyXG4gICAgICAgIC8vIDEuIEJvdGggbWFwIHdpZGdldDEgYW5kIG1hcCB3aWRnZXQyIHNldCB6b29tLXRvIGFjdGlvbiBmb3IgZWFjaCBvdGhlci5cclxuICAgICAgICAvLyAyLiBUaGUgaW5pdGlhbCBleHRlbnQgb2YgbWFwIHdpZGdldDEgaXMgZXh0ZW50MSBhbmQgdGhlIGluaXRpYWwgZXh0ZW50IG9mIG1hcCB3aWRnZXQyIGlzIGV4dGVudDIuXHJcbiAgICAgICAgLy8gMy4gbWFwIHdpZGdldDEgZmlyc3QgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UgYWZ0ZXIgdGhlIHZpZXcgaXMgcmVhZHkuXHJcbiAgICAgICAgLy8gNC4gVGhlbiBtYXAgd2lkZ2V0MiBwdWJsaXNoIGV4dGVudC1jaGFuZ2UgbWVzc2FnZS5cclxuICAgICAgICAvLyA1LiBUaGVuIG1hcCB3aWRnZXQyIHJlY2VpdmUgbWVzc2FnZSBmcm9tIG1hcCB3aWRnZXQxIGFuZCBjYWxsIGhhbmRsZUFjdGlvbi5cclxuICAgICAgICAvLyA2LiBUaGVuIG1hcCB3aWRnZXQxIHJlY2VpdmUgbWVzc2FnZSBmcm9tIG1hcCB3aWRnZXQyIGFuZCBjYWxsIGhhbmRsZUFjdGlvbi5cclxuICAgICAgICAvLyBBdCBsYXN0LCB0aGUgZXh0ZW50IG9mIG1hcCB3aWRnZXQxIGlzIGV4dGVudDIgYW5kIHRoZSBleHRlbnQgb2YgbWFwIHdpZGdldDIgaXMgZXh0ZW50MS4gVGhpcyBpcyBub3QgdGhlIGV4cGVjdGVkIHJlc3VsdC5cclxuICAgICAgICAvLyBUbyBhdm9pZCB0aGUgYWJvdmUgY2FzZSwgd2UgbmVlZCB0byBzdG9wIHRoZSBzdGVwNiBiZWNhdXNlIG1hcCB3aWRnZXQxIGZpcnN0IHB1Ymxpc2ggbWVzc2FnZS5cclxuICAgICAgICBsZXQgaXNBYm92ZUNhc2UgPSBmYWxzZVxyXG5cclxuICAgICAgICBpZiAobWFwQmFzZVZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSkge1xyXG4gICAgICAgICAgaWYgKChub3dUaW1lIC0gbWFwQmFzZVZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSkgPD0gMjAwMCkge1xyXG4gICAgICAgICAgICBpZiAobWFwQmFzZVZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSA8PSB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5wdWJsaXNoVGltZSkge1xyXG4gICAgICAgICAgICAgIGlmICghem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuaW50ZXJhY2l2ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gIzE0MzkxLCBpZiBleHRlbnRNZXNzYWdlLmludGVyYWNpdmUgaXMgdHJ1ZSwgbWVhbnMgdGhlIGV4dGVudCBjb21lcyBmcm9tIGEgaW50ZXJhY3RpdmluZyBtYXAgYW5kIG5lZWRzIHRvIHN5bmMgdmlld3BvaW50IHdpdGggdGhlIGludGVyYWN0aXZpbmcgbWFwXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNUd29XaWRnZXRzTXV0dWFsbHlFeHRlbnRDaGFuZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnB1Ymxpc2hXaWRnZXRJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgaXNBYm92ZUNhc2UgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBtYXBCYXNlVmlldyBpcyB0aGUgbGFzdCBpbnRlcmFjdGl2ZSB2aWV3LCBpdCBtZWFucyBtYXBCYXNlVmlldyBpcyB0aGUgZXh0ZW50LWNoYW5nZSBzb3VyY2UsIHdlIHNob3VsZCBpZ25vcmUgdGhlIHpvb20tdG8tZXh0ZW50IG1lc3NhZ2UuXHJcbiAgICAgICAgaWYgKCFpc0Fib3ZlQ2FzZSAmJiBtYXBCYXNlVmlldyAhPT0gTWFwQmFzZS5sYXN0SW50ZXJhY2l2ZVZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IHZpZXdwb2ludCA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnZpZXdwb2ludFxyXG4gICAgICAgICAgY29uc3QgZXh0ZW50ID0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuZXh0ZW50XHJcbiAgICAgICAgICBjb25zdCBzdGF0aW9uYXJ5ID0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuc3RhdGlvbmFyeVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcobWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcblxyXG4gICAgICAgICAgY29uc3Qgdmlld1NSID0gbWFwQmFzZVZpZXcuc3BhdGlhbFJlZmVyZW5jZVxyXG5cclxuICAgICAgICAgIC8vIHZpZXdwb2ludCBoYXMgaGlnaCBwcmlvcml0eSB0aGFuIGV4ZW50LCBiZWNhdXNlIGl0IGNvbnRhaW5zIG1vcmUgaW5mb3JtYXRpb25cclxuICAgICAgICAgIGlmICh2aWV3cG9pbnQpIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHZpZXcgYnkgdmlld3BvaW50XHJcbiAgICAgICAgICAgIGlmIChpc05lZWRQcm9qZWN0Vmlld3BvaW50KHZpZXdwb2ludCwgdmlld1NSKSkge1xyXG4gICAgICAgICAgICAgIGlmIChzdGF0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvbmx5IHByb2plY3QgdGhlIHZpZXdwb2ludCB3aGVuIG1hcCBpcyBzdGF0aWNcclxuICAgICAgICAgICAgICAgIHByb2plY3RWaWV3cG9pbnQodmlld3BvaW50LCB2aWV3U1IpLnRoZW4oKHByb2plY3RlZFZpZXdwb2ludCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAvLyBDb25zaWRlciB0aGlzIGNhc2UoIzE2NDIzKTpcclxuICAgICAgICAgICAgICAgICAgLy8gMS4gaGFuZGxlQWN0aW9uRm9yWm9vbVRvRmVhdHVyZUFjdGlvblZhbHVlIHJlY2VpdmUgbWVzc2FnZSBhdCB0aW1lMSwgdGhlIG1lc3NhZ2Ugdmlld3BvaW50IGlzIHZpZXdwb2ludDFcclxuICAgICAgICAgICAgICAgICAgLy8gMi4gdGhlIHZpZXdwb2ludCBuZWVkcyB0byBiZSBwcm9qZWN0LCB0aGVuIHNlbmQgaHR0cCByZXF1ZXN0IHRvIHByb2plY3QgdGhlIHZpZXdwb2ludDEsIHRoaXMgYXN5bmMgc3RlcCBtYXliZSB0YWtlIGxvbmcgdGltZVxyXG4gICAgICAgICAgICAgICAgICAvLyAzLiB0aGVuIEppbXVNYXBWaWV3IG5lZWRzIHRvIHVwZGF0ZSB2aWV3cG9pbnQgdG8gdmlld3BvaW50MiBieSB1cmwgZGF0YV9pZCAoc3luYyBzdGVwKSBpbiBKaW11TWFwVmlldy5tb3ZlRmVhdHVyZVRvQ2VudGVyKCkgYXQgdGltZTJcclxuICAgICAgICAgICAgICAgICAgLy8gNC4gdGhlbiB0aGUgYXN5bmMgc3RlcDIgaXMgZG9uZSBhdCB0aW1lMywgYW5kIHVkcGF0ZSB2aWV3cG9pbnQgYnkgdGhlIHByb2plY3RlZCB2aWV3cG9pbnQxLCBmaW5hbGx5IHRoZSB2aWV3cG9pbnQgaXMgdGhlIHByb2plY3RlZCB2aWV3cG9pbnQxXHJcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBzdGVwNCBpcyB3cm9uZywgYmVjYXVzZSB2aWV3cG9pbnQyIG9mIHN0ZXAzIGlzIHRoZSBuZXcgb25lLCBhbmQgdGhlIHByb2plY3RlZCB2aWV3cG9pbnQxIGlzIHN0YWxlLlxyXG4gICAgICAgICAgICAgICAgICAvLyBUbyBhdm9pZCB0aGlzIGNhc2UsIHdlIHNob3VsZCBjaGVjayBwcm9qZWN0ZWRWaWV3cG9pbnQgaXMgZnJlc2ggb3Igc3RhbGUuXHJcblxyXG4gICAgICAgICAgICAgICAgICBjb25zdCBpc1Byb2plY3RlZFZpZXdwb2ludFN0YWxlID0gbWFwQmFzZVZpZXcucmVjZWl2ZU1lc3NhZ2VUaW1lT2ZMYXN0Vmlld1VwZGF0ZSAmJiBtYXBCYXNlVmlldy5yZWNlaXZlTWVzc2FnZVRpbWVPZkxhc3RWaWV3VXBkYXRlID4gcmVjZWl2ZU1lc3NhZ2VUaW1lXHJcblxyXG4gICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvamVjdGVkVmlld3BvaW50U3RhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXBCYXNlVmlldy52aWV3cG9pbnQgPSBwcm9qZWN0ZWRWaWV3cG9pbnRcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbWFwQmFzZVZpZXcudmlld3BvaW50ID0gdmlld3BvaW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IG5lZWQgdG8gcmVtb3ZlIHRoZSBmb2xsb3dpbmcgZXh0ZW50IGxvZ2ljXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3IGJ5IGV4dGVudFxyXG4gICAgICAgICAgICBpZiAoaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2UoZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2UsIHZpZXdTUikpIHtcclxuICAgICAgICAgICAgICBpZiAoc3RhdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgLy8gb25seSBwcm9qZWN0IHRoZSBleHRlbnQgd2hlbiBtYXAgaXMgc3RhdGljXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0R2VvbWV0cmllcyhbZXh0ZW50XSwgdmlld1NSKS50aGVuKChwcm9qZWN0ZWRHZW9tZXRyaWVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZEV4dGVudCA9IHByb2plY3RlZEdlb21ldHJpZXNbMF1cclxuICAgICAgICAgICAgICAgICAgbWFwQmFzZVZpZXcuZ29Ubyhwcm9qZWN0ZWRFeHRlbnQpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBtYXBCYXNlVmlldy5nb1RvKGV4dGVudCwgeyBhbmltYXRlOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnR5cGUgPT09ICd6b29tLXRvLXF1ZXJ5LXBhcmFtcycpIHtcclxuICAgICAgICAvLyBab29tVG9RdWVyeVBhcmFtc0ludGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgdGhpcy5xdWVyeUV4dGVudEZyb21RdWVyeVBhcmFtcyhtYXBCYXNlVmlldywgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuZGF0YVNvdXJjZUlkcywgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUudXNlRGF0YVNvdXJjZXMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgbGV0IHRhcmdldFxyXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmNvdW50ID09PSAxICYmIHJlc3VsdD8uc2luZ2xlUG9pbnRHcmFwaGljKSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHtcclxuICAgICAgICAgICAgICBncmFwaGljczogW3Jlc3VsdD8uc2luZ2xlUG9pbnRHcmFwaGljXSxcclxuICAgICAgICAgICAgICBsYXllcjogcmVzdWx0Py5sYXllclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSByZXN1bHQ/LmV4dGVudFxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcobWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcblxyXG4gICAgICAgICAgLy8gQmVjYXVzZSBvZiAnem9vbVRvVXRpbHMnIGRvZXMgbm90IHN1cHBvcnQgJ3ZpZXdwb2ludCcsIHRlbXBvcmFyeSBjb2RlIGZvciB1c2luZyBkZWZhdWx0IHZpZXdwb2ludCBvZiBzY2VuZVZpZXcuXHJcbiAgICAgICAgICBpZiAocmVzdWx0LnVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgIG1hcEJhc2VWaWV3LmdvVG8ocmVzdWx0LnZpZXdwb2ludClcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHpvb21Ub1V0aWxzLnpvb21UbyhtYXBCYXNlVmlldywgdGFyZ2V0LCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS56b29tVG9PcHRpb24pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIGlmICh6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS50eXBlID09PSAnem9vbS10by1hcnJheS1ncmFwaGljcycpIHtcclxuICAgICAgICAvLyBab29tVG9BcnJheUdyYXBoaWNzSW50ZXJuYWxWYWx1ZVxyXG5cclxuICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG5cclxuICAgICAgICB6b29tVG9VdGlscy56b29tVG8obWFwQmFzZVZpZXcsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmFycmF5RmVhdHVyZXMsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbilcclxuICAgICAgfSBlbHNlIGlmICh6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS50eXBlID09PSAnem9vbS10by1sYXllcnMnKSB7XHJcbiAgICAgICAgLy8gWm9vbVRvTGF5ZXJzSW50ZXJuYWxWYWx1ZVxyXG5cclxuICAgICAgICBjb25zdCBkYXRhU291cmNlSWRzID0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuZGF0YVNvdXJjZUlkc1xyXG4gICAgICAgIGdldExheWVyc0Zyb21EYXRhU291cmNlSWRzKGRhdGFTb3VyY2VJZHMpLnRoZW4obGF5ZXJzID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcobWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8obWFwQmFzZVZpZXcsIGxheWVycywgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gem9vbS10by1ncmFwaGljc1xyXG4gICAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmRhdGFTb3VyY2VJZCkgYXMgdW5rbm93biBhcyBKU0FQSUxheWVyTWl4aW4gJiBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAgICAgbGV0IGxheWVyUHJvbWlzZVxyXG5cclxuICAgICAgICBpZiAoZGF0YVNvdXJjZT8ubGF5ZXIpIHtcclxuICAgICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShkYXRhU291cmNlLmxheWVyKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZT8uY3JlYXRlSlNBUElMYXllckJ5RGF0YVNvdXJjZSkge1xyXG4gICAgICAgICAgbGF5ZXJQcm9taXNlID0gZGF0YVNvdXJjZS5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGF5ZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYXllclByb21pc2UudGhlbihsYXllciA9PiB7XHJcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbEdyYXBoaWNzID0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuZmVhdHVyZXMgfHwgW11cclxuXHJcbiAgICAgICAgICBwcm9jZXNzWm9vbVRvRmVhdHVyZXMobWFwQmFzZVZpZXcsIGxheWVyLCBvcmlnaW5hbEdyYXBoaWNzKS50aGVuKGhhbmRsZWRHcmFwaGljcyA9PiB7XHJcbiAgICAgICAgICAgIGxldCB6b29tVG9UYXJnZXQgPSBudWxsXHJcblxyXG4gICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICB6b29tVG9UYXJnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICBsYXllcixcclxuICAgICAgICAgICAgICAgIGdyYXBoaWNzOiBoYW5kbGVkR3JhcGhpY3NcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgem9vbVRvVGFyZ2V0ID0gaGFuZGxlZEdyYXBoaWNzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uID0ge31cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyhtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgICAgICAgICAgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uLnF1ZXJ5UGFyYW1zID0gKGRhdGFTb3VyY2U/LmdldEN1cnJlbnRRdWVyeVBhcmFtcyAmJiBkYXRhU291cmNlLmdldEN1cnJlbnRRdWVyeVBhcmFtcygpKSB8fCAnJ1xyXG4gICAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8obWFwQmFzZVZpZXcsIHpvb21Ub1RhcmdldCwgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvclBhblRvQWN0aW9uVmFsdWUgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKCFtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRJZHM6IHN0cmluZ1tdID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cyB8fCBbXVxyXG4gICAgY29uc3QgcGFuVG9UeXBlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZT8udHlwZVxyXG5cclxuICAgIGlmIChyZWxhdGVkV2lkZ2V0SWRzICYmIHJlbGF0ZWRXaWRnZXRJZHMuaW5jbHVkZXModGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpKSB7XHJcbiAgICAgIC8vIGF2b2lkIGVuZGxlc3MgbG9vcFxyXG4gICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAncGFuVG9BY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICB9IGVsc2UgaWYgKHBhblRvVHlwZSA9PT0gJ3Bhbi10by1xdWVyeS1wYXJhbXMnKSB7XHJcbiAgICAgIGNvbnN0IHBhblRvVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlXHJcbiAgICAgIHRoaXMucXVlcnlFeHRlbnRGcm9tUXVlcnlQYXJhbXMobWFwQmFzZVZpZXcsIHBhblRvVmFsdWUuZGF0YVNvdXJjZUlkcywgcGFuVG9WYWx1ZS51c2VEYXRhU291cmNlcykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gQmVjYXVzZSBvZiAncGFuVG9HZW9tZXRyeScgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ3ZpZXdwb2ludCcsIHRlbXBvcmFyeSBjb2RlIGZvciB1c2luZyBkZWZhdWx0IHZpZXdwb2ludCBvZiBzY2VuZVZpZXcuXHJcbiAgICAgICAgaWYgKHJlc3VsdC51c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0R2VvbWV0cnkgPSByZXN1bHQ/LnZpZXdwb2ludD8uY2FtZXJhPy5wb3NpdGlvbiB8fCByZXN1bHQ/LnZpZXdwb2ludD8udGFyZ2V0R2VvbWV0cnlcclxuICAgICAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShbdGFyZ2V0R2VvbWV0cnldLCBtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYW5Ub0dlb21ldHJ5KFtyZXN1bHQ/LmV4dGVudF0sIG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAocGFuVG9UeXBlID09PSAncGFuLXRvLWxheWVyJykge1xyXG4gICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZVxyXG4gICAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShwYW5Ub1ZhbHVlLmRhdGFTb3VyY2VJZCkgYXMgdW5rbm93biBhcyBKU0FQSUxheWVyTWl4aW4gJiBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAgIGxldCBsYXllclByb21pc2VcclxuXHJcbiAgICAgIGlmIChkYXRhU291cmNlPy5sYXllcikge1xyXG4gICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShkYXRhU291cmNlLmxheWVyKVxyXG4gICAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2U/LmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UpIHtcclxuICAgICAgICBsYXllclByb21pc2UgPSBkYXRhU291cmNlLmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsYXllclByb21pc2UudGhlbihsYXllciA9PiB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1zID0gbnVsbFxyXG5cclxuICAgICAgICBpZiAoZGF0YVNvdXJjZSkge1xyXG4gICAgICAgICAgaWYgKGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zID0gZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgem9vbVRvVXRpbHMubGF5ZXJFeHRlbnQobWFwQmFzZVZpZXcsIGxheWVyLCBxdWVyeVBhcmFtcykudGhlbihsYXllckV4dGVudCA9PiB7XHJcbiAgICAgICAgICBpZiAobGF5ZXJFeHRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5Ub0dlb21ldHJ5KFtsYXllckV4dGVudF0sIG1hcEJhc2VWaWV3LCBbXSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChwYW5Ub1R5cGUgPT09ICdwYW4tdG8tbGF5ZXJzJykge1xyXG4gICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZVxyXG4gICAgICBjb25zdCBkYXRhU291cmNlSWRzID0gcGFuVG9WYWx1ZS5kYXRhU291cmNlSWRzXHJcbiAgICAgIGdldExheWVyc0Zyb21EYXRhU291cmNlSWRzKGRhdGFTb3VyY2VJZHMpLnRoZW4obGF5ZXJzID0+IHtcclxuICAgICAgICBjb25zdCBleHRlbnRQcm9taXNlcyA9IFtdXHJcbiAgICAgICAgbGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4ge1xyXG4gICAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICAgIGV4dGVudFByb21pc2VzLnB1c2goem9vbVRvVXRpbHMubGF5ZXJFeHRlbnQobWFwQmFzZVZpZXcsIGxheWVyKSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgZnVsbEV4dGVudCA9IG51bGxcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZXh0ZW50UHJvbWlzZXMpLnRoZW4oZXh0ZW50cyA9PiB7XHJcbiAgICAgICAgICBleHRlbnRzLmZvckVhY2goZXh0ZW50ID0+IHtcclxuICAgICAgICAgICAgaWYgKGV4dGVudCkge1xyXG4gICAgICAgICAgICAgIGZ1bGxFeHRlbnQgPSBmdWxsRXh0ZW50ID8gZnVsbEV4dGVudC51bmlvbihleHRlbnQpIDogZXh0ZW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBpZiAoZnVsbEV4dGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkoW2Z1bGxFeHRlbnRdLCBtYXBCYXNlVmlldywgW10pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAocGFuVG9UeXBlID09PSAncGFuLXRvLWdlb21ldHJpZXMnKSB7XHJcbiAgICAgIGNvbnN0IHBhblRvVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlXHJcbiAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShwYW5Ub1ZhbHVlLmdlb21ldHJpZXMsIG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgfSBlbHNlIGlmIChwYW5Ub1R5cGUgPT09ICdwYW4tdG8tZXh0ZW50Jykge1xyXG4gICAgICAvLyBtYXAgd2lkZ2V0MSBleHRlbnQgY2hhbmdlcyBhbmQgbWFwIHdpZGdldDIgbmVlZHMgdG8gc3luYyB0aGUgZXh0ZW50IGJ5IG1lc3NhZ2UgYWN0aW9uLlxyXG4gICAgICAvLyBGaW5hbGx5LCBpdCBjYWxscyB2aWV3LmdvVG8oZXh0ZW50LmNlbnRlcikuXHJcblxyXG4gICAgICAvLyBDb25zaWRlciB0aGlzIGNhc2U6XHJcbiAgICAgIC8vIDEuIEJvdGggbWFwIHdpZGdldDEgYW5kIG1hcCB3aWRnZXQyIHNldCBwYW4tdG8gYWN0aW9uIGZvciBlYWNoIG90aGVyLlxyXG4gICAgICAvLyAyLiBUaGUgaW5pdGlhbCBleHRlbnQgb2YgbWFwIHdpZGdldDEgaXMgZXh0ZW50MSBhbmQgdGhlIGluaXRpYWwgZXh0ZW50IG9mIG1hcCB3aWRnZXQyIGlzIGV4dGVudDIuXHJcbiAgICAgIC8vIDMuIG1hcCB3aWRnZXQxIGZpcnN0IHB1Ymxpc2ggZXh0ZW50LWNoYW5nZSBtZXNzYWdlIGFmdGVyIHRoZSB2aWV3IGlzIHJlYWR5LlxyXG4gICAgICAvLyA0LiBUaGVuIG1hcCB3aWRnZXQyIHB1Ymxpc2ggZXh0ZW50LWNoYW5nZSBtZXNzYWdlLlxyXG4gICAgICAvLyA1LiBUaGVuIG1hcCB3aWRnZXQyIHJlY2VpdmUgbWVzc2FnZSBmcm9tIG1hcCB3aWRnZXQxIGFuZCBjYWxsIGhhbmRsZUFjdGlvbi5cclxuICAgICAgLy8gNi4gVGhlbiBtYXAgd2lkZ2V0MSByZWNlaXZlIG1lc3NhZ2UgZnJvbSBtYXAgd2lkZ2V0MiBhbmQgY2FsbCBoYW5kbGVBY3Rpb24uXHJcbiAgICAgIC8vIEF0IGxhc3QsIHRoZSBleHRlbnQgb2YgbWFwIHdpZGdldDEgaXMgZXh0ZW50MiBhbmQgdGhlIGV4dGVudCBvZiBtYXAgd2lkZ2V0MiBpcyBleHRlbnQxLiBUaGlzIGlzIG5vdCB0aGUgZXhwZWN0ZWQgcmVzdWx0LlxyXG4gICAgICAvLyBUbyBhdm9pZCB0aGUgYWJvdmUgY2FzZSwgd2UgbmVlZCB0byBzdG9wIHRoZSBzdGVwNiBiZWNhdXNlIG1hcCB3aWRnZXQxIGZpcnN0IHB1Ymxpc2ggbWVzc2FnZS5cclxuICAgICAgbGV0IGlzQWJvdmVDYXNlID0gZmFsc2VcclxuICAgICAgY29uc3Qgbm93VGltZSA9IERhdGUubm93KClcclxuXHJcbiAgICAgIGlmIChtYXBCYXNlVmlldy5maXJzdFB1Ymxpc2hFeHRlbnRDaGFuZ2VUaW1lKSB7XHJcbiAgICAgICAgaWYgKChub3dUaW1lIC0gbWFwQmFzZVZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSkgPD0gMjAwMCkge1xyXG4gICAgICAgICAgaWYgKG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUgPD0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZS5wdWJsaXNoVGltZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNUd29XaWRnZXRzTXV0dWFsbHlFeHRlbnRDaGFuZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWUucHVibGlzaFdpZGdldElkKSkge1xyXG4gICAgICAgICAgICAgIGlzQWJvdmVDYXNlID0gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb25zaWRlciB0aGlzIGNhc2U6XHJcbiAgICAgIC8vIDEuIFdlIGhhdmUgNCBtYXAgd2lkZ2V0cy4gSGVyZSBhcmUgdGhlIGFjdGlvbnMuXHJcbiAgICAgIC8vIDIuIFdpZGdldDEgLT4gem9vbSB0byAtPiBXaWRnZXQyIC0+IHpvb20gdG8gLT4gV2lkZ2V0NFxyXG4gICAgICAvLyAzLiBXaWRnZXQxIC0+IHpvb20gdG8gLT4gV2lkZ2V0MyAtPiBwYW4gdG8gLT4gV2lkZ2V0NFxyXG4gICAgICAvLyA0LiBXZSBtb3ZlIHRoZSBtYXAgb2Ygd2lkZ2V0MSwgZmluYWxseSB3aWRnZXQ0IHdpbGwgcmVjZWl2ZSB6b29tVG8gYW5kIHBhblRvIGFjdGlvbnMgc2VyaWFsbHksIGxpa2Ugem9vbVRvLCBwYW5Ubywgem9vbVRvLCBwYW5UbywgLi4uXHJcbiAgICAgIC8vIDUuIFN0ZXA0IHdpbGwgcmVzdWx0IGluIHdpZGdldDQncyBtYXAgdmlldyBqdW1waW5nLlxyXG4gICAgICAvLyA2LiBUbyBhdm9pZCB0aGlzIGNhc2UsIHdlIG5lZWQgdG8gc3RvcCBleGVjdXRpbmcgcGFuVG8gYWN0aW9uIGlmIHpvb21UbyBhY3Rpb24gaXMgZXhlY3V0ZWQgcmVjZW50bHkuXHJcbiAgICAgIGxldCBpc1Bhblpvb21Db25mbGljdENhc2UgPSBmYWxzZVxyXG5cclxuICAgICAgaWYgKG1hcEJhc2VWaWV3Lmxhc3Rab29tVG9FeHRlbnRUaW1lKSB7XHJcbiAgICAgICAgLy8gQnkgdGVzdCwgdGhlIGJpZ2dlc3QgZGVsdGEgdGltZSBpcyBhYm91dCAyMDBtcyBpbiBtb3N0IGNhc2VzLCBidXQgaXQgaXMgc2FmZSB0byB1c2UgYSBiaWdnZXIgb25lLlxyXG4gICAgICAgIGlmICgobm93VGltZSAtIG1hcEJhc2VWaWV3Lmxhc3Rab29tVG9FeHRlbnRUaW1lKSA8PSA1MDApIHtcclxuICAgICAgICAgIGlzUGFuWm9vbUNvbmZsaWN0Q2FzZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIG1hcEJhc2VWaWV3IGlzIHRoZSBsYXN0IGludGVyYWN0aXZlIHZpZXcsIGl0IG1lYW5zIG1hcEJhc2VWaWV3IGlzIHRoZSBleHRlbnQtY2hhbmdlIHNvdXJjZSwgd2Ugc2hvdWxkIGlnbm9yZSB0aGUgcGFuLXRvLWV4dGVudCBtZXNzYWdlLlxyXG4gICAgICBpZiAoIWlzQWJvdmVDYXNlICYmICFpc1Bhblpvb21Db25mbGljdENhc2UgJiYgbWFwQmFzZVZpZXcgIT09IE1hcEJhc2UubGFzdEludGVyYWNpdmVWaWV3KSB7XHJcbiAgICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyhtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZVxyXG4gICAgICAgIGNvbnN0IGV4dGVudCA9IHBhblRvVmFsdWUuZ2VvbWV0cmllc1swXVxyXG4gICAgICAgIGNvbnN0IGV4dGVudENlbnRlciA9IGV4dGVudC5jZW50ZXJcclxuICAgICAgICBjb25zdCBzdGF0aW9uYXJ5ID0gcGFuVG9WYWx1ZS5zdGF0aW9uYXJ5XHJcbiAgICAgICAgY29uc3Qgdmlld1NSID0gbWFwQmFzZVZpZXcuc3BhdGlhbFJlZmVyZW5jZVxyXG5cclxuICAgICAgICBpZiAoaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2UoZXh0ZW50Q2VudGVyLnNwYXRpYWxSZWZlcmVuY2UsIHZpZXdTUikpIHtcclxuICAgICAgICAgIGlmIChzdGF0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgcHJvamVjdCB0aGUgZXh0ZW50IHdoZW4gbWFwIGlzIHN0YXRpY1xyXG4gICAgICAgICAgICBwcm9qZWN0R2VvbWV0cmllcyhbZXh0ZW50Q2VudGVyXSwgdmlld1NSKS50aGVuKChwcm9qZWN0ZWRHZW9tZXRyaWVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkQ2VudGVyID0gcHJvamVjdGVkR2VvbWV0cmllc1swXVxyXG4gICAgICAgICAgICAgIG1hcEJhc2VWaWV3LmdvVG8ocHJvamVjdGVkQ2VudGVyKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBtYXBCYXNlVmlldy5nb1RvKGV4dGVudENlbnRlciwgeyBhbmltYXRlOiBmYWxzZSB9KVxyXG4gICAgICAgICAgbWFwQmFzZVZpZXcuY2VudGVyID0gZXh0ZW50Q2VudGVyXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3BhblRvQWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gIH1cclxuXHJcbiAgcGFuVG9HZW9tZXRyeSAob3JpZ2luYWxHZW9tZXRyaWVzOiBfX2VzcmkuR2VvbWV0cnlbXSwgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgcHJvamVjdEdlb21ldHJpZXMob3JpZ2luYWxHZW9tZXRyaWVzLCBtYXBCYXNlVmlldy5zcGF0aWFsUmVmZXJlbmNlKS50aGVuKChwcm9qZWN0ZWRHZW9tZXRyaWVzKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcobWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICAgIG1hcFBhbnRvKG1hcEJhc2VWaWV3LCBwcm9qZWN0ZWRHZW9tZXRyaWVzKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvck5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZSAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMubmV3RmVhdHVyZVNldEFjdGlvblZhbHVlICYmICFtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUucHJvbWlzZSkge1xyXG4gICAgICBjb25zdCBjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlID0gY3JlYXRlTmV3RmVhdHVyZWxheWVyKG1hcEJhc2VWaWV3LCBtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUudmFsdWUpXHJcbiAgICAgIGlmIChjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZS5wcm9taXNlJywgY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZSlcclxuXHJcbiAgICAgICAgY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZS50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICduZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvckNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUpIHtcclxuICAgICAgdXBkYXRlRmVhdHVyZWxheWVyKG1hcEJhc2VWaWV3LCBtdXRhYmxlU3RhdGVQcm9wcy5jaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlKVxyXG4gICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JTZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLnNlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZSkge1xyXG4gICAgICBtYXBCYXNlVmlldy5jbG9zZVBvcHVwKClcclxuXHJcbiAgICAgIHRoaXMucmVsZWFzZUhpZ2hMaWdodEhhbmRsZXMobWFwQmFzZVZpZXcpXHJcblxyXG4gICAgICBjb25zdCBzZWxlY3RGZWF0dXJlSGFuZGxlID0gc2VsZWN0RmVhdHVyZShtYXBCYXNlVmlldywgbXV0YWJsZVN0YXRlUHJvcHMuc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlKVxyXG4gICAgICBpZiAoc2VsZWN0RmVhdHVyZUhhbmRsZSkge1xyXG4gICAgICAgIG1hcEJhc2VWaWV3LmhpZ2hMaWdodEhhbmRsZXNbc2VsZWN0RmVhdHVyZUhhbmRsZS5sYXllcklkXSA9IHNlbGVjdEZlYXR1cmVIYW5kbGUuaGFuZGxlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdzZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgICB9LCA1MDApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JGbGFzaEFjdGlvblZhbHVlQW5kRmlsdGVyQWN0aW9uVmFsdWUgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldyk6IHZvaWQge1xyXG4gICAgY29uc3QgbXV0YWJsZVN0YXRlUHJvcHNLZXlzID0gT2JqZWN0LmtleXMobXV0YWJsZVN0YXRlUHJvcHMpXHJcbiAgICAvLyBXSFk6IHdoeSB1c2UgYXJyYXkuc29tZSgpIGhlcmUgPyB0aGUgY2FsbGJhY2sgYWx3YXlzIHJldHVybiBmYWxzZVxyXG4gICAgbXV0YWJsZVN0YXRlUHJvcHNLZXlzLnNvbWUoYWN0aW9uS2V5ID0+IHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IG1hcEJhc2VWaWV3LmRhdGFTb3VyY2VJbmZvLmppbXVNYXBWaWV3SWRcclxuICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZClcclxuXHJcbiAgICAgIC8vIGhhbmRsZSBmbGFzaCBhY3Rpb25cclxuICAgICAgaWYgKGFjdGlvbktleS5pbmRleE9mKCdmbGFzaEFjdGlvblZhbHVlLScpID09PSAwICYmIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0pIHtcclxuICAgICAgICBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLnF1ZXJ5U1FMICYmIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5KHRlbXBKaW11TWFwVmlldywgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5sYXllckRhdGFTb3VyY2VJZCwgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTClcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBhY3Rpb25LZXksIG51bGwpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGhhbmRsZSBmaWx0ZXIgYWN0aW9uXHJcbiAgICAgIGlmIChhY3Rpb25LZXkuaW5kZXhPZignZmlsdGVyQWN0aW9uVmFsdWUtJykgPT09IDAgJiYgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XSkge1xyXG4gICAgICAgIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUw/Lmxlbmd0aCA+PSAwICYmIGZpbHRlckZlYXR1cmVzQnlRdWVyeSh0ZW1wSmltdU1hcFZpZXcsIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ubGF5ZXJEYXRhU291cmNlSWQsIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUwpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgYWN0aW9uS2V5LCBudWxsKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JTaG93T25NYXBEYXRhcyAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuc2hvd09uTWFwRGF0YXMpIHtcclxuICAgICAgamltdU1hcFZpZXcuZHJhd0RhdGFPbk1hcChtdXRhYmxlU3RhdGVQcm9wcy5zaG93T25NYXBEYXRhcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvckFkZFRvTWFwRGF0YXMgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLmFkZFRvTWFwRGF0YXMpIHtcclxuICAgICAgamltdU1hcFZpZXcuYWRkT3JSZW1vdmVEYXRhT25NYXAobXV0YWJsZVN0YXRlUHJvcHMuYWRkVG9NYXBEYXRhcylcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuXHJcbmludGVyZmFjZSBNdWx0aVNvdXJjZU1hcENvbnRleHRUeXBlIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbWFwV2lkZ2V0SGVpZ2h0OiBudW1iZXJcclxuICBpc1Nob3dNYXBTd2l0Y2hCdG46IGJvb2xlYW5cclxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cclxuICBkYXRhU291cmNlSWRzOiBzdHJpbmdbXVxyXG4gIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nXHJcbiAgc3dpdGNoTWFwOiAoKSA9PiB2b2lkXHJcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4gdm9pZFxyXG4gIGluaXRpYWxNYXBTdGF0ZTogYW55XHJcbiAgbW9iaWxlUGFuZWxDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcbiAgb25Nb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2U6IChNb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50KSA9PiB2b2lkXHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE11bHRpU291cmNlTWFwQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8TXVsdGlTb3VyY2VNYXBDb250ZXh0VHlwZT4oe1xyXG4gIG1hcFdpZGdldElkOiBudWxsLFxyXG4gIG1hcFdpZGdldEhlaWdodDogbnVsbCxcclxuICBpc1Nob3dNYXBTd2l0Y2hCdG46IGZhbHNlLFxyXG4gIGlzRnVsbFNjcmVlbjogZmFsc2UsXHJcbiAgZGF0YVNvdXJjZUlkczogW10sXHJcbiAgYWN0aXZlRGF0YVNvdXJjZUlkOiBudWxsLFxyXG4gIHN3aXRjaE1hcDogKCkgPT4ge30sXHJcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4ge30sXHJcbiAgaW5pdGlhbE1hcFN0YXRlOiBudWxsLFxyXG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBudWxsLFxyXG4gIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiAoTW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudCkgPT4ge30sXHJcbiAgdGhlbWU6IG51bGxcclxufSlcclxuIiwiaW1wb3J0IHtcclxuICBSZWFjdCwgY2xhc3NOYW1lcywgTWVzc2FnZU1hbmFnZXIsIHR5cGUgSW1tdXRhYmxlQXJyYXksIEltbXV0YWJsZSwgb2JzZXJ2ZVN0b3JlLCBSZWFjdFJlc2l6ZURldGVjdG9yLFxyXG4gIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zLCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCB0eXBlIEV4dGVudENoYW5nZU1lc3NhZ2UsIHR5cGUgVXNlRGF0YVNvdXJjZVxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IE1hcEJhc2UsIHsgTWFwTG9hZFN0YXR1cyB9IGZyb20gJy4vbWFwYmFzZSdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5pbXBvcnQgeyB0eXBlIE1hcFdpZGdldFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xyXG5pbXBvcnQgeyBNYXBWaWV3TWFuYWdlciwgdHlwZSBKaW11TWFwVmlldywgdHlwZSBKaW11TWFwVmlld0dyb3VwLCBKaW11TWFwVmlld0NvbXBvbmVudCwgdHlwZSBEZWZhdWx0TWFwSW5mbyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgTWFwRml4ZWRMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L21hcC1maXhlZC1sYXlvdXQnXHJcbmltcG9ydCBNYXBUb29sTGF5b3V0LCB7IHR5cGUgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuLi9sYXlvdXQvbGF5b3V0J1xyXG5pbXBvcnQgcGNMYXlvdXRKc29ucyBmcm9tICcuLi9sYXlvdXQvcGMtbGF5b3V0LWpzb24nXHJcbmltcG9ydCBtb2JpbGVMYXlvdXRKc29ucyBmcm9tICcuLi9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uJ1xyXG5pbXBvcnQgeyBnZXRKaW11TWFwVmlld0lkLCB1cGRhdGVVcmxIYXNoUGFyYW1zRm9yQWN0aXZlSmltdU1hcFZpZXcgfSBmcm9tICcuLi91dGlscydcclxuaW1wb3J0IHsgdHlwZSBMYXlvdXRKc29uIH0gZnJvbSAnLi4vbGF5b3V0L2NvbmZpZydcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgYmFzZVdpZGdldFByb3BzOiBNYXBXaWRnZXRQcm9wc1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkXHJcblxyXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW5cclxuICBvblZpZXdHcm91cENyZWF0ZTogKHZpZXdHcm91cDogSmltdU1hcFZpZXdHcm91cCkgPT4gdm9pZFxyXG4gIG9uSmltdU1hcFZpZXdDcmVhdGVkOiAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB2b2lkXHJcbiAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZTogKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykgPT4gdm9pZFxyXG5cclxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZ1xyXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXHJcblxyXG4gIGlzRnVsbFNjcmVlbjogYm9vbGVhblxyXG4gIGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhblxyXG4gIGRlZmF1bHRNYXBJbmZvPzogRGVmYXVsdE1hcEluZm9cclxuXHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcclxuXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBNYXBDb250YWluZXJTdHlsZSB7XHJcbiAgb3BhY2l0eTogbnVtYmVyXHJcbiAgekluZGV4OiBudW1iZXIgfCBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICBjdXJyZW50TWFwSW5kZXg/OiAwIHwgMVxyXG4gIG11bHRpTWFwU3R5bGU/OiBNYXBDb250YWluZXJTdHlsZVtdXHJcbiAgLy8gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYWx3YXlzIGJpbmRzIHRvIGZpcnN0TWFwRHNJZCBhbmQgcmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhbHdheXMgYmluZHMgdG8gc2Vjb25kTWFwRHNJZFxyXG4gIC8vIGZpcnN0TWFwRHNJZCBhbmQgc2Vjb25kTWFwRHNJZCBhcmUgZGVjaWRlZCBvbmNlIGluIGNvbXBvbmVudERpZE1vdW50KCksIGZpcnN0TWFwRHNJZCBpcyBpbml0aWFsaXplZCBhcyBpbml0aWFsTWFwRGF0YVNvdXJjZUlELFxyXG4gIC8vIGFuZCBzZWNvbmRNYXBEc0lkIGlzIGluaXRpYWxpemVkIG5vdCB0aGUgaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAvLyBDYWxsaW5nIHN3aXRjaE1hcCgpIG1ldGhvZCB3aWxsIG5vdCBjaGFuZ2UgZmlyc3RNYXBEc0lkIGFuZCBzZWNvbmRNYXBEc0lkLlxyXG4gIGZpcnN0TWFwRHNJZD86IHN0cmluZ1xyXG4gIHNlY29uZE1hcERzSWQ/OiBzdHJpbmdcclxuICAvLyBJZiB1c2VBbmltYXRpb24gaXMgdHJ1ZSwgbWVhbnMgd2UgZW5hYmxlIHN3aXRjaGluZyBvcGFjaXR5IGFuaW1hdGlvbiB3aGVuIGNhbGwgc3dpdGNoTWFwKCkgbWV0aG9kXHJcbiAgLy8gYnkgYWRkaW5nIGNsYXNzTmFtZXMgbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXIgYW5kIG11bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyLlxyXG4gIHVzZUFuaW1hdGlvbjogYm9vbGVhblxyXG5cclxuICB1c2VEYXRhU291cmNlcz86IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+XHJcbiAgY3VycmVudEppbXVNYXBWaWV3SWQ/OiBzdHJpbmdcclxuICBtb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50XHJcbiAgbW9iaWxlUGFuZWxDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgLy8gc2hvd09uTWFwRGF0YXNLZXk6IHN0cmluZ1tdXHJcbn1cclxuXHJcbmNvbnN0IFZpc2libGVTdHlsZXMgPSB7XHJcbiAgZmlyc3RNYXBWaXNpYmxlOiBbe1xyXG4gICAgekluZGV4OiAndW5zZXQnLFxyXG4gICAgb3BhY2l0eTogMVxyXG4gIH0sIHtcclxuICAgIHpJbmRleDogLTEsXHJcbiAgICBvcGFjaXR5OiAwXHJcbiAgfV0sXHJcbiAgc2Vjb25kTWFwVmlzaWJsZTogW3tcclxuICAgIHpJbmRleDogLTEsXHJcbiAgICBvcGFjaXR5OiAwXHJcbiAgfSwge1xyXG4gICAgekluZGV4OiAndW5zZXQnLFxyXG4gICAgb3BhY2l0eTogMVxyXG4gIH1dXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpU291cmNlTWFwIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBpc1JlSW5pdGluZzogYm9vbGVhblxyXG4gIG11dGFibGVTdGF0ZVByb3BzTWFwOiB7IFtwcm9wS2V5OiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge31cclxuICB1c2VNYXBXaWRnZXRJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz5cclxuICBfX3VubW91bnQgPSBmYWxzZVxyXG4gIGRvbVJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PlxyXG4gIC8vIFJlY29yZCB0aGUgTXVsdGlTb3VyY2VNYXAgaW5pdGVkIGNvdW50IGZvciB0aGUgc3BlY2lmaWMgbWFwV2lkZ2V0SWQgYXQgcnVudGltZSwgdGhlIGtleSBpcyBtYXAgd2lkZ2V0IGlkLCB0aGUgdmFsdWUgaXMgdGhlIE11bHRpU291cmNlTWFwIGluaXRlZCBjb3VudC5cclxuICAvLyBXZSB1c2UgcnVudGltZUluaXRlZE1hcFdpZGdldHMgdG8gaWRlbnRpZnkgd2hldGhlciB0aGUgTXVsdGlTb3VyY2VNYXAgaXMgaW5pdGlhbGl6ZWQgZm9yIHRoZSBmaXJzdCB0aW1lLFxyXG4gIC8vIGFuZCByZXBsYWNlIGNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEIHdpdGggYWN0aXZlRGF0YVNvdXJjZUlkIGluIHRoZSB1cmwgaGFzaCBkdXJpbmcgdGhlIGZpcnN0IGluaXRpYWxpemF0aW9uLlxyXG4gIHN0YXRpYyBydW50aW1lSW5pdGVkTWFwV2lkZ2V0czogeyBbbWFwV2lkZ2V0SWQ6IHN0cmluZ106IG51bWJlciB9ID0ge31cclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLmRvbVJlZiA9IFJlYWN0LmNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKVxyXG5cclxuICAgIGNvbnN0IG1hcFdpZGdldElkID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRcclxuXHJcbiAgICBpZiAodHlwZW9mIE11bHRpU291cmNlTWFwLnJ1bnRpbWVJbml0ZWRNYXBXaWRnZXRzW21hcFdpZGdldElkXSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgLy8gTXVsdGlTb3VyY2VNYXAgaXMgaW5pdGVkIG11bHRpcGxlIHRpbWVzIGZvciBtYXBXaWRnZXRJZFxyXG4gICAgICBNdWx0aVNvdXJjZU1hcC5ydW50aW1lSW5pdGVkTWFwV2lkZ2V0c1ttYXBXaWRnZXRJZF0gKz0gMVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gTXVsdGlTb3VyY2VNYXAgaXMgaW5pdGVkIGZpcnN0bHkgZm9yIG1hcFdpZGdldElkXHJcbiAgICAgIE11bHRpU291cmNlTWFwLnJ1bnRpbWVJbml0ZWRNYXBXaWRnZXRzW21hcFdpZGdldElkXSA9IDFcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN0b3JlRGF0YSA9IE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdGF0ZVZhbHVlKFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgJ3Jlc3RvcmVEYXRhJyxcclxuICAgICAgYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLW11bHRpbWFwYF0pXHJcbiAgICBpZiAocmVzdG9yZURhdGEpIHtcclxuICAgICAgY29uc3QgbW9iaWxlUGFuZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5pZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1ib3R0b20tcGFuZWxgXHJcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCdcclxuICAgICAgcmVzdG9yZURhdGEubW9iaWxlUGFuZWxDb250YWluZXIgPSBtb2JpbGVQYW5lbENvbnRhaW5lclxyXG5cclxuICAgICAgdGhpcy5yZUluaXRXaWRnZXRJbnN0YW5jZShyZXN0b3JlRGF0YSlcclxuXHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxyXG4gICAgICAgIGByZXN0b3JlRGF0YS4ke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS1tdWx0aW1hcGAsIG51bGwpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBtb2JpbGVQYW5lbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmlkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LWJvdHRvbS1wYW5lbGBcclxuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuY2xhc3NOYW1lID0gJ3ctMTAwIGgtMTAwJ1xyXG5cclxuICAgICAgLy8gVGhlIHdvcmtmbG93IHRvIHNob3cgdG9wIG1hcCBhbmQgYm90dG9tIG1hcDpcclxuICAgICAgLy8gMS4gdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlIGlzIHNldCB0byBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZSwgdGhpcyBsZWFkcyB0byBnZXRDdXJyZW50VmlzaWJsZURzSWQoKSByZXR1cm5pbmcgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQuXHJcbiAgICAgIC8vIDIuIEluIGNvbXBvbmVudERpZE1vdW50LCB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCBpcyBzZXQgdG8gaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgICAgLy8gMy4gV2hlbiBKaW11TWFwVmlldyBjcmVhdGVkLCBoYW5kbGVKaW11TWFwVmlld0NyZWF0ZWQgaXMgY2FsbGVkLCB0aGVuIGhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZCBjYWxscyBjb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZS5cclxuICAgICAgLy8gNC4gSW4gY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUsIGl0IGNhbGxzIHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKCkgYXMgY3VycmVudERhdGFTb3VyY2VJZCwgY3VycmVudERhdGFTb3VyY2VJZCBpcyB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCBkdWUgdG8gc3RlcDEuXHJcbiAgICAgIC8vICAgIEFuZCBiZWNhdXNlIG9mIHN0ZXAyLCB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCBpcyBpbml0aWFsTWFwRGF0YVNvdXJjZUlELCBzbyB0aGUgY3VycmVudERhdGFTb3VyY2VJZCBpcyBpbml0aWFsTWFwRGF0YVNvdXJjZUlELlxyXG4gICAgICAvLyAgICBUaGVuIGNhbGwgSmltdU1hcFZpZXcuc2V0SXNBY3RpdmUoaXNBY3RpdmUpLCBpc0FjdGl2ZSBpcyB0cnVlIGlmIGppbXVNYXBWaWV3LmRhdGFTb3VyY2VJZCBlcXVhbHMgY3VycmVudERhdGFTb3VyY2VJZCwgb3RoZXJ3aXNlIGlzQWN0aXZlIGlzIGZhbHNlLlxyXG5cclxuICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAvLyBzaG93IHVzZURhdGFTb3VyY2VzWzBdIG9uIHRoZSB0b3AgYnkgZGVmYXVsdFxyXG4gICAgICAgIGN1cnJlbnRNYXBJbmRleDogMCxcclxuICAgICAgICBtdWx0aU1hcFN0eWxlOiBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZSxcclxuICAgICAgICBmaXJzdE1hcERzSWQ6IG51bGwsXHJcbiAgICAgICAgc2Vjb25kTWFwRHNJZDogbnVsbCxcclxuICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlLFxyXG4gICAgICAgIHVzZURhdGFTb3VyY2VzOiBudWxsLFxyXG4gICAgICAgIC8vIE5vdGUsIHRoZSBpbml0aWFsIGN1cnJlbnRKaW11TWFwVmlld0lkIGlzIGVtcHR5LCBpdCBpcyBub3QgZW1wdHkgYWZ0ZXIgY2FsbGVkIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUoKSBtZXRob2QuXHJcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3SWQ6IG51bGwsXHJcbiAgICAgICAgbW9iaWxlUGFuZWxDb250ZW50OiBudWxsLFxyXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBtb2JpbGVQYW5lbENvbnRhaW5lcixcclxuICAgICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxyXG4gICAgICAgIC8vIHNob3dPbk1hcERhdGFzS2V5OiBudWxsXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwID0ge31cclxuICAgIHRoaXMudXNlTWFwV2lkZ2V0SWRzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQgPyBJbW11dGFibGUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkgOiBJbW11dGFibGUoW10pXHJcblxyXG4gICAgb2JzZXJ2ZVN0b3JlKHRoaXMub25QYWdlQ2hhbmdlLCBbJ2FwcFJ1bnRpbWVJbmZvJywgJ2N1cnJlbnRQYWdlSWQnXSlcclxuICB9XHJcblxyXG4gIG9uUGFnZUNoYW5nZSA9IChwcmVQYWdlSWQsIGN1cnJlbnRQYWdlSWQpID0+IHtcclxuICAgIC8vIGNsb3NlIGFjdGl2ZSB0b29sXHJcbiAgICBpZiAocHJlUGFnZUlkICYmIGN1cnJlbnRQYWdlSWQgJiYgcHJlUGFnZUlkICE9PSBjdXJyZW50UGFnZUlkKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGFjdGl2ZVRvb2xJbmZvOiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICAvLyBjbG9zZSBhY3RpdmUgdG9vbFxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVRvb2xJbmZvOiBudWxsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVJbml0V2lkZ2V0SW5zdGFuY2UgPSAocmVzdG9yZURhdGEpID0+IHtcclxuICAgIHRoaXMuc3RhdGUgPSByZXN0b3JlRGF0YSBhcyBTdGF0ZVxyXG4gICAgdGhpcy5pc1JlSW5pdGluZyA9IHRydWVcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmIChnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkubWFwV2lkZ2V0c0luZm8pIHtcclxuICAgICAgaWYgKCFnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkubWFwV2lkZ2V0c0luZm9bdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XHJcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLk1hcFdpZGdldEluZm9BZGRlZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgSW1tdXRhYmxlKHsgbWFwV2lkZ2V0SWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkIH0pKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX191bm1vdW50ID0gZmFsc2VcclxuXHJcbiAgICBpZiAodGhpcy5pc1JlSW5pdGluZykge1xyXG4gICAgICAvLyB0aGlzLmlzUmVJbml0aW5nIGlzIHRydWUgbWVhbnMgTXVsdGlTb3VyY2VNYXAgaXMgcmVzdG9yZWQuXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZURhdGFTb3VyY2VzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNcclxuXHJcbiAgICBpZiAodXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgLy8gaW5pdGlhbE1hcERhdGFTb3VyY2VJRCBtYXliZSBjb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCBvciB1cmwgaGFzaCBwYXJhbSBhY3RpdmVfZGF0YXNvdXJjZV9pZFxyXG4gICAgICBsZXQgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEXHJcblxyXG4gICAgICAvLyBJZiB1cmwgaGFzaCBwYXJhbSBhY3RpdmVfZGF0YXNvdXJjZV9pZCBpcyBzZXQgYW5kIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgTXVsdGlTb3VyY2VNYXAgaW5pdGVkLFxyXG4gICAgICAvLyB0aGVuIHdlIHVzZSBhY3RpdmVfZGF0YXNvdXJjZV9pZCBvdmVycmlkZSBjb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlzUnVuQXBwTW9kZSkge1xyXG4gICAgICAgIGNvbnN0IG1hcFdpZGdldElkID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRcclxuICAgICAgICBjb25zdCBmaXJzdFRpbWVJbml0ZWQgPSBNdWx0aVNvdXJjZU1hcC5ydW50aW1lSW5pdGVkTWFwV2lkZ2V0c1ttYXBXaWRnZXRJZF0gPT09IDFcclxuXHJcbiAgICAgICAgaWYgKGZpcnN0VGltZUluaXRlZCkge1xyXG4gICAgICAgICAgLy8gTXVsdGlTb3VyY2VNYXAgaXMgaW5pdGVkIGZpcnN0bHkgZm9yIG1hcFdpZGdldElkLlxyXG4gICAgICAgICAgY29uc3QgcnVudGltZVVybEhhc2hQYXJhbXMgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5ydW50aW1lVXJsSGFzaFBhcmFtc1xyXG5cclxuICAgICAgICAgIGlmIChydW50aW1lVXJsSGFzaFBhcmFtcyAmJiBydW50aW1lVXJsSGFzaFBhcmFtcy5hY3RpdmVfZGF0YXNvdXJjZV9pZCkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxEYXRhU291cmNlSWRzID0gdXNlRGF0YVNvdXJjZXMubWFwKGl0ZW0gPT4gaXRlbS5kYXRhU291cmNlSWQpXHJcblxyXG4gICAgICAgICAgICBpZiAoYWxsRGF0YVNvdXJjZUlkcy5pbmNsdWRlcyhydW50aW1lVXJsSGFzaFBhcmFtcy5hY3RpdmVfZGF0YXNvdXJjZV9pZCkpIHtcclxuICAgICAgICAgICAgICBpbml0aWFsTWFwRGF0YVNvdXJjZUlEID0gcnVudGltZVVybEhhc2hQYXJhbXMuYWN0aXZlX2RhdGFzb3VyY2VfaWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gdGhlIGZvbGxvd2luZyBjb2RlIG1ha2Ugc3VyZSBmaXJzdE1hcERzSWQgcG9pbnRzIHRvIHRoZSBhYm92ZSBpbml0aWFsTWFwRGF0YVNvdXJjZUlEXHJcblxyXG4gICAgICBpZiAoIWluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGZpcnN0TWFwRHNJZDogdXNlRGF0YVNvdXJjZXNbMF0gJiYgdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgICAgc2Vjb25kTWFwRHNJZDogdXNlRGF0YVNvdXJjZXNbMV0gJiYgdXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9PT0gKHVzZURhdGFTb3VyY2VzWzBdICYmIHVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzBdICYmIHVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgICAgc2Vjb25kTWFwRHNJZDogdXNlRGF0YVNvdXJjZXNbMV0gJiYgdXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9PT0gKHVzZURhdGFTb3VyY2VzWzFdICYmIHVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzFdICYmIHVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgICAgc2Vjb25kTWFwRHNJZDogdXNlRGF0YVNvdXJjZXNbMF0gJiYgdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB1c2VEYXRhU291cmNlc1swXSAmJiB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzFdICYmIHVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxyXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xyXG5cclxuICAgIGlmICh3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSAmJiB3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXS51c2VEYXRhU291cmNlcyA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgY29uc3QgcmVzdG9yZURhdGEgPSB7XHJcbiAgICAgICAgY3VycmVudE1hcEluZGV4OiB0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCxcclxuICAgICAgICBtdWx0aU1hcFN0eWxlOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGUsXHJcbiAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCxcclxuICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQsXHJcbiAgICAgICAgdXNlQW5pbWF0aW9uOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbixcclxuICAgICAgICBjdXJyZW50SmltdU1hcFZpZXdJZDogdGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZFxyXG4gICAgICB9XHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxyXG4gICAgICAgIGByZXN0b3JlRGF0YS4ke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS1tdWx0aW1hcGAsIHJlc3RvcmVEYXRhKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghd2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIHtcclxuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLk1hcFdpZGdldEluZm9SZW1vdmVkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRDaGFuZ2VkU3RhdGUgPSAoZmlyc3RNYXBEc0lkLCBzZWNvbmRNYXBEc0lkLCB1c2VEYXRhU291cmNlcyk6IFN0YXRlID0+IHtcclxuICAgIGNvbnN0IGNoYW5nZWRTdGF0ZSA9IHt9IGFzIFN0YXRlXHJcblxyXG4gICAgaWYgKHVzZURhdGFTb3VyY2VzICYmIHVzZURhdGFTb3VyY2VzWzBdKSB7XHJcbiAgICAgIGNvbnN0IG5ld0RhdGFTb3VyY2VBcnIgPSBbXVxyXG4gICAgICBjb25zdCByZXBlYXREYXRhU291cmNlQXJyID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VEYXRhU291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChmaXJzdE1hcERzSWQgIT09IHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCkge1xyXG4gICAgICAgICAgbmV3RGF0YVNvdXJjZUFyci5wdXNoKHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVwZWF0RGF0YVNvdXJjZUFyci5wdXNoKHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlcGVhdERhdGFTb3VyY2VBcnIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBmaXJzdE1hcERzSWRcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMF1cclxuICAgICAgfSBlbHNlIGlmIChyZXBlYXREYXRhU291cmNlQXJyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChuZXdEYXRhU291cmNlQXJyLmluY2x1ZGVzKHNlY29uZE1hcERzSWQpKSB7XHJcbiAgICAgICAgICBuZXdEYXRhU291cmNlQXJyLnNwbGljZShuZXdEYXRhU291cmNlQXJyLmluZGV4T2Yoc2Vjb25kTWFwRHNJZCksIDEpXHJcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclswXVxyXG4gICAgICAgICAgY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgPSBzZWNvbmRNYXBEc0lkXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzBdXHJcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMV1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBudWxsXHJcbiAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkICE9PSBmaXJzdE1hcERzSWQpIHtcclxuICAgICAgaWYgKGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQpIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkICE9PSBzZWNvbmRNYXBEc0lkKSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hhbmdlZFN0YXRlXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIChuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcclxuICAgIGlmIChuZXdQcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgIT09IHByZXZTdGF0ZS51c2VEYXRhU291cmNlcykge1xyXG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IE11bHRpU291cmNlTWFwLmdldENoYW5nZWRTdGF0ZShwcmV2U3RhdGUuZmlyc3RNYXBEc0lkLCBwcmV2U3RhdGUuc2Vjb25kTWFwRHNJZCwgbmV3UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKVxyXG4gICAgICByZXR1cm4gbmV3U3RhdGVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgIC8vIG1hcFdpZGdldC5wcm9wcy5zdGF0ZVByb3BzLmluaXRpYWxNYXBEYXRhU291cmNlSUQgaXMgYSB0ZW1wb3JhcnkgdmFyaWFibGUgdG8gbGV0IG1hcCBzZXR0aW5nIGFuZCBtYXAgcnVudGltZSBjb21tdW5pY2F0ZSB3aXRoIGVhY2ggb3RoZXIuXHJcbiAgICAgIC8vIElmIHdlIGNoYW5nZSB0aGUgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCBieSBjbGlja2luZyBkcyB0aHVtYm5haWwgaW4gbWFwIHNldHRpbmcsXHJcbiAgICAgIC8vIHRoZW4gbWFwIHNldHRpbmcgd2lsbCBjYWxsIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hDaGFuZ2VXaWRnZXRTdGF0ZVByb3BUb0FwcCgpIHRvIHVwZGF0ZSBtYXBXaWRnZXQucHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlELlxyXG4gICAgICAvLyBPbmNlIHdlIGNoZWNrIG1hcFdpZGdldC5wcm9wcy5zdGF0ZVByb3BzLmluaXRpYWxNYXBEYXRhU291cmNlSUQgaXMgbm90IGVtcHR5IGluIE11bHRpU291cmNlTWFwLCBtZWFucyB3ZSBjaGFuZ2VkIHRoZSBpbml0aWFsTWFwRGF0YVNvdXJjZUlELFxyXG4gICAgICAvLyB0aGVuIHdlIG1ha2Ugc3VyZSB0aGUgaW5pdGlhbE1hcGJhc2UgZ28gdG8gdGhlIGluaXRpYWwgZXh0ZW50LlxyXG4gICAgICAvLyBBdCBsYXN0LCB3ZSB3aWxsIHJlc2V0IG1hcFdpZGdldC5wcm9wcy5zdGF0ZVByb3BzLmluaXRpYWxNYXBEYXRhU291cmNlSUQgdG8gZW1wdHkuXHJcblxyXG4gICAgICBjb25zdCBpbml0aWFsTWFwRGF0YVNvdXJjZUlEID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEXHJcblxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgPT09IGluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG5cclxuICAgICAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZSkge1xyXG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkID09PSBpbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG5cclxuICAgICAgICBpZiAoc2Vjb25kTWFwSW5zdGFuY2UpIHtcclxuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCAnaW5pdGlhbE1hcERhdGFTb3VyY2VJRCcsIG51bGwpKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzUmVJbml0aW5nKSB7XHJcbiAgICAgIHRoaXMuaXNSZUluaXRpbmcgPSBmYWxzZVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQgIT09IHByZXZQcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgLy8gVXNlciBjbGlja3MgdGhlIG1hcCB0aHVibmFpbCBpbiBtYXAgc2V0dGluZyBwYWdlIGFuZCBjaGFuZ2UgdGhlIGNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlELlxyXG4gICAgICB0aGlzLmNoYW5nZUluaXRpYWxNYXBEYXRhU291cmNlSUQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQsIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICE9PSBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XHJcbiAgICAgIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdXNlciBjbGlja3MgdGhlIG1hcCB0aHVibmFpbCBpbiBtYXAgc2V0dGluZyBwYWdlIGFuZCBjaGFuZ2UgdGhlIGNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlELlxyXG4gICAqIEBwYXJhbSBkYXRhU291cmNlSWRcclxuICAgKiBAcGFyYW0gY2FsbEJhY2tcclxuICAgKi9cclxuICBjaGFuZ2VJbml0aWFsTWFwRGF0YVNvdXJjZUlEID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBjYWxsQmFjaz86IGFueSkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG5cclxuICAgICAgaWYgKCFmaXJzdE1hcEluc3RhbmNlIHx8ICFzZWNvbmRNYXBJbnN0YW5jZSkge1xyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBib3RoIGZpcnN0TWFwSW5zdGFuY2UgYW5kIHNlY29uZE1hcEluc3RhbmNlIGV4aXN0LCBvdGhlcndpc2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kLlxyXG4gICAgICAgIGlmIChjYWxsQmFjaykge1xyXG4gICAgICAgICAgY2FsbEJhY2soKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIHRoaXMuc3RhcnRDaGFuZ2VJbml0aWFsTWFwQW5pbWF0aW9uKGNhbGxCYWNrKVxyXG4gICAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmaXJzdE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICYmIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIHRoaXMuc3RhcnRDaGFuZ2VJbml0aWFsTWFwQW5pbWF0aW9uKGNhbGxCYWNrKVxyXG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbiA9IChjYWxsQmFjaz86IGFueSkgPT4ge1xyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICBpZiAoIWZpcnN0TWFwSW5zdGFuY2UgfHwgIXNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgIC8vIE1ha2Ugc3VyZSBib3RoIGZpcnN0TWFwSW5zdGFuY2UgYW5kIHNlY29uZE1hcEluc3RhbmNlIGV4aXN0LCBvdGhlcndpc2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kLlxyXG4gICAgICBpZiAoY2FsbEJhY2spIHtcclxuICAgICAgICBjYWxsQmFjaygpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGVtcFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSkgYXMgU3RhdGVcclxuXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuY3VycmVudE1hcEluZGV4KSB7XHJcbiAgICAgIC8vIGN1cnJlbnRNYXBJbmRleDogMCAtPiAxXHJcbiAgICAgIC8vIGZpcnN0IG1hcCB2aXNpYmxlIC0+IHNlY29uZCBtYXAgdmlzaWJsZVxyXG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMVxyXG4gICAgICB0ZW1wU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuc2Vjb25kTWFwVmlzaWJsZVxyXG5cclxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxyXG5cclxuICAgICAgaWYgKHZpZXdQb2ludCkge1xyXG4gICAgICAgIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUodGVtcFN0YXRlLCAoKSA9PiB7IGNhbGxCYWNrICYmIGNhbGxCYWNrKCkgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGN1cnJlbnRNYXBJbmRleDogMSAtPiAwXHJcbiAgICAgIC8vIHNlY29uZCBtYXAgdmlzaWJsZSAtPiBmaXJzdCBtYXAgdmlzaWJsZVxyXG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB0ZW1wU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcblxyXG4gICAgICBjb25zdCB2aWV3UG9pbnQgPSBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxyXG5cclxuICAgICAgaWYgKHZpZXdQb2ludCkge1xyXG4gICAgICAgIGZpcnN0TWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHZpZXdQb2ludClcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHsgY2FsbEJhY2sgJiYgY2FsbEJhY2soKSB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdXNlciBjbGlja3MgdGhlIHN3aXRjaCB0b29sIGF0IHRoZSBsZWZ0IGJvdHRvbSBvZiBtYXAgd2lkZ2V0LlxyXG4gICAqL1xyXG4gIHN3aXRjaE1hcCA9IGFzeW5jIChpZ25vcmVTd2l0Y2hBbmltYXRpb24gPSBmYWxzZSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgICBpZiAoIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzIHx8IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA8IDIpIHtcclxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICBpZiAoIWZpcnN0TWFwSW5zdGFuY2UgfHwgIXNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgIC8vIE1ha2Ugc3VyZSBib3RoIGZpcnN0TWFwSW5zdGFuY2UgYW5kIHNlY29uZE1hcEluc3RhbmNlIGV4aXN0LCBvdGhlcndpc2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kLlxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW1wU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlKSBhcyBTdGF0ZVxyXG4gICAgLy8gQnkgZGVmYXVsdCwgd2UgZW5hYmxlIHN3aXRjaGluZyBvcGFjaXR5IGFuaW1hdGlvbi5cclxuICAgIHRlbXBTdGF0ZS51c2VBbmltYXRpb24gPSAhaWdub3JlU3dpdGNoQW5pbWF0aW9uXHJcblxyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xyXG4gICAgICAvLyBjdXJyZW50TWFwSW5kZXg6IDAgLT4gMVxyXG4gICAgICAvLyBmaXJzdCBtYXAgdmlzaWJsZSAtPiBzZWNvbmQgbWFwIHZpc2libGVcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuXHJcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcclxuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBjdXJyZW50TWFwSW5kZXg6IDEgLT4gMFxyXG4gICAgICAvLyBzZWNvbmQgbWFwIHZpc2libGUgLT4gZmlyc3QgbWFwIHZpc2libGVcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxyXG5cclxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuXHJcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcclxuICAgICAgICBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHRlbXBTdGF0ZSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUoKVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlXHJcbiAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUobnVsbClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZU11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgcHJvcEtleTogc3RyaW5nLCB2YWx1ZT86IGFueSkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldKSB7XHJcbiAgICAgIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0gPSBbZGF0YVNvdXJjZUlkXVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCF0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldLmluY2x1ZGVzKGRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldLnB1c2goZGF0YVNvdXJjZUlkKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbXVsdGlNYXBEc0lkcyA9IFtdXHJcbiAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG5cclxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1R5cGUoKSkge1xyXG4gICAgICBtdWx0aU1hcERzSWRzLnB1c2godGhpcy5zdGF0ZS5maXJzdE1hcERzSWQpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdUeXBlKCkpIHtcclxuICAgICAgbXVsdGlNYXBEc0lkcy5wdXNoKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZClcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNBbGxNYXRjaGVkID0gdHJ1ZVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdWx0aU1hcERzSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICghdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5pbmNsdWRlcyhtdWx0aU1hcERzSWRzW2ldKSkge1xyXG4gICAgICAgIGlzQWxsTWF0Y2hlZCA9IGZhbHNlXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0FsbE1hdGNoZWQpIHtcclxuICAgICAgZGVsZXRlIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV1cclxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIHByb3BLZXksIHZhbHVlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY2FsbGJhY2sgb2Ygdmlldy5leHRlbnQgY2hhbmdlXHJcbiAgb25NYXBiYXNlRXh0ZW50Q2hhbmdlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFZpc2libGVEc0lkID0gdGhpcy5nZXRDdXJyZW50VmlzaWJsZURzSWQoKVxyXG5cclxuICAgIGlmIChjdXJyZW50VmlzaWJsZURzSWQgPT09IGRhdGFTb3VyY2VJZCkge1xyXG4gICAgICBjb25zdCBjbG9uZWRWaWV3cG9pbnQgPSBtZXNzYWdlLnZpZXdwb2ludC5jbG9uZSgpXHJcbiAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UobWVzc2FnZSlcclxuXHJcbiAgICAgIC8vIHN5bmMgdmlld3BvaW50IG9mIGhpZGRlbiBtYXBiYXNlXHJcbiAgICAgIGxldCBoaWRkZW5NYXBCYXNlOiBNYXBCYXNlID0gbnVsbFxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICYmIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICE9PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICBoaWRkZW5NYXBCYXNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCAmJiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgIT09IGRhdGFTb3VyY2VJZCkge1xyXG4gICAgICAgIGhpZGRlbk1hcEJhc2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaGlkZGVuTWFwQmFzZSkge1xyXG4gICAgICAgIGhpZGRlbk1hcEJhc2Uuc2V0Vmlld1BvaW50KGNsb25lZFZpZXdwb2ludClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTWFwTG9hZGVkID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzKSA9PiB7XHJcbiAgICB0aGlzLmZvcmNlVXBkYXRlKClcclxuICB9XHJcblxyXG4gIGhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZCA9IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25KaW11TWFwVmlld0NyZWF0ZWQoamltdU1hcFZpZXcpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX191bm1vdW50KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRKaW11TWFwVmlld0J5RGF0YVNvdXJjZUlkIChkc0lkOiBzdHJpbmcpOiBKaW11TWFwVmlldyB7XHJcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gZ2V0SmltdU1hcFZpZXdJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZHNJZClcclxuICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZClcclxuICAgIHJldHVybiBqaW11TWFwVmlld1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQgYnkgdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlIGFuZCB1cGRhdGUgSmltdU1hcFZpZXcuaXNBY3RpdmUgYnkgY2FsbGluZyBqaW11TWFwVmlldy5zZXRJc0FjdGl2ZShpc0FjdGl2ZSkuXHJcbiAgICovXHJcbiAgY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3QnlEYXRhU291cmNlSWQobnVsbClcclxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldywgdHJ1ZSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhbGxEYXRhc291cmNlSWRzID0gW11cclxuICAgIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICYmIGFsbERhdGFzb3VyY2VJZHMucHVzaCh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZClcclxuICAgIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCAmJiBhbGxEYXRhc291cmNlSWRzLnB1c2godGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkKVxyXG4gICAgY29uc3QgY3VycmVudERhdGFTb3VyY2VJZCA9IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKClcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbERhdGFzb3VyY2VJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3QnlEYXRhU291cmNlSWQoYWxsRGF0YXNvdXJjZUlkc1tpXSlcclxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgaWYgKGFsbERhdGFzb3VyY2VJZHNbaV0gPT09IGN1cnJlbnREYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcsIHRydWUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcsIGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0QWN0aXZlSmltdU1hcFZpZXcgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgaXNBY3RpdmU6IGJvb2xlYW4pIHtcclxuICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgICAvLyBqaW11TWFwVmlldyBpcyBhY3RpdmVcclxuICAgICAgamltdU1hcFZpZXcuc2V0SXNBY3RpdmUoaXNBY3RpdmUpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGN1cnJlbnRKaW11TWFwVmlld0lkOiBqaW11TWFwVmlldy5pZFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKHRoaXMucHJvcHMub25BY3RpdmVKaW11TWFwVmlld0NoYW5nZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25BY3RpdmVKaW11TWFwVmlld0NoYW5nZShqaW11TWFwVmlldylcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYmFzZVdpZGdldFByb3BzID0gdGhpcy5wcm9wcz8uYmFzZVdpZGdldFByb3BzXHJcblxyXG4gICAgICBpZiAoYmFzZVdpZGdldFByb3BzKSB7XHJcbiAgICAgICAgLy8gSWYgY3VycmVudCB1cmwgYWN0aXZlX2RhdGFzb3VyY2VfaWQgaXMgZW1wdHksIHdlIHNob3VsZCB0cmVhdCBpdCBhcyBpbml0aWFsTWFwRGF0YVNvdXJjZUlELlxyXG4gICAgICAgIGxldCB1cmxBY3RpdmVEc0lkID0gYmFzZVdpZGdldFByb3BzLnJ1bnRpbWVVcmxIYXNoUGFyYW1zPy5hY3RpdmVfZGF0YXNvdXJjZV9pZCB8fCBiYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSURcclxuXHJcbiAgICAgICAgLy8gaW5pdGlhbE1hcERhdGFTb3VyY2VJRCBvbmx5IGV4aXN0cyB3aGVuIHVzZURhdGFTb3VyY2VzLmxlbmd0aCA9PT0gMiwgc28gaW5pdGlhbE1hcERhdGFTb3VyY2VJRCBtYXliZSBudWxsLlxyXG4gICAgICAgIGlmICghdXJsQWN0aXZlRHNJZCkge1xyXG4gICAgICAgICAgLy8gbWVhbnMgcnVudGltZVVybEhhc2hQYXJhbXMuYWN0aXZlX2RhdGFzb3VyY2VfaWQgYW5kIGNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEIGFyZSBudWxsXHJcbiAgICAgICAgICBjb25zdCB1c2VEYXRhU291cmNlcyA9IGJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1xyXG5cclxuICAgICAgICAgIGlmICh1c2VEYXRhU291cmNlcyAmJiB1c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgdXJsQWN0aXZlRHNJZCA9IHVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF1cmxBY3RpdmVEc0lkKSB7XHJcbiAgICAgICAgICB1cmxBY3RpdmVEc0lkID0gJydcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0FjdGl2ZURzSWQgPSBqaW11TWFwVmlldy5kYXRhU291cmNlSWQgfHwgJydcclxuXHJcbiAgICAgICAgaWYgKG5ld0FjdGl2ZURzSWQgIT09IHVybEFjdGl2ZURzSWQpIHtcclxuICAgICAgICAgIHVwZGF0ZVVybEhhc2hQYXJhbXNGb3JBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGppbXVNYXBWaWV3IGlzIG5vdCBhY3RpdmVcclxuICAgICAgamltdU1hcFZpZXcuc2V0SXNBY3RpdmUoaXNBY3RpdmUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc1Nob3dNYXBTd2l0Y2hCdG4gPSAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgaWYgKGZpcnN0TWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UpIHtcclxuICAgICAgaWYgKGZpcnN0TWFwSW5zdGFuY2UuZ2V0TWFwTG9hZFN0YXR1cygpICE9PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0TWFwTG9hZFN0YXR1cygpICE9PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRWaXNpYmxlRHNJZCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5maXJzdE1hcERzSWRcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVZpZXdHcm91cENyZWF0ZSA9ICh2aWV3R3JvdXA6IEppbXVNYXBWaWV3R3JvdXApID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9uVmlld0dyb3VwQ3JlYXRlKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25WaWV3R3JvdXBDcmVhdGUodmlld0dyb3VwKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlID0gKG1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtb2JpbGVQYW5lbENvbnRlbnQ6IG1vYmlsZVBhbmVsQ29udGVudFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlID0gKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVRvb2xJbmZvOiBhY3RpdmVUb29sSW5mb1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIGhhbmRsZVNob3dPbk1hcERhdGFDaGFuZ2UgPSAoc2hvd09uTWFwRGF0YXNLZXk6IHN0cmluZ1tdKSA9PiB7XHJcbiAgLy8gIHRoaXMuc2V0U3RhdGUoe1xyXG4gIC8vICAgIHNob3dPbk1hcERhdGFzS2V5OiBzaG93T25NYXBEYXRhc0tleVxyXG4gIC8vICB9KVxyXG4gIC8vIH1cclxuXHJcbiAgZ2V0TGF5b3V0Q29uZmlnICgpOiBMYXlvdXRKc29uIHtcclxuICAgIGlmICh0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCcpIHtcclxuICAgICAgcmV0dXJuIG1vYmlsZUxheW91dEpzb25zWzBdXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmxheW91dEluZGV4ID8gcGNMYXlvdXRKc29uc1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcubGF5b3V0SW5kZXhdIDogcGNMYXlvdXRKc29uc1swXVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IG11dGlTb3VyY2VNYXBEb20gPSB0aGlzLmRvbVJlZi5jdXJyZW50XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e1xyXG4gICAgICAgIG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBtYXBXaWRnZXRIZWlnaHQ6IHRoaXMucHJvcHMud2lkZ2V0SGVpZ2h0LFxyXG4gICAgICAgIGlzU2hvd01hcFN3aXRjaEJ0bjogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMSAmJiB0aGlzLmlzU2hvd01hcFN3aXRjaEJ0bigpLFxyXG4gICAgICAgIGRhdGFTb3VyY2VJZHM6IFt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCwgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkXSxcclxuICAgICAgICBhY3RpdmVEYXRhU291cmNlSWQ6IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKCksXHJcbiAgICAgICAgc3dpdGNoTWFwOiB0aGlzLnN3aXRjaE1hcCxcclxuICAgICAgICBmdWxsU2NyZWVuTWFwOiB0aGlzLnByb3BzLmZ1bGxTY3JlZW5NYXAsXHJcbiAgICAgICAgaXNGdWxsU2NyZWVuOiB0aGlzLnByb3BzLmlzRnVsbFNjcmVlbixcclxuICAgICAgICBtb2JpbGVQYW5lbENvbnRhaW5lcjogdGhpcy5zdGF0ZS5tb2JpbGVQYW5lbENvbnRhaW5lcixcclxuICAgICAgICBvbk1vYmlsZVBhbmVsQ29udGVudENoYW5nZTogdGhpcy5oYW5kbGVNb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2UsXHJcbiAgICAgICAgaW5pdGlhbE1hcFN0YXRlOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSxcclxuICAgICAgICB0aGVtZTogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudGhlbWVcclxuICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgcmVmPXt0aGlzLmRvbVJlZn0gY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtdWx0aS1zb3VyY2UtbWFwJz5cclxuICAgICAgICAgIHshdGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgJiYgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIG11bHRpLW1hcC1jb250YWluZXInIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCBtYXAxJywge1xyXG4gICAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5KSxcclxuICAgICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUnOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSxcclxuICAgICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci1ub2FuaW1hdGUnOiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5KVxyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS56SW5kZXggfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiA8TWFwQmFzZVxyXG4gICAgICAgICAgICAgICAgcmVmPSdmaXJzdE1hcEluc3RhbmNlJ1xyXG4gICAgICAgICAgICAgICAgYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wc30gb25NYXBMb2FkZWQ9e3RoaXMuaGFuZGxlTWFwTG9hZGVkfVxyXG4gICAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgICAgb25FeHRlbnRDaGFuZ2VkPXt0aGlzLm9uTWFwYmFzZUV4dGVudENoYW5nZWR9XHJcbiAgICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5oYW5kbGVKaW11TWFwVmlld0NyZWF0ZWR9XHJcbiAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLmhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD17dGhpcy5oYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxyXG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZUlkPXt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZH1cclxuICAgICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgICBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxyXG4gICAgICAgICAgICAgICAgbXVsdGlTb3VyY2VNYXBEb209e211dGlTb3VyY2VNYXBEb219XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDwvTWFwQmFzZT59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCBtYXAyJywge1xyXG4gICAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5KSxcclxuICAgICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUnOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSxcclxuICAgICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci1ub2FuaW1hdGUnOiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5KVxyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS56SW5kZXggfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgdGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgJiYgPE1hcEJhc2VcclxuICAgICAgICAgICAgICAgIHJlZj0nc2Vjb25kTWFwSW5zdGFuY2UnXHJcbiAgICAgICAgICAgICAgICBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzfSBvbk1hcExvYWRlZD17dGhpcy5oYW5kbGVNYXBMb2FkZWR9XHJcbiAgICAgICAgICAgICAgICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD17dGhpcy5oYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWR9XHJcbiAgICAgICAgICAgICAgICBvbkV4dGVudENoYW5nZWQ9e3RoaXMub25NYXBiYXNlRXh0ZW50Q2hhbmdlZH1cclxuICAgICAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLmhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMuaGFuZGxlQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAvLyBvblNob3dPbk1hcERhdGFDaGFuZ2VkPXt0aGlzLmhhbmRsZVNob3dPbk1hcERhdGFDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XHJcbiAgICAgICAgICAgICAgICBkYXRhU291cmNlSWQ9e3RoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZH1cclxuICAgICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgICBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxyXG4gICAgICAgICAgICAgICAgbXVsdGlTb3VyY2VNYXBEb209e211dGlTb3VyY2VNYXBEb219XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDwvTWFwQmFzZT59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+fVxyXG5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCAmJiA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZGVmYXVsdC1tYXAtY29udGFpbmVyJyBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAgbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlIGRlZmF1bHQtbWFwLW1hcGJhc2UtY29udGFpbmVyJyl9XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHpJbmRleDogJ3Vuc2V0JyB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiA8TWFwQmFzZVxyXG4gICAgICAgICAgICAgICAgcmVmPSdmaXJzdE1hcEluc3RhbmNlJyBpc0RlZmF1bHRNYXA9e3RoaXMucHJvcHMuaXNEZWZhdWx0TWFwfVxyXG4gICAgICAgICAgICAgICAgYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wc30gb25NYXBMb2FkZWQ9e3RoaXMuaGFuZGxlTWFwTG9hZGVkfVxyXG4gICAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfSBkYXRhU291cmNlSWQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICBvbkV4dGVudENoYW5nZWQ9e3RoaXMub25NYXBiYXNlRXh0ZW50Q2hhbmdlZH1cclxuICAgICAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLmhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMuaGFuZGxlQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAvLyBvblNob3dPbk1hcERhdGFDaGFuZ2VkPXt0aGlzLmhhbmRsZVNob3dPbk1hcERhdGFDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XHJcbiAgICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxyXG4gICAgICAgICAgICAgICAgaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHRNYXBJbmZvPXt0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvfVxyXG4gICAgICAgICAgICAgICAgbXVsdGlTb3VyY2VNYXBEb209e211dGlTb3VyY2VNYXBEb219XHJcbiAgICAgICAgICAgICAgLz4gfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2Pn1cclxuXHJcbiAgICAgICAgICB7dGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCAmJiA8TWFwRml4ZWRMYXlvdXRcclxuICAgICAgICAgICAgamltdU1hcFZpZXc9e01hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQpfVxyXG4gICAgICAgICAgICBhcHBNb2RlPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5hcHBNb2RlfSBsYXlvdXRzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5sYXlvdXRzfVxyXG4gICAgICAgICAgICBMYXlvdXRFbnRyeT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5MYXlvdXRFbnRyeX1cclxuICAgICAgICAgICAgd2lkZ2V0TWFuaWZlc3ROYW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tYW5pZmVzdC5uYW1lfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgPC9NYXBGaXhlZExheW91dD59XHJcblxyXG4gICAgICAgICAge3RoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQgJiYgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQodGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCkgJiZcclxuICAgICAgICAgICAgPE1hcFRvb2xMYXlvdXRcclxuICAgICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9IGlzTW9iaWxlPXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCd9XHJcbiAgICAgICAgICAgICAgamltdU1hcFZpZXc9e01hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQpfVxyXG4gICAgICAgICAgICAgIGFwcE1vZGU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmFwcE1vZGV9IGxheW91dHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmxheW91dHN9IGludGw9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmludGx9XHJcbiAgICAgICAgICAgICAgTGF5b3V0RW50cnk9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMuTGF5b3V0RW50cnl9XHJcbiAgICAgICAgICAgICAgbGF5b3V0Q29uZmlnPXt0aGlzLmdldExheW91dENvbmZpZygpfSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcudG9vbENvbmZpZyA/IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy50b29sQ29uZmlnIDoge319XHJcbiAgICAgICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMuc3RhdGUuYWN0aXZlVG9vbEluZm99IG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMuaGFuZGxlQWN0aXZlVG9vbEluZm9DaGFuZ2V9IHRoZW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy50aGVtZX1cclxuICAgICAgICAgICAgICB3aWRnZXRNYW5pZmVzdE5hbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm1hbmlmZXN0Lm5hbWV9IHdpZGdldEhlaWdodD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnID8gbnVsbCA6IHRoaXMucHJvcHMud2lkZ2V0SGVpZ2h0fVxyXG4gICAgICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgICAgLz59XHJcblxyXG4gICAgICAgICAgPEppbXVNYXBWaWV3Q29tcG9uZW50IHVzZU1hcFdpZGdldElkPXt0aGlzLnVzZU1hcFdpZGdldElkcz8uWzBdfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9IC8+XHJcbiAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgaGFuZGxlV2lkdGggb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsganN4LCBjbGFzc05hbWVzLCB0eXBlIEludGxTaGFwZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgVUlDb21wb25lbnQsIHR5cGUgVUlDb21wb25lbnRQcm9wcyB9IGZyb20gJy4vdWktY29tcG9uZW50J1xyXG5pbXBvcnQgeyB0eXBlIFRvb2xDb25maWcgfSBmcm9tICcuLi8uLi8uLi9jb25maWcnXHJcbmltcG9ydCB7IHR5cGUgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgdHlwZSBMYXlvdXRKc29uLCB0eXBlIFRvb2xKc29uIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQgVG9vbE1vZHVsZXMgZnJvbSAnLi4vdG9vbC1tb2R1bGVzJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb29sU2hlbGxQcm9wcyBleHRlbmRzIFVJQ29tcG9uZW50UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBsYXlvdXRDb25maWc6IExheW91dEpzb25cclxuICB0b29sQ29uZmlnOiBUb29sQ29uZmlnXHJcbiAgdG9vbE5hbWU6IHN0cmluZ1xyXG4gIGlzTW9iaWxlPzogYm9vbGVhblxyXG4gIGlzSGlkZGVuPzogYm9vbGVhblxyXG4gIGludGw/OiBJbnRsU2hhcGVcclxuICBpc0xhc3RFbGVtZW50PzogYm9vbGVhblxyXG5cclxuICBjbGFzc05hbWU/OiBzdHJpbmdcclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VUb29sU2hlbGwgZXh0ZW5kcyBVSUNvbXBvbmVudDxUb29sU2hlbGxQcm9wcywgdW5rbm93bj4ge1xyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBUb29sQ2xhc3MgPSBUb29sTW9kdWxlc1t0aGlzLnByb3BzLnRvb2xOYW1lXVxyXG5cclxuICAgIGxldCBpc0F2YWlsYWJsZSA9IHRydWVcclxuXHJcbiAgICBpZiAoVG9vbENsYXNzKSB7XHJcbiAgICAgIGlmIChUb29sQ2xhc3MuaXNBdmFpbGFibGUpIHtcclxuICAgICAgICBpc0F2YWlsYWJsZSA9IFRvb2xDbGFzcy5pc0F2YWlsYWJsZSh0aGlzLnByb3BzKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlzQXZhaWxhYmxlID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpc0F2YWlsYWJsZSA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQXZhaWxhYmxlKSB7XHJcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGBleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wtc2hlbGwgZGl2aXRlbSBleGJtYXAtdWktdG9vbC1zaGVsbC0ke3RoaXMucHJvcHMudG9vbE5hbWV9YFxyXG4gICAgICBjb25zdCBzdHlsZU9iaiA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMudG9vbE5hbWVdLnN0eWxlIHx8IHt9XHJcblxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh0aGlzLnByb3BzLmNsYXNzTmFtZSwgY2xhc3NOYW1lLCAodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV0gYXMgVG9vbEpzb24pLmNsYXNzTmFtZSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICdleGJtYXAtdWktaGlkZGVuLWVsZW1lbnQnOiB0aGlzLnByb3BzLmlzSGlkZGVuLFxyXG4gICAgICAgICAgICAgICdyb3VuZGVkLXBpbGwnOiBbJ0NvbXBhc3MnXS5pbmNsdWRlcyh0aGlzLnByb3BzLnRvb2xOYW1lKVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICAgIHN0eWxlPXtzdHlsZU9ian1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8VG9vbENsYXNzXHJcbiAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfVxyXG4gICAgICAgICAgICByZWY9J2Jhc2VUb29sSW5zdGFuY2UnIHRvb2xKc29uPXt0aGlzLnByb3BzLmxheW91dENvbmZpZy5lbGVtZW50c1t0aGlzLnByb3BzLnRvb2xOYW1lXX0gdG9vbE5hbWU9e3RoaXMucHJvcHMudG9vbE5hbWV9IGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfVxyXG4gICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX1cclxuICAgICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgICByZXR1cm4gPHNwYW4gLz5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIHBvbGlzaGVkLCBjbGFzc05hbWVzLCBSZWFjdERPTSwgRXJyb3JCb3VuZGFyeSwgUmVhY3RSZXNpemVEZXRlY3RvciwgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIFBvcHBlciwgTW9iaWxlUGFuZWxNYW5hZ2VyLCB0eXBlIE1vZGlmaWVycyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IFVJQ29tcG9uZW50LCB0eXBlIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgdHlwZSBUb29sSnNvbiB9IGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IFNjcm9sbENvbnRhaW5lciBmcm9tICcuL3Njcm9sbC1jb250YWluZXInXHJcbmltcG9ydCBQYW5lbFNoZWxsIGZyb20gJy4vcGFuZWwtc2hlbGwnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuaW1wb3J0IHsgdHlwZSBUb29sU2hlbGxQcm9wcyB9IGZyb20gJy4vYmFzZS10b29sLXNoZWxsJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVUb29sSW5mbyB7XHJcbiAgYWN0aXZlVG9vbE5hbWU6IHN0cmluZ1xyXG4gIGFjdGl2ZVRvb2xUaXRsZTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVRvb2xQcm9wcyBleHRlbmRzIFVJQ29tcG9uZW50UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICB0b29sSnNvbjogVG9vbEpzb25cclxuICB0b29sTmFtZTogc3RyaW5nXHJcbiAgaXNNb2JpbGU/OiBib29sZWFuXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSWNvblR5cGUge1xyXG4gIGljb246IFJlYWN0LkNvbXBvbmVudENsYXNzPFJlYWN0LlNWR0F0dHJpYnV0ZXM8U1ZHRWxlbWVudD4+XHJcbiAgb25JY29uQ2xpY2s/OiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB2b2lkXHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvd2lkZ2V0cy5zdmcnKVxyXG5jb25zdCBjbG9zZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvY2xvc2UtMTIuc3ZnJylcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlVG9vbDxQIGV4dGVuZHMgQmFzZVRvb2xQcm9wcywgUz4gZXh0ZW5kcyBVSUNvbXBvbmVudDxQLCBTPiB7XHJcbiAgaWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICB0b29sTmFtZTogc3RyaW5nID0gbnVsbFxyXG4gIGlzQ29udGFpbmVkVG9Nb2JpbGVQYW5lbCA9IGZhbHNlXHJcbiAgLy8gdGhpcyBwYXJhbSBpcyB1c2VkIHRvIHVwZGF0ZSBwb3AgcG9zaXRpb24gd2hlbiBwYyBjb250ZW50IGhhcyBjaGFuZ2VkXHJcbiAgZ2VuZXJhdGlvbj86IG51bWJlciA9IDBcclxuICBtb2RpZmllcnM6IE1vZGlmaWVyc1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5jb250YWluZXJcclxuICAgIGlmIChNb2JpbGVQYW5lbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGVja0RvbUlzQ29udGFpbmVkKG1hcENvbnRhaW5lcikpIHtcclxuICAgICAgdGhpcy5pc0NvbnRhaW5lZFRvTW9iaWxlUGFuZWwgPSB0cnVlXHJcbiAgICB9XHJcbiAgICB0aGlzLm1vZGlmaWVycyA9IFt7XHJcbiAgICAgIG5hbWU6ICdmbGlwJyxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIHBhZGRpbmc6IDBcclxuICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIGJvdW5kYXJ5OiBtYXBDb250YWluZXJcclxuICAgICAgfVxyXG4gICAgfV1cclxuXHJcbiAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKVxyXG4gICAgdGhpcy5vblBvcHBlclRvZ2dsZSA9IHRoaXMub25Qb3BwZXJUb2dnbGUuYmluZCh0aGlzKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfY3NzU3R5bGUgKCkge1xyXG4gICAgY29uc3QgZXh0ZW5kQ3NzU3R5bGUgPSB0aGlzLmdldEV4dGVuZENzc1N0eWxlKClcclxuXHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjpiZWZvcmUge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTEwLDExMCwxMTAsMC4zKTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU2ZTZlO1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBhbmltYXRpb246IGxvb3BpbmctcHJvZ3Jlc3NzLWJhci1hbmkgMTUwMG1zIGxpbmVhciBpbmZpbml0ZTtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAke2V4dGVuZENzc1N0eWxlfVxyXG5cclxuICAgICAgLyogcG9pbnRlci1ldmVudHM6IGF1dG87XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMyk7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAgIC5leGJtYXAtdWktdG9vbC1pY29uIHtcclxuICAgICAgICBmaWxsOiBibGFjaztcclxuICAgICAgICBsZWZ0OiA4cHg7XHJcbiAgICAgICAgdG9wOiA4cHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLXVpLWV4cGFuZC1jb250ZW50IHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDI1MG1zIGVhc2UtaW4tb3V0LCBtYXJnaW4gMjUwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgICAgbWluLWhlaWdodDogMTBweDtcclxuICAgICAgICBtaW4td2lkdGg6IDEwcHg7XHJcbiAgICAgICAgcGFkZGluZy10b3A6ICR7cG9saXNoZWQucmVtKDEwKX07XHJcbiAgICAgICAgcGFkZGluZy1ib3R0b206ICR7cG9saXNoZWQucmVtKDEwKX07XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDIwKX07XHJcblxyXG4gICAgICAgIC5leGJtYXAtdWktZXhwYW5kLWNvbnRlbnQtaGVhZGVyIHtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206ICR7cG9saXNoZWQucmVtKDEwKX07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucGFuZWwtdGl0bGUge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNil9O1xyXG4gICAgICAgICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLXBsYWNlbWVudC1ib3R0b20ge1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAwLjI1cmVtICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LWxlZnQge1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMjVyZW0gIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtcmlnaHQge1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogMC4yNXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLXBsYWNlbWVudC10b3Age1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjI1cmVtICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YWZ0ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTZlNmU7XHJcbiAgICAgICAgd2lkdGg6IDIwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH0gKi9cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGFic3RyYWN0IGdldFRpdGxlICgpOiBzdHJpbmdcclxuXHJcbiAgYWJzdHJhY3QgZ2V0SWNvbiAoKTogSWNvblR5cGVcclxuXHJcbiAgYWJzdHJhY3QgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50XHJcblxyXG4gIGdldEV4dGVuZENzc1N0eWxlICgpIHtcclxuICAgIHJldHVybiAnJ1xyXG4gIH1cclxuXHJcbiAgZm9jdXNEZWZhdWx0RWxlbWVudCAoKSB7fVxyXG5cclxuICBvblNob3dQYW5lbCAoKSB7fVxyXG5cclxuICBvbkNsb3NlUGFuZWwgKCkge31cclxuXHJcbiAgZGVzdHJveSAoKSB7fVxyXG5cclxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cnVuIHRydWUgaWYgdGhlIHRvb2wgc2hvdWxkIGJlIHJlbmRlcmVkIG9uIHRoZSBtYXAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICogZS5nLiBTY2FsZUJhciBvbmx5IHN1cHBvcnRzIG1hcCB2aWV3LCBzbyBTY2FsZUJhclRvb2wuaXNBdmFpbGFibGUoKSB3aWxsIHJldHVybiBmYWxzZSBpZiB0aGUgbWFwIGlzIHNjZW5lIHZpZXcuXHJcbiAgICovXHJcbiAgc3RhdGljIGlzQXZhaWxhYmxlICh0b29sU2hlbGxQcm9wczogVG9vbFNoZWxsUHJvcHMpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uUG9wcGVyVG9nZ2xlIChlOiBhbnkpIHtcclxuICAgIGlmIChlKSB7XHJcbiAgICAgIGlmIChlLnR5cGUgPT09ICdrZXlkb3duJyAmJiBlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICB0aGlzLl9vbkljb25DbGljaygpXHJcbiAgICAgICAgdGhpcy5pY29uQ29udGFpbmVyLmZvY3VzKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duIChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4pIHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZSAhPT0gdGhpcy50b29sTmFtZSkge1xyXG4gICAgICAgIHRoaXMuX29uSWNvbkNsaWNrKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmZvY3VzRGVmYXVsdEVsZW1lbnQoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB0b2dnbGUgcHJvcHMuYWN0aXZlVG9vbE5hbWVcclxuICBwcml2YXRlIF9vbkljb25DbGljayAoZT86IFJlYWN0Lk1vdXNlRXZlbnQ8YW55Pikge1xyXG4gICAgY29uc3Qgb25JY29uQ2xpY2sgPSB0aGlzLmdldEljb24oKSAmJiB0aGlzLmdldEljb24oKS5vbkljb25DbGlja1xyXG4gICAgaWYgKG9uSWNvbkNsaWNrKSB7XHJcbiAgICAgIG9uSWNvbkNsaWNrKGUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLmdldEV4cGFuZFBhbmVsKCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8pIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgPT09IHRoaXMudG9vbE5hbWUpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xyXG4gICAgICAgICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMudG9vbE5hbWUsXHJcbiAgICAgICAgICBhY3RpdmVUb29sVGl0bGU6IHRoaXMuZ2V0VGl0bGUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5vblNob3dQYW5lbCgpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSh7XHJcbiAgICAgICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMudG9vbE5hbWUsXHJcbiAgICAgICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLmdldFRpdGxlKClcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5vblNob3dQYW5lbCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IF9nZXRDb250ZW50ID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5fY3NzU3R5bGUoKX0gY2xhc3NOYW1lPSdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wtcGFuZWwnPlxyXG4gICAgICAgICAgPEVycm9yQm91bmRhcnk+XHJcbiAgICAgICAgICAgIHt0aGlzLmdldEV4cGFuZFBhbmVsKCl9XHJcbiAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlck1vYmlsZVRvb2woKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJQQ1Rvb2woKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9pbml0SWNvbkNvbnRhaW5lciAocmVmOiBIVE1MRWxlbWVudCkge1xyXG4gICAgaWYgKHJlZiAmJiAhdGhpcy5pY29uQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuaWNvbkNvbnRhaW5lciA9IHJlZlxyXG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGhlaWdodFxyXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9yZW5kZXJQQ1Rvb2wgKCkge1xyXG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKClcclxuICAgIGlmICghdG9vbEljb24pIHtcclxuICAgICAgdG9vbEljb24gPSB7XHJcbiAgICAgICAgaWNvbjogZGVmYXVsdEljb24sXHJcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XHJcbiAgICAgIH0gYXMgSWNvblR5cGVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleHBhbmRQYW5lbCA9IHRoaXMuZ2V0RXhwYW5kUGFuZWwoKVxyXG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IHRoaXMuZ2VuZXJhdGlvbiArIDFcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpIGV4Ym1hcC11aS10b29sJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9IHN0eWxlPXt7IHdpZHRoOiAnMzJweCcsIGhlaWdodDogJzMycHgnIH19PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHN0eWxlPXt7fX0gcmVmPXtyZWYgPT4geyB0aGlzLl9pbml0SWNvbkNvbnRhaW5lcihyZWYpIH19IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcclxuICAgICAgICAgICAgJ2V4Ym1hcC11aS10b29sLWljb24tc2VsZWN0ZWQnOiB0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbFxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50b29sSnNvbi5pc1Nob3dJY29uVGl0bGUgPyB0aGlzLmdldFRpdGxlKCkgOiAnJ30gb25DbGljaz17ZSA9PiB7IHRoaXMuX29uSWNvbkNsaWNrKGUpIH19IGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lID09PSB0aGlzLnRvb2xOYW1lfSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfSBvbktleURvd249e3RoaXMuX29uS2V5RG93bn1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dG9vbEljb24uaWNvbn0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7dGhpcy5pY29uQ29udGFpbmVyICYmICh0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbCkgJiYgPFBhbmVsU2hlbGwgb25EZXN0cm95ZWQ9eygpID0+IHsgdGhpcy5vbkNsb3NlUGFuZWwoKSB9fT5cclxuICAgICAgICAgIDxQb3BwZXJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWktcG9wcGVyJyByZWZlcmVuY2U9e3RoaXMuaWNvbkNvbnRhaW5lcn0gb3Blbj17ISEodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpfSBwbGFjZW1lbnQ9e3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnR9XHJcbiAgICAgICAgICAgIG1vZGlmaWVycz17dGhpcy5tb2RpZmllcnN9IHZlcnNpb249e3RoaXMuZ2VuZXJhdGlvbn0gb2Zmc2V0PXtbMCwgNF19IHRvZ2dsZT17dGhpcy5vblBvcHBlclRvZ2dsZX0gZm9yY2VMYXRlc3RGb2N1c0VsZW1lbnRzPXt0cnVlfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgICAgIHsoeyBtYXBXaWRnZXRIZWlnaHQgfSkgPT4gKDxkaXYgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfSBjbGFzc05hbWU9e3RoaXMuZ2V0RXhwYW5kUGFuZWxQbGFjZW1lbnRDbGFzc05hbWUoKX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpLWV4cGFuZC1jb250ZW50Jz5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGQtZmxleCBleGJtYXAtdWktZXhwYW5kLWNvbnRlbnQtaGVhZGVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtdGl0bGUgdGV4dC10cnVuY2F0ZScgc3R5bGU9e3sgbWF4V2lkdGg6ICcyMTBweCcgfX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRUaXRsZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4geyB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbCkgfX0gc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gdGFiSW5kZXg9ezB9IHJvbGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2xvc2UnLCBkZWZhdWx0TWVzc2FnZTogJ2Nsb3NlJyB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MjB9IGhlaWdodD17MjB9IGljb249e2Nsb3NlSWNvbn0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXhIZWlnaHQ6IGAke21hcFdpZGdldEhlaWdodCAtIDU1fXB4YCwgb3ZlcmZsb3dZOiB0aGlzLnRvb2xOYW1lICE9PSAnU2VhcmNoJyA/ICdhdXRvJyA6ICdpbmhlcml0JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIHtleHBhbmRQYW5lbH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2Pil9XHJcbiAgICAgICAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgPC9Qb3BwZXI+XHJcbiAgICAgICAgPC9QYW5lbFNoZWxsPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfcmVuZGVyTW9iaWxlVG9vbCAoKSB7XHJcbiAgICBsZXQgdG9vbEljb24gPSB0aGlzLmdldEljb24oKVxyXG4gICAgaWYgKCF0b29sSWNvbikge1xyXG4gICAgICB0b29sSWNvbiA9IHtcclxuICAgICAgICBpY29uOiBkZWZhdWx0SWNvbixcclxuICAgICAgICBvbkljb25DbGljazogKCkgPT4ge31cclxuICAgICAgfSBhcyBJY29uVHlwZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4cGFuZFBhbmVsID0gdGhpcy5nZXRFeHBhbmRQYW5lbCgpXHJcbiAgICBjb25zdCBhY3RpdmVUb29sTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgbW9iaWxlUGFuZWxDb250YWluZXIgfSkgPT4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aSBleGJtYXAtdWktdG9vbCcgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7fX0gcmVmPXtyZWYgPT4geyB0aGlzLmljb25Db250YWluZXIgPSByZWYgfX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBlc3JpLXdpZGdldC0tYnV0dG9uJywge1xyXG4gICAgICAgICAgICAgICAgJ2V4Ym1hcC11aS10b29sLWljb24tc2VsZWN0ZWQnOiB0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbFxyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9IG9uS2V5RG93bj17dGhpcy5fb25LZXlEb3dufVxyXG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRvb2xKc29uLmlzU2hvd0ljb25UaXRsZSA/IHRoaXMuZ2V0VGl0bGUoKSA6ICcnfSBvbkNsaWNrPXtlID0+IHsgdGhpcy5fb25JY29uQ2xpY2soZSkgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0b29sSWNvbi5pY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAge3RoaXMudG9vbE5hbWUgPT09IGFjdGl2ZVRvb2xOYW1lICYmIGV4cGFuZFBhbmVsICYmXHJcbiAgICAgICAgICAgIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCg8UGFuZWxTaGVsbCBvbkRlc3Ryb3llZD17KCkgPT4geyB0aGlzLm9uQ2xvc2VQYW5lbCgpIH19PjxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBkLWZsZXggZmxleC1jb2x1bW4nIGNzcz17dGhpcy5fY3NzU3R5bGUoKX0+XHJcbiAgICAgICAgICAgICAgPFNjcm9sbENvbnRhaW5lciBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRFeHBhbmRQYW5lbCgpfVxyXG4gICAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgIDwvU2Nyb2xsQ29udGFpbmVyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9QYW5lbFNoZWxsPiwgbW9iaWxlUGFuZWxDb250YWluZXIpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEV4cGFuZFBhbmVsUGxhY2VtZW50Q2xhc3NOYW1lICgpIHtcclxuICAgIGlmICghdGhpcy5wcm9wcy50b29sSnNvbi5wYW5lbFBsYWNlbWVudCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGBleHBhbmQtcGxhY2VtZW50LSR7dGhpcy5wcm9wcy50b29sSnNvbi5wYW5lbFBsYWNlbWVudC5zcGxpdCgnLScpWzBdfWBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGVudCgpXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3RSZXNpemVEZXRlY3RvciwgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IFVJQ29tcG9uZW50LCB0eXBlIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgdHlwZSBUb29sQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vY29uZmlnJ1xyXG5pbXBvcnQgeyB0eXBlIExheW91dEpzb24sIHR5cGUgR3JvdXBKc29uLCB0eXBlIEhpZGRlbkVsZW1lbnROYW1lcywgdHlwZSBUb29sSnNvbiB9IGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IEJhc2VUb29sU2hlbGwgZnJvbSAnLi9iYXNlLXRvb2wtc2hlbGwnXHJcbmltcG9ydCB7IHR5cGUgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UtdG9vbCdcclxuaW1wb3J0IFRvb2xNb2R1bGVzIGZyb20gJy4uL3Rvb2wtbW9kdWxlcydcclxuaW1wb3J0IHsgTW9iaWxlUGFuZWwgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcblxyXG5pbnRlcmZhY2UgR3JvdXBQcm9wcyBleHRlbmRzIFVJQ29tcG9uZW50UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBsYXlvdXRDb25maWc6IExheW91dEpzb25cclxuICB0b29sQ29uZmlnOiBUb29sQ29uZmlnXHJcbiAgZ3JvdXBOYW1lOiBzdHJpbmdcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4gIHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzXHJcbiAgaXNNb2JpbGU/OiBib29sZWFuXHJcbiAgaXNNYWluR3JvdXA/OiBib29sZWFuXHJcbiAgLy8gY2hlY2tSZXNwb25zaXZlKCkgd2lsbCBjaGVjayBoZWlnaHQgYW5kIHVzZSBwcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcygpIHRvIHNldCBlbGVtZW50IG5hbWVzIHRoYXQgbmVlZCB0byBoaWRlXHJcbiAgaGlkZGVuRWxlbWVudE5hbWVzPzogSGlkZGVuRWxlbWVudE5hbWVzXHJcbiAgLy8gdHJ1ZSBtZWFucyB3ZSBzaG91bGQgaGlkZSB0aGUgR3JvdXAgZGl2IHdpdGggY2xhc3MgLmV4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCBiZWNhdXNlIGNoZWNrUmVzcG9uc2l2ZSgpIG1ldGhvZCB0aGluayB0aGUgaGVpZ2h0IGlzIHNtYWxsLlxyXG4gIGlzSGlkZGVuPzogYm9vbGVhblxyXG4gIGlzVGh1bWJNYXA/OiBib29sZWFuXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG4gIGlzUlRMOiBib29sZWFuXHJcblxyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxuICBvblNldEhpZGRlbkVsZW1lbnROYW1lcz86IChoaWRkZW5FbGVtZW50TmFtZXM6IEhpZGRlbkVsZW1lbnROYW1lcykgPT4gdm9pZFxyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgR3JvdXBTdGF0ZXMge1xyXG4gIGJvdHRvbVBhbmVsSGVpZ2h0PzogbnVtYmVyXHJcbiAgd2lkZ2V0V2lkdGg/OiBudW1iZXJcclxuICB3aWRnZXRIZWlnaHQ/OiBudW1iZXJcclxuICBpc1RodW1iTWFwPzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcm91cCBleHRlbmRzIFVJQ29tcG9uZW50PEdyb3VwUHJvcHMsIEdyb3VwU3RhdGVzPiB7XHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgY29uc3QgZ3JvdXBKc29uID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy5ncm91cE5hbWVdIGFzIEdyb3VwSnNvblxyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gZ3JvdXBKc29uLmRpcmVjdGlvblxyXG4gICAgY29uc3QgaXNSVEwgPSB0aGlzLnByb3BzLmlzUlRMXHJcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnXHJcblxyXG4gICAgbGV0IGZsZXhGbG93ID0gJydcclxuXHJcbiAgICBpZiAoaXNWZXJ0aWNhbCkge1xyXG4gICAgICBmbGV4RmxvdyA9ICdjb2x1bW4nXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaXNSVEwpIHtcclxuICAgICAgICBmbGV4RmxvdyA9ICdyb3ctcmV2ZXJzZSdcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmbGV4RmxvdyA9ICdyb3cnXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgYWxpZ25JdGVtcyA9ICdmbGV4LXN0YXJ0J1xyXG5cclxuICAgIGlmIChpc1ZlcnRpY2FsKSB7XHJcbiAgICAgIGlmIChncm91cEpzb24uaXNWZXJ0aWNhbFJybEFsaWduSXRlbXNTdGFydCkge1xyXG4gICAgICAgIGlmIChpc1JUTCkge1xyXG4gICAgICAgICAgYWxpZ25JdGVtcyA9ICdmbGV4LWVuZCdcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWxpZ25JdGVtcyA9ICdmbGV4LXN0YXJ0J1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGdyb3VwSnNvbi5pc1ZlcnRpY2FsUnJsQWxpZ25JdGVtc0VuZCkge1xyXG4gICAgICAgIGlmIChpc1JUTCkge1xyXG4gICAgICAgICAgYWxpZ25JdGVtcyA9ICdmbGV4LXN0YXJ0J1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhbGlnbkl0ZW1zID0gJ2ZsZXgtZW5kJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjc3NgXHJcblxyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWZsb3c6ICR7ZmxleEZsb3d9O1xyXG4gICAgICBhbGlnbi1pdGVtczogJHthbGlnbkl0ZW1zfTtcclxuXHJcbiAgICAgIC5leGJtYXAtdWktZ3JvdXAtZXhwYW5kLWljb24ge1xyXG4gICAgICAgIGZpbGw6IGJsYWNrO1xyXG4gICAgICAgIGxlZnQ6IDhweDtcclxuICAgICAgICB0b3A6IDhweDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsIHtcclxuICAgICAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMykgMHB4IDBweCAycHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDBweCAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsLXRyYW5zaXRpb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjNzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC10b3VjaC1jb250YWluZXIge1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAzMXB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC1iYXIge1xyXG4gICAgICAgIHdpZHRoOiAzNnB4O1xyXG4gICAgICAgIGhlaWdodDogNHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MzQzNDM7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYm90dG9tUGFuZWxIZWlnaHQ6IDAsXHJcbiAgICAgIGlzVGh1bWJNYXA6ICEhdGhpcy5wcm9wcy5pc01vYmlsZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0hpZGRlbkVsZW1lbnQgPSAoZWxlbWVudE5hbWUpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbkVsZW1lbnROYW1lcykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXMuaW5jbHVkZXMoZWxlbWVudE5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIaWRlIHNvbWUgdG9vbHMgaWYgd2lkZ2V0IGhlZ2l0aCBpcyB0b28gc21hbGwuXHJcbiAgICogVGhpcyBtZXRob2Qgb25seSBoaWRlIGNoaWxkIGVsZW1lbnQgbmFtZXMgaWYgY3VycmVudCBncm91cCBpcyBtYWluIGdyb3VwIGFuZCBpbiBtb2JpbGUgc2l6ZS5cclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGNoZWNrUmVzcG9uc2l2ZSA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMucHJvcHMuaXNNYWluR3JvdXAgfHwgIXRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5ID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5XHJcbiAgICBjb25zdCBhYm92ZUhlaWdodCA9IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0XHJcblxyXG4gICAgLy8gc2VlIGlzc3VlICMyODYyIGZvciBtb3JlIGRldGFpbHNcclxuICAgIGxldCBoaWRkZW5FbGVtZW50TmFtZXM6IHN0cmluZ1tdID0gW11cclxuXHJcbiAgICBpZiAoYWJvdmVIZWlnaHQgPj0gNDY1KSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IFtdXHJcbiAgICB9IGVsc2UgaWYgKGFib3ZlSGVpZ2h0ID49IDQwMCAmJiBhYm92ZUhlaWdodCA8IDQ2NSkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlMSB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA+PSAzMjAgJiYgYWJvdmVIZWlnaHQgPCA0MDApIHtcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzID0gbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5Py5zdGFnZTIgfHwgW11cclxuICAgIH0gZWxzZSBpZiAoYWJvdmVIZWlnaHQgPj0gMjUwICYmIGFib3ZlSGVpZ2h0IDwgMzIwKSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneT8uc3RhZ2UzIHx8IFtdXHJcbiAgICB9IGVsc2UgaWYgKGFib3ZlSGVpZ2h0ID49IDE2MCAmJiBhYm92ZUhlaWdodCA8IDI1MCkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlNCB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA+PSA1NCAmJiBhYm92ZUhlaWdodCA8IDE2MCkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlNSB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA8IDU0KSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneT8uc3RhZ2U2IHx8IFtdXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhoaWRkZW5FbGVtZW50TmFtZXMpXHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHdpZGdldFdpZHRoOiB3aWR0aCxcclxuICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHRcclxuICAgICAgLy8gaXNUaHVtYk1hcDogZmFsc2VcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJldHVybk51bGxOb2RlID0gKGtleT8pID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiA8c3BhbiBrZXk9e2tleX0gLz5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0lzTGFzdEVsZW1lbnQgPSAocGFyZW50R3JvdXBKc29uOiBHcm91cEpzb24sIHRvb2xKc29uOiBUb29sSnNvbikgPT4ge1xyXG4gICAgY29uc3QgdG9vbE5hbWUgPSB0b29sSnNvbi50b29sTmFtZVxyXG4gICAgY29uc3QgbGF5b3V0SnNvbiA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IGxheW91dEpzb24ubGF5b3V0W3BhcmVudEdyb3VwSnNvbi5ncm91cE5hbWVdLmNoaWxkcmVuXHJcbiAgICBjb25zdCBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YodG9vbE5hbWUpXHJcbiAgICBpZiAoaW5kZXggPT09IGNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGxldCBpc0xhc3RFbGVtZW50OiBib29sZWFuID0gdHJ1ZVxyXG4gICAgICBmb3IgKGxldCBpID0gKGluZGV4ICsgMSk7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gY2hpbGRyZW5baV1cclxuICAgICAgICBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZHJlbltpXV0udHlwZSA9PT0gJ0dST1VQJykge1xyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICB9IGVsc2UgaWYgKCghVG9vbE1vZHVsZXNbZWxlbWVudE5hbWVdLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtlbGVtZW50TmFtZX1gXSkgfHxcclxuICAgICAgICAgIChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluY2x1ZGVzKGVsZW1lbnROYW1lKSkpKSB7XHJcbiAgICAgICAgICBpc0xhc3RFbGVtZW50ID0gZmFsc2VcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpc0xhc3RFbGVtZW50XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUGFuZWxIZWlnaHRDaGFuZ2UgPSAocGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBib3R0b21QYW5lbEhlaWdodDogcGFuZWxIZWlnaHQgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0TW9iaWxlUGFuZWxJbkNvbnRleHQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBtb2JpbGVQYW5lbENvbnRhaW5lciwgbWFwV2lkZ2V0SWQgfSkgPT4gKFxyXG4gICAgICAgICAgPE1vYmlsZVBhbmVsXHJcbiAgICAgICAgICAgIG1hcFdpZGdldElkPXttYXBXaWRnZXRJZH0gdGl0bGU9e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sVGl0bGV9XHJcbiAgICAgICAgICAgIG9wZW49eyEhdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gb25DbG9zZT17KCkgPT4geyB0aGlzLmhhbmRsZVRvZ2dsZU1vYmlsZVBhbmVsKCkgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9eyhjb250YWluZXIpID0+IHsgaWYgKG1vYmlsZVBhbmVsQ29udGFpbmVyICYmIGNvbnRhaW5lcikgeyBjb250YWluZXIuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxDb250YWluZXIpIH0gfX0gLz5cclxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRHcm91cENvbnRlbnQgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbikgPT4ge1xyXG4gICAgaWYgKCFsYXlvdXRKc29uKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gbGF5b3V0SnNvbi5sYXlvdXRbdGhpcy5wcm9wcy5ncm91cE5hbWVdICYmIGxheW91dEpzb24ubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXS5jaGlsZHJlblxyXG4gICAgICBpZiAodGhpcy5jaGVja0lzU2hvd0dyb3VwKGxheW91dEpzb24sIGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyhcclxuICAgICAgICAgIGBleGJtYXAtdWkgZXhibWFwLXVpLWdyb3VwIGV4Ym1hcC11aS1ncm91cC0ke3RoaXMucHJvcHMuZ3JvdXBOYW1lfWAsXHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNsYXNzTmFtZSxcclxuICAgICAgICAgIHsgJ2V4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCc6IHRoaXMucHJvcHMuaXNIaWRkZW4gfVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGVPYmogPSB0aGlzLnByb3BzLmxheW91dENvbmZpZy5lbGVtZW50c1t0aGlzLnByb3BzLmdyb3VwTmFtZV0uc3R5bGUgfHwge31cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgaWQ9eyh0aGlzLnByb3BzLmlzTWFpbkdyb3VwID8gdGhpcy5wcm9wcy5tYXBXaWRnZXRJZCA6IHVuZGVmaW5lZCl9XHJcbiAgICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9e2dyb3VwQ2xhc3NOYW1lfSBzdHlsZT17c3R5bGVPYmp9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtjaGlsZHJlbi5tYXAoKGtleSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoIWxheW91dEpzb24uZWxlbWVudHNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1trZXldLnR5cGUgPT09ICdHUk9VUCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDxHcm91cFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSBpc0hpZGRlbj17dGhpcy5jaGVja0lzSGlkZGVuRWxlbWVudChrZXkpfSBjbGFzc05hbWU9eyhsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uKS5jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2xheW91dEpzb24uZWxlbWVudHNba2V5XS5zdHlsZX1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ30gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGludGw9e3RoaXMucHJvcHMuaW50bH1cclxuICAgICAgICAgICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gZ3JvdXBOYW1lPXtrZXl9IGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbkVsZW1lbnROYW1lcz17dGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cclxuICAgICAgICAgICAgICAgICAgICBpc1RodW1iTWFwPXt0aGlzLnByb3BzLmlzTWFpbkdyb3VwID8gdGhpcy5zdGF0ZS5pc1RodW1iTWFwIDogdGhpcy5wcm9wcy5pc1RodW1iTWFwfVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgICAgICAgICAgICBpc1JUTD17dGhpcy5wcm9wcy5pc1JUTH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlID09PSAnVE9PTCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gKGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBUb29sSnNvbikudG9vbE5hbWVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdUeXBlID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldz8udHlwZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRpb24gaXMgbm90IGF2YWlsYWJsZSBmb3IgMkQgTWFwVmlldy5cclxuICAgICAgICAgICAgICAgIGlmICgodG9vbE5hbWUgPT09ICdOYXZpZ2F0aW9uJyAmJiB2aWV3VHlwZSA9PT0gJzJkJykgfHwgKHRvb2xOYW1lID09PSAnU2NhbGVCYXInICYmIHZpZXdUeXBlID09PSAnM2QnKSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIVRvb2xNb2R1bGVzW2tleV0uZ2V0SXNOZWVkU2V0dGluZygpIHx8ICh0aGlzLnByb3BzLnRvb2xDb25maWcgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnW2BjYW4ke2tleX1gXSkgfHwgKGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcyAmJiBsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMuaW5jbHVkZXMoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICA8QmFzZVRvb2xTaGVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbj17dGhpcy5jaGVja0lzSGlkZGVuRWxlbWVudChrZXkpfSBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259XHJcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IHRvb2xOYW1lPXtrZXl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XHJcbiAgICAgICAgICAgICAgICAgICAgICBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaXNMYXN0RWxlbWVudD17dGhpcy5jaGVja0lzTGFzdEVsZW1lbnQobGF5b3V0SnNvbi5lbGVtZW50c1t0aGlzLnByb3BzLmdyb3VwTmFtZV0gYXMgR3JvdXBKc29uLCBsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKGluZGV4KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiB0aGlzLnByb3BzLmlzTW9iaWxlICYmIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZVdpZHRoIGhhbmRsZUhlaWdodCBvblJlc2l6ZT17dGhpcy5vblJlc2l6ZX0gLz59XHJcbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lICE9PSAnU2VsZWN0JyAmJiB0aGlzLmdldE1vYmlsZVBhbmVsSW5Db250ZXh0KCl9XHJcbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2V4Ym1hcC11aSB3LTEwMCdcclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXHJcbiAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgICAgICB0b3VjaEFjdGlvbjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5pc01vYmlsZSAmJiAhKHRoaXMuc3RhdGUuaXNUaHVtYk1hcCB8fCB0aGlzLnByb3BzLmlzVGh1bWJNYXApID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9LWJvdHRvbS1wYW5lbCBleGJtYXAtdWkgdy0xMDAgZXhwYW5kLW1vYmlsZS1wYW5lbGB9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBvdmVyZmxvdzogJ2hpZGRlbicsIHBvaW50ZXJFdmVudHM6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHRvdWNoQWN0aW9uOiAnbm9uZScgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnPlxyXG4gICAgICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMuaGFuZGxlUGFuZWxIZWlnaHRDaGFuZ2V9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJc1Nob3dHcm91cCA9IChsYXlvdXRKc29uOiBMYXlvdXRKc29uLCBjaGlsZHJlbjogc3RyaW5nW10pID0+IHtcclxuICAgIGlmICghY2hpbGRyZW4gfHwgY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdG9vbE5hbWVzID0gW11cclxuICAgICAgdGhpcy5maW5kQWxsVG9vbE5hbWVzKGxheW91dEpzb24sIGNoaWxkcmVuLCB0b29sTmFtZXMpXHJcbiAgICAgIGxldCBpc1Nob3dHcm91cCA9IGZhbHNlXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbE5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHt0b29sTmFtZXNbaV19YF0gfHwgIVRvb2xNb2R1bGVzW3Rvb2xOYW1lc1tpXV0uZ2V0SXNOZWVkU2V0dGluZygpIHx8XHJcbiAgICAgICAgICAobGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzICYmIGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcy5pbmNsdWRlcyh0b29sTmFtZXNbaV0pKSkge1xyXG4gICAgICAgICAgaXNTaG93R3JvdXAgPSB0cnVlXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNTaG93R3JvdXBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpbmRBbGxUb29sTmFtZXMgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbiwgY2hpbGRyZW46IHN0cmluZ1tdLCB0b29sTmFtZXM6IHN0cmluZ1tdKSA9PiB7XHJcbiAgICBpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hpbGROYW1lID0gY2hpbGRyZW5baV1cclxuICAgICAgY29uc3QgZWxlbWVudEluZm8gPSBsYXlvdXRKc29uLmVsZW1lbnRzW2NoaWxkTmFtZV1cclxuXHJcbiAgICAgIGlmIChlbGVtZW50SW5mby50eXBlID09PSAnR1JPVVAnKSB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBOYW1lID0gZWxlbWVudEluZm8uZ3JvdXBOYW1lXHJcbiAgICAgICAgdGhpcy5maW5kQWxsVG9vbE5hbWVzKGxheW91dEpzb24sIGxheW91dEpzb24ubGF5b3V0W2dyb3VwTmFtZV0gJiYgbGF5b3V0SnNvbi5sYXlvdXRbZ3JvdXBOYW1lXS5jaGlsZHJlbiwgdG9vbE5hbWVzKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvb2xOYW1lcy5wdXNoKGNoaWxkcmVuW2ldKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLnRvb2xDb25maWcgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnLmNhblNlbGVjdCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMCB9fT5cclxuICAgICAgICAgIDxkaXYgaWQ9e2Ake3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9LXdpdGgtc2VsZWN0LWNvbnRhaW5lcmB9IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAgfX0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICAgICAge3RoaXMuZ2V0R3JvdXBDb250ZW50KHRoaXMucHJvcHMubGF5b3V0Q29uZmlnKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXBDb250ZW50KHRoaXMucHJvcHMubGF5b3V0Q29uZmlnKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgb25EZXN0cm95ZWQ/OiAoKSA9PiB2b2lkXHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuZWxTaGVsbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIHVua25vd24+IHtcclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRlc3Ryb3llZCkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uRGVzdHJveWVkKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8PlxyXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICA8Lz5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuXHJcbmludGVyZmFjZSBTY3JvbGxDb250YWluZXJQcm9wcyB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nXHJcbiAgc3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzXHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Nyb2xsQ29udGFpbmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTY3JvbGxDb250YWluZXJQcm9wcywgdW5rbm93bj4ge1xyXG4gIG1vdmVZID0gMFxyXG4gIHN0YXJ0WSA9IDBcclxuICBpc1JlZ2lzdGVkID0gZmFsc2VcclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xyXG4gICAgICBgXHJcbiAgfVxyXG5cclxuICByZWdpc3RlclRvdWNoRXZlbnQgPSAocmVmOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKHJlZiAmJiAhdGhpcy5pc1JlZ2lzdGVkKSB7XHJcbiAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5tb3ZlWSA9IDBcclxuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cclxuICAgICAgICB0aGlzLnN0YXJ0WSA9IHRvdWNoLmNsaWVudFlcclxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxyXG5cclxuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXVxyXG4gICAgICAgIHRoaXMubW92ZVkgPSAodG91Y2guY2xpZW50WSAtIHRoaXMuc3RhcnRZKSAqIC0xXHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSB0b3VjaC5jbGllbnRZXHJcblxyXG4gICAgICAgIHJlZi5zY3JvbGxUb3AgPSByZWYuc2Nyb2xsVG9wICsgdGhpcy5tb3ZlWVxyXG4gICAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pXHJcblxyXG4gICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLm1vdmVZID0gMFxyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gMFxyXG4gICAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pXHJcblxyXG4gICAgICB0aGlzLmlzUmVnaXN0ZWQgPSB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfSBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX1cclxuICAgICAgICByZWY9e3JlZiA9PiB7XHJcbiAgICAgICAgICB0aGlzLnJlZ2lzdGVyVG91Y2hFdmVudChyZWYpXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVSUNvbXBvbmVudFByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVUlDb21wb25lbnQ8UCBleHRlbmRzIFVJQ29tcG9uZW50UHJvcHMsIFM+IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQLCBTPiB7XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IFJlYWN0LCBjc3MsIGpzeCwgQXBwTW9kZSwgdHlwZSBTaXplTW9kZUxheW91dEpzb24sIHR5cGUgSW50bFNoYXBlLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIGdldEFwcFN0b3JlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFRvb2xDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcnXHJcbmltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiwgdHlwZSBHcm91cEpzb24sIHR5cGUgTGF5b3V0SXRlbUpzb24sIHR5cGUgSGlkZGVuRWxlbWVudE5hbWVzIH0gZnJvbSAnLi9jb25maWcnXHJcbmltcG9ydCBHcm91cCBmcm9tICcuL2Jhc2UvZ3JvdXAnXHJcbmltcG9ydCB0eXBlIHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcblxyXG5pbnRlcmZhY2UgTGF5b3V0UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBsYXlvdXRDb25maWc6IExheW91dEpzb25cclxuICB0b29sQ29uZmlnOiBUb29sQ29uZmlnXHJcblxyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGlzTW9iaWxlOiBib29sZWFuXHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxuXHJcbiAgYXBwTW9kZTogQXBwTW9kZVxyXG4gIGxheW91dHM6IHsgW25hbWU6IHN0cmluZ106IFNpemVNb2RlTGF5b3V0SnNvbiB9XHJcbiAgTGF5b3V0RW50cnk/OiBhbnlcclxuICB3aWRnZXRNYW5pZmVzdE5hbWU6IHN0cmluZ1xyXG5cclxuICB3aWRnZXRIZWlnaHQ/OiBudW1iZXJcclxuICBpbnRsPzogSW50bFNoYXBlXHJcblxyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIExheW91dFN0YXRlIHtcclxuICB0b29sc0NvbnRlbnRJbk1vYmlsZUV4cGFuZFBhbmVsPzogSlNYLkVsZW1lbnRcclxuICBoaWRkZW5FbGVtZW50TmFtZXM6IEhpZGRlbkVsZW1lbnROYW1lc1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSB7IEFjdGl2ZVRvb2xJbmZvIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFRvb2xMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzLCBMYXlvdXRTdGF0ZT4ge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbDogbnVsbCxcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzOiBbXVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgei1pbmRleDogODtcclxuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcblxyXG4gICAgICAuZXhwYW5kLXBhbmVsLXRyYW5zaXRpb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcywgcmlnaHQgMC4zcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwIHtcclxuICAgICAgICA+IGRpdjpmaXJzdC1vZi10eXBlOm50aC1sYXN0LW9mLXR5cGUoMSkge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtdWktaGlkZGVuLWVsZW1lbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0IHtcclxuICAgICAgICBtYXgtaGVpZ2h0OiAke3RoaXMuZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQodGhpcy5wcm9wcy53aWRnZXRIZWlnaHQpfXB4O1xyXG4gICAgICAgIG92ZXJmbG93OiBhdXRvXHJcbiAgICAgIH1cclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQgPSAod2lkZ2V0SGVpZ2h0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKCF3aWRnZXRIZWlnaHQpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh3aWRnZXRIZWlnaHQgPCA2NSkge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0SGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0IC0gNjVcclxuICAgICAgICBpZiAocmVzdWx0SGVpZ2h0IDwgMzAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0SGVpZ2h0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiAzMDBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRTZXRIaWRkZW5FbGVtZW50TmFtZXMgPSAoZWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXMpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXM6IGVsZW1lbnROYW1lc1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldExheW91dENvbnRlbnQgKGxheW91dEpzb246IExheW91dEpzb24pIHtcclxuICAgIGlmICghbGF5b3V0SnNvbiB8fCAhdGhpcy5wcm9wcy50b29sQ29uZmlnKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWkgZXNyaS11aS1pbm5lci1jb250YWluZXIgbWFwLXRvb2wtbGF5b3V0JyBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0+XHJcbiAgICAgICAgICB7T2JqZWN0LmtleXMobGF5b3V0SnNvbi5sYXlvdXQpLm1hcCgoa2V5LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50SXRlbSA9IGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb25cclxuICAgICAgICAgICAgY29uc3QgbGF5b3V0SXRlbTogTGF5b3V0SXRlbUpzb24gPSBsYXlvdXRKc29uLmxheW91dFtrZXldXHJcblxyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnRJdGVtIHx8IGVsZW1lbnRJdGVtLnR5cGUgIT09ICdHUk9VUCcgfHwgIWxheW91dEl0ZW0uaXNNYWluR3JvdXApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc1JUTCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb250ZXh0LmlzUlRMXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxHcm91cFxyXG4gICAgICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IGNsYXNzTmFtZT17ZWxlbWVudEl0ZW0uY2xhc3NOYW1lfSBzdHlsZT17ZWxlbWVudEl0ZW0uc3R5bGV9XHJcbiAgICAgICAgICAgICAgICBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaXNNYWluR3JvdXBcclxuICAgICAgICAgICAgICAgIGtleT17aW5kZXh9IGxheW91dENvbmZpZz17bGF5b3V0SnNvbn0gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfSBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb31cclxuICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBncm91cE5hbWU9e2tleX0gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgaGlkZGVuRWxlbWVudE5hbWVzPXtsYXlvdXRKc29uLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneSAmJiB0aGlzLnN0YXRlLmhpZGRlbkVsZW1lbnROYW1lc30gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxyXG4gICAgICAgICAgICAgICAgb25TZXRIaWRkZW5FbGVtZW50TmFtZXM9e3RoaXMuaGFuZFNldEhpZGRlbkVsZW1lbnROYW1lc30gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgICAgICBpc1JUTD17aXNSVEx9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBMYXlvdXRQcm9wcykge1xyXG4gICAgaWYgKHByZXZQcm9wcy5hcHBNb2RlICE9PSB0aGlzLnByb3BzLmFwcE1vZGUgJiYgdGhpcy5wcm9wcy5hcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnbikge1xyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRMYXlvdXRDb250ZW50KHRoaXMucHJvcHMubGF5b3V0Q29uZmlnKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgUmVhY3QsIGpzeCwgdHlwZSBBcHBNb2RlLCB0eXBlIFNpemVNb2RlTGF5b3V0SnNvbiwgSW1tdXRhYmxlLCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IExheW91dEVudHJ5IH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xyXG5pbXBvcnQgeyBjaGVja0lzTGl2ZSB9IGZyb20gJy4uL3V0aWxzJ1xyXG5cclxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcclxuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3XHJcblxyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBsYXlvdXRzOiB7IFtuYW1lOiBzdHJpbmddOiBTaXplTW9kZUxheW91dEpzb24gfVxyXG4gIExheW91dEVudHJ5PzogYW55XHJcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmdcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuaW50ZXJmYWNlIExheW91dFN0YXRlIHt9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzLCBMYXlvdXRTdGF0ZT4ge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHt9XHJcbiAgfVxyXG5cclxuICBnZXRNYXBGaXhlZExheW91dCA9ICgpID0+IHtcclxuICAgIC8vICMxMTk3LCAjMjk2MFxyXG4gICAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XHJcbiAgICAgIGNvbnN0IExheW91dEVudHJ5ID0gdGhpcy5wcm9wcy5MYXlvdXRFbnRyeVxyXG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnByb3BzLmxheW91dHMgJiYgdGhpcy5wcm9wcy5sYXlvdXRzLk1hcEZpeGVkTGF5b3V0XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPExheW91dEVudHJ5XHJcbiAgICAgICAgICBsYXlvdXRzPXtsYXlvdXQgfHwgbnVsbH0gaXNJbldpZGdldCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwIG1hcC1maXgtbGF5b3V0JyxcclxuICAgICAgICAgICAgeyAnd2lkZ2V0LW1hcC11c2VtYXNrJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSksICdtYXAtaXMtbGl2ZS1tb2RlJzogY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKSB9KX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnByb3BzLmxheW91dHMgJiYgdGhpcy5wcm9wcy5sYXlvdXRzLk1hcEZpeGVkTGF5b3V0XHJcbiAgICAgIHJldHVybiA8TGF5b3V0RW50cnkgbGF5b3V0cz17bGF5b3V0ID8gSW1tdXRhYmxlKGxheW91dCkgOiBudWxsfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIG1hcC1pcy1saXZlLW1vZGUgbWFwLWZpeC1sYXlvdXQnIC8+XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0TWFwRml4ZWRMYXlvdXQoKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyB0eXBlIExheW91dEpzb24gfSBmcm9tICcuL2NvbmZpZydcclxuXHJcbmNvbnN0IG1vYmlsZUxheW91dEpzb246IExheW91dEpzb24gPSB7XHJcbiAgZWxlbWVudHM6IHtcclxuICAgIG1haW5Hcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtYWluR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBmbGV4LWNvbHVtbicsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnMHB4JyxcclxuICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICBib3R0b206ICcwcHgnLFxyXG4gICAgICAgIHJpZ2h0OiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgdG9wR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAndG9wR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IHctMTAwIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcGFkZGluZzogJzEwcHggMTBweCAwIDEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtaWRHcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdmbGV4LWdyb3ctMSBkLWZsZXggdy0xMDAganVzdGlmeS1jb250ZW50LWJldHdlZW4nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBib3R0b21Hcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b21Hcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggdy0xMDAgYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJ1xyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1sZWZ0LXRvcCc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtbGVmdC10b3AnLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgbGVmdDogJzBweCcsXHJcbiAgICAgICAgdG9wOiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLWxlZnQtYm90dG9tJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1sZWZ0LWJvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGZsZXgtY29sdW1uJyxcclxuICAgICAgaXNWZXJ0aWNhbFJybEFsaWduSXRlbXNTdGFydDogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICBib3R0b206ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzBweCcsXHJcbiAgICAgICAgcmlnaHQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICBib3R0b206ICcxMHB4JyxcclxuICAgICAgICByaWdodDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBTZWFyY2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlYXJjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBjbGFzc05hbWU6ICdmbGV4LWdyb3ctMSdcclxuICAgIH0sXHJcbiAgICBGdWxsU2NyZWVuOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luTGVmdDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMb2NhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBDbGVhckFjdGlvbkRhdGE6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgQ29tcGFzczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ29tcGFzcycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBjbGFzc05hbWU6ICdtYi0wJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5MZWZ0OiAnMTBweCcsXHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1hcFN3aXRjaDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTWFwU3dpdGNoJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5MZWZ0OiAnMTBweCcsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFpvb206IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1pvb20nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIEhvbWU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0hvbWUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgRXh0ZW50TmF2aWdhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0V4dGVudE5hdmlnYXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5MZWZ0OiAnMTBweCcsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIExheWVyczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTGF5ZXJzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0JyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VsZWN0OiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VsZWN0U3RhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTWVhc3VyZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTWVhc3VyZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBTY2FsZUJhcjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2NhbGVCYXInLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBtYWluR3JvdXA6IHtcclxuICAgICAgaXNNYWluR3JvdXA6IHRydWUsXHJcbiAgICAgIGNoaWxkcmVuOiBbJ3RvcEdyb3VwJywgJ21pZEdyb3VwJywgJ2JvdHRvbUdyb3VwJ11cclxuICAgIH0sXHJcbiAgICB0b3BHcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnRnVsbFNjcmVlbiddXHJcbiAgICB9LFxyXG4gICAgbWlkR3JvdXA6IHtcclxuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtbGVmdC10b3AnLCAnbWlkR3JvdXAtbGVmdC1ib3R0b20nLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1sZWZ0LXRvcCc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcyddXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLWxlZnQtYm90dG9tJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydFeHRlbnROYXZpZ2F0ZScsICdNYXBTd2l0Y2gnLCAnU2NhbGVCYXInXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZScsICdTZWxlY3QnXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ0xvY2F0ZScsICdDbGVhckFjdGlvbkRhdGEnXVxyXG4gICAgfSxcclxuICAgIGJvdHRvbUdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlbGVjdFN0YXRlJ11cclxuICAgIH1cclxuICB9LFxyXG4gIG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneToge1xyXG4gICAgLy8gaGVpZ2h0OiA0MDAtNDY1XHJcbiAgICBzdGFnZTE6IFsnTWVhc3VyZScsICdMb2NhdGUnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDMyMC00MDBcclxuICAgIHN0YWdlMjogWydNZWFzdXJlJywgJ1NlbGVjdCcsICdMb2NhdGUnLCAnYm90dG9tR3JvdXAnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDI1MC0zMjBcclxuICAgIHN0YWdlMzogWydFeHRlbnROYXZpZ2F0ZScsICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCcsICdMb2NhdGUnLCAnYm90dG9tR3JvdXAnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDE2MC0yNTBcclxuICAgIHN0YWdlNDogWydNYXBTd2l0Y2gnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnSG9tZScsICdMb2NhdGUnLCAnQ2xlYXJBY3Rpb25EYXRhJywgJ2JvdHRvbUdyb3VwJ10sXHJcblxyXG4gICAgLy8gaGVpZ2h0OiA1NC0xNjBcclxuICAgIHN0YWdlNTogWydtaWRHcm91cCcsICdib3R0b21Hcm91cCddLFxyXG5cclxuICAgIC8vIGhlaWdodDogMC01NFxyXG4gICAgc3RhZ2U2OiBbJ3RvcEdyb3VwJywgJ21pZEdyb3VwJywgJ2JvdHRvbUdyb3VwJ11cclxuICB9LFxyXG4gIGxvY2tUb29sTmFtZXM6IFtdXHJcbn1cclxuXHJcbmNvbnN0IG1vYmlsZUxheW91dEpzb25zOiBMYXlvdXRKc29uW10gPSBbbW9iaWxlTGF5b3V0SnNvbl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vYmlsZUxheW91dEpzb25zXHJcbiIsImltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiB9IGZyb20gJy4vY29uZmlnJ1xyXG5cclxuY29uc3QgbGF5b3V0SnNvbjE6IExheW91dEpzb24gPSB7XHJcbiAgZWxlbWVudHM6IHtcclxuICAgIGxlZnRUb3BDb250YWluZXI6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbGVmdFRvcENvbnRhaW5lcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzE1cHgnLFxyXG4gICAgICAgIGxlZnQ6ICcxNXB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdG9yOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ25hdmlnYXRvcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5SaWdodDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdpbnRlcmFjdCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzE1cHgnLFxyXG4gICAgICAgIHJpZ2h0OiAnMTVweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJvdHRvbToge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b20nLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ3ctMTAwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICBib3R0b206ICcwcHgnLFxyXG4gICAgICAgIGxlZnQ6ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUxJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTEnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCBzY2FsZS1hdHRyaWJ1dGlvbi14eS1ncm91cCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMHB4JyxcclxuICAgICAgICBtYXJnaW5Ub3A6ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUyJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTInLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGFsaWduLWl0ZW1zLWVuZCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICcxNXB4JyxcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6ICcxNXB4JyxcclxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgaXNWZXJ0aWNhbFJybEFsaWduSXRlbXNFbmQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2F0dHJpYnV0aW9uR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXhXaWR0aDogJzYwJSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFpvb206IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1pvb20nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgSG9tZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnSG9tZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBDb21wYXNzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBOYXZpZ2F0aW9uOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdOYXZpZ2F0aW9uJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIExvY2F0ZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTG9jYXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIExheWVyczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTGF5ZXJzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0JyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VsZWN0OiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgU2VsZWN0U3RhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCcsXHJcbiAgICAgICAgYm94U2hhZG93OiAnMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwwKSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEV4dGVudE5hdmlnYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdFeHRlbnROYXZpZ2F0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1lYXN1cmU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01lYXN1cmUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfSxcclxuICAgIE1hcFN3aXRjaDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTWFwU3dpdGNoJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIEZ1bGxTY3JlZW46IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Z1bGxTY3JlZW4nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIENsZWFyQWN0aW9uRGF0YToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ2xlYXJBY3Rpb25EYXRhJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBTY2FsZUJhcjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2NhbGVCYXInLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIEF0dHJpYnV0aW9uOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdBdHRyaWJ1dGlvbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBjbGFzc05hbWU6ICd3LTEwMCdcclxuICAgIH0sXHJcbiAgICBTZWFyY2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlYXJjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGxheW91dDoge1xyXG4gICAgbGVmdFRvcENvbnRhaW5lcjoge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnbmF2aWdhdG9yJywgJ1NlbGVjdCddXHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdG9yOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1pvb20nLCAnSG9tZScsICdOYXZpZ2F0aW9uJywgJ0V4dGVudE5hdmlnYXRlJywgJ0xvY2F0ZScsICdDb21wYXNzJ11cclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnU2VhcmNoJywgJ0xheWVycycsICdCYXNlTWFwJywgJ01lYXN1cmUnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTEnOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NjYWxlQmFyJywgJ2F0dHJpYnV0aW9uR3JvdXAnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ01hcFN3aXRjaCcsICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lciddXHJcbiAgICB9LFxyXG4gICAgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydGdWxsU2NyZWVuJywgJ0NsZWFyQWN0aW9uRGF0YScsICdTZWxlY3RTdGF0ZSddXHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWydib3R0b20tbGluZTInLCAnYm90dG9tLWxpbmUxJ11cclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ0F0dHJpYnV0aW9uJ11cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGxheW91dEpzb24yOiBMYXlvdXRKc29uID0ge1xyXG4gIGVsZW1lbnRzOiB7XHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbmF2aWdhdG9yJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBpc1ZlcnRpY2FsUnJsQWxpZ25JdGVtc0VuZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2ludGVyYWN0JyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGlzUmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6ICcxNXB4JyxcclxuICAgICAgICBsZWZ0OiAnMTVweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZ1bGxTY3JlZW5Hcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdmdWxsU2NyZWVuR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6ICcxNXB4JyxcclxuICAgICAgICByaWdodDogJzE1cHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBib3R0b206IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICd3LTEwMCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgYm90dG9tOiAnMHB4JyxcclxuICAgICAgICBsZWZ0OiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUxJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgc2NhbGUtYXR0cmlidXRpb24teHktZ3JvdXAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzBweCcsXHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMic6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUyJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1lbmQganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAnMTVweCcsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMTVweCcsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGF0dHJpYnV0aW9uR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYXR0cmlidXRpb25Hcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1heFdpZHRoOiAnNjAlJ1xyXG4gICAgICB9LFxyXG4gICAgICBjbGFzc05hbWU6ICdhdHRpYnV0ZS1ncm91cCdcclxuICAgIH0sXHJcbiAgICBab29tOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEhvbWU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0hvbWUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgQ29tcGFzczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ29tcGFzcycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgTmF2aWdhdGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTmF2aWdhdGlvbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMb2NhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBFeHRlbnROYXZpZ2F0ZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnRXh0ZW50TmF2aWdhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMYXllcnM6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xheWVycycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2JvdHRvbScsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgQmFzZU1hcDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQmFzZU1hcCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2JvdHRvbScsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VsZWN0OiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgU2VsZWN0U3RhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCcsXHJcbiAgICAgICAgYm94U2hhZG93OiAnMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwwKSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1lYXN1cmU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01lYXN1cmUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1hcFN3aXRjaDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTWFwU3dpdGNoJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIEZ1bGxTY3JlZW46IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Z1bGxTY3JlZW4nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIENsZWFyQWN0aW9uRGF0YToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ2xlYXJBY3Rpb25EYXRhJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBTY2FsZUJhcjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2NhbGVCYXInLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIEF0dHJpYnV0aW9uOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdBdHRyaWJ1dGlvbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBjbGFzc05hbWU6ICd3LTEwMCdcclxuICAgIH0sXHJcbiAgICBTZWFyY2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlYXJjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2JvdHRvbScsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBsYXlvdXQ6IHtcclxuICAgIG5hdmlnYXRvcjoge1xyXG4gICAgICBjaGlsZHJlbjogWydDb21wYXNzJywgJ0xvY2F0ZScsICdFeHRlbnROYXZpZ2F0ZScsICdOYXZpZ2F0aW9uJywgJ1pvb20nLCAnSG9tZScsICdTZWxlY3RTdGF0ZSddXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHtcclxuICAgICAgaXNNYWluR3JvdXA6IHRydWUsXHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJywgJ1NlbGVjdCddXHJcbiAgICB9LFxyXG4gICAgZnVsbFNjcmVlbkdyb3VwOiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWydGdWxsU2NyZWVuJywgJ0NsZWFyQWN0aW9uRGF0YSddXHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnU2NhbGVCYXInLCAnYXR0cmlidXRpb25Hcm91cCddXHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMic6IHtcclxuICAgICAgY2hpbGRyZW46IFsnTWFwU3dpdGNoJywgJ25hdmlnYXRvciddXHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWydib3R0b20tbGluZTInLCAnYm90dG9tLWxpbmUxJ11cclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ0F0dHJpYnV0aW9uJ11cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGxheW91dEpzb25zOiBMYXlvdXRKc29uW10gPSBbbGF5b3V0SnNvbjEsIGxheW91dEpzb24yXVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbGF5b3V0SnNvbnNcclxuIiwiaW1wb3J0IFpvb20gZnJvbSAnLi4vdG9vbHMvem9vbSdcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi4vdG9vbHMvaG9tZSdcclxuaW1wb3J0IENvbXBhc3MgZnJvbSAnLi4vdG9vbHMvY29tcGFzcydcclxuaW1wb3J0IExvY2F0ZSBmcm9tICcuLi90b29scy9sb2NhdGUnXHJcbmltcG9ydCBDbGVhckFjdGlvbkRhdGEgZnJvbSAnLi4vdG9vbHMvY2xlYXItYWN0aW9uLWRhdGEnXHJcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4uL3Rvb2xzL25hdmlnYXRpb24nXHJcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vdG9vbHMvc2VhcmNoJ1xyXG5pbXBvcnQgTGF5ZXJzIGZyb20gJy4uL3Rvb2xzL2xheWVycydcclxuaW1wb3J0IEJhc2VNYXAgZnJvbSAnLi4vdG9vbHMvYmFzZW1hcCdcclxuaW1wb3J0IE1hcFN3aXRjaCBmcm9tICcuLi90b29scy9tYXBzd2l0Y2gnXHJcbmltcG9ydCBGdWxsU2NyZWVuIGZyb20gJy4uL3Rvb2xzL2Z1bGxzY3JlZW4nXHJcbmltcG9ydCBTY2FsZUJhciBmcm9tICcuLi90b29scy9zY2FsZWJhcidcclxuaW1wb3J0IEF0dHJpYnV0aW9uIGZyb20gJy4uL3Rvb2xzL2F0dHJpYnV0aW9uJ1xyXG5pbXBvcnQgTWVhc3VyZSBmcm9tICcuLi90b29scy9tZWFzdXJlJ1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJy4uL3Rvb2xzL3NlbGVjdCdcclxuaW1wb3J0IFNlbGVjdFN0YXRlIGZyb20gJy4uL3Rvb2xzL3NlbGVjdHN0YXRlJ1xyXG5pbXBvcnQgRXh0ZW50TmF2aWdhdGUgZnJvbSAnLi4vdG9vbHMvZXh0ZW50LW5hdmlnYXRlJ1xyXG5cclxuY29uc3QgVG9vbE1vZHVsZXM6IHsgW01vZHVsZU5hbWU6IHN0cmluZ106IGFueSB9ID0ge1xyXG4gIFpvb206IFpvb20sXHJcbiAgSG9tZTogSG9tZSxcclxuICBOYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uLFxyXG4gIExvY2F0ZTogTG9jYXRlLFxyXG4gIENsZWFyQWN0aW9uRGF0YTogQ2xlYXJBY3Rpb25EYXRhLFxyXG4gIENvbXBhc3M6IENvbXBhc3MsXHJcbiAgU2VhcmNoOiBTZWFyY2gsXHJcbiAgTGF5ZXJzOiBMYXllcnMsXHJcbiAgQmFzZU1hcDogQmFzZU1hcCxcclxuICBNZWFzdXJlOiBNZWFzdXJlLFxyXG4gIE1hcFN3aXRjaDogTWFwU3dpdGNoLFxyXG4gIEZ1bGxTY3JlZW46IEZ1bGxTY3JlZW4sXHJcbiAgU2NhbGVCYXI6IFNjYWxlQmFyLFxyXG4gIEF0dHJpYnV0aW9uOiBBdHRyaWJ1dGlvbixcclxuICBTZWxlY3Q6IFNlbGVjdCxcclxuICBTZWxlY3RTdGF0ZTogU2VsZWN0U3RhdGUsXHJcbiAgRXh0ZW50TmF2aWdhdGU6IEV4dGVudE5hdmlnYXRlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvb2xNb2R1bGVzXHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRyaWJ1dGlvbiBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdBdHRyaWJ1dGlvbidcclxuXHJcbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gJ0F0dHJpYnV0aW9uJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPEF0dHJpYnV0aW9uSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQXR0cmlidXRpb25Jbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIEF0dHJpYnV0aW9uSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIEF0dHJpYnV0aW9uSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEF0dHJpYnV0aW9uSW5uZXJQcm9wcywgQXR0cmlidXRpb25Jbm5lclN0YXRlPiB7XHJcbiAgQXR0cmlidXRpb246IHR5cGVvZiBfX2VzcmkuQXR0cmlidXRpb24gPSBudWxsXHJcbiAgQXR0cmlidXRpb25CdG46IF9fZXNyaS5BdHRyaWJ1dGlvblxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQXR0cmlidXRpb24nXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5BdHRyaWJ1dGlvbl0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEF0dHJpYnV0aW9uSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xyXG4gICAgICAgIGlmICh0aGlzLkF0dHJpYnV0aW9uQnRuICYmICF0aGlzLkF0dHJpYnV0aW9uQnRuLmRlc3Ryb3kpIHtcclxuICAgICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi5yZW5kZXJOb3coKVxyXG5cclxuICAgICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgICBuYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5BdHRyaWJ1dGlvbkJ0blxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0biA9IG5ldyB0aGlzLkF0dHJpYnV0aW9uKHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdBdHRyaWJ1dGlvbicpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICAgICAgaW5zdGFuY2U6IHRoaXMuQXR0cmlidXRpb25CdG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5BdHRyaWJ1dGlvbkJ0bikge1xyXG4gICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdBdHRyaWJ1dGlvbicpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdhdHRyaWJ1dGlvbi1tYXAtdG9vbCcgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0gcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBiYXNlbWFwVXRpbHMgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VNYXAgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnQmFzZU1hcCdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdCYXNlTWFwTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkJhc2VNYXBMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPEJhc2VNYXBJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQmFzZU1hcElubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGlzTW9iaWxlOiBib29sZWFuXHJcbn1cclxuXHJcbmludGVyZmFjZSBCYXNlTWFwSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbiAgc291cmNlTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIEJhc2VNYXBJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8QmFzZU1hcElubmVyUHJvcHMsIEJhc2VNYXBJbm5lclN0YXRlPiB7XHJcbiAgQmFzZW1hcEdhbGxlcnk6IHR5cGVvZiBfX2VzcmkuQmFzZW1hcEdhbGxlcnlcclxuICBMb2NhbEJhc2VtYXBzU291cmNlOiB0eXBlb2YgX19lc3JpLkxvY2FsQmFzZW1hcHNTb3VyY2VcclxuICBiYXNlbWFwR2FsbGVyeTogX19lc3JpLkJhc2VtYXBHYWxsZXJ5XHJcbiAgb3JnQmFzZW1hcHM6IF9fZXNyaS5CYXNlbWFwW11cclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgX191bm1vdW50ID0gZmFsc2VcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlLFxyXG4gICAgICBzb3VyY2VMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQmFzZW1hcEdhbGxlcnknLCAnZXNyaS93aWRnZXRzL0Jhc2VtYXBHYWxsZXJ5L3N1cHBvcnQvTG9jYWxCYXNlbWFwc1NvdXJjZSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbdGhpcy5CYXNlbWFwR2FsbGVyeSwgdGhpcy5Mb2NhbEJhc2VtYXBzU291cmNlXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNvdXJjZUxvYWRlZCkge1xyXG4gICAgICBiYXNlbWFwVXRpbHMuZ2V0T3JnQmFzZW1hcHMoKS50aGVuKChiYXNlbWFwczogX19lc3JpLkJhc2VtYXBbXSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9yZ0Jhc2VtYXBzID0gYmFzZW1hcHNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNvdXJjZUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgbG9hZCBiYXNlbWFwIGdhbGxlcnkgc291cmNlIGVycm9yOiAke2Vycn1gKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEJhc2VNYXBJbm5lclByb3BzKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5zdGF0ZS5zb3VyY2VMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuYmFzZW1hcEdhbGxlcnkpIHtcclxuICAgICAgICAvLyBiYXNlbWFwR2FsbGVyeSBhbHJlYWR5IGNyZWF0ZWRcclxuICAgICAgICBjb25zdCBpc1ZpZXdDaGFuZ2VkID0gcHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZClcclxuXHJcbiAgICAgICAgaWYgKGlzVmlld0NoYW5nZWQpIHtcclxuICAgICAgICAgIC8vIHZpZXcgY2hhbmdlZFxyXG4gICAgICAgICAgdGhpcy5iYXNlbWFwR2FsbGVyeS52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgICB0aGlzLmJhc2VtYXBHYWxsZXJ5LnNvdXJjZSA9IHRoaXMuZ2V0RmluYWxCYXNlbWFwR2FsbGVyeVNvdXJjZSh0aGlzLm9yZ0Jhc2VtYXBzLCB0aGlzLmJhc2VtYXBHYWxsZXJ5KVxyXG4gICAgICAgICAgdGhpcy5iYXNlbWFwR2FsbGVyeS5yZW5kZXJOb3coKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBiYXNlbWFwR2FsbGVyeSBub3QgY3JlYXRlZFxyXG4gICAgICAgIHRoaXMuYmFzZW1hcEdhbGxlcnkgPSBuZXcgdGhpcy5CYXNlbWFwR2FsbGVyeSh7XHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5iYXNlbWFwR2FsbGVyeS5zb3VyY2UgPSB0aGlzLmdldEZpbmFsQmFzZW1hcEdhbGxlcnlTb3VyY2UodGhpcy5vcmdCYXNlbWFwcywgdGhpcy5iYXNlbWFwR2FsbGVyeSlcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdCYXNlTWFwJylcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgIG5hbWU6ICdCYXNlTWFwJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLmJhc2VtYXBHYWxsZXJ5XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RmluYWxCYXNlbWFwR2FsbGVyeVNvdXJjZSAob3JnQmFzZW1hcHM6IF9fZXNyaS5CYXNlbWFwW10sIGJhc2VtYXBHYWxsZXJ5OiBfX2VzcmkuQmFzZW1hcEdhbGxlcnkpOiBfX2VzcmkuTG9jYWxCYXNlbWFwc1NvdXJjZSB7XHJcbiAgICBjb25zdCBmaW5hbEJhc2VtYXBzID0gb3JnQmFzZW1hcHMuc2xpY2UoKVxyXG4gICAgY29uc3QgdmlldyA9IGJhc2VtYXBHYWxsZXJ5LnZpZXdcclxuXHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICBjb25zdCBvcmlnaW5hbEJhc2VtYXA6IF9fZXNyaS5CYXNlbWFwID0gKHZpZXcubWFwIGFzIGFueSkub3JpZ2luYWxCYXNlbWFwIHx8IHZpZXcubWFwLmJhc2VtYXBcclxuICAgICAgY29uc3QgYmFzZW1hcEdhbGxlcnlWaWV3TW9kZWwgPSBiYXNlbWFwR2FsbGVyeS52aWV3TW9kZWxcclxuXHJcbiAgICAgIGlmIChvcmlnaW5hbEJhc2VtYXAgJiYgYmFzZW1hcEdhbGxlcnlWaWV3TW9kZWwpIHtcclxuICAgICAgICBjb25zdCBpc09yaWdpbmFsQmFzZW1hcEluY2x1ZGVkID0gZmluYWxCYXNlbWFwcy5zb21lKGl0ZW0gPT4gYmFzZW1hcEdhbGxlcnlWaWV3TW9kZWwuYmFzZW1hcEVxdWFscyhvcmlnaW5hbEJhc2VtYXAsIGl0ZW0pKVxyXG5cclxuICAgICAgICBpZiAoIWlzT3JpZ2luYWxCYXNlbWFwSW5jbHVkZWQpIHtcclxuICAgICAgICAgIC8vIElmIG9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwgaXMgbnVsbCwgdXNlIG1hcC50aHVtYm5haWxVcmwgYXMgb3JpZ2luYWxCYXNlbWFwLnRodW1ibmFpbFVybC5cclxuICAgICAgICAgIGlmICghb3JpZ2luYWxCYXNlbWFwLnRodW1ibmFpbFVybCkge1xyXG4gICAgICAgICAgICBjb25zdCB0aHVtYm5haWxVcmwgPSAodmlldy5tYXAgYXMgYW55KT8udGh1bWJuYWlsVXJsXHJcblxyXG4gICAgICAgICAgICBpZiAodGh1bWJuYWlsVXJsKSB7XHJcbiAgICAgICAgICAgICAgb3JpZ2luYWxCYXNlbWFwLnRodW1ibmFpbFVybCA9IHRodW1ibmFpbFVybFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZmluYWxCYXNlbWFwcy51bnNoaWZ0KG9yaWdpbmFsQmFzZW1hcClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzb3VyY2UgPSBuZXcgdGhpcy5Mb2NhbEJhc2VtYXBzU291cmNlKHtcclxuICAgICAgYmFzZW1hcHM6IGZpbmFsQmFzZW1hcHNcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIHNvdXJjZVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSB0cnVlXHJcblxyXG4gICAgaWYgKHRoaXMuYmFzZW1hcEdhbGxlcnkpIHtcclxuICAgICAgdGhpcy5iYXNlbWFwR2FsbGVyeS5kZXN0cm95KClcclxuICAgICAgdGhpcy5iYXNlbWFwR2FsbGVyeSA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQmFzZU1hcCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmFzZW1hcC1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtaW5IZWlnaHQ6ICczMnB4JywgbWF4V2lkdGg6ICdub25lJywgbWF4SGVpZ2h0OiAnbm9uZScsIG92ZXJmbG93WTogJ2F1dG8nLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fVxyXG4gICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCBiYXNlbWFwLW1hcC10b29sJ1xyXG4gICAgICAgID5cclxuICAgICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgTXV0YWJsZVN0b3JlTWFuYWdlciwgZ2V0QXBwU3RvcmUsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIEppbXVNYXBWaWV3SW5mbyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTaG93T25NYXBEYXRhcywgdHlwZSBBZGRUb01hcERhdGFzLCB0eXBlIE1hcE11dGFibGVTdGF0ZSwgQWN0aW9uVHlwZSwgRGF0YUNoYW5nZVR5cGUgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgSWNvbiwgRHJvcGRvd24sIERyb3Bkb3duTWVudSwgRHJvcGRvd25CdXR0b24sIERyb3Bkb3duSXRlbSwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICBpc09wZW46IGJvb2xlYW5cclxufVxyXG5cclxuaW50ZXJmYWNlIExpc3RJdGVtIHtcclxuICBsYXllcklkOiBzdHJpbmdcclxuICB0aXRsZTogc3RyaW5nXHJcbiAgaXNBY3Rpb246IGJvb2xlYW4gLy8gdHJ1ZSBtZWFucyB0aGlzIGl0ZW0gY29tZXMgZnJvbSBTaG93T25NYXAvQWRkVG9NYXAgYWN0aW9ucywgZmFsc2UgbWVhbnMgaXQgY29tZXMgZnJvbSBKaW11TGF5ZXJWaWV3XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsZWFyQWN0aW9uRGF0YSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlPiB7XHJcbiAgdG9vbE5hbWUgPSAnQ2xlYXJBY3Rpb25EYXRhJ1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHsgaXNPcGVuOiBmYWxzZSB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC5qaW11LWRyb3Bkb3duIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIC5pY29uLWJ0biB7XHJcbiAgICAgICAgICBwYWRkaW5nOiA3cHg7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjbGVhclJlc3VsdHMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNsZWFyUmVzdWx0cyB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3RyYXNoLnN2ZycpLFxyXG4gICAgICBvbkljb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMub25JY29uQ2xpY2soKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRMaXN0SXRlbXMgKG1hcFdpZGdldElkOiBzdHJpbmcpOiBMaXN0SXRlbVtdIHtcclxuICAgIGNvbnN0IG1hcE11dGFibGVTdGF0ZTogTWFwTXV0YWJsZVN0YXRlID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW21hcFdpZGdldElkXSkgfHwge31cclxuICAgIGNvbnN0IGxpc3RJdGVtczEgPSB0aGlzLmdldExpc3RJdGVtc0J5QWRkT3JTaG93T25NYXBEYXRhcyhtYXBXaWRnZXRJZCwgbWFwTXV0YWJsZVN0YXRlKVxyXG4gICAgY29uc3QgbGF5ZXJJZHMxID0gbGlzdEl0ZW1zMS5tYXAobGlzdEl0ZW0gPT4gbGlzdEl0ZW0ubGF5ZXJJZClcclxuICAgIGxldCBsaXN0SXRlbXMyID0gdGhpcy5nZXRMaXN0SXRlbXNCeVJlbW92ZWFibGVMYXllcklkc0luZm8obWFwTXV0YWJsZVN0YXRlKVxyXG4gICAgLy8gb25lIGxheWVySWQgbWF5YmUgYm90aCBpbiBzaG93T25NYXBEYXRhcy9hZGRUb01hcERhdGFzIGFuZCByZW1vdmVhYmxlTGF5ZXJJZHNJbmZvLCBzbyBuZWVkIHRvIHJlbW92ZSByZXBlYXQgaXRlbXNcclxuICAgIGxpc3RJdGVtczIgPSBsaXN0SXRlbXMyLmZpbHRlcihsaXN0SXRlbSA9PiAhbGF5ZXJJZHMxLmluY2x1ZGVzKGxpc3RJdGVtLmxheWVySWQpKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gbGlzdEl0ZW1zMS5jb25jYXQobGlzdEl0ZW1zMilcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9ubHkgc2hvdyBsYXllcnMgdGhhdCBjcmF0ZWQgYnkgZGF0YSBhY3Rpb25zLiBUaGUgbGF5ZXJzIG1heWJlIGNyYXRlZCBieSBzaG93T25NYXAgZGF0YSBhY3Rpb24gb3IgYWRkVG9NYXAgZGF0YSBhY3Rpb24uXHJcbiAgICogQHBhcmFtIG1hcFdpZGdldElkXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBnZXRMaXN0SXRlbXNCeUFkZE9yU2hvd09uTWFwRGF0YXMgKG1hcFdpZGdldElkOiBzdHJpbmcsIG1hcE11dGFibGVTdGF0ZTogTWFwTXV0YWJsZVN0YXRlKTogTGlzdEl0ZW1bXSB7XHJcbiAgICBjb25zdCBzaG93T25NYXBEYXRhczogU2hvd09uTWFwRGF0YXMgPSBtYXBNdXRhYmxlU3RhdGU/LnNob3dPbk1hcERhdGFzIHx8IHt9XHJcbiAgICBjb25zdCBhZGRUb01hcERhdGFzOiBBZGRUb01hcERhdGFzID0gbWFwTXV0YWJsZVN0YXRlPy5hZGRUb01hcERhdGFzIHx8IHt9XHJcblxyXG4gICAgY29uc3Qgc2hvd09uTWFwRGF0YUluZm9zID0gT2JqZWN0LmVudHJpZXMoc2hvd09uTWFwRGF0YXMpLm1hcChlbnRyeSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IGVudHJ5WzBdLFxyXG4gICAgICAgIHRpdGxlOiBlbnRyeVsxXS50aXRsZSxcclxuICAgICAgICBqaW11TWFwVmlld0lkOiBlbnRyeVsxXS5qaW11TWFwVmlld0lkLFxyXG4gICAgICAgIG1hcFdpZGdldElkOiBlbnRyeVsxXS5tYXBXaWRnZXRJZCxcclxuICAgICAgICBuZWVkVG9SZW1vdmU6IHRydWUsXHJcbiAgICAgICAgdHlwZTogZW50cnlbMV0udHlwZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGFkZFRvTWFwRGF0YUluZm9zID0gT2JqZWN0LmVudHJpZXMoYWRkVG9NYXBEYXRhcykubWFwKGVudHJ5ID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogZW50cnlbMF0sXHJcbiAgICAgICAgdGl0bGU6IGVudHJ5WzFdLnRpdGxlLFxyXG4gICAgICAgIGppbXVNYXBWaWV3SWQ6IGVudHJ5WzFdLmppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgbWFwV2lkZ2V0SWQ6IGVudHJ5WzFdLm1hcFdpZGdldElkLFxyXG4gICAgICAgIG5lZWRUb1JlbW92ZTogZW50cnlbMV0uZGF0YUNoYW5nZVR5cGUgPT09IERhdGFDaGFuZ2VUeXBlLkNyZWF0ZWQsXHJcbiAgICAgICAgdHlwZTogZW50cnlbMV0udHlwZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGRhdGFBY3Rpb25JbmZvcyA9IHNob3dPbk1hcERhdGFJbmZvcy5jb25jYXQoYWRkVG9NYXBEYXRhSW5mb3MpLmZpbHRlcihkYXRhSW5mbyA9PiB7XHJcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGppbXVNYXBWaWV3SWQgd2hpbGUgZ2VuZXJhdGluZyB0aGUgYWN0aW9uIGRhdGEgaWYgdGhlIG1hcCB3aWRnZXQgaGFzbid0IGJlZW4gbG9hZGVkIGluIHRoZSBhbm90aGVyIHBhZ2UvdmlldyxcclxuICAgICAgLy8gdXNlIGEgZGVmYXVsdCBqaW11TWFwVmlld0lkIHRvIHNob3cgZGF0YS5cclxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBkYXRhSW5mby5qaW11TWFwVmlld0lkXHJcbiAgICAgIGlmICghamltdU1hcFZpZXdJZCAmJiBkYXRhSW5mby5tYXBXaWRnZXRJZCA9PT0gbWFwV2lkZ2V0SWQpIHtcclxuICAgICAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvOiBJbW11dGFibGVPYmplY3Q8eyBbamltdU1hcFZpZXdJZDogc3RyaW5nXTogSmltdU1hcFZpZXdJbmZvIH0+ID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmppbXVNYXBWaWV3c0luZm9cclxuICAgICAgICBqaW11TWFwVmlld0lkID0gT2JqZWN0LmtleXMoamltdU1hcFZpZXdzSW5mbyB8fCB7fSkuZmluZCh2aWV3SWQgPT4gamltdU1hcFZpZXdzSW5mb1t2aWV3SWRdLm1hcFdpZGdldElkID09PSBtYXBXaWRnZXRJZClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIChqaW11TWFwVmlld0lkID09PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkICYmIGRhdGFJbmZvLnR5cGUgPT09IEFjdGlvblR5cGUuRGF0YUFjdGlvbiAmJiBkYXRhSW5mby5uZWVkVG9SZW1vdmUpXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGRhdGFBY3Rpb25MaXN0SXRlbXM6IExpc3RJdGVtW10gPSBkYXRhQWN0aW9uSW5mb3MubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RJdGVtOiBMaXN0SXRlbSA9IHtcclxuICAgICAgICBsYXllcklkOiBpdGVtLmlkLFxyXG4gICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxyXG4gICAgICAgIGlzQWN0aW9uOiB0cnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBsaXN0SXRlbVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gZGF0YUFjdGlvbkxpc3RJdGVtc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGxpc3QgaXRlbXMgYnkgSmltdUxheWVyVmlldy5yZW1vdmVhYmxlQnlNYXBUb29sLlxyXG4gICAqIEBwYXJhbSBtdXRhYmxlU3RhdGVcclxuICAgKi9cclxuICBnZXRMaXN0SXRlbXNCeVJlbW92ZWFibGVMYXllcklkc0luZm8gKG11dGFibGVTdGF0ZTogTWFwTXV0YWJsZVN0YXRlKTogTGlzdEl0ZW1bXSB7XHJcbiAgICBjb25zdCBsaXN0SXRlbXM6IExpc3RJdGVtW10gPSBbXVxyXG4gICAgY29uc3QgcmVtb3ZlYWJsZUxheWVySWRzSW5mbyA9IG11dGFibGVTdGF0ZT8ucmVtb3ZlYWJsZUxheWVySWRzSW5mbyB8fCB7fVxyXG4gICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcblxyXG4gICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgIGNvbnN0IG1hcCA9IGppbXVNYXBWaWV3LnZpZXc/Lm1hcFxyXG5cclxuICAgICAgaWYgKG1hcCkge1xyXG4gICAgICAgIGNvbnN0IHJlbW92ZWFibGVMYXllcklkcyA9IHJlbW92ZWFibGVMYXllcklkc0luZm9bamltdU1hcFZpZXcuaWRdIHx8IFtdXHJcblxyXG4gICAgICAgIHJlbW92ZWFibGVMYXllcklkcy5mb3JFYWNoKGxheWVySWQgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbGF5ZXIgPSBtYXAuZmluZExheWVyQnlJZChsYXllcklkKVxyXG5cclxuICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IGxheWVyLnRpdGxlIHx8IGxheWVySWRcclxuICAgICAgICAgICAgY29uc3QgbGlzdEl0ZW06IExpc3RJdGVtID0ge1xyXG4gICAgICAgICAgICAgIGxheWVySWQsXHJcbiAgICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgICAgaXNBY3Rpb246IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxpc3RJdGVtcy5wdXNoKGxpc3RJdGVtKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGlzdEl0ZW1zXHJcbiAgfVxyXG5cclxuICBvbkljb25DbGljayA9ICgpID0+IHt9XHJcblxyXG4gIG9uRHJvcERvd25Ub2dnbGUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiAhdGhpcy5zdGF0ZS5pc09wZW4gfSlcclxuICB9XHJcblxyXG4gIGNyZWF0ZURyb3Bkb3duSXRlbSAobGlzdEl0ZW06IExpc3RJdGVtLCBtYXBXaWRnZXRJZDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBrZXkgPSBgJHtsaXN0SXRlbS5sYXllcklkfS1pbmRleC0ke2luZGV4fWBcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8RHJvcGRvd25JdGVtXHJcbiAgICAgICAga2V5PXtrZXl9XHJcbiAgICAgICAgaGVhZGVyPXtmYWxzZX1cclxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMub25JdGVtQ2xpY2sobGlzdEl0ZW0sIG1hcFdpZGdldElkKSB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge2xpc3RJdGVtLnRpdGxlfVxyXG4gICAgICA8L0Ryb3Bkb3duSXRlbT5cclxuICAgIClcclxuICB9XHJcblxyXG4gIG9uSXRlbUNsaWNrID0gKGxpc3RJdGVtOiBMaXN0SXRlbSwgbWFwV2lkZ2V0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSlcclxuXHJcbiAgICBjb25zdCBsYXllcklkID0gbGlzdEl0ZW0ubGF5ZXJJZFxyXG5cclxuICAgIGNvbnN0IG11dGFibGVTdGF0ZSA9IE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdGF0ZVZhbHVlKFttYXBXaWRnZXRJZF0pIHx8IHt9XHJcblxyXG4gICAgaWYgKGxpc3RJdGVtLmlzQWN0aW9uKSB7XHJcbiAgICAgIC8vIHRoaXMgaXRlbSBjb21lcyBmcm9tIFNob3dPbk1hcC9BZGRUb01hcCBhY3Rpb25zLCByZW1vdmUgaXQgYnkgbXV0YWJsZVN0b3JlTWFuYWdlci51cGRhdGVTdGF0ZVZhbHVlKCkuXHJcbiAgICAgIGNvbnN0IGFjdGlvbkRhdGFJZCA9IGxheWVySWRcclxuICAgICAgY29uc3Qgc2hvd09uTWFwRGF0YXMgPSBtdXRhYmxlU3RhdGUuc2hvd09uTWFwRGF0YXNcclxuICAgICAgY29uc3QgYWRkVG9NYXBEYXRhcyA9IG11dGFibGVTdGF0ZS5hZGRUb01hcERhdGFzXHJcblxyXG4gICAgICBpZiAoc2hvd09uTWFwRGF0YXMpIHtcclxuICAgICAgICBkZWxldGUgc2hvd09uTWFwRGF0YXNbYWN0aW9uRGF0YUlkXVxyXG4gICAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKG1hcFdpZGdldElkLCAnc2hvd09uTWFwRGF0YXMnLCBzaG93T25NYXBEYXRhcylcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGFkZFRvTWFwRGF0YXMgJiYgYWRkVG9NYXBEYXRhc1thY3Rpb25EYXRhSWRdPy5kYXRhQ2hhbmdlVHlwZSA9PT0gRGF0YUNoYW5nZVR5cGUuQ3JlYXRlZCkge1xyXG4gICAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKG1hcFdpZGdldElkLCBgYWRkVG9NYXBEYXRhcy4ke2FjdGlvbkRhdGFJZH0uZGF0YUNoYW5nZVR5cGVgLCBEYXRhQ2hhbmdlVHlwZS5SZW1vdmUpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHRoaXMgaXRlbSBjb21lcyBmcm9tIEppbXVMYXllclZpZXcucmVtb3ZlYWJsZUJ5TWFwVG9vbFxyXG5cclxuICAgICAgLy8ganVzdCByZW1vdmUgdGhlIGxheWVyIGZyb20gbWFwLCBkb24ndCBuZWVkIHRvIHVwZGF0ZSByZW1vdmVhYmxlTGF5ZXJJZHNJbmZvIChvbmx5IHVwZGF0ZSByZW1vdmVhYmxlTGF5ZXJJZHNJbmZvIHdoZW4gY2FsbGluZyBKaW11TGF5ZXJWaWV3LnNldFJlbW92ZWFibGVCeU1hcFRvb2woKSlcclxuICAgICAgY29uc3QgbWFwID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldz8ubWFwXHJcblxyXG4gICAgICBpZiAobWFwKSB7XHJcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBtYXAuZmluZExheWVyQnlJZChsYXllcklkKVxyXG5cclxuICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgIG1hcC5yZW1vdmUobGF5ZXIpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgbWFwV2lkZ2V0SWQgfSkgPT4gKFxyXG4gICAgICAgICAgdGhpcy5nZXRDb250ZW50KG1hcFdpZGdldElkKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29udGVudCA9IChtYXBXaWRnZXRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmdldExpc3RJdGVtcyhtYXBXaWRnZXRJZClcclxuICAgIGNvbnN0IGRyb3Bkb3duSXRlbXMgPSBsaXN0SXRlbXMubWFwKChsaXN0SXRlbSwgaW5kZXgpID0+IHRoaXMuY3JlYXRlRHJvcGRvd25JdGVtKGxpc3RJdGVtLCBtYXBXaWRnZXRJZCwgaW5kZXgpKVxyXG5cclxuICAgIGlmIChkcm9wZG93bkl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfT5cclxuICAgICAgICAgIDxEcm9wZG93blxyXG4gICAgICAgICAgICBkaXJlY3Rpb249J2Rvd24nXHJcbiAgICAgICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgICAgICB0b2dnbGU9e3RoaXMub25Ecm9wRG93blRvZ2dsZX1cclxuICAgICAgICAgICAgaXNPcGVuPXt0aGlzLnN0YXRlLmlzT3Blbn1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPERyb3Bkb3duQnV0dG9uIGljb24gYXJyb3c9e2ZhbHNlfSBzaXplPSdzbScgdHlwZT0nZGVmYXVsdCc+XHJcbiAgICAgICAgICAgICAgPEljb24gc2l6ZT17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dGhpcy5nZXRJY29uKCkuaWNvbn0gLz5cclxuICAgICAgICAgICAgPC9Ecm9wZG93bkJ1dHRvbj5cclxuICAgICAgICAgICAgPERyb3Bkb3duTWVudT5cclxuICAgICAgICAgICAgICB7ZHJvcGRvd25JdGVtc31cclxuICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnU+XHJcbiAgICAgICAgICA8L0Ryb3Bkb3duPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBhc3MgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnQ29tcGFzcydcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdDb21wYXNzTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkNvbXBhc3NMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPENvbXBhc3NJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb21wYXNzSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb21wYXNzSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIENvbXBhc3NJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Q29tcGFzc0lubmVyUHJvcHMsIENvbXBhc3NJbm5lclN0YXRlPiB7XHJcbiAgQ29tcGFzczogdHlwZW9mIF9fZXNyaS5Db21wYXNzID0gbnVsbFxyXG4gIENvbXBhc3NCdG46IF9fZXNyaS5Db21wYXNzXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9Db21wYXNzJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuQ29tcGFzc10gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5Db21wYXNzQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5Db21wYXNzQnRuID0gbmV3IHRoaXMuQ29tcGFzcyh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0NvbXBhc3MnKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnQ29tcGFzcycsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuQ29tcGFzc0J0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuQ29tcGFzc0J0bikge1xyXG4gICAgICB0aGlzLkNvbXBhc3NCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuQ29tcGFzc0J0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQ29tcGFzcycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdjb21wYXNzLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgdHlwZSB7IE1hcGJhc2VWaWV3IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tYXBiYXNlJ1xyXG5pbXBvcnQgeyBnZXRWaWV3cG9pbnRJbnN0YW5jZUZyb21IaXN0b3J5IH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IEFycm93RmF0TGVmdE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1mYXQtbGVmdCdcclxuaW1wb3J0IHsgQXJyb3dGYXRSaWdodE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1mYXQtcmlnaHQnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHRlbnROYXZpZ2F0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdFeHRlbnROYXZpZ2F0ZSdcclxuXHJcbiAgdmlldzogTWFwYmFzZVZpZXdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdFeHRlbnROYXZpZ2F0ZSdcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4dGVuZENzc1N0eWxlICgpIHtcclxuICAgIHJldHVybiBgXHJcbiAgICAgIC5leHRlbnQtbmF2aWdhdGUtYnRuIHtcclxuICAgICAgICB3aWR0aDogMzJweDtcclxuICAgICAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xyXG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4dGVudC1uYXZpZ2F0ZS1idG4uZXh0ZW50LW5hdmlnYXRlLWJ0bi1kaXNhYmxlZCB7XHJcbiAgICAgICAgY29sb3I6IGdyZXk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHRlbnQtbmF2aWdhdGUtcHJldi1idG4ge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgICB9XHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgY29uc3QgaXNQcmV2QnRuRGlzYWJsZWQgPSAhdGhpcy5pc1ByZXZCdG5FbmFibGVkKClcclxuICAgIGNvbnN0IGlzTmV4dEJ0bkRpc2FibGVkID0gIXRoaXMuaXNOZXh0QnRuRW5hYmxlZCgpXHJcblxyXG4gICAgY29uc3QgcHJldkJ0bkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ2Vzcmktd2lkZ2V0LS1idXR0b24gZXh0ZW50LW5hdmlnYXRlLWJ0biBleHRlbnQtbmF2aWdhdGUtcHJldi1idG4nLCB7ICdleHRlbnQtbmF2aWdhdGUtYnRuLWRpc2FibGVkJzogaXNQcmV2QnRuRGlzYWJsZWQgfSlcclxuICAgIGNvbnN0IG5leHRCdG5DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uIGV4dGVudC1uYXZpZ2F0ZS1idG4gZXh0ZW50LW5hdmlnYXRlLW5leHQtYnRuJywgeyAnZXh0ZW50LW5hdmlnYXRlLWJ0bi1kaXNhYmxlZCc6IGlzTmV4dEJ0bkRpc2FibGVkIH0pXHJcbiAgICBjb25zdCBwcmV2RXh0ZW50VGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3ByZXZFeHRlbnQnKVxyXG4gICAgY29uc3QgbmV4dEV4dGVudFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCduZXh0RXh0ZW50JylcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcmV2QnRuQ2xhc3NOYW1lfSB0aXRsZT17cHJldkV4dGVudFRpdGxlfSBvbkNsaWNrPXt0aGlzLm9uQ2xpY2tQcmV2QnRufT5cclxuICAgICAgICAgIDxBcnJvd0ZhdExlZnRPdXRsaW5lZCAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtuZXh0QnRuQ2xhc3NOYW1lfSB0aXRsZT17bmV4dEV4dGVudFRpdGxlfSBvbkNsaWNrPXt0aGlzLm9uQ2xpY2tOZXh0QnRufT5cclxuICAgICAgICAgIDxBcnJvd0ZhdFJpZ2h0T3V0bGluZWQgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBmb3JtYXRNZXNzYWdlIChzdHJJZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogc3RySWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbc3RySWRdIH0pXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKTogdm9pZCB7XHJcbiAgICB0aGlzLmJpbmRWaWV3KClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICB0aGlzLmJpbmRWaWV3KClcclxuICB9XHJcblxyXG4gIGJpbmRWaWV3ICgpIHtcclxuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3IGFzIE1hcGJhc2VWaWV3XHJcblxyXG4gICAgaWYgKHRoaXMudmlldyAhPT0gdmlldykge1xyXG4gICAgICAvLyBhY3RpdmUgdmlldyBjaGFuZ2VzXHJcbiAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICB0aGlzLnZpZXcuc3RhdGlvbmFyeUNhbGxiYWNrID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnZpZXcgPSB2aWV3XHJcblxyXG4gICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0YXRpb25hcnlDYWxsYmFjayA9IHRoaXMub25WaWV3U3RhdGlvbmFyeVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnVwZGF0ZUJ5Q3VycmVudFZpZXcoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlQnlDdXJyZW50VmlldyAoKTogdm9pZCB7XHJcbiAgICB0aGlzLmZvcmNlVXBkYXRlKClcclxuICB9XHJcblxyXG4gIG9uVmlld1N0YXRpb25hcnkgPSAoKSA9PiB7XHJcbiAgICAvLyB2aWV3IHN0YXRpYywgdmlldy52aWV3cG9pbnRIaXN0b3J5IG1heWJlIGNoYW5nZWRcclxuICAgIHRoaXMudXBkYXRlQnlDdXJyZW50VmlldygpXHJcbiAgfVxyXG5cclxuICBpc1ByZXZCdG5FbmFibGVkICgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpZXcgJiYgdGhpcy52aWV3LnZpZXdwb2ludEhpc3RvcnkubGVuZ3RoID49IDIgJiYgdGhpcy52aWV3LnZpZXdwb2ludEluZGV4ID49IDFcclxuICB9XHJcblxyXG4gIGlzTmV4dEJ0bkVuYWJsZWQgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldyAmJiB0aGlzLnZpZXcudmlld3BvaW50SGlzdG9yeS5sZW5ndGggPj0gMiAmJiB0aGlzLnZpZXcudmlld3BvaW50SW5kZXggPCAodGhpcy52aWV3LnZpZXdwb2ludEhpc3RvcnkubGVuZ3RoIC0gMSlcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tQcmV2QnRuID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmlzUHJldkJ0bkVuYWJsZWQoKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnZpZXcudmlld3BvaW50SW5kZXgtLVxyXG4gICAgY29uc3Qgdmlld3BvaW50ID0gZ2V0Vmlld3BvaW50SW5zdGFuY2VGcm9tSGlzdG9yeSh0aGlzLnZpZXcsIHRoaXMudmlldy52aWV3cG9pbnRJbmRleClcclxuXHJcbiAgICBpZiAodmlld3BvaW50KSB7XHJcbiAgICAgIHRoaXMudmlldy5nb1RvKHZpZXdwb2ludClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZUJ5Q3VycmVudFZpZXcoKVxyXG4gIH1cclxuXHJcbiAgb25DbGlja05leHRCdG4gPSAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuaXNOZXh0QnRuRW5hYmxlZCgpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudmlldy52aWV3cG9pbnRJbmRleCsrXHJcbiAgICBjb25zdCB2aWV3cG9pbnQgPSBnZXRWaWV3cG9pbnRJbnN0YW5jZUZyb21IaXN0b3J5KHRoaXMudmlldywgdGhpcy52aWV3LnZpZXdwb2ludEluZGV4KVxyXG5cclxuICAgIGlmICh2aWV3cG9pbnQpIHtcclxuICAgICAgdGhpcy52aWV3LmdvVG8odmlld3BvaW50KVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlQnlDdXJyZW50VmlldygpXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGdWxsc2NyZWVuIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0Z1bGxzY3JlZW4nXHJcbiAgaXNGdWxsU2NyZWVuID0gZmFsc2VcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdGdWxsU2NyZWVuTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkZ1bGxTY3JlZW5MYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogdGhpcy5pc0Z1bGxTY3JlZW4gPyByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmcnKSA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmcnKSxcclxuICAgICAgb25JY29uQ2xpY2s6IChldnQ/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pID0+IHtcclxuICAgICAgICB0aGlzLmZ1bGxTY3JlZW5NYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdWxsU2NyZWVuTWFwID0gKCkgPT4ge31cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRDb250ZW50ID0gKGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbikgPT4ge1xyXG4gICAgdGhpcy5mdWxsU2NyZWVuTWFwID0gZnVsbFNjcmVlbk1hcFxyXG4gICAgdGhpcy5pc0Z1bGxTY3JlZW4gPSBpc0Z1bGxTY3JlZW5cclxuICAgIHJldHVybiBzdXBlci5yZW5kZXIoKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbiB9KSA9PiAoXHJcbiAgICAgICAgICB0aGlzLmdldENvbnRlbnQoZnVsbFNjcmVlbk1hcCwgaXNGdWxsU2NyZWVuKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyB0eXBlIEluaXRpYWxNYXBTdGF0ZSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0hvbWUnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnSG9tZUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5Ib21lTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRIb21lQ29udGVudCA9IChpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZSkgPT4ge1xyXG4gICAgcmV0dXJuIDxIb21lSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGluaXRpYWxNYXBTdGF0ZT17aW5pdGlhbE1hcFN0YXRlfSAvPlxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIC8vIHJldHVybiA8SG9tZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fT48L0hvbWVJbm5lcj47XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBpbml0aWFsTWFwU3RhdGUgfSkgPT4gKFxyXG4gICAgICAgICAgdGhpcy5nZXRIb21lQ29udGVudChpbml0aWFsTWFwU3RhdGUpXHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSG9tZUlubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGluaXRpYWxNYXBTdGF0ZTogSW5pdGlhbE1hcFN0YXRlXHJcbn1cclxuXHJcbmludGVyZmFjZSBIb21lSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIEhvbWVJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SG9tZUlubmVyUHJvcHMsIEhvbWVJbm5lclN0YXRlPiB7XHJcbiAgSG9tZTogdHlwZW9mIF9fZXNyaS5Ib21lID0gbnVsbFxyXG4gIEV4dGVudDogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeS5FeHRlbnRcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50XHJcblxyXG4gIGhvbWVCdG46IF9fZXNyaS5Ib21lXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9Ib21lJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnLFxyXG4gICAgICAgICdlc3JpL1ZpZXdwb2ludCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkhvbWUsIHRoaXMuRXh0ZW50LCB0aGlzLlZpZXdwb2ludF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEhvbWVJbm5lclByb3BzKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkIHx8ICF0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJyVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXcgfHwgbnVsbFxyXG4gICAgLy8gY2hlY2sgaW5pdGlhbE1hcFN0YXRlIGNoYW5nZSBvciBub3RcclxuICAgIC8vIHNvbWV0aW1lcyBwcmV2UHJvcHMuaW5pdGlhbE1hcFN0YXRlIGlzIHVuZGVmaW5lZCBhbmQgcHJvcHMuaW5pdGlhbE1hcFN0YXRlIGlzIG51bGwsIHNvIHdlIG5lZWQgdG8gY29udmVydCB1bmRlZmluZWQgdG8gbnVsbFxyXG4gICAgY29uc3QgcHJlSW5pdGlhbE1hcFN0YXRlID0gcHJldlByb3BzPy5pbml0aWFsTWFwU3RhdGUgfHwgbnVsbFxyXG4gICAgY29uc3QgY3VyckluaXRpYWxNYXBTdGF0ZSA9IHRoaXMucHJvcHMuaW5pdGlhbE1hcFN0YXRlIHx8IG51bGxcclxuICAgIGNvbnN0IGlzSW5pdGlhbE1hcFN0YXRlQ2hhbmdlZCA9IHByZUluaXRpYWxNYXBTdGF0ZSAhPT0gY3VyckluaXRpYWxNYXBTdGF0ZVxyXG5cclxuICAgIC8vIGRlc3Ryb3kgY3VycmVudCB2aWV3IHdoZW4gdmlldyBjaGFuZ2VkIG9yIGluaXRpYWxNYXBTdGF0ZSBjaGFuZ2VkXHJcbiAgICBpZiAodGhpcy5ob21lQnRuICYmICh0aGlzLmhvbWVCdG4udmlldyAhPT0gY3VyclZpZXcgfHwgaXNJbml0aWFsTWFwU3RhdGVDaGFuZ2VkKSkge1xyXG4gICAgICB0aGlzLmRlc3Ryb3lIb21lQnRuKClcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmVhdGUgbmV3IGhvbWUgYnRuIGlmIHRoaXMuaG9tZUJ0biBpcyBlbXB0eSBhbmQgY3VyclZpZXcgaXMgbm90IGVtcHR5XHJcbiAgICBpZiAoIXRoaXMuaG9tZUJ0biAmJiBjdXJyVmlldykge1xyXG4gICAgICBsZXQgaW5pdFZpZXdwb2ludCA9IHRoaXMucHJvcHMuaW5pdGlhbE1hcFN0YXRlXHJcbiAgICAgICAgPyB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZSlcclxuICAgICAgICA6ICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcubWFwIGFzIF9fZXNyaS5XZWJNYXAgfCBfX2VzcmkuV2ViU2NlbmUpLmluaXRpYWxWaWV3UHJvcGVydGllcy52aWV3cG9pbnRcclxuXHJcbiAgICAgIGlmIChpbml0Vmlld3BvaW50KSB7XHJcbiAgICAgICAgaW5pdFZpZXdwb2ludCA9IGluaXRWaWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBob21lQnRuQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoaG9tZUJ0bkNvbnRhaW5lcilcclxuXHJcbiAgICAgIHRoaXMuaG9tZUJ0biA9IG5ldyB0aGlzLkhvbWUoe1xyXG4gICAgICAgIGNvbnRhaW5lcjogaG9tZUJ0bkNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXHJcbiAgICAgICAgdmlld3BvaW50OiBpbml0Vmlld3BvaW50LFxyXG4gICAgICAgIGdvVG9PdmVycmlkZTogdGhpcy5ob21lQnRuR29Ub092ZXJyaWRlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdIb21lJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ0hvbWUnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLmhvbWVCdG5cclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNJbml0aWFsTWFwU3RhdGVDaGFuZ2VkKSB7XHJcbiAgICAgIC8vIGluaXRpYWxNYXBTdGF0ZSBjaGFuZ2VcclxuXHJcbiAgICAgIGlmIChjdXJyVmlldyAmJiB0aGlzLmhvbWVCdG4pIHtcclxuICAgICAgICAvLyBjb25zdCBjbG9uZVZpZXdwb2ludCA9IHRoaXMuaG9tZUJ0bi52aWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgICAgIC8vIHNldCBjdXJyVmlldy52aWV3cG9pbnQgdG8gY2xvbmVWaWV3cG9pbnQgZGlyZWN0bHkgbm90IHdvcmsgd2l0aCBlcnJvciAnaW52YWxpZCBzY2FsZSB2YWx1ZSBvZiAwJyBpZiB0aGUgaW5pdCBob21lQnRhbi52aWV3cG9pbnQuc2NhbGUgaXMgMCwgc28gdXNlIHZpZXcuZ29UbygpIGluc3RlYWRcclxuICAgICAgICAvLyBjdXJyVmlldy52aWV3cG9pbnQgPSBjbG9uZVZpZXdwb2ludFxyXG4gICAgICAgIC8vIGN1cnJWaWV3LmdvVG8oY2xvbmVWaWV3cG9pbnQsIHtcclxuICAgICAgICAvLyAgIGFuaW1hdGU6IGZhbHNlXHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgICB0aGlzLmhvbWVCdG4uZ28oKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUgPSAoaW5pdGlhbE1hcFN0YXRlOiBJbml0aWFsTWFwU3RhdGUpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcclxuICAgIGlmIChpbml0aWFsTWFwU3RhdGUudmlld1R5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogdGhpcy5FeHRlbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLmV4dGVudCksXHJcbiAgICAgICAgICByb3RhdGlvbjogaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5WaWV3cG9pbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhvbWVCdG5Hb1RvT3ZlcnJpZGUgPSBhc3luYyAodmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBnb1RvUGFyYW1zOiBfX2VzcmkuR29Ub1RhcmdldDJEICYgX19lc3JpLkdvVG9PcHRpb25zMkQpID0+IHtcclxuICAgIGNvbnN0IGlzMkRWaWV3ID0gdmlldy50eXBlID09PSAnMmQnXHJcblxyXG4gICAgLy8gc25hcFRvWm9vbTogdHJ1ZSBtZWFucyBpbnRlZ2VyIHpvb20sIGZhbHNlIG1lYW5zIGZsb2F0IHpvb21cclxuICAgIC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIGdvVG8gdGhlIGludGVnZXIgem9vbSB3aGVuIGNsaWNrIGhvbWUgYnRuLlxyXG4gICAgbGV0IG5lZWRUb1Jlc3RvcmVTbmFwVG9ab29tVG9GYWxzZSA9IGZhbHNlXHJcbiAgICBpZiAoaXMyRFZpZXcgJiYgdmlldy5jb25zdHJhaW50cyAmJiAhdmlldy5jb25zdHJhaW50cy5zbmFwVG9ab29tKSB7XHJcbiAgICAgIHZpZXcuY29uc3RyYWludHMuc25hcFRvWm9vbSA9IHRydWVcclxuICAgICAgbmVlZFRvUmVzdG9yZVNuYXBUb1pvb21Ub0ZhbHNlID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHZpZXcuZ29Ubyhnb1RvUGFyYW1zLnRhcmdldCwgZ29Ub1BhcmFtcy5vcHRpb25zKVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdob21lIGJ0biBnb3RvIGVycm9yJywgZSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBXaGVuIGdvVG8gaXMgZG9uZSwgd2UgbmVlZCB0byByZXNldCB0byBmbG9hdCB6b29tIHRvIGdldCB0aGUgYmVzdCBzeW5jaHJvbml6YXRpb24gYmV0d2VlbiB0d28gbWFwIHdpZGdldHMuXHJcbiAgICBpZiAoaXMyRFZpZXcgJiYgdmlldy5jb25zdHJhaW50cyAmJiBuZWVkVG9SZXN0b3JlU25hcFRvWm9vbVRvRmFsc2UpIHtcclxuICAgICAgdmlldy5jb25zdHJhaW50cy5zbmFwVG9ab29tID0gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlc3Ryb3lIb21lQnRuICgpIHtcclxuICAgIGlmICh0aGlzLmhvbWVCdG4pIHtcclxuICAgICAgLy8gdGhpcy5ob21lQnRuLmRlc3Ryb3koKSB3aWxsIHJlbW92ZSB0aGlzLmhvbWVCdG4uY29udGFpbmVyIGZyb20gZG9tIHRyZWUgYW5kIGxldCB0aGlzLmhvbWVCdG4uY29udGFpbmVyLnBhcmVudE5vZGUgYmUgbnVsbFxyXG4gICAgICB0aGlzLmhvbWVCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuaG9tZUJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnSG9tZScpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLmRlc3Ryb3lIb21lQnRuKClcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2hvbWUtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgaWYgKCF0aGlzLmNvbnRhaW5lcikgeyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9IH19IC8+XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcywgTmF2LCBOYXZJdGVtLCBOYXZMaW5rIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIGFjdGl2ZVRhYkluZGV4OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5ZXJzIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU3RhdGVzPiB7XHJcbiAgdG9vbE5hbWUgPSAnTGF5ZXJzJ1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYWN0aXZlVGFiSW5kZXg6IDBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnTGF5ZXJzTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkxheWVyc0xhYmVsIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbGF5ZXJsaXN0LnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnByb3BzLmlzTW9iaWxlID8gJzEwMCUnIDogJzI1MHB4JywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgJ2V4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0JzogIXRoaXMucHJvcHMuaXNNb2JpbGUgfSl9XHJcbiAgICAgID5cclxuICAgICAgICA8TmF2IHRhYnM+XHJcbiAgICAgICAgICA8TmF2SXRlbT5cclxuICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuaGFuZGxlVGFiSW5kZXhDaGFuZ2UoMCkgfX0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIDApIH19PlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnTGF5ZXJzTGFiZWxMYXllcicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTGF5ZXJzTGFiZWxMYXllciB9KX1cclxuICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgPC9OYXZJdGVtPlxyXG4gICAgICAgICAgPE5hdkl0ZW0+XHJcbiAgICAgICAgICAgIDxOYXZMaW5rIGFjdGl2ZT17dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMX0gb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZVRhYkluZGV4Q2hhbmdlKDEpIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAxKSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsTGVnZW5kJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5MYXllcnNMYWJlbExlZ2VuZCB9KX1cclxuICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgPC9OYXZJdGVtPlxyXG4gICAgICAgIDwvTmF2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC0xJyAvPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwICYmIDxMYXllckxpc3RJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz59XHJcbiAgICAgICAge3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDEgJiYgPExlZ2VuZElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVUYWJJbmRleENoYW5nZSA9IChhY3RpdmVUYWJJbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWN0aXZlVGFiSW5kZXg6IGFjdGl2ZVRhYkluZGV4XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlVGFiSW5kZXhDaGFuZ2UoaW5kZXgpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgTGF5ZXJMaXN0SW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElubmVyUHJvcHMsIElubmVyU3RhdGU+IHtcclxuICBMYXllckxpc3Q6IHR5cGVvZiBfX2VzcmkuTGF5ZXJMaXN0ID0gbnVsbFxyXG4gIExheWVyTGlzdEJ0bjogX19lc3JpLkxheWVyTGlzdFxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTGF5ZXJMaXN0J10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTGF5ZXJMaXN0XSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xyXG4gICAgICAgIGlmICh0aGlzLkxheWVyTGlzdEJ0bikge1xyXG4gICAgICAgICAgdGhpcy5MYXllckxpc3RCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5MYXllckxpc3RCdG4ucmVuZGVyTm93KClcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBuZXcgdGhpcy5MYXllckxpc3Qoe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xheWVyTGlzdCcpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnTGF5ZXJMaXN0JyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkxheWVyTGlzdEJ0blxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkxheWVyTGlzdEJ0bikge1xyXG4gICAgICB0aGlzLkxheWVyTGlzdEJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTGF5ZXJMaXN0JylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nbGF5ZXJzLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBMZWdlbmRJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SW5uZXJQcm9wcywgSW5uZXJTdGF0ZT4ge1xyXG4gIExlZ2VuZDogdHlwZW9mIF9fZXNyaS5MZWdlbmQgPSBudWxsXHJcbiAgTGVnZW5kQnRuOiBfX2VzcmkuTGVnZW5kXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9MZWdlbmQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5MZWdlbmRdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBJbm5lclByb3BzKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuTGVnZW5kQnRuKSB7XHJcbiAgICAgICAgICB0aGlzLkxlZ2VuZEJ0bi52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgICB0aGlzLkxlZ2VuZEJ0bi5yZW5kZXJOb3coKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLkxlZ2VuZEJ0biA9IG5ldyB0aGlzLkxlZ2VuZCh7XHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTGVnZW5kJylcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgIG5hbWU6ICdMZWdlbmQnLFxyXG4gICAgICAgICAgaW5zdGFuY2U6IHRoaXMuTGVnZW5kQnRuXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuTGVnZW5kQnRuKSB7XHJcbiAgICAgIHRoaXMuTGVnZW5kQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdMZWdlbmQnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYXRlIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0xvY2F0ZSdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdMb2NhdGUnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiA8TG9jYXRlSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgTG9jYXRlSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBMb2NhdGVJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgTG9jYXRlSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExvY2F0ZUlubmVyUHJvcHMsIExvY2F0ZUlubmVyU3RhdGU+IHtcclxuICBMb2NhdGU6IHR5cGVvZiBfX2VzcmkuTG9jYXRlID0gbnVsbFxyXG4gIExvY2F0ZUJ0bjogX19lc3JpLkxvY2F0ZVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTG9jYXRlJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTG9jYXRlXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLkxvY2F0ZUJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuTG9jYXRlQnRuID0gbmV3IHRoaXMuTG9jYXRlKHtcclxuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTG9jYXRlJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ0xvY2F0ZScsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuTG9jYXRlQnRuXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5Mb2NhdGVCdG4pIHtcclxuICAgICAgdGhpcy5Mb2NhdGVCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuTG9jYXRlQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdMb2NhdGUnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nZXNyaS13aWRnZXQtLWJ1dHRvbiBsb2NhdGUtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBwb2xpc2hlZCwgZ2V0QXBwU3RvcmUsIGNsYXNzTmFtZXMsIGFwcEFjdGlvbnMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuaW1wb3J0IE1hcFRodW1iIGZyb20gJy4uL2NvbXBvbmVudHMvbWFwLXRodW1iJ1xyXG5pbXBvcnQgeyB0eXBlIFRvb2xTaGVsbFByb3BzIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sLXNoZWxsJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwU3dpdGNoIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ01hcFN3aXRjaCdcclxuXHJcbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNBdmFpbGFibGUgKHRvb2xTaGVsbFByb3BzOiBUb29sU2hlbGxQcm9wcyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRvb2xTaGVsbFByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIGNvbnN0IHdpZGdldElkID0gdG9vbFNoZWxsUHJvcHMubWFwV2lkZ2V0SWRcclxuXHJcbiAgICAgIGlmICh3aWRnZXRJZCkge1xyXG4gICAgICAgIGNvbnN0IHdpZGdldEluZm8gPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNbd2lkZ2V0SWRdXHJcblxyXG4gICAgICAgIGlmICh3aWRnZXRJbmZvKSB7XHJcbiAgICAgICAgICByZXR1cm4gd2lkZ2V0SW5mby51c2VEYXRhU291cmNlcyAmJiB3aWRnZXRJbmZvLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+PSAyXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICAvLyBBbHdheXMgcmV0dXJuIHRydWUgZm9yIHBjIGxheW91dCBiZWNhdXNlIGZhbHNlIHdpbGwgbGV0IFNlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyIGluIHdyb2luZyBwb3NpdGlvbi5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oNjgpfTtcclxuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSg1Mil9O1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAgIC5tYXB0aHVtYi1pdGVtIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDY0KX07XHJcbiAgICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSg0OCl9O1xyXG4gICAgICAgIHRyYW5zaXRpb246IGJvdHRvbSAwLjVzLCBsZWZ0IDAuNXMsIHRvcCAwLjVzLCByaWdodCAwLjVzLCB6LWluZGV4IDAuNXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5mcm9udCB7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmJhY2sge1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICB9XHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gJ01hcFN3aXRjaCdcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9leGNoYW5nZS5zdmcnKSxcclxuICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICB0aGlzLnN3aXRjaE1hcCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN3aXRjaE1hcCA9ICgpID0+IHt9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy50b29sSnNvbi5pc09ubHlFeHBhbmRlZCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCwgbWFwV2lkZ2V0SWQsIHRoZW1lIH0pID0+IChcclxuICAgICAgICAgICAgdGhpcy5nZXRDb250ZW50KGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSlcclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8YW55Piwgb25DbGljaykgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcclxuICAgICAgZT8ucHJldmVudERlZmF1bHQoKVxyXG4gICAgICBvbkNsaWNrKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENvbnRlbnQgPSAoaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuLCBkYXRhU291cmNlSWRzOiBzdHJpbmdbXSwgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHN3aXRjaE1hcCwgbWFwV2lkZ2V0SWQsIHRoZW1lKSA9PiB7XHJcbiAgICBjb25zdCBvbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMucmVxdWVzdEF1dG9Db250cm9sTWFwV2lkZ2V0KG1hcFdpZGdldElkLCBtYXBXaWRnZXRJZCkpXHJcbiAgICAgIHN3aXRjaE1hcCgpXHJcbiAgICB9XHJcbiAgICBpZiAoaXNTaG93TWFwU3dpdGNoQnRuKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbCBlc3JpLXdpZGdldC0tYnV0dG9uJyBvbkNsaWNrPXtvbkNsaWNrfSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgb25DbGljaykgfX0gYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1N3aXRjaE1hcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU3dpdGNoTWFwIH0pfT5cclxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0SWNvbigpLmljb259IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZHNKc29ucyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcuZGF0YVNvdXJjZXNcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYXBzd2l0Y2gtbWFwLXRvb2wnIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBvbkNsaWNrPXtvbkNsaWNrfSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgb25DbGljaykgfX0gYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1N3aXRjaE1hcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU3dpdGNoTWFwIH0pfT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHRpdGxlPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5sYWJlbCA6IG51bGx9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWFwdGh1bWItaXRlbScsIHsgZnJvbnQ6IGRhdGFTb3VyY2VJZHNbMF0gIT09IGFjdGl2ZURhdGFTb3VyY2VJZCB9LFxyXG4gICAgICAgICAgICAgICAgeyBiYWNrOiBkYXRhU291cmNlSWRzWzBdID09PSBhY3RpdmVEYXRhU291cmNlSWQgfSl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8TWFwVGh1bWJcclxuICAgICAgICAgICAgICAgIG1hcEl0ZW1JZD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0uaXRlbUlkIDogbnVsbH1cclxuICAgICAgICAgICAgICAgIHBvcnRVcmw9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dLnBvcnRhbFVybCA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICB0aGVtZT17dGhlbWV9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICB0aXRsZT17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0ubGFiZWwgOiBudWxsfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ21hcHRodW1iLWl0ZW0nLCB7IGZyb250OiBkYXRhU291cmNlSWRzWzFdICE9PSBhY3RpdmVEYXRhU291cmNlSWQgfSxcclxuICAgICAgICAgICAgICAgIHsgYmFjazogZGF0YVNvdXJjZUlkc1sxXSA9PT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0pfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPE1hcFRodW1iXHJcbiAgICAgICAgICAgICAgICBtYXBJdGVtSWQ9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dLml0ZW1JZCA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICBwb3J0VXJsPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXS5wb3J0YWxVcmwgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbkNvbnRlbnQgPSAoaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuLCBkYXRhU291cmNlSWRzOiBzdHJpbmdbXSwgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHN3aXRjaE1hcCkgPT4ge1xyXG4gICAgaWYgKGlzU2hvd01hcFN3aXRjaEJ0bikge1xyXG4gICAgICB0aGlzLnN3aXRjaE1hcCA9IHN3aXRjaE1hcFxyXG4gICAgICByZXR1cm4gc3VwZXIucmVuZGVyKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIHN1cGVyLnJlbmRlcigpXHJcbiAgICAgIC8vIEluIGZhY3QsIGl0IG5ldmVyIGdvZXMgaGVyZS5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgIHsoeyBpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwIH0pID0+IChcclxuICAgICAgICAgICAgdGhpcy5nZXRJY29uQ29udGVudChpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwKVxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcywgZ2V0QXBwU3RvcmUsIGFwcEFjdGlvbnMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIE5hdiwgTmF2SXRlbSwgTmF2TGluaywgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxudHlwZSBNZWFzdXJlVHlwZSA9IF9fZXNyaS5NZWFzdXJlbWVudFxyXG5cclxuaW50ZXJmYWNlIFN0YXRlcyB7XHJcbiAgYWN0aXZlVGFiSW5kZXg6IG51bWJlclxyXG4gIG1lYXN1cmVJbnN0YW5jZTogTWVhc3VyZVR5cGVcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVhc3VyZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xyXG4gIGFjdGl2ZVRhYlJlZjogSFRNTEVsZW1lbnRcclxuICB0b29sTmFtZSA9ICdNZWFzdXJlJ1xyXG4gIG1lYXN1cmVNb2R1bGVzMkQgPSBbe1xyXG4gICAgbmFtZTogJ0xpbmUnLFxyXG4gICAgdGl0bGU6ICdMaW5lJyxcclxuICAgIGFjdGl2ZVRvb2w6ICdkaXN0YW5jZScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWRpc3RhbmNlLnN2ZycpXHJcbiAgfSwge1xyXG4gICAgbmFtZTogJ1BvbHlnb24nLFxyXG4gICAgdGl0bGU6ICdQb2x5Z29uJyxcclxuICAgIGFjdGl2ZVRvb2w6ICdhcmVhJyxcclxuICAgIHNyYzogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmcnKVxyXG4gIH1dXHJcblxyXG4gIG1lYXN1cmVNb2R1bGVzM0QgPSBbe1xyXG4gICAgbmFtZTogJ0xpbmUnLFxyXG4gICAgdGl0bGU6ICdMaW5lJyxcclxuICAgIGFjdGl2ZVRvb2w6ICdkaXJlY3QtbGluZScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWRpc3RhbmNlLnN2ZycpXHJcbiAgfSwge1xyXG4gICAgbmFtZTogJ1BvbHlnb24nLFxyXG4gICAgdGl0bGU6ICdQb2x5Z29uJyxcclxuICAgIGFjdGl2ZVRvb2w6ICdhcmVhJyxcclxuICAgIHNyYzogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmcnKVxyXG4gIH1dXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYWN0aXZlVGFiSW5kZXg6IDAsXHJcbiAgICAgIG1lYXN1cmVJbnN0YW5jZTogbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdNZWFzdXJlTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLk1lYXN1cmVMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUuc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvY3VzRGVmYXVsdEVsZW1lbnQgKCkge1xyXG4gICAgdGhpcy5hY3RpdmVUYWJSZWY/LmZvY3VzKClcclxuICB9XHJcblxyXG4gIGRlc3Ryb3kgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UgJiYgISh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZSBhcyBhbnkpLmRlc3Ryb3llZCkge1xyXG4gICAgICAodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UgYXMgYW55KS5kZXN0cm95KClcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgbWVhc3VyZUluc3RhbmNlOiBudWxsLFxyXG4gICAgICAgIGFjdGl2ZVRhYkluZGV4OiAwXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNZWFzdXJjZUluc3RhbmNlQ3JlYXRlZCA9IChtZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbWVhc3VyZUluc3RhbmNlOiBtZWFzdXJlSW5zdGFuY2VcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBvblRhYkNsaWNrID0gKGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlLmNsZWFyKClcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVUYWJJbmRleDogaW5kZXggfSlcclxuICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZS5hY3RpdmVUb29sID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICcyZCcgPyAnZGlzdGFuY2UnIDogJ2RpcmVjdC1saW5lJ1xyXG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMSkge1xyXG4gICAgICB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZS5hY3RpdmVUb29sID0gJ2FyZWEnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8YW55PiwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcclxuICAgICAgdGhpcy5vblRhYkNsaWNrKGluZGV4KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25SZXF1ZXN0Q2xvc2VQYW5lbCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lID09PSB0aGlzLnRvb2xOYW1lKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbG9zZVBhbmVsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5kZXN0cm95KClcclxuICB9XHJcblxyXG4gIG9uU2hvd1BhbmVsID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnID8gJ2Rpc3RhbmNlJyA6ICdkaXJlY3QtbGluZSdcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAxKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9ICdhcmVhJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXROYXZUYWIgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TmF2IHRhYnM+e1xyXG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczJELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJUaXRsZSA9IGluZGV4ID09PSAwID8gJ2RyYXdNb2RlTGluZScgOiAnZHJhd01vZGVQb2x5Z29uJ1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxOYXZJdGVtIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gcmVmPXtyZWYgPT4geyB0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleCAmJiAodGhpcy5hY3RpdmVUYWJSZWYgPSByZWYpIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5vblRhYkNsaWNrKGluZGV4KSB9fVxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIGluZGV4KSB9fVxyXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogYCR7dGFiVGl0bGV9YCwgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1t0YWJUaXRsZV0gfSl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdtLTAnIGljb249e21vZHVsZS5zcmN9IC8+XHJcbiAgICAgICAgICAgICAgICA8L05hdkxpbms+XHJcbiAgICAgICAgICAgICAgPC9OYXZJdGVtPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICA8L05hdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzNkJykge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxOYXYgdGFicz57XHJcbiAgICAgICAgICB0aGlzLm1lYXN1cmVNb2R1bGVzM0QubWFwKChtb2R1bGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhYlRpdGxlID0gaW5kZXggPT09IDAgPyAnZHJhd01vZGVMaW5lJyA6ICdkcmF3TW9kZVBvbHlnb24nXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPE5hdkl0ZW0ga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IGluZGV4fSByZWY9e3JlZiA9PiB7IHRoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IGluZGV4ICYmICh0aGlzLmFjdGl2ZVRhYlJlZiA9IHJlZikgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLm9uVGFiQ2xpY2soaW5kZXgpIH19XHJcbiAgICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgaW5kZXgpIH19XHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiBgJHt0YWJUaXRsZX1gLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW3RhYlRpdGxlXSB9KX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J20tMCcgaWNvbj17bW9kdWxlLnNyY30gLz5cclxuICAgICAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgICAgICA8L05hdkl0ZW0+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIDwvTmF2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TWVhc3VyZU1vZHVsZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzJkJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5tZWFzdXJlTW9kdWxlczJEW3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXhdXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5tZWFzdXJlTW9kdWxlczNEW3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXhdXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnByb3BzLmlzTW9iaWxlID8gJzEwMCUnIDogJzI1MHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX1cclxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyAnZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQnOiAhdGhpcy5wcm9wcy5pc01vYmlsZSB9KX1cclxuICAgICAgPlxyXG4gICAgICAgIHt0aGlzLmdldE5hdlRhYigpfVxyXG4gICAgICAgIDxNZWFzdXJlSW5uZXJcclxuICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfVxyXG4gICAgICAgICAgYWN0aXZlVGFiSW5kZXg9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXh9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fVxyXG4gICAgICAgICAgbWVhc3VyZU1vZHVsZT17dGhpcy5nZXRNZWFzdXJlTW9kdWxlKCl9XHJcbiAgICAgICAgICBtZWFzdXJlSW5zdGFuY2U9e3RoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlfVxyXG4gICAgICAgICAgb25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZD17dGhpcy5oYW5kbGVNZWFzdXJjZUluc3RhbmNlQ3JlYXRlZH1cclxuICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlUGFuZWw9e3RoaXMub25SZXF1ZXN0Q2xvc2VQYW5lbH1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWFzdXJlSW5uZXJQcm9wcyB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIG1lYXN1cmVNb2R1bGU6IHsgbmFtZTogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBhY3RpdmVUb29sOiBzdHJpbmcgfVxyXG4gIG1lYXN1cmVJbnN0YW5jZTogTWVhc3VyZVR5cGVcclxuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXHJcbiAgb25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZDogKGluc3RhbmNlOiBNZWFzdXJlVHlwZSkgPT4gdm9pZFxyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIG9uUmVxdWVzdENsb3NlUGFuZWw6ICgpID0+IHZvaWRcclxufVxyXG5cclxuaW50ZXJmYWNlIE1lYXN1cmVJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgTWVhc3VyZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxNZWFzdXJlSW5uZXJQcm9wcywgTWVhc3VyZUlubmVyU3RhdGU+IHtcclxuICBNZWFzdXJlQ2xhc3M6IHR5cGVvZiBfX2VzcmkuRGlzdGFuY2VNZWFzdXJlbWVudDJEIHwgdHlwZW9mIF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQyRCB8IHR5cGVvZiBfX2VzcmkuRGlyZWN0TGluZU1lYXN1cmVtZW50M0QgfCB0eXBlb2YgX19lc3JpLkFyZWFNZWFzdXJlbWVudDNEXHJcbiAgTWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZSA9IG51bGxcclxuXHJcbiAgcGFyZW50Q29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICB0b29sTmFtZTogc3RyaW5nID0gJ21lYXN1cmVtZW50J1xyXG4gIGlkOiBzdHJpbmdcclxuICBjdXJyZW50SmltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgb3JpZ2luYWxDbGlja0hpZ2hsaWdodEVuYWJsZWQ6IGJvb2xlYW5cclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLmlkID0gYCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0tbWVhc3VyZS10b29sYFxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9NZWFzdXJlbWVudCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLk1lYXN1cmVDbGFzc10gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IE1lYXN1cmVJbm5lclByb3BzKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5wYXJlbnRDb250YWluZXIgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKCF0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZSkge1xyXG4gICAgICAgIC8vIGNyYXRlIG1lYXN1cmUgaXNudGFuY2UgaGVyZVxyXG4gICAgICAgIGNvbnN0IHRlbXBJbnN0YW5jZTogYW55ID0gbmV3IHRoaXMuTWVhc3VyZUNsYXNzKHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRlbXBJbnN0YW5jZS5hY3RpdmVUb29sID0gdGhpcy5wcm9wcy5tZWFzdXJlTW9kdWxlLmFjdGl2ZVRvb2xcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50SmltdU1hcFZpZXcodGhpcy5wcm9wcy5qaW11TWFwVmlldylcclxuICAgICAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCh0aGlzLnRvb2xOYW1lKVxyXG4gICAgICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgIG5hbWU6IHRoaXMudG9vbE5hbWUsXHJcbiAgICAgICAgICBpbnN0YW5jZTogdGVtcEluc3RhbmNlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmNlSW5zdGFuY2VDcmVhdGVkKHRlbXBJbnN0YW5jZSlcclxuICAgICAgICBjb25zdCBhY3Rpb24gPSBhcHBBY3Rpb25zLnJlcXVlc3RBdXRvQ29udHJvbE1hcFdpZGdldCh0aGlzLnByb3BzLm1hcFdpZGdldElkLCB0aGlzLmlkKVxyXG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYWN0aW9uKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG5ld0ppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlld1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyAhPT0gbmV3SmltdU1hcFZpZXcudmlldykge1xyXG4gICAgICAgICAgLy8gbWFwIHZpZXcgY2hhbmdlZCBieSBzd2l0Y2hcclxuICAgICAgICAgIHRoaXMucmVzdG9yZUNsaWNrSGlnaGxpZ2h0RW5hYmxlZEZvckN1cnJlbnRKaW11TWFwVmlldygpXHJcbiAgICAgICAgICB0aGlzLnNldEN1cnJlbnRKaW11TWFwVmlldyhuZXdKaW11TWFwVmlldylcclxuXHJcbiAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS5jbGVhcigpXHJcbiAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3ID0gbmV3SmltdU1hcFZpZXcudmlld1xyXG5cclxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgIHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLmFjdGl2ZVRvb2wgPSB0aGlzLnByb3BzLm1lYXN1cmVNb2R1bGUuYWN0aXZlVG9vbFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jaGVja0NvbnRhaW5lcigpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgYXV0b0NvbnRyb2xXaWRnZXRJZCBjaGFuZ2VkXHJcbiAgICBjb25zdCBwcmV2QXV0b0NvbnRyb2xXaWRnZXRJZCA9IHByZXZQcm9wcz8uYXV0b0NvbnRyb2xXaWRnZXRJZCB8fCAnJ1xyXG4gICAgaWYgKHByZXZBdXRvQ29udHJvbFdpZGdldElkID09PSB0aGlzLmlkICYmIHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCAhPT0gdGhpcy5pZCkge1xyXG4gICAgICAvLyBtZWFzdXJlIGlzIGZyb20gYWN0aXZlIHRvIGluYWN0aXZlLCBkZXN0cm95IE1lYXN1cmVJbm5lclxyXG4gICAgICB0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlUGFuZWwoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5yZXN0b3JlQ2xpY2tIaWdobGlnaHRFbmFibGVkRm9yQ3VycmVudEppbXVNYXBWaWV3KClcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkID09PSB0aGlzLmlkKSB7XHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGFwcEFjdGlvbnMucmVsZWFzZUF1dG9Db250cm9sTWFwV2lkZ2V0KHRoaXMucHJvcHMubWFwV2lkZ2V0SWQpXHJcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYWN0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudEppbXVNYXBWaWV3IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcpOiB2b2lkIHtcclxuICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3ID0gamltdU1hcFZpZXdcclxuICAgIHRoaXMub3JpZ2luYWxDbGlja0hpZ2hsaWdodEVuYWJsZWQgPSBqaW11TWFwVmlldy5pc0NsaWNrSGlnaGxpZ2h0RW5hYmxlZCgpXHJcbiAgICAvLyBkaXNhYmxlIGNsaWNrIGhpZ2hsaWdodCB0byBhdm9pZCBjb25mbGljdCB3aXRoIGNsaWNraW5nLXNlbGVjdFxyXG4gICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcuZGlzYWJsZUNsaWNrSGlnaGxpZ2h0KClcclxuICB9XHJcblxyXG4gIHJlc3RvcmVDbGlja0hpZ2hsaWdodEVuYWJsZWRGb3JDdXJyZW50SmltdU1hcFZpZXcgKCkge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEppbXVNYXBWaWV3KSB7XHJcbiAgICAgIGlmICh0aGlzLm9yaWdpbmFsQ2xpY2tIaWdobGlnaHRFbmFibGVkKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcuZW5hYmxlQ2xpY2tIaWdobGlnaHQoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LmRpc2FibGVDbGlja0hpZ2hsaWdodCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrQ29udGFpbmVyID0gKCkgPT4ge1xyXG4gICAgaWYgKCh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPT09ICcwJyB8fCAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID09PSAwKSB7XHJcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5oZWlnaHQgPSAnJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVsb2FkICgpIHtcclxuICAgIGlmICh0aGlzLmNvbnRhaW5lci5jaGlsZE5vZGVzICYmIHRoaXMuY29udGFpbmVyLmNoaWxkTm9kZXNbMF0pIHtcclxuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLmhlaWdodCA9ICczNXB4J1xyXG4gICAgfVxyXG5cclxuICAgIC8vdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAvLyAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgLy99LCAoKSA9PiB7XHJcbiAgICAvLyAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9NZWFzdXJlbWVudCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgLy8gICAgW3RoaXMuTWVhc3VyZUNsYXNzXSA9IG1vZHVsZXNcclxuICAgIC8vICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgLy8gICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgIC8vICAgIH0pXHJcbiAgICAvLyAgfSlcclxuICAgIC8vfSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAnIHN0eWxlPXt7IHdpZHRoOiAnMjUwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgbWluSGVpZ2h0OiAnMzJweCcgfX0gcmVmPXtyZWYgPT4geyB0aGlzLnBhcmVudENvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVhc3VyZS1jb250YWluZXIgbWVhc3VyZS1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgdHlwZSBUb29sU2hlbGxQcm9wcyB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbC1zaGVsbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnTmF2aWdhdGlvbidcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdOYXZpZ2F0aW9uJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPE5hdmlnYXRpb25Jbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5hdmlnYXRpb24gb25seSBzdXBwb3J0cyBzY2VuZSB2aWV3LCBzbyBTY2FsZUJhclRvb2wuaXNBdmFpbGFibGUoKSB3aWxsIHJldHVybiBmYWxzZSBpZiB0aGUgbWFwIGlzIG1hcCB2aWV3LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0F2YWlsYWJsZSAodG9vbFNoZWxsUHJvcHM6IFRvb2xTaGVsbFByb3BzKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdG9vbFNoZWxsUHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnR5cGUgPT09ICczZCdcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBOYXZpZ2F0aW9uSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBOYXZpZ2F0aW9uSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIE5hdmlnYXRpb25Jbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TmF2aWdhdGlvbklubmVyUHJvcHMsIE5hdmlnYXRpb25Jbm5lclN0YXRlPiB7XHJcbiAgTmF2aWdhdGlvbjogdHlwZW9mIF9fZXNyaS5OYXZpZ2F0aW9uVG9nZ2xlID0gbnVsbFxyXG4gIE5hdmlnYXRpb25CdG46IF9fZXNyaS5OYXZpZ2F0aW9uVG9nZ2xlXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9OYXZpZ2F0aW9uVG9nZ2xlJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTmF2aWdhdGlvbl0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5OYXZpZ2F0aW9uQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5OYXZpZ2F0aW9uQnRuID0gbmV3IHRoaXMuTmF2aWdhdGlvbih7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgYXMgX19lc3JpLlNjZW5lVmlld1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTmF2aWdhdGlvbicpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdOYXZpZ2F0aW9uJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5OYXZpZ2F0aW9uQnRuXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5OYXZpZ2F0aW9uQnRuKSB7XHJcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5OYXZpZ2F0aW9uQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdOYXZpZ2F0aW9uJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J25hdmlnYXRpb24tbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGdldEFwcFN0b3JlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IHR5cGUgVG9vbFNoZWxsUHJvcHMgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wtc2hlbGwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2FsZUJhciBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdTY2FsZUJhcidcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdTY2FsZUJhcidcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxTY2FsZUJhcklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2NhbGVCYXIgb25seSBzdXBwb3J0cyBtYXAgdmlldywgc28gU2NhbGVCYXJUb29sLmlzQXZhaWxhYmxlKCkgd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIG1hcCBpcyBzY2VuZSB2aWV3LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0F2YWlsYWJsZSAodG9vbFNoZWxsUHJvcHM6IFRvb2xTaGVsbFByb3BzKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdG9vbFNoZWxsUHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnR5cGUgPT09ICcyZCdcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBTY2FsZUJhcklubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2NhbGVCYXJJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgU2NhbGVCYXJJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2NhbGVCYXJJbm5lclByb3BzLCBTY2FsZUJhcklubmVyU3RhdGU+IHtcclxuICBTY2FsZUJhcjogdHlwZW9mIF9fZXNyaS5TY2FsZUJhciA9IG51bGxcclxuICBTY2FsZUJhckJ0bjogX19lc3JpLlNjYWxlQmFyXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9TY2FsZUJhciddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLlNjYWxlQmFyXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLlNjYWxlQmFyQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHJhd1VuaXQgPSAnJ1xyXG5cclxuICAgICAgY29uc3QgYXBwU3RhdGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKClcclxuXHJcbiAgICAgIGlmIChhcHBTdGF0ZSkge1xyXG4gICAgICAgIGlmIChhcHBTdGF0ZS51c2VyICYmIGFwcFN0YXRlLnVzZXIudW5pdHMpIHtcclxuICAgICAgICAgIHJhd1VuaXQgPSBhcHBTdGF0ZS51c2VyLnVuaXRzXHJcbiAgICAgICAgfSBlbHNlIGlmIChhcHBTdGF0ZS5wb3J0YWxTZWxmICYmIGFwcFN0YXRlLnBvcnRhbFNlbGYudW5pdHMpIHtcclxuICAgICAgICAgIHJhd1VuaXQgPSBhcHBTdGF0ZS5wb3J0YWxTZWxmLnVuaXRzXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgc2NhbGVCYXJVbml0OiAnbWV0cmljJyB8ICdpbXBlcmlhbCcgfCAnZHVhbCcgPSBudWxsXHJcblxyXG4gICAgICAvLyBtZXRyaWMgPT4gbWV0cmljXHJcbiAgICAgIC8vIGVuZ2xpc2ggPT4gaW1wZXJpYWxcclxuICAgICAgLy8gJycgPT4gZHVhbFxyXG4gICAgICBpZiAocmF3VW5pdCA9PT0gJ21ldHJpYycpIHtcclxuICAgICAgICBzY2FsZUJhclVuaXQgPSAnbWV0cmljJ1xyXG4gICAgICB9IGVsc2UgaWYgKHJhd1VuaXQgPT09ICdlbmdsaXNoJykge1xyXG4gICAgICAgIHNjYWxlQmFyVW5pdCA9ICdpbXBlcmlhbCdcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzY2FsZUJhclVuaXQgPSAnZHVhbCdcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5TY2FsZUJhckJ0biA9IG5ldyB0aGlzLlNjYWxlQmFyKHtcclxuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyBhcyBfX2VzcmkuTWFwVmlldyxcclxuICAgICAgICB1bml0OiBzY2FsZUJhclVuaXRcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NjYWxlQmFyJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5TY2FsZUJhckJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuU2NhbGVCYXJCdG4pIHtcclxuICAgICAgdGhpcy5TY2FsZUJhckJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5TY2FsZUJhckJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnU2NhbGVCYXInKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nc2NhbGViYXItbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IFJlYWN0LCBjc3MsIGpzeCwgZ2V0QXBwU3RvcmUsIE1lc3NhZ2VNYW5hZ2VyLCBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdTZWFyY2gnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VhcmNoTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlYXJjaExhYmVsIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvc2VhcmNoLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcxMDAlJyB9fT5cclxuICAgICAgICAgIDxTZWFyY2hJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5XaWR0aDogJzI1MHB4JywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgPFNlYXJjaElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIFNlYXJjaElubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlYXJjaElubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBTZWFyY2hJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2VhcmNoSW5uZXJQcm9wcywgU2VhcmNoSW5uZXJTdGF0ZT4ge1xyXG4gIFNlYXJjaDogdHlwZW9mIF9fZXNyaS53aWRnZXRzU2VhcmNoID0gbnVsbFxyXG4gIFBvcnRhbDogdHlwZW9mIF9fZXNyaS5Qb3J0YWwgPSBudWxsXHJcbiAgU2VhcmNoQnRuOiBfX2Vzcmkud2lkZ2V0c1NlYXJjaFxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAvKiBib3JkZXI6IHNvbGlkIDFweCByZ2JhKDExMCwxMTAsMTEwLDAuMyk7ICovXHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvU2VhcmNoJywgJ2VzcmkvcG9ydGFsL1BvcnRhbCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLlNlYXJjaCwgdGhpcy5Qb3J0YWxdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuU2VhcmNoQnRuKSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyUGFyZW50ID0gdGhpcy5jb250YWluZXIucGFyZW50RWxlbWVudFxyXG4gICAgICAgIHRoaXMuU2VhcmNoQnRuLmRlc3Ryb3koKVxyXG4gICAgICAgIHRoaXMuU2VhcmNoQnRuID0gbnVsbFxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyLnBhcmVudEVsZW1lbnQgJiYgY29udGFpbmVyUGFyZW50KSB7XHJcbiAgICAgICAgICBjb250YWluZXJQYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLlNlYXJjaEJ0biA9IG5ldyB0aGlzLlNlYXJjaCh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXHJcbiAgICAgICAgcG9ydGFsOiBuZXcgdGhpcy5Qb3J0YWwoe1xyXG4gICAgICAgICAgdXJsOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkucG9ydGFsVXJsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NlYXJjaCcpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLlNlYXJjaEJ0blxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5TZWFyY2hCdG4ub24oJ3NlbGVjdC1yZXN1bHQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoIWV2ZW50LnJlc3VsdC5mZWF0dXJlLmxheWVyKSB7XHJcbiAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGV2ZW50LnJlc3VsdC5mZWF0dXJlLmdlb21ldHJ5LnRvSlNPTigpXHJcbiAgICAgICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG5ldyBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgZ2VvbWV0cnkpKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGV2ZW50LnJlc3VsdC5mZWF0dXJlLmdlb21ldHJ5XHJcbiAgICAgICAgICBpZiAoZ2VvbWV0cnkudHlwZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICAgICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG5ldyBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgZ2VvbWV0cnkudG9KU09OKCkpKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBnZW9tZXRyeS5leHRlbnQuY2VudGVyXHJcbiAgICAgICAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UobmV3IExvY2F0aW9uQ2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLm1hcFdpZGdldElkLCBwb2ludC50b0pTT04oKSkpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuU2VhcmNoQnRuKSB7XHJcbiAgICAgIHRoaXMuU2VhcmNoQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLlNlYXJjaEJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnU2VhcmNoJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIHNlYXJjaC1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBqc3ggfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IFNlbGVjdFBDVG9vbCB9IGZyb20gJy4vc2VsZWN0LXBjJ1xyXG5pbXBvcnQgeyBTZWxlY3RNb2JpbGVUb29sIH0gZnJvbSAnLi9zZWxlY3QtbW9iaWxlJ1xyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbmludGVyZmFjZSBTZWxlY3RTdGF0ZSB7fVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0IGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU2VsZWN0U3RhdGU+IHtcclxuICB0b29sTmFtZSA9ICdTZWxlY3QnXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHt9XHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3RMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxTZWxlY3RNb2JpbGVUb29sXHJcbiAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH1cclxuICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgIGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfSB0b29sTmFtZT17dGhpcy50b29sTmFtZX1cclxuICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX1cclxuICAgICAgICAgIF9vbkljb25DbGljaz17KCkgPT4geyAodGhpcyBhcyBhbnkpLl9vbkljb25DbGljaygpIH19XHJcbiAgICAgICAgICB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfSBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld31cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxTZWxlY3RQQ1Rvb2xcclxuICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfVxyXG4gICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGludGw9e3RoaXMucHJvcHMuaW50bH0gamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9XHJcbiAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbE5hbWU9e3RoaXMudG9vbE5hbWV9XHJcbiAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICBfb25JY29uQ2xpY2s9eygpID0+IHsgKHRoaXMgYXMgYW55KS5fb25JY29uQ2xpY2soKSB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBjbGFzc05hbWVzLCBSZWFjdCwgcG9saXNoZWQsIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMsIHR5cGUgSW50bFNoYXBlLCBEYXRhU291cmNlU2VsZWN0aW9uTW9kZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSWNvbiwgTW9iaWxlUGFuZWwsIGRlZmF1bHRNZXNzYWdlcywgUmFkaW8gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IHR5cGUgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuaW1wb3J0IFNlbGVjdFByb2dyZXNzIGZyb20gJy4vc2VsZWN0LXByb2dyZXNzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3XHJcbiAgdG9vbE5hbWU6IHN0cmluZ1xyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG5cclxuICAvLyB0b2dnbGUgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAvLyBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIHNldCBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSB0byBzZWxlY3QgdG9vbCBpZiBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSBpcyBub3Qgc2VsZWN0IHRvb2wuXHJcbiAgLy8gcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBzZXQgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgdG8gbnVsbCBpZiBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSBzZWxlY3QgdG9vbC5cclxuICAvLyBfb25JY29uQ2xpY2sgaXMgYSBxdWljayB3YXkgdG8gY2FsbCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlXHJcbiAgX29uSWNvbkNsaWNrOiAoKSA9PiB2b2lkXHJcblxyXG4gIC8vIG5vdCB1c2VkIGZvciBub3dcclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIHNrZXRjaEluaXRpYWxlZDogYm9vbGVhblxyXG4gIGlzQWN0aXZlOiBib29sZWFuIC8vIHRoZSBidXR0b24gaXMgYWN0aXZlIG9yIG5vdFxyXG4gIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogYm9vbGVhbiAvLyBzaG93IG1vYmlsZSBwYW5lbCBvciBub3RcclxuXHJcbiAgY3VycmVudFNlbGVjdFR5cGU6ICdQb2ludCcgfCAnUmVjdGFuZ2xlJyB8ICdMYXNzbycgfCAnQ2lyY2xlJyB8ICdMaW5lJ1xyXG4gIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB8ICdjb250YWlucydcclxuICBzZWxlY3RQcm9ncmVzczogbnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBTa2V0Y2hDcmVhdGVPcHRpb25zIHtcclxuICBbdG9vbDogc3RyaW5nXTogX19lc3JpLlNrZXRjaFZpZXdNb2RlbENyZWF0ZUNyZWF0ZU9wdGlvbnNcclxufVxyXG5cclxuaW50ZXJmYWNlIExhc3RLZXlFdmVudEluZm8ge1xyXG4gIGV2ZW50RGF0ZTogRGF0ZVxyXG4gIGlzS2V5RG93bjogYm9vbGVhbiAvLyB0cnVlIG1lYW5zIGtleWRvd24sIGZhbHNlIG1lYW5zIGtleXVwXHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRQb2ludFN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTTVNDaXJjbGUnLFxyXG4gIGNvbG9yOiBbMCwgMCwgMTI4LCAxMjhdLFxyXG4gIG5hbWU6ICdDaXJjbGUnLFxyXG4gIG91dGxpbmU6IHtcclxuICAgIGNvbG9yOiBbMCwgMCwgMTI4LCAyNTVdLFxyXG4gICAgd2lkdGg6IDFcclxuICB9LFxyXG4gIHR5cGU6ICdlc3JpU01TJyxcclxuICBzaXplOiAxOFxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWxpbmVTeW1ib2wgPSB7XHJcbiAgdGFnczogWydzb2xpZCddLFxyXG4gIHRpdGxlOiAnQmx1ZSBUaGluJyxcclxuICBzdHlsZTogJ2VzcmlTTFNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDI1NV0sXHJcbiAgd2lkdGg6IDMsXHJcbiAgbmFtZTogJ0JsdWUgMScsXHJcbiAgdHlwZTogJ2VzcmlTTFMnXHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRQb2x5Z29uU3ltYm9sID0ge1xyXG4gIHN0eWxlOiAnZXNyaVNGU1NvbGlkJyxcclxuICBjb2xvcjogWzc5LCAxMjksIDE4OSwgNzddLFxyXG4gIHR5cGU6ICdlc3JpU0ZTJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBzdHlsZTogJ2VzcmlTTFNTb2xpZCcsXHJcbiAgICBjb2xvcjogWzU0LCA5MywgMTQxLCAyNTVdLFxyXG4gICAgd2lkdGg6IDEuNSxcclxuICAgIHR5cGU6ICdlc3JpU0xTJ1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgU2VsZWN0UmVjdGFuZ2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExhc3NvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnJylcclxuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExpbmVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZycpXHJcbmNvbnN0IFNlbGVjdFBvaW50SWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnJylcclxuY29uc3QgU2VsZWN0TW9yZUljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2ZycpXHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0TW9iaWxlVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xyXG4gIFNrZXRjaFZpZXdNb2RlbDogdHlwZW9mIF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBHcmFwaGljc0xheWVyOiB0eXBlb2YgX19lc3JpLkdyYXBoaWNzTGF5ZXJcclxuICBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeVxyXG4gIGpzb25VdGlsczogdHlwZW9mIF9fZXNyaS5qc29uVXRpbHMgPSBudWxsXHJcbiAgZ2VvbWV0cnlFbmdpbmU6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnlFbmdpbmVcclxuICBza2V0Y2hWaWV3TW9kZWw6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBjdXJyZW50QWN0aXZlVG9vbDogc3RyaW5nID0gJ3JlY3RhbmdsZSdcclxuICBza2V0Q2hDcmVhdGVPcHRpb25zOiBTa2V0Y2hDcmVhdGVPcHRpb25zXHJcbiAgdmlld0tleURvd25IYW5kbGU6IF9fZXNyaS5IYW5kbGVcclxuICB2aWV3S2V5VXBIYW5kbGU6IF9fZXNyaS5IYW5kbGVcclxuICBsYXN0U2hpZnRLZXlFdmVudEluZm86IExhc3RLZXlFdmVudEluZm9cclxuICBsYXN0Q3RybEtleUV2ZW50SW5mbzogTGFzdEtleUV2ZW50SW5mb1xyXG4gIGlzTWFjOiBib29sZWFuXHJcbiAgYWN0aXZlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgaWQ6IHN0cmluZ1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHM6IFByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLmlzTWFjID0gd2luZG93LmppbXVVQT8ub3M/Lm5hbWUgPT09ICdtYWNPUydcclxuICAgIHRoaXMuaWQgPSBgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS1zZWxlY3QtdG9vbGBcclxuXHJcbiAgICB0aGlzLnNrZXRDaENyZWF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgIHBvbHlnb246IHtcclxuICAgICAgICBtb2RlOiAnaHlicmlkJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgc2tldGNoSW5pdGlhbGVkOiBmYWxzZSxcclxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlLFxyXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogJ1JlY3RhbmdsZScsXHJcbiAgICAgIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyxcclxuICAgICAgc2VsZWN0UHJvZ3Jlc3M6IDBcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJpbmRTaGlmdEN0cmxLZXlzRXZlbnRMaXN0ZW5lcnMoKVxyXG4gIH1cclxuXHJcbiAgZ2V0Q1NTU3R5bGUgKCkge1xyXG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLnNlbGVjdC10b29sLWJ0bi1ob3ZlcjogaG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7cG9saXNoZWQucmdiYSh0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzUwMF0sIDAuMSl9OztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQtdGl0bGUge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lci1zaGVsbCB7XHJcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcclxuICAgICAgICBwYWRkaW5nOiA0cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcclxuICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlIHtcclxuICAgICAgICB3aWR0aDogNjRweDtcclxuICAgICAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZDphZnRlciB7XHJcbiAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICB3aWR0aDogNDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcclxuICAgICAgICAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcclxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZScsXHJcbiAgICAgICAgLy8gV2hlbiB5b3UgZmlyc3QgY2xpY2sgdG8gZW5hYmxlIHRoZSBpbnRlcmFjdGl2ZSB0b29scywgbGlrZSB0aGUgcmVjdGFuZ2xlLCBmb3IgYSBjb3VwbGUgb2Ygc2Vjb25kcywgdGhlcmUgaXMgbm8gY3Vyc29yIG9uIHRoZSBtYXAsIGFuZCB5b3UgY2Fubm90IGRvIGFueXRoaW5nIC0gd2hpY2ggbG9va3MgbGlrZSBhIGJ1Zy5cclxuICAgICAgICAvLyBUbyBmaXggdGhlIGFib3ZlIGlzc3VlLCB3ZSBuZWVkIHRvIHByZWxvYWQgdGhlIGZvbGxvd2luZyBBUEkgbW9kdWxlcyBmb3IgU2tldGNoVmlld01vZGVsLlxyXG4gICAgICAgICdlc3JpL3ZpZXdzLzJkL2ludGVyYWN0aXZlL2VkaXRpbmdUb29scycsXHJcbiAgICAgICAgJ2Vzcmkvdmlld3MvM2QvaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzJyxcclxuICAgICAgICAnZXNyaS92aWV3cy8yZC9sYXllcnMvR3JhcGhpY3NMYXllclZpZXcyRCcsXHJcbiAgICAgICAgJ2Vzcmkvdmlld3MvM2QvbGF5ZXJzL0dyYXBoaWNzTGF5ZXJWaWV3M0QnXHJcbiAgICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuU2tldGNoVmlld01vZGVsLCB0aGlzLkdyYXBoaWNzTGF5ZXIsIHRoaXMuUXVlcnksIHRoaXMuanNvblV0aWxzLCB0aGlzLmdlb21ldHJ5RW5naW5lXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2tldGNoSW5pdGlhbGVkOiB0cnVlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGVzKSB7XHJcbiAgICBpZiAocHJldlN0YXRlLnNrZXRjaEluaXRpYWxlZCAhPT0gdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgLy8gc3RhdGUuc2tldGNoSW5pdGlhbGVkIGNoYW5nZWQgZnJvbSBmYWxzZSB0byB0cnVlXHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUgJiYgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCh0aGlzLmN1cnJlbnRBY3RpdmVUb29sKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICAvLyBhY3RpdmUgSmltdU1hcFZpZXcgY2hhbmdlZFxyXG4gICAgICAvLyBuZWVkIHRvIGRlc3Ryb3kgY3VycmVudCB0aGlzLnNrZXRjaFZpZXdNb2RlbCBhbmQgcmVjcmVhdGUgaXQsIGRvbnQndCBjaGFuZ2UgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldywgYmVjYXVzZSB3ZSBuZWVkIHRvIGJpbmQgdmlldyBrZXlkb3duL2tleXVwIGV2ZW50cyBiZWZvcmUgaW5pdCBza2V0Y2hWaWV3TW9kZWxcclxuICAgICAgdGhpcy5kZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMoKVxyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwodGhpcy5jdXJyZW50QWN0aXZlVG9vbClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZTdGF0ZS5pc0FjdGl2ZSAhPT0gdGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAvLyBhY3RpdmUgY2hhbmdlXHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAvLyBjaGFuZ2UgZnJvbSBpbmFjdGl2ZSB0byBhY3RpdmVcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwodGhpcy5jdXJyZW50QWN0aXZlVG9vbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjaGFuZ2UgZnJvbSBhY3RpdmUgdG8gaW5hY3RpdmVcclxuICAgICAgICB0aGlzLmRlc3Ryb3lTa2V0Y2hWaWV3TW9kZWxBbmRSZWxlYXNlSGFuZGxlcygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRyeVVwZGF0ZUFjdGl2ZVRvb2xJbmZvV2hlblN0YXRlQ2hhbmdlKHByZXZTdGF0ZSlcclxuXHJcbiAgICB0aGlzLnRyeVVwZGF0ZUFjdGl2ZVRvb2xJbmZvV2hlblByb3BzQ2hhbmdlKHByZXZQcm9wcylcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSBwcm9wcy5hY3RpdmVUb29sTmFtZSBmb3IgdGhlIGZvbGxvd2luZyBjYXNlczpcclxuICAgKiBjYXNlMTogSWYgc2VsZWN0IHRvb2wgZ2V0cyBhY3RpdmUgZnJvbSBpbmFjdGl2ZSwgbmVlZHMgdG8gc2V0IG1hcC5wcm9wcy5hY3RpdmVUb29sTmFtZSB0byBzZWxlY3QgdG9vbCBieSBjYWxsaW5nIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKS5cclxuICAgKiBjYXNlMjogSWYgc2VsZWN0IHRvb2wgZ2V0cyBpbmFjdGl2ZSBmcm9tIGFjdGl2ZSwgbmVlZHMgdG8gc2V0IG1hcC5wcm9wcy5hY3RpdmVUb29sTmFtZSB0byBudWxsIGJ5IGNhbGxpbmcgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpLlxyXG4gICAqL1xyXG4gIHRyeVVwZGF0ZUFjdGl2ZVRvb2xJbmZvV2hlblN0YXRlQ2hhbmdlIChwcmV2U3RhdGU6IFN0YXRlcykge1xyXG4gICAgaWYgKCFwcmV2U3RhdGUpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJldlNlbGVjdElzQWN0aXZlVG9vbCA9ICEhKHByZXZTdGF0ZS5pc0FjdGl2ZSB8fCBwcmV2U3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwKVxyXG4gICAgY29uc3QgY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCA9ICEhKHRoaXMuc3RhdGUuaXNBY3RpdmUgfHwgdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXApXHJcblxyXG4gICAgaWYgKCFwcmV2U2VsZWN0SXNBY3RpdmVUb29sICYmIGN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wpIHtcclxuICAgICAgLy8gc2VsZWN0IGNoYW5nZXMgdG8gYWN0aXZlIHRvb2xcclxuXHJcbiAgICAgIC8vIERvbid0IHVzZSBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgdG8gdXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLCB3ZSBzaG91bGQgdXNlIHByb3BzLl9vbkljb25DbGljaygpIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgICAvLyBCZWNhdXNlIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgY2FsbCB0aGlzLm9uU2hvd1BhbmVsKCkgaW4gYmFzZS10b29sLnRzeCwgYnV0IHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSBkb2Vzbid0LlxyXG4gICAgICAvLyB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xyXG4gICAgICAvLyAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnByb3BzLnRvb2xOYW1lLFxyXG4gICAgICAvLyAgIGFjdGl2ZVRvb2xUaXRsZTogdGhpcy5wcm9wcy50b29sTmFtZVxyXG4gICAgICAvLyB9KVxyXG5cclxuICAgICAgdGhpcy5zZXRDdXJyZW50VG9vbEFzQWN0aXZlVG9vbCgpXHJcbiAgICB9IGVsc2UgaWYgKHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgJiYgIWN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wpIHtcclxuICAgICAgLy8gc2VsZWN0IGNoYW5nZXMgdG8gaW5hY3RpdmUgdG9vbFxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBmYWxzZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gRG9uJ3QgdXNlIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSB0byB1cGRhdGUgcHJvcHMuYWN0aXZlVG9vbEluZm8sIHdlIHNob3VsZCB1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAgICAgIC8vIEJlY2F1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBjYWxsIHRoaXMub25TaG93UGFuZWwoKSBpbiBiYXNlLXRvb2wudHN4LCBidXQgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIGRvZXNuJ3QuXHJcbiAgICAgIC8vIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG5cclxuICAgICAgdGhpcy5zZXRBY3RpdmVUb29sVG9OdWxsKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHRyeSB0byBzZXQgc3RhdGUuaXNBY3RpdmUgYW5kIHN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB0byBmYWxzZSBmb3IgdGhlIGZvbGxvd2luZyBjYXNlczpcclxuICAgKiBjYXNlMTogSWYgc2VsZWN0IHRvb2wgaXMgb3JpZ2luYWxseSBhY3RpdmUsIGJ1dCBhbm90aGVyIG1hcCBzZWxlY3QgdG9vbCBnZXRzIGFjdGl2ZSwgdGhlbiBuZWVkcyBzZXQgc3RhdGUuaXNBY3RpdmUgYW5kIHN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB0byBmYWxzZS5cclxuICAgKiBjYXNlMjogSWYgc2VsZWN0IHRvb2wgaXMgb3JpZ2luYWxseSBhY3RpdmUsIGJ1dCBhbm90aGVyIHdpZGdldCBnZXRzIGNvbnRyb2wgb2YgbWFwLCB0aGVuIG5lZWRzIHNldCBzdGF0ZS5pc0FjdGl2ZSBhbmQgc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwIHRvIGZhbHNlLlxyXG4gICAqIEBwYXJhbSBwcmV2UHJvcHNcclxuICAgKi9cclxuICB0cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5Qcm9wc0NoYW5nZSAocHJldlByb3BzOiBQcm9wcykge1xyXG4gICAgbGV0IHNob3VsZEJlSW5hY3RpdmUgPSBmYWxzZVxyXG5cclxuICAgIGNvbnN0IHByZUFjdGl2ZVRvb2xOYW1lID0gcHJldlByb3BzPy5hY3RpdmVUb29sSW5mbz8uYWN0aXZlVG9vbE5hbWUgfHwgJydcclxuICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVUb29sTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lIHx8ICcnXHJcblxyXG4gICAgaWYgKHByZUFjdGl2ZVRvb2xOYW1lICE9PSBjdXJyZW50QWN0aXZlVG9vbE5hbWUpIHtcclxuICAgICAgLy8gcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgY2hhbmdlc1xyXG4gICAgICBjb25zdCB0b29sTmFtZSA9IHRoaXMucHJvcHMudG9vbE5hbWVcclxuICAgICAgY29uc3QgcHJldlNlbGVjdElzQWN0aXZlVG9vbCA9IHByZUFjdGl2ZVRvb2xOYW1lID09PSB0b29sTmFtZVxyXG4gICAgICBjb25zdCBjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sID0gY3VycmVudEFjdGl2ZVRvb2xOYW1lID09PSB0b29sTmFtZVxyXG5cclxuICAgICAgaWYgKHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgJiYgIWN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wpIHtcclxuICAgICAgICAvLyBzZWxlY3QgY2hhbmdlcyB0byBpbmFjdGl2ZSB0b29sIGJlYWNhdXNlIGFub3RoZXIgbWFwIHRvb2wgZ2V0cyBhY3RpdmUsIGUuZy4gbWFwIGxheWVycyB0b29sIGdldHMgYWN0aXZlXHJcbiAgICAgICAgc2hvdWxkQmVJbmFjdGl2ZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHdlIGRvbid0IGNoZWNrIHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCBpcyBlbXB0eSBvciBub3QsIHdlIHdpbGwgZ2V0IHRoZSBmb2xsb3dpbmcgd3JvbmcgY2FzZVxyXG4gICAgLy8gMS4gQ2xpY2sgbWVhc3VyZSB0b29sLCBtZWFzdXJlIGlzIHRoZSBhY3RpdmUgdG9vbCBhbmQgbWVhc3VyZSBjb250cm9scyB0aGUgbWFwXHJcbiAgICAvLyAyLiBUaGVuIGNsaWNrIHNlbGVjdCB0b29sLCBzZWxlY3QgdG9vbCBkb2Vzbid0IGdldCBhY3RpdmVcclxuICAgIGlmIChwcmV2UHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCA9PT0gdGhpcy5pZCAmJiB0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgJiYgdGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkICE9PSB0aGlzLmlkKSB7XHJcbiAgICAgIC8vIGFub3RoZXIgd2lkZ2V0IGdldHMgY29udHJvbCBvZiBtYXAsIHNlbGVjdCB0b29sIGxvc2VzIGNvbnRyb2wgb2YgbWFwXHJcbiAgICAgIHNob3VsZEJlSW5hY3RpdmUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNob3VsZEJlSW5hY3RpdmUgJiYgKHRoaXMuc3RhdGUuaXNBY3RpdmUgfHwgdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXApKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLmRlc3Ryb3lTa2V0Y2hWaWV3TW9kZWxBbmRSZWxlYXNlSGFuZGxlcygpXHJcbiAgICB0aGlzLnJlbGVhc2VTaGlmdEN0cmxLZXlzRXZlbnRMaXN0ZW5lcnMoKVxyXG4gIH1cclxuXHJcbiAgZGVzdHJveVNrZXRjaFZpZXdNb2RlbEFuZFJlbGVhc2VIYW5kbGVzICgpIHtcclxuICAgIHRoaXMucmVsZWFzZVZpZXdIYW5kbGVzKClcclxuXHJcbiAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcgPSBudWxsXHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCA9PT0gdGhpcy5pZCkge1xyXG4gICAgICAvLyBzZWxlY3QgdG9vbCByZWxlYXNlcyB0aGUgY29udHJvbCBvZiBtYXBcclxuICAgICAgY29uc3QgYWN0aW9uID0gYXBwQWN0aW9ucy5yZWxlYXNlQXV0b0NvbnRyb2xNYXBXaWRnZXQodGhpcy5wcm9wcy5tYXBXaWRnZXRJZClcclxuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhY3Rpb24pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWxlYXNlVmlld0hhbmRsZXMgKCkge1xyXG4gICAgaWYgKHRoaXMuYWN0aXZlSmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy5yZW1vdmVTZWxlY3RCeVF1ZXJ5UHJvZ3Jlc3NDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uSmltdU1hcFZpZXdTZWxlY3RQcm9ncmVzc0NoYW5nZSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy52aWV3S2V5RG93bkhhbmRsZSkge1xyXG4gICAgICB0aGlzLnZpZXdLZXlEb3duSGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgIHRoaXMudmlld0tleURvd25IYW5kbGUgPSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudmlld0tleVVwSGFuZGxlKSB7XHJcbiAgICAgIHRoaXMudmlld0tleVVwSGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgIHRoaXMudmlld0tleVVwSGFuZGxlID0gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlSXNTZWxlY3RBY3RpdmUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNBY3RpdmU6ICF0aGlzLnN0YXRlLmlzQWN0aXZlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU2VsZWN0VHlwZVBvcHVwID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogIXRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudFRvb2xBc0FjdGl2ZVRvb2wgKCk6IHZvaWQge1xyXG4gICAgLy8gRG9uJ3QgdXNlIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSB0byB1cGRhdGUgcHJvcHMuYWN0aXZlVG9vbEluZm8sIHdlIHNob3VsZCB1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAgICAvLyBCZWNhdXNlIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgY2FsbCB0aGlzLm9uU2hvd1BhbmVsKCkgaW4gYmFzZS10b29sLnRzeCwgYnV0IHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSBkb2Vzbid0LlxyXG4gICAgaWYgKCF0aGlzLmlzU2VsZWN0SXNBY3RpdmVUb29sKCkpIHtcclxuICAgICAgdGhpcy5wcm9wcy5fb25JY29uQ2xpY2soKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0QWN0aXZlVG9vbFRvTnVsbCAoKTogdm9pZCB7XHJcbiAgICAvLyBEb24ndCB1c2UgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIHRvIHVwZGF0ZSBwcm9wcy5hY3RpdmVUb29sSW5mbywgd2Ugc2hvdWxkIHVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgIC8vIEJlY2F1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBjYWxsIHRoaXMub25TaG93UGFuZWwoKSBpbiBiYXNlLXRvb2wudHN4LCBidXQgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIGRvZXNuJ3QuXHJcbiAgICBpZiAodGhpcy5pc1NlbGVjdElzQWN0aXZlVG9vbCgpKSB7XHJcbiAgICAgIHRoaXMucHJvcHMuX29uSWNvbkNsaWNrKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHRoaXMgbWV0aG9kIGlzIG9ubHkgdXNlZCBieSBzZXRDdXJyZW50VG9vbEFzQWN0aXZlVG9vbCBhbmQgc2V0QWN0aXZlVG9vbFRvTnVsbFxyXG4gIGlzU2VsZWN0SXNBY3RpdmVUb29sICgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLnRvb2xOYW1lICYmIHRoaXMucHJvcHMudG9vbE5hbWUgPT09IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lXHJcbiAgfVxyXG5cclxuICBvbkppbXVNYXBWaWV3U2VsZWN0UHJvZ3Jlc3NDaGFuZ2UgPSAocHJvZ3Jlc3MpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBzZWxlY3RQcm9ncmVzczogcHJvZ3Jlc3NcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB1c2VTaGlmdEtleSAodG9sZWFybmFjZU1zOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnVzZUtleSh0aGlzLmxhc3RTaGlmdEtleUV2ZW50SW5mbywgdG9sZWFybmFjZU1zKVxyXG4gIH1cclxuXHJcbiAgdXNlQ3RybEtleSAodG9sZWFybmFjZU1zOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnVzZUtleSh0aGlzLmxhc3RDdHJsS2V5RXZlbnRJbmZvLCB0b2xlYXJuYWNlTXMpXHJcbiAgfVxyXG5cclxuICB1c2VLZXkgKGxhc3RLZXlFdmVudEluZm86IExhc3RLZXlFdmVudEluZm8sIHRvbGVhcm5hY2VNczogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBpZiAobGFzdEtleUV2ZW50SW5mbykge1xyXG4gICAgICBpZiAobGFzdEtleUV2ZW50SW5mby5pc0tleURvd24pIHtcclxuICAgICAgICAvLyBrZXkgaXMgc3RpbGwgZG93biBhbmQgbm90IHVwLCByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8ga2V5IGlzIHVwLCB3ZSB1c2UgdG9sZWFybmFjZU1zIHRvIGRldGVyaW5lIHRoZSByZXR1cm4gdmFsdWVcclxuICAgICAgICBjb25zdCBkZWx0YVRpbWUgPSBEYXRlLm5vdygpIC0gbGFzdEtleUV2ZW50SW5mby5ldmVudERhdGUuZ2V0VGltZSgpXHJcblxyXG4gICAgICAgIGlmIChkZWx0YVRpbWUgPD0gdG9sZWFybmFjZU1zKSB7XHJcbiAgICAgICAgICAvLyBrZXl1cCB0aW1lIGlzIG5vdCB0b28gbG9uZyBmcm9tIG5vd1xyXG4gICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8ga2V5dXAgdGltZSBpcyB0b28gbG9uZyBmcm9tIG5vd3NcclxuICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8ga2V5IG5ldmVyIGRvd24sIHJldHVybiBmYWxzZVxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGJpbmRTaGlmdEN0cmxLZXlzRXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duLCB0cnVlKVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAsIHRydWUpXHJcbiAgfVxyXG5cclxuICByZWxlYXNlU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93biwgdHJ1ZSlcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVVwLCB0cnVlKVxyXG4gIH1cclxuXHJcbiAgb25LZXlEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnU2hpZnQnKSB7XHJcbiAgICAgIHRoaXMubGFzdFNoaWZ0S2V5RXZlbnRJbmZvID0ge1xyXG4gICAgICAgIGV2ZW50RGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBpc0tleURvd246IHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICgodGhpcy5pc01hYyAmJiBldmVudC5rZXkgPT09ICdNZXRhJykgfHwgKCF0aGlzLmlzTWFjICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSkge1xyXG4gICAgICB0aGlzLmxhc3RDdHJsS2V5RXZlbnRJbmZvID0ge1xyXG4gICAgICAgIGV2ZW50RGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBpc0tleURvd246IHRydWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25LZXlVcCA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICB0aGlzLmxhc3RTaGlmdEtleUV2ZW50SW5mbyA9IHtcclxuICAgICAgICBldmVudERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgaXNLZXlEb3duOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKCh0aGlzLmlzTWFjICYmIGV2ZW50LmtleSA9PT0gJ01ldGEnKSB8fCAoIXRoaXMuaXNNYWMgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpKSB7XHJcbiAgICAgIHRoaXMubGFzdEN0cmxLZXlFdmVudEluZm8gPSB7XHJcbiAgICAgICAgZXZlbnREYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGlzS2V5RG93bjogZmFsc2VcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhbFNrZXRjaFRvb2wgKCkge1xyXG4gICAgaWYgKCF0aGlzLlNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIHRoaXMucmVsZWFzZVZpZXdIYW5kbGVzKClcclxuXHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlld1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3ID0gamltdU1hcFZpZXdcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy5hZGRTZWxlY3RCeVF1ZXJ5UHJvZ3Jlc3NDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uSmltdU1hcFZpZXdTZWxlY3RQcm9ncmVzc0NoYW5nZSlcclxuXHJcbiAgICAgIGNvbnN0IHZpZXcgPSBqaW11TWFwVmlldy52aWV3XHJcblxyXG4gICAgICB0aGlzLnZpZXdLZXlEb3duSGFuZGxlID0gdmlldy5vbigna2V5LWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnU2hpZnQnKSB7XHJcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMudmlld0tleURvd25IYW5kbGUgPSB2aWV3Lm9uKCdrZXktdXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnU2hpZnQnKSB7XHJcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbmV3IHRoaXMuU2tldGNoVmlld01vZGVsKHtcclxuICAgICAgICB2aWV3OiB2aWV3LFxyXG4gICAgICAgIGxheWVyOiBuZXcgdGhpcy5HcmFwaGljc0xheWVyKCksXHJcbiAgICAgICAgcG9pbnRTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2ludFN5bWJvbCkgYXMgYW55LFxyXG4gICAgICAgIHBvbHlsaW5lU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWxpbmVTeW1ib2wpIGFzIGFueSxcclxuICAgICAgICBwb2x5Z29uU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWdvblN5bWJvbCkgYXMgYW55XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICAvLyBrZWVwIGNvbnRpbnVvdXMgZHJhd2luZyBmb3IgU2tldGNoVmlld01vZGVsXHJcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwodGhpcy5jdXJyZW50QWN0aXZlVG9vbClcclxuXHJcbiAgICAgICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuICAgICAgICAgIGppbXVNYXBWaWV3LnZpZXcuY2xvc2VQb3B1cCgpXHJcblxyXG4gICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IGV2ZW50LmdyYXBoaWNcclxuXHJcbiAgICAgICAgICAvLyBncmFwaGljLmdlb21ldHJ5IGlzIG51bGwgd2hlbiBkb3VibGUgY2xpY2sgbWFwXHJcbiAgICAgICAgICBpZiAoIWdyYXBoaWMuZ2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NrZXRjaCBncmFwaGljLmdlb21ldHJ5IGlzIG51bGwnKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB1c2VLZXlUb2xlcmFuY2VNcyA9IDUwMFxyXG4gICAgICAgICAgY29uc3QgaXNTaGlmdEtleSA9IHRoaXMudXNlU2hpZnRLZXkodXNlS2V5VG9sZXJhbmNlTXMpXHJcbiAgICAgICAgICBjb25zdCBpc0N0cmxLZXkgPSB0aGlzLnVzZUN0cmxLZXkodXNlS2V5VG9sZXJhbmNlTXMpXHJcblxyXG4gICAgICAgICAgbGV0IHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5OZXdcclxuXHJcbiAgICAgICAgICBpZiAoaXNTaGlmdEtleSkge1xyXG4gICAgICAgICAgICBpZiAoaXNDdHJsS2V5KSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9uTW9kZSA9IERhdGFTb3VyY2VTZWxlY3Rpb25Nb2RlLlNlbGVjdEZyb21DdXJyZW50XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9uTW9kZSA9IERhdGFTb3VyY2VTZWxlY3Rpb25Nb2RlLkFkZFRvQ3VycmVudFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaXNDdHJsS2V5KSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9uTW9kZSA9IERhdGFTb3VyY2VTZWxlY3Rpb25Nb2RlLlJlbW92ZUZyb21DdXJyZW50XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9uTW9kZSA9IERhdGFTb3VyY2VTZWxlY3Rpb25Nb2RlLk5ld1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgamltdU1hcFZpZXcuc2VsZWN0RmVhdHVyZXNCeUdyYXBoaWMoZ3JhcGhpYywgdGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwLCBzZWxlY3Rpb25Nb2RlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwgKGFjdGl2ZVRvb2w6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIGNvbnN0IGNyZWF0ZU9wdGlvbnMgPSB0aGlzLnNrZXRDaENyZWF0ZU9wdGlvbnNbYWN0aXZlVG9vbF1cclxuXHJcbiAgICAgIGlmIChjcmVhdGVPcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKGFjdGl2ZVRvb2wgYXMgYW55LCBjcmVhdGVPcHRpb25zKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZShhY3RpdmVUb29sIGFzIGFueSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCAhPT0gdGhpcy5pZCkge1xyXG4gICAgICAgIC8vIHNlbGVjdCB0b29sIGdldHMgY29udHJvbCBvZiBtYXBcclxuICAgICAgICBjb25zdCBhY3Rpb24gPSBhcHBBY3Rpb25zLnJlcXVlc3RBdXRvQ29udHJvbE1hcFdpZGdldCh0aGlzLnByb3BzLm1hcFdpZGdldElkLCB0aGlzLmlkKVxyXG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYWN0aW9uKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50U2VsZWN0VHlwZSA9IChjdXJyZW50U2VsZWN0VHlwZTogYW55KSA9PiB7XHJcbiAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdwb2ludCcpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2ludCdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdyZWN0YW5nbGUnKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncmVjdGFuZ2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCgncG9seWdvbicpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5Z29uJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ2NpcmNsZScpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdjaXJjbGUnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZScpIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ3BvbHlsaW5lJylcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlsaW5lJ1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogY3VycmVudFNlbGVjdFR5cGUsXHJcbiAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25DbGlja0xvYWRpbmdQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLmFjdGl2ZUppbXVNYXBWaWV3KSB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZVNlbGVjdGlvbiA9IHRydWVcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy5jYW5jZWxTZWxlY3RCeVF1ZXJ5KHVwZGF0ZVNlbGVjdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNlbGVjdEljb25UaXRsZSAoKSB7XHJcbiAgICBsZXQgdG9wVGl0bGU6IHN0cmluZyA9ICcnXHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdGlvbkJ5UG9pbnQnKVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICB0b3BUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnU2VsZWN0aW9uQnlSZWN0YW5nbGUnKVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeUxhc3NvJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdGlvbkJ5Q2lyY2xlJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeUxpbmUnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdExhYmVsJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ25ld1NlbGVjdGlvbicpXHJcbiAgICBjb25zdCBhZGRUb0N1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2FkZFRvQ3VycmVudFNlbGVjdGlvbicpXHJcbiAgICBjb25zdCByZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZm9ybWF0TWVzc2FnZSgncmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb24nKVxyXG4gICAgY29uc3Qgc2VsZWN0RnJvbUN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uJylcclxuICAgIGNvbnN0IGRyYXdTaGFwZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnZHJhd1NoYXBlJylcclxuICAgIGNvbnN0IGRyYXcgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2RyYXcnKVxyXG4gICAgY29uc3QgY3RybEtleSA9IHRoaXMuaXNNYWMgPyAnQ21kJyA6ICdDdHJsJ1xyXG5cclxuICAgIGNvbnN0IG5ld1NlbGVjdGlvblRpcCA9IGDiiJkgJHtuZXdTZWxlY3Rpb259ICgke2RyYXdTaGFwZX0pYFxyXG4gICAgY29uc3QgYWRkVG9DdXJyZW50U2VsZWN0aW9uVGlwID0gYOKImSAke2FkZFRvQ3VycmVudFNlbGVjdGlvbn0gKFNoaWZ0ICsgJHtkcmF3fSlgXHJcbiAgICBjb25zdCByZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvblRpcCA9IGDiiJkgJHtyZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvbn0gKCR7Y3RybEtleX0gKyAke2RyYXd9KWBcclxuICAgIGNvbnN0IHNlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uVGlwID0gYOKImSAke3NlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9ufSAoU2hpZnQgKyAke2N0cmxLZXl9ICsgJHtkcmF3fSlgXHJcblxyXG4gICAgY29uc3QgZmluYWxUaXRsZSA9XHJcbiAgICBgJHt0b3BUaXRsZX1cclxuJHtuZXdTZWxlY3Rpb25UaXB9XHJcbiR7YWRkVG9DdXJyZW50U2VsZWN0aW9uVGlwfVxyXG4ke3JlbW92ZUZyb21DdXJyZW50U2VsZWN0aW9uVGlwfVxyXG4ke3NlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uVGlwfVxyXG4gICAgYFxyXG5cclxuICAgIHJldHVybiBmaW5hbFRpdGxlXHJcbiAgfVxyXG5cclxuICBmb3JtYXRNZXNzYWdlIChzdHJJZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogc3RySWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbc3RySWRdIH0pXHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RUb29sSWNvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RQb2ludEljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGFzc29JY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RDaXJjbGVJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGluZUljb25cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNb2JpbGVQYW5lbEZvclNlbGVjdFNldHRpbmcgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBtYXBXaWRnZXRJZCB9KSA9PiAoXHJcbiAgICAgICAgICA8TW9iaWxlUGFuZWxcclxuICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e2Ake21hcFdpZGdldElkfS13aXRoLXNlbGVjdC1jb250YWluZXJgfSB0aXRsZT0nJ1xyXG4gICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cH0gb25DbG9zZT17KCkgPT4geyB0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cCgpIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCc+XHJcbiAgICAgICAgICAgICAge3RoaXMuZ2V0TW9iaWxlUGFuZWxTZXR0aW5nQ29udGVudCgpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRNb2JpbGVQYW5lbFNldHRpbmdDb250ZW50ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUgbXQtMSBtYi0yJz5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbCB9KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXIgZC1mbGV4Jz5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci00IGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZSdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdSZWN0YW5nbGUnKSB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ1JlY3RhbmdsZScpIH19XHJcbiAgICAgICAgICAgICAgcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UmVjdGFuZ2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItNCBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbydcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMYXNzbycpIH19XHJcbiAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVTZWxlY3RUeXBlS2V5RG93bihlLCAnTGFzc28nKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExhc3NvSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xMYXNzbyB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci00IGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZSdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdDaXJjbGUnKSB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ0NpcmNsZScpIH19XHJcbiAgICAgICAgICAgICAgcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2lyY2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbENpcmNsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbENpcmNsZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItNCBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJ1xyXG4gICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xpbmUnKSB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ0xpbmUnKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExpbmVJY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItNCBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdQb2ludCcpIH19XHJcbiAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVTZWxlY3RUeXBlS2V5RG93bihlLCAnUG9pbnQnKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFBvaW50SWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xQb2ludCB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LXRpdGxlIG10LTEgbWItMic+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbk1vZGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbk1vZGUgfSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTInPlxyXG4gICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdpbnRlcnNlY3RzJ31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J20tMCBtbC0yIGNvbnRlbnQtdGl0bGUnIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbldpdGhpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uV2l0aGluIH0pfVxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cclxuICAgICAgICAgICAgPFJhZGlvXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnY29udGFpbnMnfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnIH0pIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J20tMCBtbC0yIGNvbnRlbnQtdGl0bGUnIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucycgfSkgfX0+XHJcbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Db250YWluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Db250YWluIH0pfVxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VsZWN0VHlwZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBzZWxlY3RUeXBlOiBzdHJpbmcpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoc2VsZWN0VHlwZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBhY3Rpb246IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcclxuICAgICAgaWYgKGFjdGlvbiA9PT0gJ3RvZ2dsZUlzU2VsZWN0QWN0aXZlJykge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlSXNTZWxlY3RBY3RpdmUoKVxyXG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3Nob3dTZWxlY3RTZXR0aW5nJykge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlU2VsZWN0VHlwZVBvcHVwKClcclxuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdvbkNsaWNrTG9hZGluZ1Byb2dyZXNzJykge1xyXG4gICAgICAgIHRoaXMub25DbGlja0xvYWRpbmdQcm9ncmVzcygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBzZWxlY3RJY29uVGl0bGUgPSB0aGlzLmdldFNlbGVjdEljb25UaXRsZSgpXHJcbiAgICBjb25zdCBtb3JlSWNvblRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ21vcmUnLCBkZWZhdWx0TWVzc2FnZTogJ01vcmUnIH0pXHJcbiAgICBjb25zdCBpc1NlbGVjdGluZyA9IHRoaXMuc3RhdGUuc2VsZWN0UHJvZ3Jlc3MgPiAwICYmIHRoaXMuc3RhdGUuc2VsZWN0UHJvZ3Jlc3MgPCAxXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0+XHJcbiAgICAgICAge3RoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmICFpc1NlbGVjdGluZyAmJiA8ZGl2XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUlzU2VsZWN0QWN0aXZlfSBzdHlsZT17e319IHRpdGxlPXtzZWxlY3RJY29uVGl0bGV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcclxuICAgICAgICAgICAgJ2V4Ym1hcC11aS10b29sLWljb24tc2VsZWN0ZWQnOiB0aGlzLnN0YXRlLmlzQWN0aXZlXHJcbiAgICAgICAgICB9KX1cclxuICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAndG9nZ2xlSXNTZWxlY3RBY3RpdmUnKSB9fVxyXG4gICAgICAgICAgcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dGhpcy5nZXRTZWxlY3RUb29sSWNvbigpfSAvPlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiBpc1NlbGVjdGluZyAmJiA8U2VsZWN0UHJvZ3Jlc3MgcHJvZ3Jlc3M9e3RoaXMuc3RhdGUuc2VsZWN0UHJvZ3Jlc3N9IGludGw9e3RoaXMucHJvcHMuaW50bH0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IG9uQ2xpY2s9e3RoaXMub25DbGlja0xvYWRpbmdQcm9ncmVzc30gLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiA8ZGl2IHN0eWxlPXt7fX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJyl9PlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JvcmRlciBib3JkZXItdG9wLTAgdy0xMDAnIHN0eWxlPXt7IGhlaWdodDogJzFweCcgfX0gLz5cclxuICAgICAgICB7dGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdiBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cH0gdGl0bGU9e21vcmVJY29uVGl0bGV9IHN0eWxlPXt7fX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJyl9XHJcbiAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ3Nob3dTZWxlY3RTZXR0aW5nJykgfX1cclxuICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e1NlbGVjdE1vcmVJY29ufSAvPlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgc3R5bGU9e3t9fSB0aXRsZT17bW9yZUljb25UaXRsZX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJyl9PlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e1NlbGVjdE1vcmVJY29ufSAvPlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7dGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgJiYgdGhpcy5nZXRNb2JpbGVQYW5lbEZvclNlbGVjdFNldHRpbmcoKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQge1xyXG4gIGNzcywganN4LCBjbGFzc05hbWVzLCBSZWFjdCwgcG9saXNoZWQsIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zLCB0eXBlIElNVGhlbWVWYXJpYWJsZXMsXHJcbiAgdHlwZSBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtcywgdHlwZSBJbnRsU2hhcGUsIERhdGFTb3VyY2VTZWxlY3Rpb25Nb2RlXHJcbn0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBQb3BwZXIsIGRlZmF1bHRNZXNzYWdlcywgUmFkaW8gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IHR5cGUgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCBTZWxlY3RQcm9ncmVzcyBmcm9tICcuL3NlbGVjdC1wcm9ncmVzcydcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcbiAgaW50bDogSW50bFNoYXBlXHJcblxyXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcclxuICB0b29sTmFtZTogc3RyaW5nXHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcblxyXG4gIC8vIHRvZ2dsZSBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZVxyXG4gIC8vIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgc2V0IHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lIHRvIHNlbGVjdCB0b29sIGlmIHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lIGlzIG5vdCBzZWxlY3QgdG9vbC5cclxuICAvLyBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIHNldCBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSB0byBudWxsIGlmIHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lIHNlbGVjdCB0b29sLlxyXG4gIC8vIF9vbkljb25DbGljayBpcyBhIHF1aWNrIHdheSB0byBjYWxsIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2VcclxuICBfb25JY29uQ2xpY2s6ICgpID0+IHZvaWRcclxuXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBza2V0Y2hJbml0aWFsZWQ6IGJvb2xlYW5cclxuICBpc0FjdGl2ZTogYm9vbGVhbiAvLyB0aGUgYnV0dG9uIGlzIGFjdGl2ZSBvciBub3RcclxuICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGJvb2xlYW4gLy8gc2hvdyBtb2JpbGUgcGFuZWwgb3Igbm90XHJcblxyXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcclxuICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfCAnY29udGFpbnMnXHJcbiAgc2VsZWN0UHJvZ3Jlc3M6IG51bWJlclxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XHJcbiAgc3R5bGU6ICdlc3JpU01TQ2lyY2xlJyxcclxuICBjb2xvcjogWzAsIDAsIDEyOCwgMTI4XSxcclxuICBuYW1lOiAnQ2lyY2xlJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBjb2xvcjogWzAsIDAsIDEyOCwgMjU1XSxcclxuICAgIHdpZHRoOiAxXHJcbiAgfSxcclxuICB0eXBlOiAnZXNyaVNNUycsXHJcbiAgc2l6ZTogMThcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xyXG4gIHRhZ3M6IFsnc29saWQnXSxcclxuICB0aXRsZTogJ0JsdWUgVGhpbicsXHJcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCAyNTVdLFxyXG4gIHdpZHRoOiAzLFxyXG4gIG5hbWU6ICdCbHVlIDEnLFxyXG4gIHR5cGU6ICdlc3JpU0xTJ1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWdvblN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTRlNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcclxuICB0eXBlOiAnZXNyaVNGUycsXHJcbiAgb3V0bGluZToge1xyXG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gICAgY29sb3I6IFs1NCwgOTMsIDE0MSwgMjU1XSxcclxuICAgIHdpZHRoOiAxLjUsXHJcbiAgICB0eXBlOiAnZXNyaVNMUydcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEljb25BcnJvd0Rvd24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmcnKVxyXG5cclxuY29uc3QgU2VsZWN0UmVjdGFuZ2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExhc3NvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnJylcclxuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExpbmVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZycpXHJcbmNvbnN0IFNlbGVjdFBvaW50SWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnJylcclxuY29uc3QgU2VsZWN0Q2xlYXJJY29uID0gcmVxdWlyZSgnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL2NsZWFyLXNlbGVjdGlvbi1nZW5lcmFsLnN2ZycpXHJcblxyXG5pbnRlcmZhY2UgU2tldGNoQ3JlYXRlT3B0aW9ucyB7XHJcbiAgW3Rvb2w6IHN0cmluZ106IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxDcmVhdGVDcmVhdGVPcHRpb25zXHJcbn1cclxuXHJcbmludGVyZmFjZSBMYXN0S2V5RXZlbnRJbmZvIHtcclxuICBldmVudERhdGU6IERhdGVcclxuICBpc0tleURvd246IGJvb2xlYW4gLy8gdHJ1ZSBtZWFucyBrZXlkb3duLCBmYWxzZSBtZWFucyBrZXl1cFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0UENUb29sIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGVzPiB7XHJcbiAgYnRuQ29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIGJ0blNlbGVjdFR5cGVDb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgc2VsZWN0UmVzdWx0Q29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIFNrZXRjaFZpZXdNb2RlbDogdHlwZW9mIF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBHcmFwaGljc0xheWVyOiB0eXBlb2YgX19lc3JpLkdyYXBoaWNzTGF5ZXJcclxuICBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeVxyXG4gIHNrZXRjaFZpZXdNb2RlbDogX19lc3JpLlNrZXRjaFZpZXdNb2RlbFxyXG4gIGN1cnJlbnRBY3RpdmVUb29sOiBzdHJpbmcgPSAncmVjdGFuZ2xlJ1xyXG4gIHF1ZXJ5OiBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtc1xyXG4gIGpzb25VdGlsczogdHlwZW9mIF9fZXNyaS5qc29uVXRpbHMgPSBudWxsXHJcbiAgZ2VvbWV0cnlFbmdpbmU6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnlFbmdpbmVcclxuICByZXN1bHRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXSA9IFtdXHJcbiAgc2tldENoQ3JlYXRlT3B0aW9uczogU2tldGNoQ3JlYXRlT3B0aW9uc1xyXG4gIHZpZXdLZXlEb3duSGFuZGxlOiBfX2VzcmkuSGFuZGxlXHJcbiAgdmlld0tleVVwSGFuZGxlOiBfX2VzcmkuSGFuZGxlXHJcbiAgbGFzdFNoaWZ0S2V5RXZlbnRJbmZvOiBMYXN0S2V5RXZlbnRJbmZvXHJcbiAgbGFzdEN0cmxLZXlFdmVudEluZm86IExhc3RLZXlFdmVudEluZm9cclxuICBpc01hYzogYm9vbGVhblxyXG4gIGFjdGl2ZUppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGlkOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5pc01hYyA9IHdpbmRvdy5qaW11VUE/Lm9zPy5uYW1lID09PSAnbWFjT1MnXHJcbiAgICB0aGlzLmlkID0gYCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0tc2VsZWN0LXRvb2xgXHJcblxyXG4gICAgdGhpcy5za2V0Q2hDcmVhdGVPcHRpb25zID0ge1xyXG4gICAgICBwb2x5Z29uOiB7XHJcbiAgICAgICAgbW9kZTogJ2h5YnJpZCdcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHNrZXRjaEluaXRpYWxlZDogZmFsc2UsXHJcbiAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBmYWxzZSxcclxuICAgICAgY3VycmVudFNlbGVjdFR5cGU6ICdSZWN0YW5nbGUnLFxyXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXHJcbiAgICAgIHNlbGVjdFByb2dyZXNzOiAwXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5iaW5kU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcblxyXG4gIGdldENTU1N0eWxlICgpIHtcclxuICAgIGNvbnN0IHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZVxyXG4gICAgY29uc3QgY29udGFpbmVyYmcgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJnXHJcbiAgICBjb25zdCBjb250YWluZXJCb3JkZXIgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJvcmRlclxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLnNlbGVjdC10b29sLWNvbnRhaW5lciB7XHJcbiAgICAgICAgJHtjb250YWluZXJiZyAmJiBgYmFja2dyb3VuZC1jb2xvcjogJHtjb250YWluZXJiZ307YH1cclxuICAgICAgICAke2NvbnRhaW5lckJvcmRlciAmJiBgYm9yZGVyOiAke2NvbnRhaW5lckJvcmRlci5jb2xvcn0gJHtjb250YWluZXJCb3JkZXIud2lkdGh9IHNvbGlkO2B9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1idG4ge1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQtYmcge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMTAwXX07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50LXRpdGxlIHtcclxuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwge1xyXG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcclxuICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlIHtcclxuICAgICAgICB3aWR0aDogNjRweDtcclxuICAgICAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZDphZnRlciB7XHJcbiAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgICAnZXNyaS93aWRnZXRzL1NrZXRjaC9Ta2V0Y2hWaWV3TW9kZWwnLFxyXG4gICAgICAgICdlc3JpL2xheWVycy9HcmFwaGljc0xheWVyJyxcclxuICAgICAgICAnZXNyaS9yZXN0L3N1cHBvcnQvUXVlcnknLFxyXG4gICAgICAgICdlc3JpL3N5bWJvbHMvc3VwcG9ydC9qc29uVXRpbHMnLFxyXG4gICAgICAgICdlc3JpL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lJyxcclxuICAgICAgICAvLyBXaGVuIHlvdSBmaXJzdCBjbGljayB0byBlbmFibGUgdGhlIGludGVyYWN0aXZlIHRvb2xzLCBsaWtlIHRoZSByZWN0YW5nbGUsIGZvciBhIGNvdXBsZSBvZiBzZWNvbmRzLCB0aGVyZSBpcyBubyBjdXJzb3Igb24gdGhlIG1hcCwgYW5kIHlvdSBjYW5ub3QgZG8gYW55dGhpbmcgLSB3aGljaCBsb29rcyBsaWtlIGEgYnVnLlxyXG4gICAgICAgIC8vIFRvIGZpeCB0aGUgYWJvdmUgaXNzdWUsIHdlIG5lZWQgdG8gcHJlbG9hZCB0aGUgZm9sbG93aW5nIEFQSSBtb2R1bGVzIGZvciBTa2V0Y2hWaWV3TW9kZWwuXHJcbiAgICAgICAgJ2Vzcmkvdmlld3MvMmQvaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzJyxcclxuICAgICAgICAnZXNyaS92aWV3cy8zZC9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMnLFxyXG4gICAgICAgICdlc3JpL3ZpZXdzLzJkL2xheWVycy9HcmFwaGljc0xheWVyVmlldzJEJyxcclxuICAgICAgICAnZXNyaS92aWV3cy8zZC9sYXllcnMvR3JhcGhpY3NMYXllclZpZXczRCdcclxuICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5Ta2V0Y2hWaWV3TW9kZWwsIHRoaXMuR3JhcGhpY3NMYXllciwgdGhpcy5RdWVyeSwgdGhpcy5qc29uVXRpbHMsIHRoaXMuZ2VvbWV0cnlFbmdpbmVdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy53aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBza2V0Y2hJbml0aWFsZWQ6IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZXMpIHtcclxuICAgIGlmIChwcmV2U3RhdGUuc2tldGNoSW5pdGlhbGVkICE9PSB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICAvLyBzdGF0ZS5za2V0Y2hJbml0aWFsZWQgY2hhbmdlZCBmcm9tIGZhbHNlIHRvIHRydWVcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSAmJiB0aGlzLmN1cnJlbnRBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIC8vIGFjdGl2ZSBKaW11TWFwVmlldyBjaGFuZ2VkXHJcbiAgICAgIC8vIG5lZWQgdG8gZGVzdHJveSBjdXJyZW50IHRoaXMuc2tldGNoVmlld01vZGVsIGFuZCByZWNyZWF0ZSBpdCwgZG9udCd0IGNoYW5nZSB0aGlzLnNrZXRjaFZpZXdNb2RlbC52aWV3LCBiZWNhdXNlIHdlIG5lZWQgdG8gYmluZCB2aWV3IGtleWRvd24va2V5dXAgZXZlbnRzIGJlZm9yZSBpbml0IHNrZXRjaFZpZXdNb2RlbFxyXG4gICAgICB0aGlzLmRlc3Ryb3lTa2V0Y2hWaWV3TW9kZWxBbmRSZWxlYXNlSGFuZGxlcygpXHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUgJiYgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCh0aGlzLmN1cnJlbnRBY3RpdmVUb29sKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2U3RhdGUuaXNBY3RpdmUgIT09IHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgLy8gYWN0aXZlIGNoYW5nZVxyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgLy8gY2hhbmdlIGZyb20gaW5hY3RpdmUgdG8gYWN0aXZlXHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY2hhbmdlIGZyb20gYWN0aXZlIHRvIGluYWN0aXZlXHJcbiAgICAgICAgdGhpcy5kZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5TdGF0ZUNoYW5nZShwcmV2U3RhdGUpXHJcblxyXG4gICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5Qcm9wc0NoYW5nZShwcmV2UHJvcHMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgcHJvcHMuYWN0aXZlVG9vbE5hbWUgZm9yIHRoZSBmb2xsb3dpbmcgY2FzZXM6XHJcbiAgICogY2FzZTE6IElmIHNlbGVjdCB0b29sIGdldHMgYWN0aXZlIGZyb20gaW5hY3RpdmUsIG5lZWRzIHRvIHNldCBtYXAucHJvcHMuYWN0aXZlVG9vbE5hbWUgdG8gc2VsZWN0IHRvb2wgYnkgY2FsbGluZyBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkuXHJcbiAgICogY2FzZTI6IElmIHNlbGVjdCB0b29sIGdldHMgaW5hY3RpdmUgZnJvbSBhY3RpdmUsIG5lZWRzIHRvIHNldCBtYXAucHJvcHMuYWN0aXZlVG9vbE5hbWUgdG8gbnVsbCBieSBjYWxsaW5nIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKS5cclxuICAgKi9cclxuICB0cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5TdGF0ZUNoYW5nZSAocHJldlN0YXRlOiBTdGF0ZXMpIHtcclxuICAgIGlmICghcHJldlN0YXRlKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgPSAhIShwcmV2U3RhdGUuaXNBY3RpdmUgfHwgcHJldlN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cClcclxuICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wgPSAhISh0aGlzLnN0YXRlLmlzQWN0aXZlIHx8IHRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwKVxyXG5cclxuICAgIGlmICghcHJldlNlbGVjdElzQWN0aXZlVG9vbCAmJiBjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgIC8vIHNlbGVjdCBjaGFuZ2VzIHRvIGFjdGl2ZSB0b29sXHJcblxyXG4gICAgICAvLyBEb24ndCB1c2UgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIHRvIHVwZGF0ZSBwcm9wcy5hY3RpdmVUb29sSW5mbywgd2Ugc2hvdWxkIHVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgICAgLy8gQmVjYXVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIGNhbGwgdGhpcy5vblNob3dQYW5lbCgpIGluIGJhc2UtdG9vbC50c3gsIGJ1dCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgZG9lc24ndC5cclxuICAgICAgLy8gdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKHtcclxuICAgICAgLy8gICBhY3RpdmVUb29sTmFtZTogdGhpcy5wcm9wcy50b29sTmFtZSxcclxuICAgICAgLy8gICBhY3RpdmVUb29sVGl0bGU6IHRoaXMucHJvcHMudG9vbE5hbWVcclxuICAgICAgLy8gfSlcclxuXHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudFRvb2xBc0FjdGl2ZVRvb2woKVxyXG4gICAgfSBlbHNlIGlmIChwcmV2U2VsZWN0SXNBY3RpdmVUb29sICYmICFjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgIC8vIHNlbGVjdCBjaGFuZ2VzIHRvIGluYWN0aXZlIHRvb2xcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2VcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIERvbid0IHVzZSBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgdG8gdXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLCB3ZSBzaG91bGQgdXNlIHByb3BzLl9vbkljb25DbGljaygpIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgICAvLyBCZWNhdXNlIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgY2FsbCB0aGlzLm9uU2hvd1BhbmVsKCkgaW4gYmFzZS10b29sLnRzeCwgYnV0IHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSBkb2Vzbid0LlxyXG4gICAgICAvLyB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuXHJcbiAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbFRvTnVsbCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0cnkgdG8gc2V0IHN0YXRlLmlzQWN0aXZlIGFuZCBzdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgdG8gZmFsc2UgZm9yIHRoZSBmb2xsb3dpbmcgY2FzZXM6XHJcbiAgICogY2FzZTE6IElmIHNlbGVjdCB0b29sIGlzIG9yaWdpbmFsbHkgYWN0aXZlLCBidXQgYW5vdGhlciBtYXAgc2VsZWN0IHRvb2wgZ2V0cyBhY3RpdmUsIHRoZW4gbmVlZHMgc2V0IHN0YXRlLmlzQWN0aXZlIGFuZCBzdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgdG8gZmFsc2UuXHJcbiAgICogY2FzZTI6IElmIHNlbGVjdCB0b29sIGlzIG9yaWdpbmFsbHkgYWN0aXZlLCBidXQgYW5vdGhlciB3aWRnZXQgZ2V0cyBjb250cm9sIG9mIG1hcCwgdGhlbiBuZWVkcyBzZXQgc3RhdGUuaXNBY3RpdmUgYW5kIHN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB0byBmYWxzZS5cclxuICAgKiBAcGFyYW0gcHJldlByb3BzXHJcbiAgICovXHJcbiAgdHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuUHJvcHNDaGFuZ2UgKHByZXZQcm9wczogUHJvcHMpIHtcclxuICAgIGxldCBzaG91bGRCZUluYWN0aXZlID0gZmFsc2VcclxuXHJcbiAgICBjb25zdCBwcmVBY3RpdmVUb29sTmFtZSA9IHByZXZQcm9wcz8uYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lIHx8ICcnXHJcbiAgICBjb25zdCBjdXJyZW50QWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZSB8fCAnJ1xyXG5cclxuICAgIGlmIChwcmVBY3RpdmVUb29sTmFtZSAhPT0gY3VycmVudEFjdGl2ZVRvb2xOYW1lKSB7XHJcbiAgICAgIC8vIHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lIGNoYW5nZXNcclxuICAgICAgY29uc3QgdG9vbE5hbWUgPSB0aGlzLnByb3BzLnRvb2xOYW1lXHJcbiAgICAgIGNvbnN0IHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgPSBwcmVBY3RpdmVUb29sTmFtZSA9PT0gdG9vbE5hbWVcclxuICAgICAgY29uc3QgY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCA9IGN1cnJlbnRBY3RpdmVUb29sTmFtZSA9PT0gdG9vbE5hbWVcclxuXHJcbiAgICAgIGlmIChwcmV2U2VsZWN0SXNBY3RpdmVUb29sICYmICFjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgLy8gc2VsZWN0IGNoYW5nZXMgdG8gaW5hY3RpdmUgdG9vbCBiZWFjYXVzZSBhbm90aGVyIG1hcCB0b29sIGdldHMgYWN0aXZlLCBlLmcuIG1hcCBsYXllcnMgdG9vbCBnZXRzIGFjdGl2ZVxyXG4gICAgICAgIHNob3VsZEJlSW5hY3RpdmUgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB3ZSBkb24ndCBjaGVjayB0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgaXMgZW1wdHkgb3Igbm90LCB3ZSB3aWxsIGdldCB0aGUgZm9sbG93aW5nIHdyb25nIGNhc2VcclxuICAgIC8vIDEuIENsaWNrIG1lYXN1cmUgdG9vbCwgbWVhc3VyZSBpcyB0aGUgYWN0aXZlIHRvb2wgYW5kIG1lYXN1cmUgY29udHJvbHMgdGhlIG1hcFxyXG4gICAgLy8gMi4gVGhlbiBjbGljayBzZWxlY3QgdG9vbCwgc2VsZWN0IHRvb2wgZG9lc24ndCBnZXQgYWN0aXZlXHJcbiAgICBpZiAocHJldlByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgPT09IHRoaXMuaWQgJiYgdGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkICYmIHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCAhPT0gdGhpcy5pZCkge1xyXG4gICAgICAvLyBhbm90aGVyIHdpZGdldCBnZXRzIGNvbnRyb2wgb2YgbWFwLCBzZWxlY3QgdG9vbCBsb3NlcyBjb250cm9sIG9mIG1hcFxyXG4gICAgICBzaG91bGRCZUluYWN0aXZlID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzaG91bGRCZUluYWN0aXZlICYmICh0aGlzLnN0YXRlLmlzQWN0aXZlIHx8IHRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5kZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMoKVxyXG4gICAgdGhpcy5yZWxlYXNlU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcblxyXG4gIGRlc3Ryb3lTa2V0Y2hWaWV3TW9kZWxBbmRSZWxlYXNlSGFuZGxlcyAoKSB7XHJcbiAgICB0aGlzLnJlbGVhc2VWaWV3SGFuZGxlcygpXHJcblxyXG4gICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3ID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgPT09IHRoaXMuaWQpIHtcclxuICAgICAgLy8gc2VsZWN0IHRvb2wgcmVsZWFzZXMgdGhlIGNvbnRyb2wgb2YgbWFwXHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGFwcEFjdGlvbnMucmVsZWFzZUF1dG9Db250cm9sTWFwV2lkZ2V0KHRoaXMucHJvcHMubWFwV2lkZ2V0SWQpXHJcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYWN0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVsZWFzZVZpZXdIYW5kbGVzICgpIHtcclxuICAgIGlmICh0aGlzLmFjdGl2ZUppbXVNYXBWaWV3KSB7XHJcbiAgICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcucmVtb3ZlU2VsZWN0QnlRdWVyeVByb2dyZXNzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkppbXVNYXBWaWV3U2VsZWN0UHJvZ3Jlc3NDaGFuZ2UpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudmlld0tleURvd25IYW5kbGUpIHtcclxuICAgICAgdGhpcy52aWV3S2V5RG93bkhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLnZpZXdLZXlEb3duSGFuZGxlID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnZpZXdLZXlVcEhhbmRsZSkge1xyXG4gICAgICB0aGlzLnZpZXdLZXlVcEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLnZpZXdLZXlVcEhhbmRsZSA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZUlzU2VsZWN0QWN0aXZlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzQWN0aXZlOiAhdGhpcy5zdGF0ZS5pc0FjdGl2ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNlbGVjdFR5cGVQb3B1cCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6ICF0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRUb29sQXNBY3RpdmVUb29sICgpOiB2b2lkIHtcclxuICAgIC8vIERvbid0IHVzZSBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgdG8gdXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLCB3ZSBzaG91bGQgdXNlIHByb3BzLl9vbkljb25DbGljaygpIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgLy8gQmVjYXVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIGNhbGwgdGhpcy5vblNob3dQYW5lbCgpIGluIGJhc2UtdG9vbC50c3gsIGJ1dCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgZG9lc24ndC5cclxuICAgIGlmICghdGhpcy5pc1NlbGVjdElzQWN0aXZlVG9vbCgpKSB7XHJcbiAgICAgIHRoaXMucHJvcHMuX29uSWNvbkNsaWNrKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZVRvb2xUb051bGwgKCk6IHZvaWQge1xyXG4gICAgLy8gRG9uJ3QgdXNlIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSB0byB1cGRhdGUgcHJvcHMuYWN0aXZlVG9vbEluZm8sIHdlIHNob3VsZCB1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAgICAvLyBCZWNhdXNlIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgY2FsbCB0aGlzLm9uU2hvd1BhbmVsKCkgaW4gYmFzZS10b29sLnRzeCwgYnV0IHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSBkb2Vzbid0LlxyXG4gICAgaWYgKHRoaXMuaXNTZWxlY3RJc0FjdGl2ZVRvb2woKSkge1xyXG4gICAgICB0aGlzLnByb3BzLl9vbkljb25DbGljaygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB0aGlzIG1ldGhvZCBpcyBvbmx5IHVzZWQgYnkgc2V0Q3VycmVudFRvb2xBc0FjdGl2ZVRvb2wgYW5kIHNldEFjdGl2ZVRvb2xUb051bGxcclxuICBpc1NlbGVjdElzQWN0aXZlVG9vbCAoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50b29sTmFtZSAmJiB0aGlzLnByb3BzLnRvb2xOYW1lID09PSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZVxyXG4gIH1cclxuXHJcbiAgb25DbGlja0xvYWRpbmdQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5hY3RpdmVKaW11TWFwVmlld1xyXG5cclxuICAgIGlmIChqaW11TWFwVmlldykge1xyXG4gICAgICBjb25zdCB1cGRhdGVTZWxlY3Rpb24gPSB0cnVlXHJcbiAgICAgIGppbXVNYXBWaWV3LmNhbmNlbFNlbGVjdEJ5UXVlcnkodXBkYXRlU2VsZWN0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xlYXJTZWxlY3QgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBEb24ndCB1c2UgdGhpcy5hY3RpdmVKaW11TWFwVmlldyBoZXJlIGJlY2F1c2UgdGhpcy5hY3RpdmVKaW11TWFwVmlldyBpcyBudWxsIGlmIHNlbGVjdCB0b29sIGlzIG5vdCBwcmVzc2VkLCBzZWUgIzE4MjAwIGZvciBtb3JlIGRldGFpbHMuXHJcbiAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuXHJcbiAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVTZWxlY3Rpb24gPSBmYWxzZVxyXG4gICAgICAgIGF3YWl0IGppbXVNYXBWaWV3LmNhbmNlbFNlbGVjdEJ5UXVlcnkodXBkYXRlU2VsZWN0aW9uKVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgamltdU1hcFZpZXcuY2FuY2VsU2VsZWN0QnlRdWVyeSgpIGVycm9yLCBqaW11TWFwVmlld0lkOiAke2ppbXVNYXBWaWV3LmlkfWAsIGUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGppbXVNYXBWaWV3LmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpXHJcbiAgICAgIH0sIDIwMClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNlbGVjdFRvb2xJY29uID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFBvaW50SWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0UmVjdGFuZ2xlSWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RMYXNzb0ljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdENpcmNsZUljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RMaW5lSWNvblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNlbGVjdEljb25UaXRsZSAoKSB7XHJcbiAgICBsZXQgdG9wVGl0bGU6IHN0cmluZyA9ICcnXHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdGlvbkJ5UG9pbnQnKVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICB0b3BUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnU2VsZWN0aW9uQnlSZWN0YW5nbGUnKVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeUxhc3NvJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdGlvbkJ5Q2lyY2xlJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeUxpbmUnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdExhYmVsJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ25ld1NlbGVjdGlvbicpXHJcbiAgICBjb25zdCBhZGRUb0N1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2FkZFRvQ3VycmVudFNlbGVjdGlvbicpXHJcbiAgICBjb25zdCByZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZm9ybWF0TWVzc2FnZSgncmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb24nKVxyXG4gICAgY29uc3Qgc2VsZWN0RnJvbUN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uJylcclxuICAgIGNvbnN0IGRyYXdTaGFwZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnZHJhd1NoYXBlJylcclxuICAgIGNvbnN0IGRyYXcgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2RyYXcnKVxyXG4gICAgY29uc3QgY3RybEtleSA9IHRoaXMuaXNNYWMgPyAnQ21kJyA6ICdDdHJsJ1xyXG5cclxuICAgIGNvbnN0IG5ld1NlbGVjdGlvblRpcCA9IGDiiJkgJHtuZXdTZWxlY3Rpb259ICgke2RyYXdTaGFwZX0pYFxyXG4gICAgY29uc3QgYWRkVG9DdXJyZW50U2VsZWN0aW9uVGlwID0gYOKImSAke2FkZFRvQ3VycmVudFNlbGVjdGlvbn0gKFNoaWZ0ICsgJHtkcmF3fSlgXHJcbiAgICBjb25zdCByZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvblRpcCA9IGDiiJkgJHtyZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvbn0gKCR7Y3RybEtleX0gKyAke2RyYXd9KWBcclxuICAgIGNvbnN0IHNlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uVGlwID0gYOKImSAke3NlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9ufSAoU2hpZnQgKyAke2N0cmxLZXl9ICsgJHtkcmF3fSlgXHJcblxyXG4gICAgY29uc3QgZmluYWxUaXRsZSA9XHJcbiAgICBgJHt0b3BUaXRsZX1cclxuJHtuZXdTZWxlY3Rpb25UaXB9XHJcbiR7YWRkVG9DdXJyZW50U2VsZWN0aW9uVGlwfVxyXG4ke3JlbW92ZUZyb21DdXJyZW50U2VsZWN0aW9uVGlwfVxyXG4ke3NlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uVGlwfVxyXG4gICAgYFxyXG5cclxuICAgIHJldHVybiBmaW5hbFRpdGxlXHJcbiAgfVxyXG5cclxuICBmb3JtYXRNZXNzYWdlIChzdHJJZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogc3RySWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbc3RySWRdIH0pXHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50U2VsZWN0VHlwZSA9IChjdXJyZW50U2VsZWN0VHlwZTogYW55KSA9PiB7XHJcbiAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdwb2ludCcpXHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9pbnQnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ3JlY3RhbmdsZScpXHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncmVjdGFuZ2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ3BvbHlnb24nKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlnb24nXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xyXG4gICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ2NpcmNsZScpXHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAnY2lyY2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCgncG9seWxpbmUnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlsaW5lJ1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogY3VycmVudFNlbGVjdFR5cGUsXHJcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXHJcbiAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25KaW11TWFwVmlld1NlbGVjdFByb2dyZXNzQ2hhbmdlID0gKHByb2dyZXNzKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgc2VsZWN0UHJvZ3Jlc3M6IHByb2dyZXNzXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXNlU2hpZnRLZXkgKHRvbGVhcm5hY2VNczogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VLZXkodGhpcy5sYXN0U2hpZnRLZXlFdmVudEluZm8sIHRvbGVhcm5hY2VNcylcclxuICB9XHJcblxyXG4gIHVzZUN0cmxLZXkgKHRvbGVhcm5hY2VNczogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VLZXkodGhpcy5sYXN0Q3RybEtleUV2ZW50SW5mbywgdG9sZWFybmFjZU1zKVxyXG4gIH1cclxuXHJcbiAgdXNlS2V5IChsYXN0S2V5RXZlbnRJbmZvOiBMYXN0S2V5RXZlbnRJbmZvLCB0b2xlYXJuYWNlTXM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKGxhc3RLZXlFdmVudEluZm8pIHtcclxuICAgICAgaWYgKGxhc3RLZXlFdmVudEluZm8uaXNLZXlEb3duKSB7XHJcbiAgICAgICAgLy8ga2V5IGlzIHN0aWxsIGRvd24gYW5kIG5vdCB1cCwgcmV0dXJuIHRydWVcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGtleSBpcyB1cCwgd2UgdXNlIHRvbGVhcm5hY2VNcyB0byBkZXRlcmluZSB0aGUgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gRGF0ZS5ub3coKSAtIGxhc3RLZXlFdmVudEluZm8uZXZlbnREYXRlLmdldFRpbWUoKVxyXG5cclxuICAgICAgICBpZiAoZGVsdGFUaW1lIDw9IHRvbGVhcm5hY2VNcykge1xyXG4gICAgICAgICAgLy8ga2V5dXAgdGltZSBpcyBub3QgdG9vIGxvbmcgZnJvbSBub3dcclxuICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGtleXVwIHRpbWUgaXMgdG9vIGxvbmcgZnJvbSBub3dzXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGtleSBuZXZlciBkb3duLCByZXR1cm4gZmFsc2VcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBiaW5kU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93biwgdHJ1ZSlcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVVwLCB0cnVlKVxyXG4gIH1cclxuXHJcbiAgcmVsZWFzZVNoaWZ0Q3RybEtleXNFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24sIHRydWUpXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlVcCwgdHJ1ZSlcclxuICB9XHJcblxyXG4gIG9uS2V5RG93biA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICB0aGlzLmxhc3RTaGlmdEtleUV2ZW50SW5mbyA9IHtcclxuICAgICAgICBldmVudERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgaXNLZXlEb3duOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoKHRoaXMuaXNNYWMgJiYgZXZlbnQua2V5ID09PSAnTWV0YScpIHx8ICghdGhpcy5pc01hYyAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykpIHtcclxuICAgICAgdGhpcy5sYXN0Q3RybEtleUV2ZW50SW5mbyA9IHtcclxuICAgICAgICBldmVudERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgaXNLZXlEb3duOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uS2V5VXAgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXkgPT09ICdTaGlmdCcpIHtcclxuICAgICAgdGhpcy5sYXN0U2hpZnRLZXlFdmVudEluZm8gPSB7XHJcbiAgICAgICAgZXZlbnREYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGlzS2V5RG93bjogZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICgodGhpcy5pc01hYyAmJiBldmVudC5rZXkgPT09ICdNZXRhJykgfHwgKCF0aGlzLmlzTWFjICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSkge1xyXG4gICAgICB0aGlzLmxhc3RDdHJsS2V5RXZlbnRJbmZvID0ge1xyXG4gICAgICAgIGV2ZW50RGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBpc0tleURvd246IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRpYWxTa2V0Y2hUb29sICgpIHtcclxuICAgIGlmICghdGhpcy5Ta2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICB0aGlzLnJlbGVhc2VWaWV3SGFuZGxlcygpXHJcblxyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldyA9IGppbXVNYXBWaWV3XHJcbiAgICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcuYWRkU2VsZWN0QnlRdWVyeVByb2dyZXNzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkppbXVNYXBWaWV3U2VsZWN0UHJvZ3Jlc3NDaGFuZ2UpXHJcblxyXG4gICAgICBjb25zdCB2aWV3ID0gamltdU1hcFZpZXcudmlld1xyXG5cclxuICAgICAgdGhpcy52aWV3S2V5RG93bkhhbmRsZSA9IHZpZXcub24oJ2tleS1kb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnZpZXdLZXlEb3duSGFuZGxlID0gdmlldy5vbigna2V5LXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG5ldyB0aGlzLlNrZXRjaFZpZXdNb2RlbCh7XHJcbiAgICAgICAgdmlldzogdmlldyxcclxuICAgICAgICBsYXllcjogbmV3IHRoaXMuR3JhcGhpY3NMYXllcigpLFxyXG4gICAgICAgIHBvaW50U3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9pbnRTeW1ib2wpIGFzIGFueSxcclxuICAgICAgICBwb2x5bGluZVN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlsaW5lU3ltYm9sKSBhcyBhbnksXHJcbiAgICAgICAgcG9seWdvblN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlnb25TeW1ib2wpIGFzIGFueVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwub24oJ2NyZWF0ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICAgICAgLy8ga2VlcCBjb250aW51b3VzIGRyYXdpbmcgZm9yIFNrZXRjaFZpZXdNb2RlbFxyXG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpXHJcblxyXG4gICAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcbiAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmNsb3NlUG9wdXAoKVxyXG5cclxuICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBldmVudC5ncmFwaGljXHJcblxyXG4gICAgICAgICAgLy8gZ3JhcGhpYy5nZW9tZXRyeSBpcyBudWxsIHdoZW4gZG91YmxlIGNsaWNrIG1hcFxyXG4gICAgICAgICAgaWYgKCFncmFwaGljLmdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdza2V0Y2ggZ3JhcGhpYy5nZW9tZXRyeSBpcyBudWxsJylcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgdXNlS2V5VG9sZXJhbmNlTXMgPSA1MDBcclxuICAgICAgICAgIGNvbnN0IGlzU2hpZnRLZXkgPSB0aGlzLnVzZVNoaWZ0S2V5KHVzZUtleVRvbGVyYW5jZU1zKVxyXG4gICAgICAgICAgY29uc3QgaXNDdHJsS2V5ID0gdGhpcy51c2VDdHJsS2V5KHVzZUtleVRvbGVyYW5jZU1zKVxyXG5cclxuICAgICAgICAgIGxldCBzZWxlY3Rpb25Nb2RlID0gRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUuTmV3XHJcblxyXG4gICAgICAgICAgaWYgKGlzU2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgaWYgKGlzQ3RybEtleSkge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5TZWxlY3RGcm9tQ3VycmVudFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5BZGRUb0N1cnJlbnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGlzQ3RybEtleSkge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5SZW1vdmVGcm9tQ3VycmVudFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5OZXdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGppbXVNYXBWaWV3LnNlbGVjdEZlYXR1cmVzQnlHcmFwaGljKGdyYXBoaWMsIHRoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCwgc2VsZWN0aW9uTW9kZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsIChhY3RpdmVUb29sOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICBjb25zdCBjcmVhdGVPcHRpb25zID0gdGhpcy5za2V0Q2hDcmVhdGVPcHRpb25zW2FjdGl2ZVRvb2xdXHJcblxyXG4gICAgICBpZiAoY3JlYXRlT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZShhY3RpdmVUb29sIGFzIGFueSwgY3JlYXRlT3B0aW9ucylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoYWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgICAvLyBzZWxlY3QgdG9vbCBnZXRzIGNvbnRyb2wgb2YgbWFwXHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYXBwQWN0aW9ucy5yZXF1ZXN0QXV0b0NvbnRyb2xNYXBXaWRnZXQodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgdGhpcy5pZClcclxuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Qb3BwZXJUb2dnbGUgPSAoZTogYW55KSA9PiB7XHJcbiAgICB0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cCgpXHJcblxyXG4gICAgaWYgKGUpIHtcclxuICAgICAgaWYgKGUudHlwZSA9PT0gJ2tleWRvd24nICYmIGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIHRoaXMuYnRuU2VsZWN0VHlwZUNvbnRhaW5lci5mb2N1cygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBzZWxlY3RUeXBlOiBzdHJpbmcpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoc2VsZWN0VHlwZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBzZWxlY3RJY29uVGl0bGUgPSB0aGlzLmdldFNlbGVjdEljb25UaXRsZSgpXHJcbiAgICBjb25zdCBjbGVhclNlbGVjdGlvblRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NsZWFyU2VsZWN0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGVhclNlbGVjdGlvbiB9KVxyXG4gICAgY29uc3QgaXNTZWxlY3RpbmcgPSB0aGlzLnN0YXRlLnNlbGVjdFByb2dyZXNzID4gMCAmJiB0aGlzLnN0YXRlLnNlbGVjdFByb2dyZXNzIDwgMVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtY29udGFpbmVyJyByZWY9e3JlZiA9PiB7IHRoaXMuYnRuQ29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnIHRpdGxlPXtzZWxlY3RJY29uVGl0bGV9PlxyXG4gICAgICAgICAgICAgIHshaXNTZWxlY3RpbmcgJiYgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVJc1NlbGVjdEFjdGl2ZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXNyaS13aWRnZXQtLWJ1dHRvbiAgYm9yZGVyLTAgc2VsZWN0LXRvb2wtYnRuIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgIHsgYWN0aXZlOiB0aGlzLnN0YXRlLmlzQWN0aXZlIH0pfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj59XHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RpbmcgJiYgPFNlbGVjdFByb2dyZXNzIHByb2dyZXNzPXt0aGlzLnN0YXRlLnNlbGVjdFByb2dyZXNzfSBpbnRsPXt0aGlzLnByb3BzLmludGx9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSBvbkNsaWNrPXt0aGlzLm9uQ2xpY2tMb2FkaW5nUHJvZ3Jlc3N9IC8+XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2VsZWN0VHlwZVBvcHVwfSBzdHlsZT17eyB3aWR0aDogMTggfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXNyaS13aWRnZXQtLWJ1dHRvbiBib3JkZXItMCBwbC0xIHByLTEgc2VsZWN0LXRvb2wtYnRuIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgIHsgYWN0aXZlOiB0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB9KX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XHJcbiAgICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuYnRuU2VsZWN0VHlwZUNvbnRhaW5lciA9IHJlZiB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXs4fSBoZWlnaHQ9ezh9IGljb249e0ljb25BcnJvd0Rvd259IC8+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgdGl0bGU9e2NsZWFyU2VsZWN0aW9uVGl0bGV9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlciBlc3JpLXdpZGdldC0tYnV0dG9uIGJvcmRlci0wJ1xyXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5zZWxlY3RSZXN1bHRDb250YWluZXIgPSByZWYgfX0gb25DbGljaz17dGhpcy5jbGVhclNlbGVjdH1cclxuICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDbGVhckljb259IC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8UG9wcGVyIGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfSByZWZlcmVuY2U9e3RoaXMuYnRuQ29udGFpbmVyfSBvcGVuPXt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cH0gcGxhY2VtZW50PSdib3R0b20tc3RhcnQnIHRvZ2dsZT17dGhpcy5vblBvcHBlclRvZ2dsZX0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3AtNCBjb250ZW50LWJnJyBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH19PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUnPlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2wnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2wgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC0yIG1iLTInPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IG1iLTInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUmVjdGFuZ2xlJykgfX0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdSZWN0YW5nbGUnKSB9fSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UmVjdGFuZ2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xSZWN0YW5nbGUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMiBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnTGFzc28nKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ0xhc3NvJykgfX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExhc3NvSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xMYXNzbyB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xMYXNzbyB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZSdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0NpcmNsZScpIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAnQ2lyY2xlJykgfX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdENpcmNsZUljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbENpcmNsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbENpcmNsZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMiBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMaW5lJykgfX0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdMaW5lJykgfX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExpbmVJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ1BvaW50JykgfX0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdQb2ludCcpIH19IHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RQb2ludEljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LXRpdGxlJz5cclxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Nb2RlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Nb2RlIH0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cclxuICAgICAgICAgICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2ludGVyc2VjdHMnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25XaXRoaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbldpdGhpbiB9KX1cclxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJhZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdjb250YWlucyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uQ29udGFpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uQ29udGFpbiB9KX1cclxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L1BvcHBlcj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICB7KCF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkgJiYgPGRpdiBjbGFzc05hbWU9J3NlbGVjdC10b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIFJlYWN0LCB0eXBlIEludGxTaGFwZSwgdHlwZSBJTVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBQcm9ncmVzcywgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgcHJvZ3Jlc3M6IG51bWJlclxyXG4gIGludGw6IEludGxTaGFwZVxyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcbiAgb25DbGljazogKCkgPT4gdm9pZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RQcm9ncmVzcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM+IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHM6IFByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSB7fVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgY29uc3QgcHJvZ3Jlc3NDb2xvciA9IHRoaXMucHJvcHMudGhlbWUuZGFya1RoZW1lID8gJ2JsYWNrJyA6ICd3aGl0ZSdcclxuXHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAuc2VsZWN0LWNpcmNsZS1wcm9ncmVzcyB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGxlZnQ6IDZweDtcclxuICAgICAgICB0b3A6IDZweDtcclxuXHJcbiAgICAgICAgLnByb2dyZXNzLWNpcmNsZS1iZyB7XHJcbiAgICAgICAgICBzdHJva2U6ICR7cHJvZ3Jlc3NDb2xvcn07XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucHJvZ3Jlc3MtY2lyY2xlLXByb2dyZXNzIHtcclxuICAgICAgICAgIHN0cm9rZTogJHtwcm9ncmVzc0NvbG9yfTtcclxuICAgICAgICAgIHRyYW5zaXRpb246IG5vbmUgIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5wcm9ncmVzcy1zdG9wIHtcclxuICAgICAgICB3aWR0aDogNnB4O1xyXG4gICAgICAgIGhlaWdodDogNnB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICR7cHJvZ3Jlc3NDb2xvcn07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5wcm9ncmVzcy1tYXNrIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICB9XHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSB0aGlzLnByb3BzLnByb2dyZXNzICogMTAwXHJcbiAgICBjb25zdCBwcm9ncmVzc0ludCA9IHBhcnNlRmxvYXQocHJvZ3Jlc3MudG9GaXhlZCgyKSlcclxuICAgIGNvbnN0IGRlZmF1bHRTdHIgPSBkZWZhdWx0TWVzc2FnZXMuc2VsZWN0aW5nRmVhdHVyZXNUaXBcclxuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5wcm9wcy5pbnRsPy5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzZWxlY3RpbmdGZWF0dXJlc1RpcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0U3RyIH0pIHx8IGRlZmF1bHRTdHJcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8YnV0dG9uIGNzcz17dGhpcy5nZXRTdHlsZSgpfVxyXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja31cclxuICAgICAgICBjbGFzc05hbWU9J2Vzcmktd2lkZ2V0LS1idXR0b24gIGJvcmRlci0wIHNlbGVjdC10b29sLWJ0biBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWN0aXZlIHNlbGVjdC1wcm9ncmVzcydcclxuICAgICAgPlxyXG4gICAgICAgIDxQcm9ncmVzcyBjbGFzc05hbWU9J3NlbGVjdC1jaXJjbGUtcHJvZ3Jlc3MnIGNvbG9yPSdsaWdodCcgdHlwZT0nY2lyY3VsYXInIHZhbHVlPXtwcm9ncmVzc0ludH0gY2lyY2xlU2l6ZT17MjB9IC8+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Byb2dyZXNzLXN0b3AnPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcm9ncmVzcy1tYXNrJyB0aXRsZT17dGl0bGV9PjwvZGl2PlxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQnV0dG9uLCBJY29uLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBTZWxlY3RlZE51bWJlciB9IGZyb20gJy4vc2VsZWN0ZWQtbnVtYmVyJ1xyXG5cclxuY29uc3QgU2VsZWN0Wm9vbXRvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3Qtem9vbXRvLnN2ZycpXHJcbmNvbnN0IFNlbGVjdENsZWFySWNvbiA9IHJlcXVpcmUoJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9jbGVhci1zZWxlY3Rpb24tZ2VuZXJhbC5zdmcnKVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlcyB7XHJcbiAgc2VsZWN0ZWRHcmFwaGljQ291bnQ6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RTdGF0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xyXG4gIHRvb2xOYW1lID0gJ1NlbGVjdFN0YXRlJ1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHNlbGVjdGVkR3JhcGhpY0NvdW50OiAwXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMucHJvcHMudGhlbWUuYXJjZ2lzLmNvbXBvbmVudHMuYnV0dG9uLnZhcmlhbnRzLmRlZmF1bHQuZGVmYXVsdC5iZ307XHJcblxyXG4gICAgICAuZGl2aWRlLWxpbmUge1xyXG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICR7dGhpcy5wcm9wcy50aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICcnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQgPSAoc2VsZWN0ZWRHcmFwaGljQ291bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHNlbGVjdGVkR3JhcGhpY0NvdW50XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgem9vbVRvU2VsZWN0ZWRGZWF0dXJlcyA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3XHJcblxyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgY29uc3QgZ3JhcGhpY3MgPSBhd2FpdCB0aGlzLmdldFNlbGVjdGVkR3JhcGhpY3MoKVxyXG5cclxuICAgICAgaWYgKGdyYXBoaWNzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2aWV3LmdvVG8oZ3JhcGhpY3MpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFNlbGVjdGVkR3JhcGhpY3MgKCkge1xyXG4gICAgbGV0IHNlbGVjdGVkR3JhcGhpY3MgPSBbXVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3KSB7XHJcbiAgICAgIHNlbGVjdGVkR3JhcGhpY3MgPSBhd2FpdCB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmdldFNlbGVjdGVkRmVhdHVyZXMoKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxlY3RlZEdyYXBoaWNzXHJcbiAgfVxyXG5cclxuICBjbGVhclNlbGVjdGVkRmVhdHVyZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuXHJcbiAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVTZWxlY3Rpb24gPSBmYWxzZVxyXG4gICAgICAgIGF3YWl0IGppbXVNYXBWaWV3LmNhbmNlbFNlbGVjdEJ5UXVlcnkodXBkYXRlU2VsZWN0aW9uKVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgamltdU1hcFZpZXcuY2FuY2VsU2VsZWN0QnlRdWVyeSgpIGVycm9yLCBqaW11TWFwVmlld0lkOiAke2ppbXVNYXBWaWV3LmlkfWAsIGUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGppbXVNYXBWaWV3LmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpXHJcbiAgICAgIH0sIDIwMClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICBjb25zdCBzZWxlY3RlZEZlYXR1cmVzVGlwID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMgfSlcclxuICAgIGNvbnN0IGNsZWFyU2VsZWN0aW9uVGl0bGUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2xlYXJTZWxlY3Rpb24nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNsZWFyU2VsZWN0aW9uIH0pXHJcbiAgICBjb25zdCB6b29tVG9TZWxlY3RlZEZlYXR1cmVzVGlwID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblpvb21Ub1NlbGVjdGVkRmVhdHVyZXMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblpvb21Ub1NlbGVjdGVkRmVhdHVyZXMgfSlcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3sgaGVpZ2h0OiAnNDBweCcgfX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWwtMic+XHJcbiAgICAgICAgICAgIHtgJHtzZWxlY3RlZEZlYXR1cmVzVGlwfTogJHt0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY0NvdW50fWB9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgdGl0bGU9e3pvb21Ub1NlbGVjdGVkRmVhdHVyZXNUaXB9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdoLTEwMCBib3JkZXIgYm9yZGVyLXRvcC0wIGJvcmRlci1ib3R0b20tMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt7IHdpZHRoOiAnNDBweCcsIGN1cnNvcjogJ3BvaW50ZXInIH19XHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy56b29tVG9TZWxlY3RlZEZlYXR1cmVzfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE4fSBoZWlnaHQ9ezE4fSBpY29uPXtTZWxlY3Rab29tdG9JY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0naC0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyJyBzdHlsZT17eyB3aWR0aDogJzQwcHgnLCBjdXJzb3I6ICdwb2ludGVyJyB9fVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3RlZEZlYXR1cmVzfVxyXG4gICAgICAgICAgICAgIHRpdGxlPXtjbGVhclNlbGVjdGlvblRpdGxlfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE4fSBoZWlnaHQ9ezE4fSBpY29uPXtTZWxlY3RDbGVhckljb259IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8U2VsZWN0ZWROdW1iZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQ9e3RoaXMuaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWR9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnpvb21Ub1NlbGVjdGVkRmVhdHVyZXN9IHRpdGxlPXt6b29tVG9TZWxlY3RlZEZlYXR1cmVzVGlwfT5cclxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3Rab29tdG9JY29ufSBjbGFzc05hbWU9J21yLTInIC8+XHJcbiAgICAgICAgICAgIHtgJHtzZWxlY3RlZEZlYXR1cmVzVGlwfTogJHt0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY0NvdW50fWB9XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDxTZWxlY3RlZE51bWJlciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gb25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZD17dGhpcy5oYW5kbGVTZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZH0gLz5cclxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBSZWFjdFJlZHV4LCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBKaW11TWFwVmlld0luZm8sIHR5cGUgSU1TdGF0ZSwgdHlwZSBEYXRhU291cmNlSW5mbyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuXHJcbiAgb25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZD86IChzZWxlY3RlZEdyYXBoaWNDb3VudDogbnVtYmVyKSA9PiB2b2lkXHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG5pbnRlcmZhY2UgU3RhdGVze31cclxuXHJcbmNsYXNzIF9TZWxlY3RlZE51bWJlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZXM+IHtcclxuICBjdXJyZW50SmltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KHRoaXMucHJvcHMuamltdU1hcFZpZXcpXHJcbiAgICB0aGlzLmNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljQ291bnQoKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFJlYWRvbmx5PFByb3BzICYgRXh0cmFQcm9wcz4pOiB2b2lkIHtcclxuICAgIGNvbnN0IHByZUppbXVNYXBWaWV3ID0gcHJldlByb3BzPy5qaW11TWFwVmlldyB8fCBudWxsXHJcbiAgICBjb25zdCBjdXJySmltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3IHx8IG51bGxcclxuXHJcbiAgICBpZiAocHJlSmltdU1hcFZpZXcgIT09IGN1cnJKaW11TWFwVmlldykge1xyXG4gICAgICAvLyBzd2l0Y2ggbWFwXHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KGN1cnJKaW11TWFwVmlldylcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljQ291bnQoKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zZXRDdXJyZW50SmltdU1hcFZpZXcobnVsbClcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50SmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcucmVtb3ZlSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZXNDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZXNDaGFuZ2UpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcgPSBqaW11TWFwVmlld1xyXG5cclxuICAgIGlmICh0aGlzLmN1cnJlbnRKaW11TWFwVmlldykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldy5hZGRKaW11TGF5ZXJWaWV3U2VsZWN0ZWRGZWF0dXJlc0NoYW5nZUxpc3RlbmVyKHRoaXMub25KaW11TGF5ZXJWaWV3U2VsZWN0ZWRGZWF0dXJlc0NoYW5nZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZXNDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAvLyBUeXBpY2FsbHksIHRoaXMgY2FsbGJhY2sgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHdlIGhpZ2hsaWdodCBhIGZlYXR1cmUgYnkgcG9wdXAgY2xpY2ssIGJ1dCB0aGUgZGF0YSBzb3VyY2UgaXMgbm90IHVzZWQgYW5kIG5vdCBjcmVhdGVkLlxyXG4gICAgdGhpcy5jb21wdXRlclNlbGVjdGVkR3JhcGhpY0NvdW50KClcclxuICB9XHJcblxyXG4gIGNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljQ291bnQgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZCkge1xyXG4gICAgICBjb25zdCBzZWxlY3RlZEdyYXBoaWNDb3VudCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcuZ2V0U2VsZWN0ZWRGZWF0dXJlQ291bnQoKVxyXG4gICAgICB0aGlzLnByb3BzLm9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQoc2VsZWN0ZWRHcmFwaGljQ291bnQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IFByb3BzKTogRXh0cmFQcm9wcyA9PiB7XHJcbiAgaWYgKHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyKSB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlc0luZm8gPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlciAmJiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5kYXRhU291cmNlc0luZm9cclxuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlciAmJiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5qaW11TWFwVmlld3NJbmZvXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhU291cmNlc0luZm86IGRhdGFTb3VyY2VzSW5mbyxcclxuICAgICAgdmlld0luZm9zOiBqaW11TWFwVmlld3NJbmZvXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VzSW5mbyA9IHN0YXRlICYmIHN0YXRlLmRhdGFTb3VyY2VzSW5mb1xyXG4gICAgY29uc3QgamltdU1hcFZpZXdzSW5mbyA9IHN0YXRlICYmIHN0YXRlLmppbXVNYXBWaWV3c0luZm9cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGFTb3VyY2VzSW5mbzogZGF0YVNvdXJjZXNJbmZvLFxyXG4gICAgICB2aWV3SW5mb3M6IGppbXVNYXBWaWV3c0luZm9cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBFeHRyYVByb3BzIHtcclxuICBkYXRhU291cmNlc0luZm8/OiBJbW11dGFibGVPYmplY3Q8eyBbZHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZUluZm8gfT5cclxuICB2aWV3SW5mb3M/OiBJbW11dGFibGVPYmplY3Q8eyBbamltdU1hcFZpZXdJZDogc3RyaW5nXTogSmltdU1hcFZpZXdJbmZvIH0+XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTZWxlY3RlZE51bWJlciA9IFJlYWN0UmVkdXguY29ubmVjdDxFeHRyYVByb3BzLCB1bmtub3duLCBQcm9wcz4obWFwU3RhdGVUb1Byb3BzKShfU2VsZWN0ZWROdW1iZXIpXHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBab29tIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ1pvb20nXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnWm9vbUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5ab29tTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxab29tSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgWm9vbUlubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgWm9vbUlubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBab29tSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFpvb21Jbm5lclByb3BzLCBab29tSW5uZXJTdGF0ZT4ge1xyXG4gIFpvb206IHR5cGVvZiBfX2VzcmkuWm9vbSA9IG51bGxcclxuICBab29tQnRuOiBfX2VzcmkuWm9vbVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvWm9vbSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLlpvb21dID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuWm9vbUJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuWm9vbUJ0biA9IG5ldyB0aGlzLlpvb20oe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdab29tJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ1pvb20nLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLlpvb21CdG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLlpvb21CdG4pIHtcclxuICAgICAgdGhpcy5ab29tQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLlpvb21CdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1pvb20nKVxyXG4gICAgICAvKipcclxuICAgICAgICogVE9ET1xyXG4gICAgICAgKiBXaGVuIHRoZSBtYXAgd2lkZ2V0IGhhcyB0d28gbWFwcywgdGhlIFwiY29tcG9uZW50V2lsbFVubW91bnRcIiBpcyBjYWxsZWQgb25seSBmb3IgdGhlIGN1cnJlbnQgYWN0aXZlIHZpZXcsXHJcbiAgICAgICAqIHNvIHRoZSBhbm90aGVyIHZpZXcncyBtYXBUb29sIGlzIG5vdCBjbGVhcmVkLlxyXG4gICAgICAgKi9cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3pvb20tbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gIF93aWRnZXRMYWJlbDogJ1Vuc2Nyb2xsYWJsZSBtYXAnLFxyXG4gIF9hY3Rpb25fZGlzcGxheUZlYXR1cmVTZXRfbGFiZWw6ICdEaXNwbGF5IGZlYXR1cmUgc2V0JyxcclxuICBfYWN0aW9uX3BhblRvX2xhYmVsOiAnUGFuIHRvJyxcclxuICBfYWN0aW9uX3pvb21Ub0ZlYXR1cmVfbGFiZWw6ICdab29tIHRvJyxcclxuICBfYWN0aW9uX3NlbGVjdEZlYXR1cmVfbGFiZWw6ICdTZWxlY3QgZmVhdHVyZScsXHJcbiAgX2FjdGlvbl9mbGFzaF9sYWJlbDogJ0ZsYXNoJyxcclxuICBfYWN0aW9uX2ZpbHRlcl9sYWJlbDogJ0ZpbHRlcicsXHJcbiAgX2FjdGlvbl9zaG93T25NYXBfbGFiZWw6ICdTaG93IG9uIG1hcCcsXHJcbiAgX2FjdGlvbl9hZGRUb01hcF9sYWJlbDogJ0FkZCB0byBtYXAnLFxyXG4gIHNob3dPbk1hcERhdGE6ICdTaG93IG9uIG1hcCBkYXRhJyxcclxuICBhZGRlZERhdGE6ICdhZGRlZCBkYXRhJyxcclxuICBmYWlsVG9BZGRUaGVEYXRhT25NYXA6ICdGYWlsIHRvIGFkZCB0aGUgZGF0YS4nLFxyXG4gIGFkZFRvTWFwRGF0YTogJ0FkZCB0byBtYXAgZGF0YScsXHJcbiAgbWFwQ3VycmVudFJlY29yZDogJ3tsYXllck5hbWV9IG1hcCBjdXJyZW50IHJlY29yZCcsXHJcbiAgX3VybF9wYXJhbXNfdmlld3BvaW50X2xhYmVsOiAnVmlld3BvaW50JyxcclxuICBfdXJsX3BhcmFtc192aWV3cG9pbnRfdG9vbHRpcDogXCJWaWV3cG9pbnQgZGVzY3JpYmVzIHRoZSBwb2ludCBvZiB2aWV3IGZvciBhIHdlYiBtYXAgb3Igd2ViIHNjZW5lLlwiLFxyXG4gIF91cmxfcGFyYW1zX2NlbnRlcl9sYWJlbDogJ0NlbnRlcicsXHJcbiAgX3VybF9wYXJhbXNfc2NhbGVfbGFiZWw6ICdTY2FsZScsXHJcbiAgX3VybF9wYXJhbXNfcm90YXRpb25fbGFiZWw6ICdSb3RhdGlvbicsXHJcbiAgX3VybF9wYXJhbXNfbGF5ZXJfdmlzaWJpbGl0eV9sYWJlbDogJ0xheWVyIHZpc2liaWxpdHknXHJcbn1cclxuIiwiLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXHJcbmltcG9ydCB7XHJcbiAgQXBwTW9kZSwgZGF0YVNvdXJjZVV0aWxzLCBEYXRhU291cmNlTWFuYWdlciwgdHlwZSBKU0FQSUxheWVyTWl4aW4sIGdlb21ldHJ5VXRpbHMsXHJcbiAgZ2V0QXBwU3RvcmUsIHR5cGUgTWVzc2FnZXNKc29uLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgTWVzc2FnZVR5cGUsIFVybE1hbmFnZXJcclxufSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSGlnaExpZ2h0SGFuZGxlLCB0eXBlIE1hcGJhc2VSZXN0b3JlRGF0YSwgdHlwZSBNYXBiYXNlVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9tYXBiYXNlJ1xyXG5pbXBvcnQgdHlwZSBNYXBCYXNlIGZyb20gJy4vY29tcG9uZW50cy9tYXBiYXNlJ1xyXG5pbXBvcnQgeyB0eXBlIElGZWF0dXJlIH0gZnJvbSAnQGVzcmkvYXJjZ2lzLXJlc3QtdHlwZXMnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcsIExheWVyVHlwZXMsIHR5cGUgSmltdUZlYXR1cmVMYXllclZpZXcsIHR5cGUgSmltdVNjZW5lTGF5ZXJWaWV3LCB0eXBlIEppbXVMYXllclZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZT86IHsgW2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0IH0pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IG5ld0xheWVyUHJvbWlzZXMgPSBbXVxyXG4gIG5ld0ZlYXR1cmVTZXRWYWx1ZSAmJiBPYmplY3Qua2V5cyhuZXdGZWF0dXJlU2V0VmFsdWUpLmZvckVhY2gobGF5ZXJJZCA9PiB7XHJcbiAgICBjb25zdCBsYXllciA9IG1hcEJhc2VWaWV3Lm1hcC5sYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZClcclxuICAgIGlmIChsYXllcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ3RoZSBmZWF0dXJlIGxheWVyIGlzIGFscmVhZHkgY3JlYXRlZCcpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbmV3TGF5ZXJQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgbmV3RmVhdHVyZVNldFZhbHVlW2xheWVySWRdLCBsYXllcklkKSlcclxuICB9KVxyXG5cclxuICBpZiAobmV3TGF5ZXJQcm9taXNlcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChuZXdMYXllclByb21pc2VzKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVsYXllciAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZT86IHsgW2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0IH0pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHVwZGF0ZVByb21pc2VzID0gW11cclxuICBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlICYmIE9iamVjdC5rZXlzKGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUpLmZvckVhY2gobGF5ZXJJZCA9PiB7XHJcbiAgICBjb25zdCBsYXllciA9IG1hcEJhc2VWaWV3Lm1hcC5sYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZClcclxuICAgIGlmIChsYXllcikge1xyXG4gICAgICBtYXBCYXNlVmlldy5tYXAucmVtb3ZlKGxheWVyKVxyXG4gICAgICB1cGRhdGVQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgaWYgKHVwZGF0ZVByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHVwZGF0ZVByb21pc2VzKVxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkRmVhdHVyZVNldFRvTWFwIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBmZWF0dXJlU2V0OiBfX2VzcmkuRmVhdHVyZVNldCwgbGF5ZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJ1xyXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgaWYgKGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgIHJlc29sdmUobnVsbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBsZXQgRmVhdHVyZVNldDogdHlwZW9mICBfX2VzcmkuRmVhdHVyZVNldDtcclxuICAgICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICBbRmVhdHVyZUxheWVyXSA9IG1vZHVsZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGxheWVyRnJvbUZlYXR1cmVTZXQgPSBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmxheWVyIGFzIGFueVxyXG4gICAgICAgIGNvbnN0IGZpZWxkc0luRmVhdHVyZWxheWVyID0gW11cclxuICAgICAgICBjb25zdCBmaWVsZE1hcCA9IHt9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSBnZXRSZWFzb25hYmxlRmllbGQobGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0pXHJcbiAgICAgICAgICBmaWVsZE1hcFtsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkc1tpXS5uYW1lXSA9IGZpZWxkc0l0ZW0ubmFtZVxyXG4gICAgICAgICAgZmllbGRzSW5GZWF0dXJlbGF5ZXIucHVzaChmaWVsZHNJdGVtKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmllbGRzSW5Qb3B1cFRlbXBsYXRlID0gW11cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgIGlmIChmaWVsZE1hcFtrZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgZmllbGROYW1lOiBmaWVsZE1hcFtrZXldLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiBrZXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaWVsZHNJblBvcHVwVGVtcGxhdGUucHVzaChmaWVsZHNJdGVtKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc291cmNlRmVhdHVyZXMgPSBbXVxyXG4gICAgICAgIGZlYXR1cmVTZXQuZmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gZmVhdHVyZVxyXG4gICAgICAgICAgaWYgKHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgIHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXNbZmllbGRNYXBba2V5XV0gPSB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzW2tleV1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcy5leGJmaWQgPSBpbmRleFxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IHtcclxuICAgICAgICAgICAgICBleGJmaWQ6IGluZGV4XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNvdXJjZUZlYXR1cmVzLnB1c2godGVtcEZlYXR1cmUpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHtcclxuICAgICAgICAgIGlkOiBsYXllcklkLFxyXG4gICAgICAgICAgdGl0bGU6IGxheWVyRnJvbUZlYXR1cmVTZXQudGl0bGUsXHJcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZUZlYXR1cmVzLFxyXG4gICAgICAgICAgZmllbGRzOiBmaWVsZHNJbkZlYXR1cmVsYXllcixcclxuICAgICAgICAgIG91dEZpZWxkczogWycqJ10sXHJcbiAgICAgICAgICBvYmplY3RJZEZpZWxkOiAnZXhiZmlkJyxcclxuICAgICAgICAgIHJlbmRlcmVyOiBsYXllckZyb21GZWF0dXJlU2V0LnJlbmRlcmVyLFxyXG4gICAgICAgICAgcG9wdXBFbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgcG9wdXBUZW1wbGF0ZToge1xyXG4gICAgICAgICAgICB0aXRsZTogJ2luZm9ybWF0aW9uJyxcclxuICAgICAgICAgICAgY29udGVudDogW3tcclxuICAgICAgICAgICAgICB0eXBlOiAnZmllbGRzJyxcclxuICAgICAgICAgICAgICBmaWVsZEluZm9zOiBmaWVsZHNJblBvcHVwVGVtcGxhdGVcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBtYXBCYXNlVmlldy5tYXAuYWRkKGxheWVyKVxyXG5cclxuICAgICAgICBsYXllci5vbignbGF5ZXJ2aWV3LWNyZWF0ZScsIGV2ZW50ID0+IHtcclxuICAgICAgICAgIHJlc29sdmUobnVsbClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlYXNvbmFibGVGaWVsZCAoZmllbGQ6IF9fZXNyaS5GaWVsZCk6IF9fZXNyaS5GaWVsZCB7XHJcbiAgLy8gdGhlIGZ1bmN0aW9uIGlzIHN1cHBvcnRlZCB0byBub3JtYWxpemUgdGhlIGZpZWxkLm5hbWVcclxuICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZC5uYW1lXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6IGZpZWxkTmFtZS5yZXBsYWNlKC9cXC4vZywgJ18nKS5yZXBsYWNlKC9cXCgvZywgJ18nKS5yZXBsYWNlKC9cXCkvZywgJ18nKSxcclxuICAgIGFsaWFzOiBmaWVsZC5hbGlhcyxcclxuICAgIHR5cGU6IGZpZWxkLnR5cGVcclxuICB9IGFzIGFueVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RmVhdHVyZSAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgdGFyZ2V0OiBfX2VzcmkuR3JhcGhpYyB8IF9fZXNyaS5HcmFwaGljW10gfCBJRmVhdHVyZSB8IElGZWF0dXJlW10sIGxheWVySWQ/OiBzdHJpbmcpOiBIaWdoTGlnaHRIYW5kbGUge1xyXG4gIC8vIEluIHRoaXMgZnVuY3Rpb24sIHdlIGFzc3VtZSB0aGF0IGZlYXR1cmVzIGNvbWUgZnJvbSB0aGUgc2FtZSBsYXllclxyXG4gIGxldCBmZWF0dXJlTGF5ZXJJZCA9IGxheWVySWRcclxuICBsZXQgZmVhdHVyZUxheWVyVmlldyA9IG51bGxcclxuICBsZXQgdGVtcEZlYXR1cmUgPSBudWxsXHJcblxyXG4gIC8vIGlmIGxheWVySWQgZG9lc24ndCBleGlzdCwgd2UgZ2V0IGxheWVySWQgYnkgZmVhdHVyZVxyXG4gIGlmICghZmVhdHVyZUxheWVySWQpIHtcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICB0ZW1wRmVhdHVyZSA9IHRhcmdldFswXSBhcyBfX2VzcmkuR3JhcGhpY1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVtcEZlYXR1cmUgPSB0YXJnZXQgYXMgX19lc3JpLkdyYXBoaWNcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVtcEZlYXR1cmUpIHtcclxuICAgICAgZmVhdHVyZUxheWVySWQgPSB0ZW1wRmVhdHVyZS5sYXllciAmJiB0ZW1wRmVhdHVyZS5sYXllci5pZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGZlYXR1cmVMYXllcklkKSB7XHJcbiAgICBjb25zdCBsYXllclZpZXdzID0gbWFwQmFzZVZpZXcuYWxsTGF5ZXJWaWV3c1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllclZpZXdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChsYXllclZpZXdzLmdldEl0ZW1BdChpKS5sYXllci5pZCA9PT0gZmVhdHVyZUxheWVySWQpIHtcclxuICAgICAgICBmZWF0dXJlTGF5ZXJWaWV3ID0gbGF5ZXJWaWV3cy5nZXRJdGVtQXQoaSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5ZXJJZDogZmVhdHVyZUxheWVySWQsXHJcbiAgICAgICAgaGFuZGxlOiBmZWF0dXJlTGF5ZXJWaWV3LmhpZ2hsaWdodCh0YXJnZXQpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ29Ub1RhcmdldEltbWVkaWF0ZWx5ICh2aWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIF90YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHZpZXdTUiA9IHZpZXcuc3BhdGlhbFJlZmVyZW5jZVxyXG4gIGNvbnN0IGdlb21ldHJpZXMgPSBhd2FpdCBwcm9qZWN0R2VvbWV0cmllcyhbX3RhcmdldF0sIHZpZXdTUilcclxuXHJcbiAgaWYgKGdlb21ldHJpZXMgJiYgZ2VvbWV0cmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBnZW9tZXRyaWVzWzBdXHJcbiAgICB2aWV3LmdvVG8odGFyZ2V0LCB7IGFuaW1hdGU6IGZhbHNlIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ29Ub1ZpZXdwb2ludEltbWVkaWF0ZWx5ICh2aWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIF92aWV3cG9pbnQ6IF9fZXNyaS5WaWV3cG9pbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB2aWV3U1IgPSB2aWV3LnNwYXRpYWxSZWZlcmVuY2VcclxuICBjb25zdCB2aWV3cG9pbnQgPSBhd2FpdCBwcm9qZWN0Vmlld3BvaW50KF92aWV3cG9pbnQsIHZpZXdTUilcclxuICAvLyB2aWV3LmdvVG8odmlld3BvaW50LCB7IGFuaW1hdGU6IGZhbHNlIH0pXHJcbiAgdmlldy52aWV3cG9pbnQgPSB2aWV3cG9pbnRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmVlZFByb2plY3RWaWV3cG9pbnQgKHZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludCwgdmlld1NSOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHNyMSA9IHZpZXdwb2ludC50YXJnZXRHZW9tZXRyeT8uc3BhdGlhbFJlZmVyZW5jZVxyXG5cclxuICBpZiAoc3IxICYmIGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKHNyMSwgdmlld1NSKSkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIGNvbnN0IHNyMiA9IHZpZXdwb2ludC5jYW1lcmE/LnBvc2l0aW9uPy5zcGF0aWFsUmVmZXJlbmNlXHJcblxyXG4gIGlmIChzcjIgJiYgaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2Uoc3IyLCB2aWV3U1IpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZSAoc3IxOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSwgc3IyOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGlzU2FtZSA9IHNyMS53a2lkID09PSBzcjIud2tpZCB8fCBzcjEuZXF1YWxzKHNyMilcclxuICAvLyAgSW4gSlMgQVBJIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXHJcbiAgY29uc3QgaXNMaWtlID0gKHNyMS5pc1dlYk1lcmNhdG9yIHx8IHNyMS5pc1dHUzg0KSAmJiAoc3IyLmlzV2ViTWVyY2F0b3IgfHwgc3IyLmlzV0dTODQpXHJcbiAgcmV0dXJuICFpc1NhbWUgJiYgIWlzTGlrZVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvamVjdFZpZXdwb2ludCAoX3ZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludCwgdmlld1NSOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IFByb21pc2U8X19lc3JpLlZpZXdwb2ludD4ge1xyXG4gIGNvbnN0IHZpZXdwb2ludCA9IF92aWV3cG9pbnQuY2xvbmUoKVxyXG4gIGNvbnN0IHRhcmdldEdlb21ldHJ5ID0gdmlld3BvaW50LnRhcmdldEdlb21ldHJ5XHJcbiAgY29uc3QgY2FtZXJhUG9zaXRvbiA9IHZpZXdwb2ludC5jYW1lcmE/LnBvc2l0aW9uXHJcblxyXG4gIGNvbnN0IHRvUHJvamVjdEdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdID0gW11cclxuICBsZXQgaXNQcm9qZWN0VGFyZ2V0R2VvbWV0cnk6IGJvb2xlYW4gPSBmYWxzZVxyXG4gIGxldCBpc1Byb2plY3RDYW1lcmFQb3NpdGlvbjogYm9vbGVhbiA9IGZhbHNlXHJcblxyXG4gIGlmICh0YXJnZXRHZW9tZXRyeSAmJiBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZSh0YXJnZXRHZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlLCB2aWV3U1IpKSB7XHJcbiAgICBpc1Byb2plY3RUYXJnZXRHZW9tZXRyeSA9IHRydWVcclxuICAgIHRvUHJvamVjdEdlb21ldHJpZXMucHVzaCh0YXJnZXRHZW9tZXRyeSlcclxuICB9XHJcblxyXG4gIGlmIChjYW1lcmFQb3NpdG9uICYmIGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKGNhbWVyYVBvc2l0b24uc3BhdGlhbFJlZmVyZW5jZSwgdmlld1NSKSkge1xyXG4gICAgaXNQcm9qZWN0Q2FtZXJhUG9zaXRpb24gPSB0cnVlXHJcbiAgICB0b1Byb2plY3RHZW9tZXRyaWVzLnB1c2goY2FtZXJhUG9zaXRvbilcclxuICB9XHJcblxyXG4gIGlmICh0b1Byb2plY3RHZW9tZXRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHByb2plY3RlZEdlb21ldHJpZXMgPSBhd2FpdCBwcm9qZWN0R2VvbWV0cmllcyh0b1Byb2plY3RHZW9tZXRyaWVzLCB2aWV3U1IpXHJcblxyXG4gICAgaWYgKGlzUHJvamVjdFRhcmdldEdlb21ldHJ5KSB7XHJcbiAgICAgIHZpZXdwb2ludC50YXJnZXRHZW9tZXRyeSA9IHByb2plY3RlZEdlb21ldHJpZXNbMF1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNQcm9qZWN0Q2FtZXJhUG9zaXRpb24pIHtcclxuICAgICAgdmlld3BvaW50LmNhbWVyYS5wb3NpdGlvbiA9IHByb2plY3RlZEdlb21ldHJpZXNbcHJvamVjdGVkR2VvbWV0cmllcy5sZW5ndGggLSAxXSBhcyBfX2VzcmkuUG9pbnRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB2aWV3cG9pbnRcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcFBhbnRvIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSB8IF9fZXNyaS5HZW9tZXRyeVtdIHxcclxuX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgX19lc3JpLkV4dGVudCk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgcGFuVG9UYXJnZXQgPSB0YXJnZXQgYXMgYW55XHJcbiAgY29uc3QgdGVtcEJhc2VNYXBWaWV3ID0gbWFwQmFzZVZpZXcgYXMgYW55XHJcbiAgaWYgKHBhblRvVGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgIGlmIChwYW5Ub1RhcmdldC5sZW5ndGggPT09IDApIHsgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7IHJldHVybiB9XHJcblxyXG4gICAgaWYgKHBhblRvVGFyZ2V0WzBdLmdlb21ldHJ5KSB7XHJcbiAgICAgIGNvbnN0IGdlb21ldHJ5QXJyOiBfX2VzcmkuR2VvbWV0cnlbXSA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuVG9UYXJnZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBnZW9tZXRyeUFyci5wdXNoKHBhblRvVGFyZ2V0W2ldLmdlb21ldHJ5KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCBnZXRHZW9tZXRyaWVzRXh0ZW50KGdlb21ldHJ5QXJyKS50aGVuKChleHRlbnQpID0+IHtcclxuICAgICAgICByZXR1cm4gZ29Ubyh0ZW1wQmFzZU1hcFZpZXcsIGV4dGVudC5jZW50ZXIpXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZ2V0R2VvbWV0cmllc0V4dGVudChwYW5Ub1RhcmdldCkudGhlbigoZXh0ZW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGdvVG8odGVtcEJhc2VNYXBWaWV3LCBleHRlbnQuY2VudGVyKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAocGFuVG9UYXJnZXQuZ2VvbWV0cnkpIHtcclxuICAgICAgY29uc3QgZ2V0bWV0cnkgPSBwYW5Ub1RhcmdldC5nZW9tZXRyeSBhcyBfX2VzcmkuR2VvbWV0cnlcclxuICAgICAgcmV0dXJuIGdvVG8odGVtcEJhc2VNYXBWaWV3LCBnZXRDZW50ZXJQb2ludChnZXRtZXRyeSkpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZ29Ubyh0ZW1wQmFzZU1hcFZpZXcsIGdldENlbnRlclBvaW50KHBhblRvVGFyZ2V0KSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdvVG8gKHZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgdGFyZ2V0OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgLy8gZGVsYXkgYmVmb3JlIHVwZGF0aW5nIG9mIHZpZXcgdHVybnMgdHJ1ZSwgNDAwbXMgaXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24uXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgLy8vLyB0aGVyZSBpcyBhIGNvbmZsaWN0IGZvciBwYW5pbmcgd2hlbiB0aGUgbGF5ZXIgdmlldyBpcyB1cGRhdGluZywgc3VjaCBhcyAncGFuIHRvJyBhbmQgJ2ZpbHRlcicuXHJcbiAgICAgIC8vLy8gdGhpcyBpcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiwgaXQgY2FuIHJlZHVjZSB0aGUgZnJlcXVlbmN5IG9mIHRoZSBwcm9ibGVtIHJhdGhlciB0aGFuIHNvbHZlIGl0IGNvbXBsZXRlbHkuXHJcbiAgICAgIC8vaWYgKHZpZXcudXBkYXRpbmcpIHtcclxuICAgICAgLy8gIGNvbnN0IGhhbmRsZXIgPSB2aWV3LndhdGNoKCd1cGRhdGluZycsIHZhbHVlID0+IHtcclxuICAgICAgLy8gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAvLyAgICAgIHZpZXcuZ29Ubyh0YXJnZXQpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKS5jYXRjaCgoKSA9PiByZWplY3QoKSlcclxuICAgICAgLy8gICAgICBoYW5kbGVyLnJlbW92ZSgpXHJcbiAgICAgIC8vICAgIH1cclxuICAgICAgLy8gIH0pXHJcbiAgICAgIC8vfSBlbHNlIHtcclxuICAgICAgLy8gIHZpZXcuZ29Ubyh0YXJnZXQpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKS5jYXRjaCgoKSA9PiByZWplY3QoKSlcclxuICAgICAgLy99XHJcbiAgICAgIHZpZXcuZ29Ubyh0YXJnZXQpLnRoZW4oKCkgPT4geyByZXNvbHZlKCkgfSkuY2F0Y2goKCkgPT4geyByZWplY3QoKSB9KVxyXG4gICAgfSwgNDAwKVxyXG4gIH0pXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEdlb21ldHJpZXNFeHRlbnQgKGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdKTogUHJvbWlzZTxfX2VzcmkuRXh0ZW50PiB7XHJcbiAgcmV0dXJuIGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgJ2VzcmkvZ2VvbWV0cnkvRXh0ZW50J1xyXG4gIF0pLnRoZW4oYXN5bmMgbW9kdWxlcyA9PiB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIGxldCBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuRXh0ZW50O1xyXG4gICAgW0V4dGVudF0gPSBtb2R1bGVzXHJcblxyXG4gICAgaWYgKCFnZW9tZXRyaWVzIHx8ICFnZW9tZXRyaWVzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKG51bGwpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZ1bGxFeHRlbnQ6IF9fZXNyaS5FeHRlbnQgPSBudWxsXHJcbiAgICBsZXQgaW5kZXhcclxuICAgIGNvbnN0IG51bUdlb21ldHJpZXMgPSBnZW9tZXRyaWVzLmxlbmd0aFxyXG5cclxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IG51bUdlb21ldHJpZXM7IGluZGV4KyspIHtcclxuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2luZGV4XVxyXG4gICAgICBpZiAoIWdlb21ldHJ5KSB7XHJcbiAgICAgICAgY29udGludWVcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGV4dGVudCA9IGdlb21ldHJ5LmV4dGVudFxyXG5cclxuICAgICAgaWYgKCFleHRlbnQgJiYgZ2VvbWV0cnkudHlwZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICAgIGNvbnN0IHBvaW50R2VvbWV0cnkgPSBnZW9tZXRyeSBhcyBhbnlcclxuXHJcbiAgICAgICAgaWYgKHBvaW50R2VvbWV0cnkueCAmJiBwb2ludEdlb21ldHJ5LnkpIHtcclxuICAgICAgICAgIGV4dGVudCA9IG5ldyBFeHRlbnQoe1xyXG4gICAgICAgICAgICB4bWF4OiBwb2ludEdlb21ldHJ5LngsXHJcbiAgICAgICAgICAgIHhtaW46IHBvaW50R2VvbWV0cnkueCxcclxuICAgICAgICAgICAgeW1heDogcG9pbnRHZW9tZXRyeS55LFxyXG4gICAgICAgICAgICB5bWluOiBwb2ludEdlb21ldHJ5LnksXHJcbiAgICAgICAgICAgIHptYXg6IHBvaW50R2VvbWV0cnkueixcclxuICAgICAgICAgICAgem1pbjogcG9pbnRHZW9tZXRyeS56LFxyXG4gICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBwb2ludEdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWV4dGVudCkge1xyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmdWxsRXh0ZW50KSB7XHJcbiAgICAgICAgZnVsbEV4dGVudCA9IGZ1bGxFeHRlbnQudW5pb24oZXh0ZW50KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZ1bGxFeHRlbnQgPSBleHRlbnRcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmdWxsRXh0ZW50LndpZHRoIDwgMCAmJiBmdWxsRXh0ZW50LmhlaWdodCA8IDApIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZnVsbEV4dGVudClcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGFjdGlvbkxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHF1ZXJ5U1FMOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBpZiAoIWFjdGlvbkxheWVyRGF0YVNvdXJjZUlkKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UoYWN0aW9uTGF5ZXJEYXRhU291cmNlSWQpXHJcblxyXG4gIGlmICghZGF0YVNvdXJjZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBsZXQgamltdUxheWVyVmlldzogSmltdUxheWVyVmlldyA9IG51bGxcclxuXHJcbiAgdHJ5IHtcclxuICAgIGppbXVMYXllclZpZXcgPSBhd2FpdCBqaW11TWFwVmlldy53aGVuSmltdUxheWVyVmlld0xvYWRlZEJ5RGF0YVNvdXJjZShkYXRhU291cmNlKVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgamltdUxheWVyVmlldyA9IG51bGxcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2NhblxcJ3QgZ2V0IGppbXVMYXllclZpZXcgYnkgZGF0YVNvdXJjZScsIGRhdGFTb3VyY2UsIGVycilcclxuICB9XHJcblxyXG4gIGlmIChqaW11TGF5ZXJWaWV3ICYmIGppbXVMYXllclZpZXcubGF5ZXIgJiYgKGppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIgfHwgamltdUxheWVyVmlldy50eXBlID09PSBMYXllclR5cGVzLlNjZW5lTGF5ZXIpKSB7XHJcbiAgICAoamltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykuc2V0RGVmaW5pdGlvbkV4cHJlc3Npb24ocXVlcnlTUUwpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBxdWVyeUZlYXR1cmVzIChsYXllck9iamVjdCwgcXVlcnlTUUw6IHN0cmluZywgb3V0RmllbGRzOiBzdHJpbmdbXSkge1xyXG4gIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeSdcclxuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgbGV0IFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5O1xyXG4gICAgW1F1ZXJ5XSA9IG1vZHVsZXNcclxuICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KClcclxuICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlTUUxcclxuICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IG91dEZpZWxkcyB8fCBbXVxyXG4gICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlXHJcbiAgICByZXR1cm4gbGF5ZXJPYmplY3QucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbihmZWF0dXJlU2V0ID0+IHtcclxuICAgICAgcmV0dXJuIGZlYXR1cmVTZXRcclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZmxhc2hPbkZlYXR1cmVMYXllciAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBxdWVyeVNRTDogc3RyaW5nLCB0ZW1wSmltdUxheWVyVmlldzogSmltdUZlYXR1cmVMYXllclZpZXcpIHtcclxuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XHJcbiAgICBsZXQgZmVhdHVyZUxheWVyVmlldzogX19lc3JpLkZlYXR1cmVMYXllclZpZXcgPSAodGVtcEppbXVMYXllclZpZXcpLnZpZXdcclxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcbiAgICAgIHF1ZXJ5RmVhdHVyZXMoZmVhdHVyZUxheWVyVmlldy5sYXllciwgcXVlcnlTUUwsIFtdKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICAgIGlmIChmZWF0dXJlU2V0ICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMgJiYgZmVhdHVyZVNldC5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBzeW1ib2wgPSBnZXRGbGFzaFN5bWJvbChmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLmdlb21ldHJ5VHlwZSlcclxuICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJ1xyXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgbGV0IEZlYXR1cmVMYXllcjogdHlwZW9mIF9fZXNyaS5GZWF0dXJlTGF5ZXI7XHJcbiAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlc1xyXG5cclxuICAgICAgbGV0IHRlbXBGZWF0dXJlTGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHtcclxuICAgICAgICB1cmw6IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykubGF5ZXIpXHJcbiAgICAgIH0pXHJcbiAgICAgIHRlbXBGZWF0dXJlTGF5ZXIubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHF1ZXJ5RmVhdHVyZXModGVtcEZlYXR1cmVMYXllciwgcXVlcnlTUUwsIFtdKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0Rmxhc2hTeW1ib2woZmVhdHVyZVNldC5mZWF0dXJlc1swXS5nZW9tZXRyeS50eXBlKVxyXG4gICAgICAgICAgICBzdGFydEZsYXNoKGppbXVNYXBWaWV3LnZpZXcsIGZlYXR1cmVTZXQuZmVhdHVyZXMsIHN5bWJvbClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmxldCBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgPSBudWxsXHJcbmZ1bmN0aW9uIGZsYXNoT25TY2VuZUxheWVyIChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIHF1ZXJ5U1FMOiBzdHJpbmcsIHRlbXBKaW11TGF5ZXJWaWV3OiBKaW11U2NlbmVMYXllclZpZXcpIHtcclxuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XHJcbiAgICBsZXQgc2NlbmVMYXllclZpZXc6IF9fZXNyaS5TY2VuZUxheWVyVmlldyA9ICh0ZW1wSmltdUxheWVyVmlldykudmlld1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgcXVlcnlGZWF0dXJlcyhzY2VuZUxheWVyVmlldz8ubGF5ZXI/LmFzc29jaWF0ZWRMYXllciwgcXVlcnlTUUwsIFtdKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IG9iamVjdElkRmllbGQgPSBzY2VuZUxheWVyVmlldy5sYXllci5vYmplY3RJZEZpZWxkXHJcbiAgICAgICAgY29uc3Qgb2JqZWN0SWRzID0gZmVhdHVyZVNldC5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLmF0dHJpYnV0ZXNbb2JqZWN0SWRGaWVsZF0pXHJcblxyXG4gICAgICAgIGxldCBpID0gMFxyXG4gICAgICAgIGNvbnN0IG1heEZsYXNoQ291bnQgPSA2XHJcbiAgICAgICAgbGV0IGhpZ2hsaWdodENvbG9yID0gWzI1NSwgMjU1LCAwLCAwLjhdXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zID0gamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zXHJcblxyXG4gICAgICAgIGNvbnN0IGZsYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKGkgPCBtYXhGbGFzaENvdW50KSB7XHJcbiAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0Q29sb3IpIHtcclxuICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvciA9IG51bGxcclxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0geyBjb2xvcjogWzAsIDAsIDAsIDBdIH1cclxuICAgICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgJiYgc2NlbmVIaWdodGxpZ2h0SGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gc2NlbmVMYXllclZpZXcuaGlnaGxpZ2h0KG9iamVjdElkcylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvciA9IFsyNTUsIDI1NSwgMCwgMC44XVxyXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7IGNvbG9yOiBoaWdobGlnaHRDb2xvciB9XHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlICYmIHNjZW5lSGlnaHRsaWdodEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSA9IHNjZW5lTGF5ZXJWaWV3LmhpZ2hsaWdodChvYmplY3RJZHMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dChmbGFzaCwgNTAwKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0gb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zXHJcbiAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSAmJiBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dChmbGFzaCwgNTAwKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHF1ZXJ5U1FMOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBpZiAoIWxheWVyRGF0YVNvdXJjZUlkKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UobGF5ZXJEYXRhU291cmNlSWQpXHJcblxyXG4gIGlmICghZGF0YVNvdXJjZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBsZXQgamltdUxheWVyVmlldzogSmltdUxheWVyVmlldyA9IG51bGxcclxuXHJcbiAgdHJ5IHtcclxuICAgIGppbXVMYXllclZpZXcgPSBhd2FpdCBqaW11TWFwVmlldy53aGVuSmltdUxheWVyVmlld0xvYWRlZEJ5RGF0YVNvdXJjZShkYXRhU291cmNlKVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgamltdUxheWVyVmlldyA9IG51bGxcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2NhblxcJ3QgZ2V0IGppbXVMYXllclZpZXcgYnkgZGF0YVNvdXJjZScsIGRhdGFTb3VyY2UsIGVycilcclxuICB9XHJcblxyXG4gIGlmIChqaW11TGF5ZXJWaWV3ICYmIGppbXVMYXllclZpZXcubGF5ZXIpIHtcclxuICAgIGlmIChqaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuRmVhdHVyZUxheWVyKSB7XHJcbiAgICAgIGZsYXNoT25GZWF0dXJlTGF5ZXIoamltdU1hcFZpZXcsIHF1ZXJ5U1FMLCBqaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3KVxyXG4gICAgfSBlbHNlIGlmIChqaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuU2NlbmVMYXllcikge1xyXG4gICAgICBmbGFzaE9uU2NlbmVMYXllcihqaW11TWFwVmlldywgcXVlcnlTUUwsIGppbXVMYXllclZpZXcgYXMgSmltdVNjZW5lTGF5ZXJWaWV3KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRGbGFzaCAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIHN5bWJvbCkge1xyXG4gIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgJ2VzcmkvR3JhcGhpYydcclxuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBsZXQgR3JhcGhpYzogdHlwZW9mIF9fZXNyaS5HcmFwaGljO1xyXG4gICAgW0dyYXBoaWNdID0gbW9kdWxlc1xyXG5cclxuICAgIGNvbnN0IGZsYXNoRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIG1heEZsYXNoQ291bnQ6IG51bWJlcikge1xyXG4gICAgICBjb25zdCBncmFwaGljcyA9IFtdXHJcbiAgICAgIGxldCBmbGFzaENvdW50ID0gMFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcEdyYXBoaWMgPSBuZXcgR3JhcGhpYyh7XHJcbiAgICAgICAgICBnZW9tZXRyeTogZmVhdHVyZXNbaV0uZ2VvbWV0cnksXHJcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcclxuICAgICAgICAgIGF0dHJpYnV0ZXM6IGZlYXR1cmVzW2ldLmF0dHJpYnV0ZXNcclxuICAgICAgICB9KVxyXG4gICAgICAgIGdyYXBoaWNzLnB1c2godGVtcEdyYXBoaWMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNpbmdsZUZsYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1hcEJhc2VWaWV3LmdyYXBoaWNzLmFkZE1hbnkoZ3JhcGhpY3MpXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBtYXBCYXNlVmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGdyYXBoaWNzKVxyXG4gICAgICAgICAgZmxhc2hDb3VudCA9IGZsYXNoQ291bnQgKyAxXHJcbiAgICAgICAgICBpZiAoZmxhc2hDb3VudCA8IG1heEZsYXNoQ291bnQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2luZ2xlRmxhc2goKVxyXG4gICAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzaW5nbGVGbGFzaCgpXHJcbiAgICB9XHJcblxyXG4gICAgZmxhc2hGZWF0dXJlcyhmZWF0dXJlcywgMylcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRGbGFzaFN5bWJvbCAoZ2VvbWV0cnlUeXBlOiBzdHJpbmcpIHtcclxuICBpZiAoWydwb2ludCcsICdtdWx0aXBvaW50J10uaW5jbHVkZXMoZ2VvbWV0cnlUeXBlKSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogJ3NpbXBsZS1tYXJrZXInLFxyXG4gICAgICBzdHlsZTogJ2NpcmNsZScsXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgIHNpemU6ICcxNnB4JyxcclxuICAgICAgb3V0bGluZToge1xyXG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgICAgd2lkdGg6IDNcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoWydwb2x5bGluZSddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdzaW1wbGUtbGluZScsXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgIHdpZHRoOiAzLFxyXG4gICAgICBzdHlsZTogJ3NvbGlkJ1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoWydwb2x5Z29uJywgJ2V4dGVudCddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdzaW1wbGUtZmlsbCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlRmlsbFN5bWJvbCgpXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuNV0sXHJcbiAgICAgIHN0eWxlOiAnc29saWQnLFxyXG4gICAgICBvdXRsaW5lOiB7IC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlTGluZVN5bWJvbCgpXHJcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcclxuICAgICAgICB3aWR0aDogM1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChbJ21lc2gnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiAnbWVzaC0zZCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgTWVzaFN5bWJvbDNEKClcclxuICAgICAgc3ltYm9sTGF5ZXJzOiBbe1xyXG4gICAgICAgIHR5cGU6ICdmaWxsJywgLy8gYXV0b2Nhc3RzIGFzIG5ldyBGaWxsU3ltYm9sM0RMYXllcigpXHJcbiAgICAgICAgbWF0ZXJpYWw6IHsgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSB9XHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDZW50ZXJQb2ludCAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IF9fZXNyaS5Qb2ludCB7XHJcbiAgLy8gcG9pbnQgfCBtdWx0aXBvaW50IHwgcG9seWxpbmUgfCBwb2x5Z29uIHwgZXh0ZW50IHwgbWVzaFxyXG4gIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xyXG4gICAgY2FzZSAncG9pbnQnOlxyXG4gICAgICByZXR1cm4gZ2VvbWV0cnkgYXMgX19lc3JpLlBvaW50XHJcbiAgICBjYXNlICdleHRlbnQnOlxyXG4gICAgICByZXR1cm4gKGdlb21ldHJ5IGFzIF9fZXNyaS5FeHRlbnQpLmNlbnRlclxyXG4gICAgY2FzZSAncG9seWdvbic6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb24pLmNlbnRyb2lkXHJcbiAgICBjYXNlICdwb2x5bGluZSc6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlsaW5lKS5leHRlbnQuY2VudGVyXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZ2VvbWV0cnkgJiYgZ2VvbWV0cnkuZXh0ZW50ID8gZ2VvbWV0cnkuZXh0ZW50LmNlbnRlciA6IHVuZGVmaW5lZFxyXG4gICAgLy8gdG9kb1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRmVhdHVyZSAoZmVhdHVyZTogSUZlYXR1cmUgfCBfX2VzcmkuR3JhcGhpYywgR3JhcGhpYzogdHlwZW9mIF9fZXNyaS5HcmFwaGljKTogX19lc3JpLkdyYXBoaWMge1xyXG4gIGxldCB0ZW1wRmVhdHVyZSA9IG51bGxcclxuICBpZiAoKGZlYXR1cmUgYXMgYW55KS5jbG9uZSkge1xyXG4gICAgdGVtcEZlYXR1cmUgPSAoZmVhdHVyZSBhcyBhbnkpLmNsb25lKClcclxuICB9IGVsc2Uge1xyXG4gICAgdGVtcEZlYXR1cmUgPSBHcmFwaGljLmZyb21KU09OKE9iamVjdC5hc3NpZ24oe30sIGZlYXR1cmUpKVxyXG4gICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGZlYXR1cmUuYXR0cmlidXRlcylcclxuICB9XHJcbiAgcmV0dXJuIHRlbXBGZWF0dXJlXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9qZWN0R2VvbWV0cmllcyAoZ2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10sIHNwYXRpYWxSZWZlcmVuY2U6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogUHJvbWlzZTxfX2VzcmkuR2VvbWV0cnlbXT4ge1xyXG4gIGlmICghZ2VvbWV0cmllcyB8fCBnZW9tZXRyaWVzLmxlbmd0aCA9PT0gMCB8fCAhZ2VvbWV0cmllc1swXSB8fFxyXG4gICAgc3BhdGlhbFJlZmVyZW5jZS53a2lkID09PSBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2Uud2tpZCB8fCAoc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlKSkpIHtcclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcylcclxuICB9IGVsc2UgaWYgKHNwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvciAmJiBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCkge1xyXG4gICAgLy8gSW4ganMgYXBpIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpXHJcbiAgfSBlbHNlIGlmIChzcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQgJiYgZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IpIHtcclxuICAgIC8vIEluIGpzIGFwaSA0LngsIHRoZSB2aWV3IGNhbiBoYW5kbGUgV2ViTWVyY2F0b3IgYW5kIFdHUzg0IHNwYXRpYWxSZWZlcmVuY2UgYXV0b1xyXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2VvbWV0cnlVdGlscy5wcm9qZWN0VG9TcGF0aWFsUmVmZXJlbmNlKGdlb21ldHJpZXMsIHNwYXRpYWxSZWZlcmVuY2UpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1pvb21Ub0ZlYXR1cmVzIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBsYXllcjogYW55LCBmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSk6IFByb21pc2U8X19lc3JpLkdyYXBoaWNbXT4ge1xyXG4gIGlmIChtYXBCYXNlVmlldyAmJiBtYXBCYXNlVmlldy50eXBlID09PSAnM2QnICYmIGxheWVyICYmIGxheWVyLnF1ZXJ5RmVhdHVyZXMgJiYgZmVhdHVyZXMpIHtcclxuICAgIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5J1xyXG4gICAgXSkudGhlbigobW9kdWxlcykgPT4ge1xyXG4gICAgICBjb25zdCBbUXVlcnldID0gbW9kdWxlc1xyXG4gICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXHJcbiAgICAgIHF1ZXJ5LnJldHVybkdlb21ldHJ5ID0gdHJ1ZVxyXG4gICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXVxyXG4gICAgICBxdWVyeS5vYmplY3RJZHMgPSBmZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLmF0dHJpYnV0ZXNbbGF5ZXIub2JqZWN0SWRGaWVsZF0pXHJcbiAgICAgIHJldHVybiBsYXllci5xdWVyeUZlYXR1cmVzKHF1ZXJ5KS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5mZWF0dXJlcyAmJiByZXN1bHQuZmVhdHVyZXMubGVuZ3RoID09PSBmZWF0dXJlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmZlYXR1cmVzKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZmVhdHVyZXMpXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSXNMaXZlIChhcHBNb2RlOiBBcHBNb2RlKTogYm9vbGVhbiB7XHJcbiAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XHJcbiAgICBpZiAoYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ24pIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExheWVyc0Zyb21EYXRhU291cmNlSWRzIChkYXRhU291cmNlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgbGF5ZXJQcm9taXNlcyA9IFtdXHJcbiAgZGF0YVNvdXJjZUlkcy5mb3JFYWNoKGRhdGFTb3VyY2VJZCA9PiB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRhdGFTb3VyY2VJZCkgYXMgdW5rbm93biBhcyBKU0FQSUxheWVyTWl4aW5cclxuICAgIGxldCBsYXllclByb21pc2VcclxuICAgIGlmIChkYXRhU291cmNlPy5sYXllcikge1xyXG4gICAgICBsYXllclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcclxuICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZT8uY3JlYXRlSlNBUElMYXllckJ5RGF0YVNvdXJjZSkge1xyXG4gICAgICBsYXllclByb21pc2UgPSBkYXRhU291cmNlLmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGF5ZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpXHJcbiAgICB9XHJcbiAgICBsYXllclByb21pc2VzLnB1c2gobGF5ZXJQcm9taXNlKVxyXG4gIH0pXHJcbiAgcmV0dXJuIFByb21pc2UuYWxsKGxheWVyUHJvbWlzZXMpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRKaW11TWFwVmlld0lkICh3aWRnZXRJZDogc3RyaW5nLCBkYXRhU291cmNlSWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8gSWYgZGF0YVNvdXJjZUlkIGlzIG51bGwsIG1ha2Ugc3VyZSBpdCBjb252ZXJ0cyB0byBlbXB0eSBzdHJpbmcuXHJcbiAgY29uc3QgZHNJZCA9IGRhdGFTb3VyY2VJZCB8fCAnJ1xyXG4gIHJldHVybiBgJHt3aWRnZXRJZH0tJHtkc0lkfWBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcEJhc2VSZXN0b3JlRGF0YSAobWFwSW5zdGFuY2U6IE1hcEJhc2UpOiBNYXBiYXNlUmVzdG9yZURhdGEge1xyXG4gIGNvbnN0IHtcclxuICAgIG1hcENvbnRhaW5lcixcclxuICAgIHN0YXRlLFxyXG4gICAgR2VvbWV0cnksXHJcbiAgICBJbml0aWFsVmlld1Byb3BlcnRpZXMsXHJcbiAgICBUaWxlTGF5ZXIsXHJcbiAgICBCYXNlbWFwLFxyXG4gICAgTWFwVmlldyxcclxuICAgIFNjZW5lVmlldyxcclxuICAgIEV4dGVudCxcclxuICAgIFZpZXdwb2ludCxcclxuICAgIFBvcnRhbEl0ZW0sXHJcbiAgICBQb3J0YWwsXHJcbiAgICBXZWJNYXAsXHJcbiAgICBXZWJTY2VuZSxcclxuICAgIENvbG9yLFxyXG4gICAgU3BhdGlhbFJlZmVyZW5jZSxcclxuICAgIFBvaW50LFxyXG4gICAgZXhwZWN0ZWREYXRhU291cmNlSW5mbyxcclxuICAgIG1hcENyZWF0aW5nSW5mbyxcclxuICAgIHZpZXcsXHJcbiAgICBsYXN0VXBkYXRlVmlld0NvbmZpZyxcclxuICAgIG1hcERzLFxyXG4gICAgZHNNYW5hZ2VyLFxyXG4gICAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlXHJcbiAgfSA9IG1hcEluc3RhbmNlXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBtYXBDb250YWluZXIsXHJcbiAgICBzdGF0ZSxcclxuXHJcbiAgICBHZW9tZXRyeSxcclxuICAgIEluaXRpYWxWaWV3UHJvcGVydGllcyxcclxuICAgIFRpbGVMYXllcixcclxuICAgIEJhc2VtYXAsXHJcbiAgICBNYXBWaWV3LFxyXG4gICAgU2NlbmVWaWV3LFxyXG4gICAgRXh0ZW50LFxyXG4gICAgVmlld3BvaW50LFxyXG4gICAgUG9ydGFsSXRlbSxcclxuICAgIFBvcnRhbCxcclxuICAgIFdlYk1hcCxcclxuICAgIFdlYlNjZW5lLFxyXG4gICAgQ29sb3IsXHJcbiAgICBTcGF0aWFsUmVmZXJlbmNlLFxyXG4gICAgUG9pbnQsXHJcblxyXG4gICAgZXhwZWN0ZWREYXRhU291cmNlSW5mbyxcclxuICAgIG1hcENyZWF0aW5nSW5mbyxcclxuICAgIHZpZXcsXHJcbiAgICBsYXN0VXBkYXRlVmlld0NvbmZpZyxcclxuICAgIG1hcERzLFxyXG5cclxuICAgIGRzTWFuYWdlcixcclxuICAgIGlzRmlyc3RSZWNlaXZlTWVzc2FnZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVNYXBCYXNlIChtYXBJbnN0YW5jZTogTWFwQmFzZSwgcmVzdG9yZURhdGE6IE1hcGJhc2VSZXN0b3JlRGF0YSk6IHZvaWQge1xyXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZXN0b3JlRGF0YSlcclxuXHJcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgbWFwSW5zdGFuY2Vba2V5XSA9IHJlc3RvcmVEYXRhW2tleV1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1R3b1dpZGdldHNNdXR1YWxseUV4dGVudENoYW5nZSAod2lkZ2V0SWQxOiBzdHJpbmcsIHdpZGdldElkMjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgaWYgKHdpZGdldElkMSAmJiB3aWRnZXRJZDIpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VDb25maWdzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5tZXNzYWdlQ29uZmlnc1xyXG5cclxuICAgIGlmIChtZXNzYWdlQ29uZmlncykge1xyXG4gICAgICBjb25zdCBhY3Rpb25OYW1lczogc3RyaW5nW10gPSBbJ3BhblRvJywgJ3pvb21Ub0ZlYXR1cmUnXVxyXG4gICAgICBjb25zdCBtZXNzYWdlVHlwZSA9IE1lc3NhZ2VUeXBlLkV4dGVudENoYW5nZVxyXG5cclxuICAgICAgaWYgKGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIod2lkZ2V0SWQxLCB3aWRnZXRJZDIsIG1lc3NhZ2VDb25maWdzLCBtZXNzYWdlVHlwZSwgYWN0aW9uTmFtZXMpICYmXHJcbiAgICAgICAgIGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIod2lkZ2V0SWQyLCB3aWRnZXRJZDEsIG1lc3NhZ2VDb25maWdzLCBtZXNzYWdlVHlwZSwgYWN0aW9uTmFtZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1dpZGdldFNlbmRab29tVG9BY3Rpb25Ub0Fub3RoZXIgKHNlbmRNZXNzYWdlV2lkZ2V0SWQ6IHN0cmluZywgYWN0aW9uV2lkZ2V0SWQ6IHN0cmluZywgbWVzc2FnZVR5cGU6IE1lc3NhZ2VUeXBlKTogYm9vbGVhbiB7XHJcbiAgaWYgKHNlbmRNZXNzYWdlV2lkZ2V0SWQgJiYgYWN0aW9uV2lkZ2V0SWQpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VDb25maWdzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5tZXNzYWdlQ29uZmlnc1xyXG5cclxuICAgIGlmIChtZXNzYWdlQ29uZmlncykge1xyXG4gICAgICBjb25zdCBhY3Rpb25OYW1lczogc3RyaW5nW10gPSBbJ3pvb21Ub0ZlYXR1cmUnXVxyXG5cclxuICAgICAgcmV0dXJuIGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIoc2VuZE1lc3NhZ2VXaWRnZXRJZCwgYWN0aW9uV2lkZ2V0SWQsIG1lc3NhZ2VDb25maWdzLCBtZXNzYWdlVHlwZSwgYWN0aW9uTmFtZXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuZnVuY3Rpb24gaXNXaWRnZXRTZW5kQWN0aW9uc1RvQW5vdGhlciAoXHJcbiAgc2VuZE1lc3NhZ2VXaWRnZXRJZDogc3RyaW5nLFxyXG4gIGFjdGlvbldpZGdldElkOiBzdHJpbmcsXHJcbiAgbWVzc2FnZUNvbmZpZ3M6IEltbXV0YWJsZU9iamVjdDxNZXNzYWdlc0pzb24+LFxyXG4gIG1lc3NhZ2VUeXBlOiBNZXNzYWdlVHlwZSxcclxuICBhY3Rpb25OYW1lczogc3RyaW5nW11cclxuKTogYm9vbGVhbiB7XHJcbiAgaWYgKG1lc3NhZ2VDb25maWdzKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSnNvbkFycmF5ID0gT2JqZWN0LnZhbHVlcyhtZXNzYWdlQ29uZmlncylcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VKc29uQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgbWVzc2FnZUpzb24gPSBtZXNzYWdlSnNvbkFycmF5W2ldXHJcblxyXG4gICAgICBpZiAobWVzc2FnZUpzb24ud2lkZ2V0SWQgPT09IHNlbmRNZXNzYWdlV2lkZ2V0SWQgJiYgbWVzc2FnZUpzb24ubWVzc2FnZVR5cGUgPT09IG1lc3NhZ2VUeXBlKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IG1lc3NhZ2VKc29uLmFjdGlvbnNcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhY3Rpb25zLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW2pdXHJcblxyXG4gICAgICAgICAgaWYgKGFjdGlvbi53aWRnZXRJZCA9PT0gYWN0aW9uV2lkZ2V0SWQpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWVzLmluY2x1ZGVzKGFjdGlvbi5hY3Rpb25OYW1lKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lbGlrZVZpZXdwb2ludHMgKHZpZXc6IE1hcGJhc2VWaWV3LCB2cDE6IF9fZXNyaS5WaWV3cG9pbnQsIHZwMjogX19lc3JpLlZpZXdwb2ludCk6IGJvb2xlYW4ge1xyXG4gIGlmICghdnAxKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGlmICghdnAyKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIC8vIFdlIG5lZWQgdG8gY2hlY2sgYm90aCB0YXJnZXRHZW9tZXRyeSBhbmQgY2FtZXJhLlxyXG4gIGlmICh2cDEudGFyZ2V0R2VvbWV0cnkgJiYgdnAxLnRhcmdldEdlb21ldHJ5LmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLmdlb21ldHJ5LlBvaW50JyAmJiB2cDIudGFyZ2V0R2VvbWV0cnkgJiYgdnAyLnRhcmdldEdlb21ldHJ5LmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLmdlb21ldHJ5LlBvaW50Jykge1xyXG4gICAgY29uc3Qgc2NyZWVuUG9pbnQxID0gdmlldy50b1NjcmVlbih2cDEudGFyZ2V0R2VvbWV0cnkgYXMgX19lc3JpLlBvaW50KVxyXG4gICAgY29uc3Qgc2NyZWVuUG9pbnQyID0gdmlldy50b1NjcmVlbih2cDIudGFyZ2V0R2VvbWV0cnkgYXMgX19lc3JpLlBvaW50KVxyXG4gICAgY29uc3QgZGVsdGFYID0gc2NyZWVuUG9pbnQxLnggLSBzY3JlZW5Qb2ludDIueFxyXG4gICAgY29uc3QgZGVsdGFZID0gc2NyZWVuUG9pbnQxLnkgLSBzY3JlZW5Qb2ludDIueVxyXG4gICAgY29uc3QgZGlzdCA9IE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpXHJcblxyXG4gICAgaWYgKGRpc3QgPj0gNSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbWVyYTEgPSB2cDEuY2FtZXJhXHJcbiAgY29uc3QgY2FtZXJhMiA9IHZwMi5jYW1lcmFcclxuXHJcbiAgaWYgKGNhbWVyYTEgJiYgY2FtZXJhMikge1xyXG4gICAgLy8gY29tcGFyZSB2aWV3cG9pbnQgZm9yIFNjZW5lVmlld1xyXG4gICAgY29uc3QgaGVhZGluZzEgPSBwYXJzZUZsb2F0KGNhbWVyYTEuaGVhZGluZy50b0ZpeGVkKDIpKVxyXG4gICAgY29uc3QgaGVhZGluZzIgPSBwYXJzZUZsb2F0KGNhbWVyYTIuaGVhZGluZy50b0ZpeGVkKDIpKVxyXG5cclxuICAgIGlmIChoZWFkaW5nMSAhPT0gaGVhZGluZzIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGlsdDEgPSBwYXJzZUZsb2F0KGNhbWVyYTEudGlsdC50b0ZpeGVkKDIpKVxyXG4gICAgY29uc3QgdGlsdDIgPSBwYXJzZUZsb2F0KGNhbWVyYTIudGlsdC50b0ZpeGVkKDIpKVxyXG5cclxuICAgIGlmICh0aWx0MSAhPT0gdGlsdDIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb25EaXN0ID0gY2FtZXJhMS5wb3NpdGlvbi5kaXN0YW5jZShjYW1lcmEyLnBvc2l0aW9uKVxyXG5cclxuICAgIGlmIChwb3NpdGlvbkRpc3QgPj0gMSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gY29tcGFyZSB2aWV3cG9pbnQgZm9yIE1hcFZpZXdcclxuICAgIGNvbnN0IHJvdGF0aW9uMSA9IHBhcnNlRmxvYXQodnAxLnJvdGF0aW9uLnRvRml4ZWQoMikpXHJcbiAgICBjb25zdCByb3RhdGlvbjIgPSBwYXJzZUZsb2F0KHZwMi5yb3RhdGlvbi50b0ZpeGVkKDIpKVxyXG5cclxuICAgIGlmIChyb3RhdGlvbjEgIT09IHJvdGF0aW9uMikge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWx0YVNjYWxlID0gdnAxLnNjYWxlIC0gdnAyLnNjYWxlXHJcblxyXG4gICAgaWYgKE1hdGguYWJzKGRlbHRhU2NhbGUpID49IDEpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vmlld3BvaW50SW5zdGFuY2VGcm9tSGlzdG9yeSAodmlldzogTWFwYmFzZVZpZXcsIHZpZXdwb2ludEluZGV4OiBudW1iZXIpOiBfX2VzcmkuVmlld3BvaW50IHtcclxuICBpZiAodmlldy52aWV3cG9pbnRIaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IGxhc3RJbmRleCA9IHZpZXcudmlld3BvaW50SGlzdG9yeS5sZW5ndGggLSAxXHJcblxyXG4gICAgaWYgKHZpZXdwb2ludEluZGV4ID49IDAgJiYgdmlld3BvaW50SW5kZXggPD0gbGFzdEluZGV4KSB7XHJcbiAgICAgIGNvbnN0IHZpZXdwb2ludCA9IHZpZXcudmlld3BvaW50SGlzdG9yeVt2aWV3cG9pbnRJbmRleF1cclxuICAgICAgcmV0dXJuIHZpZXdwb2ludC5jbG9uZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1hcFVybEhhc2hQYXJhbXMge1xyXG4gIGFjdGl2ZV9kYXRhc291cmNlX2lkPzogc3RyaW5nXHJcbiAgdmlld3BvaW50Pzogc3RyaW5nXHJcbiAgY2VudGVyPzogc3RyaW5nIC8vIHgseSx3a2lkXHJcbiAgc2NhbGU/OiBzdHJpbmdcclxuICByb3RhdGlvbj86IHN0cmluZ1xyXG4gIGxheWVyX3Zpc2liaWxpdHk/OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVybEhhc2hQYXJhbXNGb3JBY3RpdmVKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSB7XHJcbiAgaWYgKGppbXVNYXBWaWV3ICYmIGppbXVNYXBWaWV3LmlzQWN0aXZlICYmIGppbXVNYXBWaWV3LnZpZXcgJiYgIWppbXVNYXBWaWV3LnZpZXcuZGVzdHJveWVkKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gamltdU1hcFZpZXcudmlldyBhcyBNYXBiYXNlVmlld1xyXG4gICAgY29uc3QgdXJsTWFuYWdlciA9IFVybE1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gICAgY29uc3Qgdmlld3BvaW50SnNvbiA9IHZpZXcudmlld3BvaW50ID8gdmlldy52aWV3cG9pbnQudG9KU09OKCkgOiBudWxsXHJcblxyXG4gICAgbGV0IHZpZXdwb2ludFN0cjogc3RyaW5nID0gbnVsbFxyXG4gICAgbGV0IGNlbnRlclN0cjogc3RyaW5nID0gbnVsbFxyXG4gICAgbGV0IHNjYWxlU3RyOiBzdHJpbmcgPSBudWxsXHJcbiAgICBsZXQgcm90YXRpb25TdHI6IHN0cmluZyA9IG51bGxcclxuXHJcbiAgICBpZiAodmlld3BvaW50SnNvbikge1xyXG4gICAgICB2aWV3cG9pbnRTdHIgPSBKU09OLnN0cmluZ2lmeSh2aWV3cG9pbnRKc29uKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFdlIG9ubHkgc3VwcG9ydCBjZW50ZXIsIHNjYWxlIGFuZCByb3RhaW9uIGZvciBNYXBWaWV3LlxyXG4gICAgaWYgKHZpZXcudHlwZSA9PT0gJzJkJykge1xyXG4gICAgICBjb25zdCB3a2lkID0gdmlldy5zcGF0aWFsUmVmZXJlbmNlPy53a2lkXHJcblxyXG4gICAgICBpZiAod2tpZCkge1xyXG4gICAgICAgIGNvbnN0IHZpZXdDZW50ZXIgPSB2aWV3LmNlbnRlclxyXG4gICAgICAgIGNlbnRlclN0ciA9IGAke3ZpZXdDZW50ZXIueH0sJHt2aWV3Q2VudGVyLnl9LCR7d2tpZH1gXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNjYWxlU3RyID0gU3RyaW5nKHZpZXcuc2NhbGUpXHJcbiAgICAgIHJvdGF0aW9uU3RyID0gU3RyaW5nKHZpZXcucm90YXRpb24pXHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5sYXN0Vmlld3BvaW50VG9VcGRhdGVVcmxQYXJhbXMgPSB2aWV3LnZpZXdwb2ludCA/IHZpZXcudmlld3BvaW50LmNsb25lKCkgOiBudWxsXHJcbiAgICB2aWV3Lmxhc3RWaWV3cG9pbnRVcmxQYXJhbVVwZGF0ZVRpbWVzdGFtcCA9IERhdGUubm93KClcclxuXHJcbiAgICBjb25zdCBhY3RpdmVEYXRhc291cmNlSWQgPSBqaW11TWFwVmlldy5kYXRhU291cmNlSWQgfHwgbnVsbFxyXG5cclxuICAgIGNvbnN0IG1hcFVybEhhc2hQYXJhbXM6IE1hcFVybEhhc2hQYXJhbXMgPSB7XHJcbiAgICAgIGFjdGl2ZV9kYXRhc291cmNlX2lkOiBhY3RpdmVEYXRhc291cmNlSWQsXHJcbiAgICAgIGNlbnRlcjogY2VudGVyU3RyLFxyXG4gICAgICBzY2FsZTogc2NhbGVTdHIsXHJcbiAgICAgIHJvdGF0aW9uOiByb3RhdGlvblN0cixcclxuICAgICAgLy8gaWYgdmlld3BvaW50U3RyIGlzIG51bGwsIFVybE1hbmFnZXIgd2lsbCByZW1vdmUgaXQgZnJvbSB1cmxcclxuICAgICAgdmlld3BvaW50OiB2aWV3cG9pbnRTdHJcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnc2V0V2lkZ2V0VXJsUGFyYW1zJywgRGF0ZS5ub3coKSlcclxuICAgIHVybE1hbmFnZXIuc2V0V2lkZ2V0VXJsUGFyYW1zKGppbXVNYXBWaWV3Lm1hcFdpZGdldElkLCBtYXBVcmxIYXNoUGFyYW1zKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVcmxQYXJhbXNNYXBPcHRpb25zIHtcclxuICB2aWV3cG9pbnQ/OiBfX2VzcmkuVmlld3BvaW50XHJcbiAgY2VudGVyPzogX19lc3JpLlBvaW50XHJcbiAgc2NhbGU/OiBudW1iZXJcclxuICByb3RhdGlvbj86IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogR2V0IGNoYW5nZWQgdmlld3BvaW50IGJ5IHZpZXcgYW5kIHVybCBoYXNoIHBhcmFtcy5cclxuICogUmV0dXJuIG51bGwgaWYgdmlld3BvaW50IG5vdCBjaGFuZ2VkLlxyXG4gKiBAcGFyYW0gdmlld1xyXG4gKiBAcGFyYW0gcnVudGltZVVybEhhc2hQYXJhbXNcclxuICogQHBhcmFtIHBhcnNlVmlld3BvaW50XHJcbiAqIEBwYXJhbSBwYXJzZUNlbnRlclxyXG4gKiBAcGFyYW0gcGFyc2VTY2FsZVxyXG4gKiBAcGFyYW0gcGFyc2VSb3RhdGlvblxyXG4gKiBAcGFyYW0gVmlld3BvaW50XHJcbiAqIEBwYXJhbSBQb2ludFxyXG4gKiBAcGFyYW0gU3BhdGlhbFJlZmVyZW5jZVxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYW5nZWRWaWV3cG9pbnRCeVZpZXdBbmRVcmxIYXNoUGFyYW1zIChcclxuICB2aWV3OiBNYXBiYXNlVmlldyxcclxuICBydW50aW1lVXJsSGFzaFBhcmFtczogTWFwVXJsSGFzaFBhcmFtcyxcclxuICBwYXJzZVZpZXdwb2ludDogYm9vbGVhbixcclxuICBwYXJzZUNlbnRlcjogYm9vbGVhbixcclxuICBwYXJzZVNjYWxlOiBib29sZWFuLFxyXG4gIHBhcnNlUm90YXRpb246IGJvb2xlYW4sXHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludCxcclxuICBQb2ludDogdHlwZW9mIF9fZXNyaS5Qb2ludCxcclxuICBTcGF0aWFsUmVmZXJlbmNlOiB0eXBlb2YgX19lc3JpLlNwYXRpYWxSZWZlcmVuY2VcclxuKTogX19lc3JpLlZpZXdwb2ludCB7XHJcbiAgbGV0IHJlc3VsdDogX19lc3JpLlZpZXdwb2ludCA9IG51bGxcclxuICBjb25zdCBjdXJyVmlld3BvaW50ID0gdmlldy52aWV3cG9pbnQ/LmNsb25lKClcclxuICBjb25zdCBpczJEID0gdmlldy50eXBlID09PSAnMmQnXHJcblxyXG4gIGlmICghaXMyRCkge1xyXG4gICAgcGFyc2VDZW50ZXIgPSBmYWxzZVxyXG4gICAgcGFyc2VTY2FsZSA9IGZhbHNlXHJcbiAgICBwYXJzZVJvdGF0aW9uID0gZmFsc2VcclxuICB9XHJcblxyXG4gIGNvbnN0IHVybFBhcmFtc01hcE9wdGlvbnMgPSBnZXRNYXBPcHRpb25zQnlVcmxIYXNoUGFyYW1zKHJ1bnRpbWVVcmxIYXNoUGFyYW1zLCBpczJELCBWaWV3cG9pbnQsIFBvaW50LCBTcGF0aWFsUmVmZXJlbmNlKVxyXG5cclxuICBpZiAodXJsUGFyYW1zTWFwT3B0aW9ucykge1xyXG4gICAgaWYgKCFwYXJzZVZpZXdwb2ludCkge1xyXG4gICAgICBkZWxldGUgdXJsUGFyYW1zTWFwT3B0aW9ucy52aWV3cG9pbnRcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBhcnNlQ2VudGVyKSB7XHJcbiAgICAgIGRlbGV0ZSB1cmxQYXJhbXNNYXBPcHRpb25zLmNlbnRlclxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGFyc2VTY2FsZSkge1xyXG4gICAgICBkZWxldGUgdXJsUGFyYW1zTWFwT3B0aW9ucy5zY2FsZVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGFyc2VSb3RhdGlvbikge1xyXG4gICAgICBkZWxldGUgdXJsUGFyYW1zTWFwT3B0aW9ucy5yb3RhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChPYmplY3Qua2V5cyh1cmxQYXJhbXNNYXBPcHRpb25zKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGlmIChpczJEKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdXJsUGFyYW1zTWFwT3B0aW9ucy52aWV3cG9pbnQgfHwgY3VyclZpZXdwb2ludFxyXG5cclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICBpZiAodXJsUGFyYW1zTWFwT3B0aW9ucy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnRhcmdldEdlb21ldHJ5ID0gdXJsUGFyYW1zTWFwT3B0aW9ucy5jZW50ZXJcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiB1cmxQYXJhbXNNYXBPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5zY2FsZSA9IHVybFBhcmFtc01hcE9wdGlvbnMuc2NhbGVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoJ3JvdGF0aW9uJyBpbiB1cmxQYXJhbXNNYXBPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5yb3RhdGlvbiA9IHVybFBhcmFtc01hcE9wdGlvbnMucm90YXRpb25cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdXJsUGFyYW1zTWFwT3B0aW9ucy52aWV3cG9pbnRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwT3B0aW9uc0J5VXJsSGFzaFBhcmFtcyAoXHJcbiAgcnVudGltZVVybEhhc2hQYXJhbXM6IE1hcFVybEhhc2hQYXJhbXMsXHJcbiAgaXMyRDogYm9vbGVhbixcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50LFxyXG4gIFBvaW50OiB0eXBlb2YgX19lc3JpLlBvaW50LFxyXG4gIFNwYXRpYWxSZWZlcmVuY2U6IHR5cGVvZiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZVxyXG4pOiBVcmxQYXJhbXNNYXBPcHRpb25zIHtcclxuICBsZXQgcmVzdWx0OiBVcmxQYXJhbXNNYXBPcHRpb25zID0ge31cclxuICBsZXQgdmlld3BvaW50OiBfX2VzcmkuVmlld3BvaW50ID0gbnVsbFxyXG4gIGxldCBjZW50ZXI6IF9fZXNyaS5Qb2ludCA9IG51bGxcclxuICBsZXQgc2NhbGU6IG51bWJlciA9IG51bGxcclxuICBsZXQgcm90YXRpb246IG51bWJlciA9IG51bGxcclxuXHJcbiAgaWYgKHJ1bnRpbWVVcmxIYXNoUGFyYW1zKSB7XHJcbiAgICAvLyBwYXJzZSB2aWV3cG9pbnRcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChydW50aW1lVXJsSGFzaFBhcmFtcy52aWV3cG9pbnQpIHtcclxuICAgICAgICBjb25zdCB2aWV3cG9pbnRKc29uID0gSlNPTi5wYXJzZShydW50aW1lVXJsSGFzaFBhcmFtcy52aWV3cG9pbnQpXHJcblxyXG4gICAgICAgIGlmICh2aWV3cG9pbnRKc29uKSB7XHJcbiAgICAgICAgICB2aWV3cG9pbnQgPSBWaWV3cG9pbnQuZnJvbUpTT04odmlld3BvaW50SnNvbilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcigncGFyc2Ugdmlld3BvaW50IGZyb20gdXJsIGhhc2ggcGFyYW1zIGVycm9yJywgZSlcclxuICAgICAgdmlld3BvaW50ID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8vIG9ubHkgc3VwcG9ydCBjZW50ZXIsIHNjYWxlIGFuZCByb3RhdGlvbiBmb3IgTWFwVmlld1xyXG4gICAgaWYgKGlzMkQpIHtcclxuICAgICAgLy8gcGFyc2UgY2VudGVyXHJcbiAgICAgIC8vIGNlbnRlciBmb3JtYXQ6IHgseSx3a2lkXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKHJ1bnRpbWVVcmxIYXNoUGFyYW1zLmNlbnRlcikge1xyXG4gICAgICAgICAgY29uc3Qgc3BsaXRzID0gcnVudGltZVVybEhhc2hQYXJhbXMuY2VudGVyLnNwbGl0KCcsJylcclxuXHJcbiAgICAgICAgICBpZiAoc3BsaXRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBwYXJzZUZsb2F0KHNwbGl0c1swXSlcclxuICAgICAgICAgICAgY29uc3QgeSA9IHBhcnNlRmxvYXQoc3BsaXRzWzFdKVxyXG4gICAgICAgICAgICBjb25zdCB3a2lkID0gcGFyc2VGbG9hdChzcGxpdHNbMl0pXHJcblxyXG4gICAgICAgICAgICBpZiAoaXNWYWxpZE51bSh4KSAmJiBpc1ZhbGlkTnVtKHkpICYmIGlzVmFsaWROdW0od2tpZCkpIHtcclxuICAgICAgICAgICAgICBjb25zdCBzcGF0aWFsUmVmZXJlbmNlID0gbmV3IFNwYXRpYWxSZWZlcmVuY2Uoe1xyXG4gICAgICAgICAgICAgICAgd2tpZFxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgIGNlbnRlciA9IG5ldyBQb2ludCh7XHJcbiAgICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2VcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcigncGFyc2UgY2VudGVyIGZyb20gdXJsIGhhc2ggcGFyYW1zIGVycm9yJywgZSlcclxuICAgICAgICBjZW50ZXIgPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHBhcnNlIHNjYWxlXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCdzY2FsZScgaW4gcnVudGltZVVybEhhc2hQYXJhbXMpIHtcclxuICAgICAgICAgIGNvbnN0IHNjYWxlTnVtID0gcGFyc2VGbG9hdChydW50aW1lVXJsSGFzaFBhcmFtcy5zY2FsZSlcclxuXHJcbiAgICAgICAgICBpZiAoaXNWYWxpZE51bShzY2FsZU51bSkgJiYgc2NhbGVOdW0gPj0gMCkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlTnVtXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgc2NhbGUgPSBudWxsXHJcbiAgICAgICAgY29uc29sZS5lcnJvcigncGFyc2Ugc2NhbGUgZnJvbSB1cmwgaGFzaCBwYXJhbXMgZXJyb3InLCBlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBwYXJzZSByb3RhdGlvblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICgncm90YXRpb24nIGluIHJ1bnRpbWVVcmxIYXNoUGFyYW1zKSB7XHJcbiAgICAgICAgICBjb25zdCByb3RhdGlvbk51bSA9IHBhcnNlRmxvYXQocnVudGltZVVybEhhc2hQYXJhbXMucm90YXRpb24pXHJcblxyXG4gICAgICAgICAgaWYgKGlzVmFsaWROdW0ocm90YXRpb25OdW0pICYmIHJvdGF0aW9uTnVtID49IDAgJiYgcm90YXRpb25OdW0gPD0gMzYwKSB7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uID0gcm90YXRpb25OdW1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByb3RhdGlvbiA9IG51bGxcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdwYXJzZSByb3RhdGlvbiBmcm9tIHVybCBoYXNoIHBhcmFtcyBlcnJvcicsIGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICh2aWV3cG9pbnQpIHtcclxuICAgIHJlc3VsdC52aWV3cG9pbnQgPSB2aWV3cG9pbnRcclxuICB9XHJcblxyXG4gIC8vIG9ubHkgc3VwcG9ydCBjZW50ZXIsIHNjYWxlIGFuZCByb3RhdGlvbiBmb3IgTWFwVmlld1xyXG4gIGlmIChpczJEKSB7XHJcbiAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgIHJlc3VsdC5jZW50ZXIgPSBjZW50ZXJcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNWYWxpZE51bShzY2FsZSkpIHtcclxuICAgICAgcmVzdWx0LnNjYWxlID0gc2NhbGVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNWYWxpZE51bShyb3RhdGlvbikpIHtcclxuICAgICAgcmVzdWx0LnJvdGF0aW9uID0gcm90YXRpb25cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmVzdWx0ID0gbnVsbFxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkTnVtICh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbHVlKVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VWZXJzaW9uTWFuYWdlciwgSW1tdXRhYmxlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5cclxuY2xhc3MgVmVyc2lvbk1hbmFnZXIgZXh0ZW5kcyBCYXNlVmVyc2lvbk1hbmFnZXIge1xyXG4gIHZlcnNpb25zID0gW3tcclxuICAgIHZlcnNpb246ICcxLjEwLjAnLFxyXG4gICAgZGVzY3JpcHRpb246ICcxLjEwLjAnLFxyXG4gICAgdXBncmFkZXI6IChvbGRDb25maWcpID0+IHtcclxuICAgICAgbGV0IG5ld0NvbmZpZ1xyXG4gICAgICBpZiAob2xkQ29uZmlnLnRvb2xDb25pZmcpIHtcclxuICAgICAgICAvLyBmaXggdHlwbyBmb3IgJ3Rvb2xDb25pZmcnXHJcbiAgICAgICAgbmV3Q29uZmlnID0gSW1tdXRhYmxlLndpdGhvdXQob2xkQ29uZmlnLCAndG9vbENvbmlmZycpXHJcbiAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldCgndG9vbENvbmZpZycsIG9sZENvbmZpZy50b29sQ29uaWZnKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9XVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdmVyc2lvbk1hbmFnZXIgPSBuZXcgVmVyc2lvbk1hbmFnZXIoKVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9hcmNnaXNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfbGF5b3V0c19sYXlvdXRfcnVudGltZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiLyoqXHJcbiAqIFdlYnBhY2sgd2lsbCByZXBsYWNlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHdpdGggX193ZWJwYWNrX3JlcXVpcmVfXy5wIHRvIHNldCB0aGUgcHVibGljIHBhdGggZHluYW1pY2FsbHkuXHJcbiAqIFRoZSByZWFzb24gd2h5IHdlIGNhbid0IHNldCB0aGUgcHVibGljUGF0aCBpbiB3ZWJwYWNrIGNvbmZpZyBpczogd2UgY2hhbmdlIHRoZSBwdWJsaWNQYXRoIHdoZW4gZG93bmxvYWQuXHJcbiAqICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4vLyBAdHMtaWdub3JlXHJcbl9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gd2luZG93LmppbXVDb25maWcuYmFzZVVybFxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHtcclxuICBSZWFjdCwgUmVhY3RET00sIGNzcywganN4LCBnZXRBcHBTdG9yZSwgdHlwZSBBbGxXaWRnZXRQcm9wcywgU2Vzc2lvbk1hbmFnZXIsIHR5cGUgRGF0YVJlY29yZFNldCwgVGltZXpvbmVDb25maWcsXHJcbiAgdXRpbHMsIEFwcE1vZGUsIHR5cGUgSU1TdGF0ZSwgY2xhc3NOYW1lcywgcG9saXNoZWQsIFJlYWN0UmVzaXplRGV0ZWN0b3IsIE11dGFibGVTdG9yZU1hbmFnZXIsIHR5cGUgSU1VcmxQYXJhbWV0ZXJzXHJcbn0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIElNQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQgTXVsdGlTb3VyY2VNYXAgZnJvbSAnLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwJ1xyXG5pbXBvcnQgRGVmYXVsdE1hcCBmcm9tICcuL2NvbXBvbmVudHMvZGVmYXVsdC1tYXAnXHJcbmltcG9ydCB7IHR5cGUgSUZlYXR1cmUgfSBmcm9tICdAZXNyaS9hcmNnaXMtcmVzdC10eXBlcydcclxuaW1wb3J0IHsgY2hlY2tJc0xpdmUsIHR5cGUgTWFwVXJsSGFzaFBhcmFtcyB9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7XHJcbiAgdHlwZSBKaW11TWFwVmlld0dyb3VwLCB0eXBlIFNob3dPbk1hcERhdGFzLCB0eXBlIEFkZFRvTWFwRGF0YXMsIHR5cGUgSmltdU1hcFZpZXcsIHR5cGUgSmltdUxheWVyVmlldyxcclxuICBEYXRhQ2hhbmdlU3RhdHVzLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBNYXBWaWV3TWFuYWdlclxyXG59IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBWaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LCBQYWdlVmlzaWJpbGl0eUNvbnRleHQsIFZpZXdWaXNpYmlsaXR5Q29udGV4dCB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcclxuaW1wb3J0IHsgdmVyc2lvbk1hbmFnZXIgfSBmcm9tICcuLi92ZXJzaW9uLW1hbmFnZXInXHJcbmltcG9ydCB7IExvYWRpbmcsIExvYWRpbmdUeXBlLCBJY29uLCBEYXRhQWN0aW9uTGlzdCwgRGF0YUFjdGlvbkxpc3RTdHlsZSB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IHR5cGUgWm9vbVRvRmVhdHVyZUFjdGlvblZhbHVlIH0gZnJvbSAnLi4vbWVzc2FnZS1hY3Rpb25zL3pvb20tdG8tZmVhdHVyZS1hY3Rpb24nXHJcbmltcG9ydCB7IHR5cGUgUGFuVG9BY3Rpb25WYWx1ZSB9IGZyb20gJy4uL21lc3NhZ2UtYWN0aW9ucy9wYW4tdG8tYWN0aW9uJ1xyXG5pbXBvcnQgZGVmYXVsdE1lc3NhZ2VzIGZyb20gJy4vdHJhbnNsYXRpb25zL2RlZmF1bHQnXHJcbmltcG9ydCB7IG1hcCB9IGZyb20gJ2xvZGFzaC1lcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uUmVsYXRlZFByb3BzIHtcclxuICB6b29tVG9GZWF0dXJlQWN0aW9uVmFsdWU/OiBab29tVG9GZWF0dXJlQWN0aW9uVmFsdWVcclxuICBwYW5Ub0FjdGlvblZhbHVlPzogUGFuVG9BY3Rpb25WYWx1ZVxyXG4gIG5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZT86IHtcclxuICAgIHZhbHVlOiB7IFtsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldCB9XHJcbiAgICBwcm9taXNlPzogUHJvbWlzZTxhbnk+XHJcbiAgfVxyXG4gIGNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7IFtsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldCB9XHJcbiAgc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlPzogSUZlYXR1cmVbXSB8IF9fZXNyaS5HcmFwaGljW11cclxuICBmbGFzaEFjdGlvblZhbHVlPzoge1xyXG4gICAgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gICAgcXVlcnlTUUw6IHN0cmluZ1xyXG4gIH1cclxuICBmaWx0ZXJBY3Rpb25WYWx1ZT86IHtcclxuICAgIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICAgIHF1ZXJ5U1FMOiBzdHJpbmdcclxuICB9XHJcbiAgc2hvd09uTWFwRGF0YXM/OiBTaG93T25NYXBEYXRhc1xyXG4gIGFkZFRvTWFwRGF0YXM/OiBBZGRUb01hcERhdGFzXHJcbn1cclxuXHJcbmludGVyZmFjZSBFeHRyYU1hcFdpZGdldFByb3BzIHtcclxuICBtdXRhYmxlU3RhdGVQcm9wcz86IEFjdGlvblJlbGF0ZWRQcm9wc1xyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBpc1ByaW50UHJldmlldzogYm9vbGVhblxyXG4gIHF1ZXJ5T2JqZWN0OiBJTVVybFBhcmFtZXRlcnNcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxuICBpc1J1bkFwcE1vZGU6IGJvb2xlYW5cclxuICBydW50aW1lVXJsSGFzaFBhcmFtczogTWFwVXJsSGFzaFBhcmFtc1xyXG4gIG1hcFRpbWVab25lOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTWFwV2lkZ2V0UHJvcHMgPSBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz4gJiBFeHRyYU1hcFdpZGdldFByb3BzXHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZ1xyXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXHJcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXHJcbiAgZGF0YUFjdGlvbkRhdGFTZXQ6IERhdGFSZWNvcmRTZXRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2lkZ2V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxNYXBXaWRnZXRQcm9wcywgU3RhdGU+IHtcclxuICBwYXJlbnRDb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIGNvbnRhaW5lckNsaWVudFJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0XHJcbiAgbXVsdGlTb3VyY2VNYXBJbnN0YW5jZTogTXVsdGlTb3VyY2VNYXAgPSBudWxsXHJcbiAgYWN0aXZlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3ID0gbnVsbFxyXG4gIHdhdGNoU2VsZWN0ZWRGZWF0dXJlSGFuZGxlOiBfX2VzcmkuV2F0Y2hIYW5kbGUgPSBudWxsXHJcbiAgZGF0YUFjdGlvbkxpc3RDb250YWluZXI6IEhUTUxFbGVtZW50ID0gbnVsbFxyXG4gIHJlYWN0aXZlVXRpbHM6IHR5cGVvZiBfX2VzcmkucmVhY3RpdmVVdGlscyA9IG51bGxcclxuICBwb3B1cERvbU5vZGVPYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciA9IG51bGxcclxuICByZWFkb25seSB3YXJuaW5nSWNvbjogc3RyaW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLndhcm5pbmdJY29uID0gYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE1XCIgdmlld0JveD1cIjAgMCAxNiAxNVwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcuMDk5MjYgNS4zNzAwNEM3LjA0NTk4IDQuODM3MjkgNy40NjQzNCA0LjM3NSA3Ljk5OTc1IDQuMzc1QzguNTM1MTYgNC4zNzUgOC45NTM1MyA0LjgzNzI4IDguOTAwMjUgNS4zNzAwNEw4LjU0OTUgOC44Nzc0OEM4LjUyMTI2IDkuMTU5OTIgOC4yODM2IDkuMzc1IDcuOTk5NzUgOS4zNzVDNy43MTU5MSA5LjM3NSA3LjQ3ODI1IDkuMTU5OTIgNy40NSA4Ljg3NzQ4TDcuMDk5MjYgNS4zNzAwNFpcIiBmaWxsPVwiIzkzODUwMFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk03Ljk5OTc1IDEyLjM3NUM4LjU1MjA0IDEyLjM3NSA4Ljk5OTc1IDExLjkyNzMgOC45OTk3NSAxMS4zNzVDOC45OTk3NSAxMC44MjI3IDguNTUyMDQgMTAuMzc1IDcuOTk5NzUgMTAuMzc1QzcuNDQ3NDcgMTAuMzc1IDYuOTk5NzUgMTAuODIyNyA2Ljk5OTc1IDExLjM3NUM2Ljk5OTc1IDExLjkyNzMgNy40NDc0NyAxMi4zNzUgNy45OTk3NSAxMi4zNzVaXCIgZmlsbD1cIiM5Mzg1MDBcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xLjY2NjQyIDE0LjM3NUMwLjkxMTUgMTQuMzc1IDAuNDI4ODExIDEzLjU3MDUgMC43ODQwNjcgMTIuOTA0NEw3LjExNzQgMS4wMjk0MUM3LjQ5Mzg3IDAuMzIzNTI5IDguNTA1NjQgMC4zMjM1MjkgOC44ODIxMSAxLjAyOTQxTDE1LjIxNTQgMTIuOTA0NEMxNS41NzA3IDEzLjU3MDUgMTUuMDg4IDE0LjM3NSAxNC4zMzMxIDE0LjM3NUgxLjY2NjQyWk0xLjY2NjQyIDEzLjM3NUw3Ljk5OTc1IDEuNUwxNC4zMzMxIDEzLjM3NUgxLjY2NjQyWlwiIGZpbGw9XCIjOTM4NTAwXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICB3aWR0aEJyZWFrcG9pbnQ6IG51bGwsXHJcbiAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcclxuICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZSxcclxuICAgICAgZGF0YUFjdGlvbkRhdGFTZXQ6IG51bGxcclxuICAgIH0gYXMgU3RhdGVcclxuXHJcbiAgICB0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIuY2xhc3NOYW1lID0gJ2RhdGEtYWN0aW9uLWxpc3Qtd3JhcHBlcidcclxuXHJcbiAgICB0aGlzLmxvYWRSZWFjdGl2ZVV0aWxzKClcclxuICB9XHJcblxyXG4gIGdldFdpZGdldFN5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLm1hcC1sb2FkaW5nLWJhciB7XHJcbiAgICAgICAgei1pbmRleDogODtcclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcC13YXJuaW5nLWJhciB7XHJcbiAgICAgICAgei1pbmRleDogODtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiA0cHg7XHJcbiAgICAgICAgbGVmdDogNHB4O1xyXG4gICAgICAgIHJpZ2h0OiA0cHg7XHJcbiAgICAgICAgaGVpZ2h0OiAzNXB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmZkZWI7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjU5MjtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cclxuICAgICAgICAud2FybmluZy1pY29uIHtcclxuICAgICAgICAgIHdpZHRoOiAxNHB4O1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDEycHggMCAxMnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcC1maXgtbGF5b3V0IHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDc7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5oaWRlLW1hcC10b29scy1sYXlvdXQgLm1hcC10b29sLWxheW91dHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXNyaS12aWV3LXJvb3QgPiAuZXNyaS11aSB7XHJcbiAgICAgICAgei1pbmRleDogdW5zZXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5lc3JpLXVpLW1hbnVhbC1jb250YWluZXIgLmVzcmktc3dpcGUge1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5lc3JpLXVpIC5lc3JpLXBvcHVwIHtcclxuICAgICAgICB6LWluZGV4OiA5O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZGF0YS1hY3Rpb24tbGlzdC13cmFwcGVyIHtcclxuICAgICAgICBtYXJnaW46IDNweDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgLm1hcC1pcy1saXZlLW1vZGUge1xyXG4gICAgICAgIC5leGJtYXAtdWkge1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5pcy13aWRnZXQge1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC53aWRnZXQtbWFwLXVzZW1hc2sge1xyXG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXAtaXMtZGVzaWduLW1vZGUge1xyXG4gICAgICAgIC5leGJtYXAtdWksXHJcbiAgICAgICAgLmV4Ym1hcC11aS10b29sIHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaXMtd2lkZ2V0IHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcHtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogLTE7XHJcbiAgICAgICAgLm92ZXJ2aWV3LWNvbnRhaW5lcntcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHRvcDogMTJweDtcclxuICAgICAgICAgIHJpZ2h0OiAxMnB4O1xyXG4gICAgICAgICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5leHRlbnQtY29udGFpbmVye1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgei1pbmRleDogMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5leHRlbnQtYnRuLWNvbnRhaW5lcntcclxuICAgICAgICAgIGJ1dHRvbntcclxuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5wcmV2aW91cy1leHRlbnQtYnRue1xyXG4gICAgICAgICAgICBjb2xvcjogIzExMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5uZXh0LWV4dGVudC1idG57XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMjIyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcHN3aXRjaC1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiA3O1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgICBib3R0b206IDEwcHg7XHJcbiAgICAgICAgbGVmdDogMTBweDtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXBzd2l0Y2gtaWNvbiB7XHJcbiAgICAgICAgZmlsbDogYmxhY2s7XHJcbiAgICAgICAgbGVmdDogOHB4O1xyXG4gICAgICAgIHRvcDogOHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLndpZGdldC1tYXAtYmFja2dyb3VuZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLndoaXRlLCAwLjg1KX07XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkLWxhYmVsLXBhZGRpbmcge1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyNCl9O1xyXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMjQpfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xyXG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfTtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgQGtleWZyYW1lcyBhcHBlYXIge1xyXG4gICAgICAgIDAle29wYWNpdHk6MH1cclxuICAgICAgICAyNSV7b3BhY2l0eTouMjV9XHJcbiAgICAgICAgNTAle29wYWNpdHk6LjU7fVxyXG4gICAgICAgIDc1JXtvcGFjaXR5Oi43NX1cclxuICAgICAgICAxMDAle29wYWNpdHk6MTt9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEBrZXlmcmFtZXMgZGlzYXBwZWFyIHtcclxuICAgICAgICAwJXtvcGFjaXR5OjF9XHJcbiAgICAgICAgMjUle29wYWNpdHk6Ljc1fVxyXG4gICAgICAgIDUwJXtvcGFjaXR5Oi41O31cclxuICAgICAgICA3NSV7b3BhY2l0eTouMjV9XHJcbiAgICAgICAgMTAwJXtvcGFjaXR5OjA7fVxyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb246IGFwcGVhciAzMDBtcztcclxuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZGlzYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcclxuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlIHtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG5cclxuICBtYXBDbGlja2VkID0gZmFsc2U7IC8vIEFkZCBhIGZsYWcgdG8gdHJhY2sgaWYgdGhlIG1hcCBpcyBjbGlja2VkXHJcblxyXG4gIGhhbmRsZUNsaWNrT3V0c2lkZU1hcCA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5jb250YWluZXIuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgdGhpcy5tYXBDbGlja2VkID0gdHJ1ZTsgLy8gU2V0IHRoZSBmbGFnIHRvIHRydWUgaWYgdGhlIG1hcCBpcyBjbGlja2VkXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGlja091dHNpZGVNYXApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlTWFwU2Nyb2xsaW5nID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuYWN0aXZlSmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy52aWV3LmNvbnRhaW5lci5zdHlsZS50b3VjaEFjdGlvbiA9ICdhdXRvJztcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy52aWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkID0gdHJ1ZTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRpc2FibGVNYXBTY3JvbGxpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzYWJsZU1hcFNjcm9sbGluZyA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmVKaW11TWFwVmlldy52aWV3ICYmICF0aGlzLmNvbnRhaW5lci5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3LnZpZXcuY29udGFpbmVyLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnO1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3LnZpZXcubmF2aWdhdGlvbi5tb3VzZVdoZWVsWm9vbUVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRpc2FibGVNYXBTY3JvbGxpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHZlcnNpb25NYW5hZ2VyID0gdmVyc2lvbk1hbmFnZXJcclxuXHJcbiAgc3RhdGljIG1hcEV4dHJhU3RhdGVQcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgcHJvcHM6IEFsbFdpZGdldFByb3BzPElNQ29uZmlnPik6IEV4dHJhTWFwV2lkZ2V0UHJvcHMgPT4ge1xyXG4gICAgbGV0IGF1dG9Db250cm9sV2lkZ2V0SWQgPSAnJ1xyXG5cclxuICAgIGNvbnN0IG1hcFdpZGdldElkID0gcHJvcHMuaWRcclxuXHJcbiAgICBpZiAoc3RhdGUubWFwV2lkZ2V0c0luZm8gJiYgbWFwV2lkZ2V0SWQpIHtcclxuICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZCA9IHN0YXRlLm1hcFdpZGdldHNJbmZvW21hcFdpZGdldElkXT8uYXV0b0NvbnRyb2xXaWRnZXRJZCB8fCAnJ1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFwcE1vZGUgPSBzdGF0ZSAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbyAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mby5hcHBNb2RlXHJcbiAgICBjb25zdCBpc1J1bkFwcE1vZGUgPSBhcHBNb2RlID09PSBBcHBNb2RlLlJ1blxyXG5cclxuICAgIGxldCBydW50aW1lVXJsSGFzaFBhcmFtczogTWFwVXJsSGFzaFBhcmFtcyA9IG51bGxcclxuXHJcbiAgICBpZiAoaXNSdW5BcHBNb2RlICYmIHN0YXRlLnVybEhhc2hPYmplY3QpIHtcclxuICAgICAgcnVudGltZVVybEhhc2hQYXJhbXMgPSBzdGF0ZS51cmxIYXNoT2JqZWN0W21hcFdpZGdldElkXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hcFZpZXcudGltZVpvbmVcclxuICAgIGxldCBtYXBUaW1lWm9uZTogc3RyaW5nID0gJydcclxuXHJcbiAgICBjb25zdCB0aW1lWm9uZUluZm8gPSBzdGF0ZS5hcHBDb25maWc/LmF0dHJpYnV0ZXM/LnRpbWV6b25lXHJcblxyXG4gICAgaWYgKHRpbWVab25lSW5mbykge1xyXG4gICAgICAvLyB1c2VyIHNldHMgdGltZVpvbmUgaW5mbyBpbiBFeEJcclxuICAgICAgaWYgKHRpbWVab25lSW5mby50eXBlID09PSBUaW1lem9uZUNvbmZpZy5EZXZpY2UpIHtcclxuICAgICAgICBtYXBUaW1lWm9uZSA9ICdzeXN0ZW0nXHJcbiAgICAgIH0gZWxzZSBpZiAodGltZVpvbmVJbmZvLnR5cGUgPT09IFRpbWV6b25lQ29uZmlnLlNwZWNpZmljKSB7XHJcbiAgICAgICAgbWFwVGltZVpvbmUgPSB0aW1lWm9uZUluZm8udmFsdWVcclxuICAgICAgfSBlbHNlIGlmICh0aW1lWm9uZUluZm8udHlwZSA9PT0gVGltZXpvbmVDb25maWcuRGF0YSkge1xyXG4gICAgICAgIC8vIHNldCBtYXBUaW1lWm9uZSB0byBlbXB0eSwgbWVhbnMgd2UgbmVlZCB0byB1c2VzIE1hcFZpZXdlcidzIHRpbWVab25lXHJcbiAgICAgICAgbWFwVGltZVpvbmUgPSAnJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBpZiB1c2VyIGRvZXNuJ3Qgc2V0IHRpbWVab25lIGluZm8gaW4gRXhCLCB3ZSBzaG91bGQgdXNlICdzeXN0ZW0nIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgICAgIG1hcFRpbWVab25lID0gJ3N5c3RlbSdcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhcHBNb2RlOiBhcHBNb2RlLFxyXG4gICAgICBpc1ByaW50UHJldmlldzogc3RhdGUuYXBwUnVudGltZUluZm8uaXNQcmludFByZXZpZXcsXHJcbiAgICAgIHF1ZXJ5T2JqZWN0OiBzdGF0ZS5xdWVyeU9iamVjdCxcclxuICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZCxcclxuICAgICAgaXNSdW5BcHBNb2RlLFxyXG4gICAgICBydW50aW1lVXJsSGFzaFBhcmFtcyxcclxuICAgICAgbWFwVGltZVpvbmVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0UmVuZGVyTWFwID0gKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM6IHRydWVcclxuICAgICAgfSlcclxuICAgIH0sIDEwMClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGlja091dHNpZGVNYXApXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlcykge1xyXG4gICAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgfHwgIXRoaXMucHJvcHMuY29uZmlnLmNhblBsYWNlSG9sZGVyKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFJlbmRlck1hcCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBNYXBXaWRnZXRQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xyXG4gICAgLy8gY2hlY2sgaWYgcHJvcHMuc3RhdGUgY2hhbmdlZCBvciBub3RcclxuICAgIGNvbnN0IHByZVdpZGdldFN0YXRlID0gcHJldlByb3BzLnN0YXRlXHJcbiAgICBjb25zdCBjdXJyV2lkZ2V0U3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlXHJcbiAgICBpZiAocHJlV2lkZ2V0U3RhdGUgIT09IGN1cnJXaWRnZXRTdGF0ZSkge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld3MgPSB0aGlzLmdldEppbXVNYXBWaWV3cygpXHJcbiAgICAgIGppbXVNYXBWaWV3cy5mb3JFYWNoKChqaW11TWFwVmlldykgPT4ge1xyXG4gICAgICAgIGppbXVNYXBWaWV3LnNldE1hcFdpZGdldFN0YXRlKGN1cnJXaWRnZXRTdGF0ZSlcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiBwcm9wcy5jb25maWcuc2hvd1BvcHVwVXBvblNlbGVjdGlvbiBjaGFuZ2VkIG9yIG5vdFxyXG4gICAgY29uc3QgcHJlU2hvd1BvcHVwVXBvblNlbGVjdGlvbiA9ICEhKHByZXZQcm9wcz8uY29uZmlnPy5zaG93UG9wdXBVcG9uU2VsZWN0aW9uKVxyXG4gICAgY29uc3QgY3VyU2hvd1BvcHVwVXBvblNlbGVjdGlvbiA9ICEhKHRoaXMucHJvcHM/LmNvbmZpZz8uc2hvd1BvcHVwVXBvblNlbGVjdGlvbilcclxuXHJcbiAgICBpZiAocHJlU2hvd1BvcHVwVXBvblNlbGVjdGlvbiAhPT0gY3VyU2hvd1BvcHVwVXBvblNlbGVjdGlvbikge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld3MgPSB0aGlzLmdldEppbXVNYXBWaWV3cygpXHJcbiAgICAgIGppbXVNYXBWaWV3cy5mb3JFYWNoKChqaW11TWFwVmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U2hvd1BvcHVwVXBvblNlbGVjdGlvbkZvckppbXVNYXBWaWV3KGppbXVNYXBWaWV3KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIHByb3BzLmVuYWJsZURhdGFBY3Rpb24gY2hhbmdlZCBvciBub3RcclxuICAgIGNvbnN0IHByZUVuYWJsZURhdGFBY3Rpb24gPSBwcmV2UHJvcHM/LmVuYWJsZURhdGFBY3Rpb25cclxuICAgIGNvbnN0IGN1cnJFbmFibGVEYXRhQWN0aW9uID0gdGhpcy5wcm9wcy5lbmFibGVEYXRhQWN0aW9uXHJcblxyXG4gICAgaWYgKHByZUVuYWJsZURhdGFBY3Rpb24gIT09IGN1cnJFbmFibGVEYXRhQWN0aW9uKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlbmFibGVEYXRhQWN0aW9uIGNoYW5nZWQnKVxyXG4gICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb25XaGVuUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UodGhpcy5hY3RpdmVKaW11TWFwVmlldylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxTY3JlZW5IYW5sZGVyKVxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbFNjcmVlbkhhbmxkZXIpXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlTWFwKVxyXG4gICAgaWYgKCF3aWRnZXRzW3RoaXMucHJvcHMuaWRdKSB7XHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuaWQsICdyZXN0b3JlRGF0YScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRKaW11TWFwVmlld3MgKCk6IEppbXVNYXBWaWV3W10ge1xyXG4gICAgbGV0IGppbXVNYXBWaWV3czogSmltdU1hcFZpZXdbXSA9IFtdXHJcblxyXG4gICAgY29uc3QgamltdU1hcFZpZXdHcm91cCA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdHcm91cCh0aGlzLnByb3BzLmlkKVxyXG5cclxuICAgIGlmIChqaW11TWFwVmlld0dyb3VwKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3cyA9IGppbXVNYXBWaWV3R3JvdXAuZ2V0QWxsSmltdU1hcFZpZXdzKClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gamltdU1hcFZpZXdzXHJcbiAgfVxyXG5cclxuICBnZXRQbGFjZUhvbGRlckltYWdlID0gKCkgPT4ge1xyXG4gICAgbGV0IHBsYWNlSG9sZGVySW1hZ2UgPSB0aGlzLnByb3BzLmNvbmZpZy5wbGFjZWhvbGRlckltYWdlXHJcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpXHJcbiAgICBpZiAocGxhY2VIb2xkZXJJbWFnZSkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgY29uc3QgaXNQb3J0YWxUaHVtYkV4cCA9IG5ldyBSZWdFeHAoJ14oLikrL3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyguKSsvaW5mby8oLikrJylcclxuXHJcbiAgICAgIGlmIChpc1BvcnRhbFRodW1iRXhwLnRlc3QocGxhY2VIb2xkZXJJbWFnZSkpIHtcclxuICAgICAgICBpZiAoc2Vzc2lvbikge1xyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2UgKyBgP3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGxhY2VIb2xkZXJJbWFnZVxyXG4gIH1cclxuXHJcbiAgZnVsbFNjcmVlbkhhbmxkZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmICghKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgJiYgIShkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bGxTY3JlZW5NYXAgPSAoKSA9PiB7XHJcbiAgICBpZiAodXRpbHMuaXNUb3VjaERldmljZSgpKSB7XHJcbiAgICAgIC8vIGlzIHRvdWNoIGRldmljZVxyXG4gICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QuaGVpZ2h0fXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LndpZHRofXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC50b3B9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC5sZWZ0fXB4YFxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ25vbmUnXHJcbiAgICAgICAgICB0aGlzLnBhcmVudENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcilcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDEwMClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBjbGllbnRSZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QgPSBjbGllbnRSZWN0XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7Y2xpZW50UmVjdC5oZWlnaHR9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHtjbGllbnRSZWN0LndpZHRofXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke2NsaWVudFJlY3QudG9wfXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtjbGllbnRSZWN0LmxlZnR9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4ID0gJzEnXHJcblxyXG4gICAgICAgIGRvY3VtZW50ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICd0b3AgMC4zcywgYm90dG9tIDAuM3MsIGxlZnQgMC4zcywgcmlnaHQgMC4zcywgaGVpZ2h0IDAuM3MsIHdpZHRoIDAuM3MnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwcHgnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5yaWdodCA9ICcwcHgnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbFxyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgMTAwKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb250YWluZXIgYXMgYW55XHJcblxyXG4gICAgICBpZiAoIWRvY3VtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxTY3JlZW5IYW5sZGVyKVxyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsU2NyZWVuSGFubGRlcilcclxuXHJcbiAgICAgIGlmICgoZG9jdW1lbnQgYXMgYW55KS5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudCkge1xyXG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLmV4aXRGdWxsc2NyZWVuKClcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoKGRvY3VtZW50IGFzIGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKClcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0TWV0aG9kID0gZWxlbWVudC5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC5tc1JlcXVlc3RGdWxsU2NyZWVuXHJcbiAgICAgIGlmIChyZXF1ZXN0TWV0aG9kKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJlcXVlc3RNZXRob2QuY2FsbChlbGVtZW50KVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuQWN0aXZlWE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zdCB3c2NyaXB0ID0gbmV3IEFjdGl2ZVhPYmplY3QoJ1dTY3JpcHQuU2hlbGwnKVxyXG4gICAgICAgIGlmICh3c2NyaXB0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICB3c2NyaXB0LlNlbmRLZXlzKCd7RjExfScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XHJcbiAgICBpZiAodmlld0dyb3VwKSB7XHJcbiAgICAgIHZpZXdHcm91cC5zZXRNYXBXaWRnZXRJbnN0YW5jZSh0aGlzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25KaW11TWFwVmlld0NyZWF0ZWQgPSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB7XHJcbiAgICBqaW11TWFwVmlldy5zZXRNYXBXaWRnZXRTdGF0ZSh0aGlzLnByb3BzLnN0YXRlKVxyXG4gICAgdGhpcy5zZXRTaG93UG9wdXBVcG9uU2VsZWN0aW9uRm9ySmltdU1hcFZpZXcoamltdU1hcFZpZXcpXHJcbiAgICBjb25zdCBtYXBDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lclxyXG4gICAgaWYgKG1hcENvbnRhaW5lcikge1xyXG4gICAgICBtYXBDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmVuYWJsZU1hcFNjcm9sbGluZylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQWN0aXZlSmltdU1hcFZpZXdDaGFuZ2UgPSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB7XHJcbiAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3ID0gamltdU1hcFZpZXdcclxuICAgIHRoaXMud2F0Y2hQb3B1cFNlbGVjdGVkRmVhdHVyZUNoYW5nZSgpXHJcbiAgfVxyXG5cclxuICBzZXRTaG93UG9wdXBVcG9uU2VsZWN0aW9uRm9ySmltdU1hcFZpZXcgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykge1xyXG4gICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LnNldFNob3dQb3B1cFVwb25TZWxlY3Rpb24oISF0aGlzLnByb3BzLmNvbmZpZy5zaG93UG9wdXBVcG9uU2VsZWN0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoTWFwID0gYXN5bmMgKGlnbm9yZVN3aXRjaEFuaW1hdGlvbiA9IGZhbHNlKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgIGlmICh0aGlzLm11bHRpU291cmNlTWFwSW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZS5zd2l0Y2hNYXAoaWdub3JlU3dpdGNoQW5pbWF0aW9uKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2UgPSAoaW5zdGFuY2U6IE11bHRpU291cmNlTWFwKSA9PiB7XHJcbiAgICB0aGlzLm11bHRpU291cmNlTWFwSW5zdGFuY2UgPSBpbnN0YW5jZVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh3aWR0aCA8PSA1NDUgJiYgd2lkdGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ3hzbWFsbCcsXHJcbiAgICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHRcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ290aGVyJyxcclxuICAgICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNMb2FkaW5nRGlzcGxheWVkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYWRkVG9NYXBEYXRhczogQWRkVG9NYXBEYXRhcyA9IHRoaXMucHJvcHMubXV0YWJsZVN0YXRlUHJvcHM/LmFkZFRvTWFwRGF0YXMgfHwge31cclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGFkZFRvTWFwRGF0YXMpLnNvbWUodmFsdWUgPT4gdmFsdWU/LmRhdGFDaGFuZ2VTdGF0dXMgPT09IERhdGFDaGFuZ2VTdGF0dXMuUGVuZGluZylcclxuICB9XHJcblxyXG4gIGlzV2FybmluZ0Rpc3BsYXllZCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGFkZFRvTWFwRGF0YXM6IEFkZFRvTWFwRGF0YXMgPSB0aGlzLnByb3BzLm11dGFibGVTdGF0ZVByb3BzPy5hZGRUb01hcERhdGFzIHx8IHt9XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhhZGRUb01hcERhdGFzKS5zb21lKHZhbHVlID0+IHZhbHVlPy5kYXRhQ2hhbmdlU3RhdHVzID09PSBEYXRhQ2hhbmdlU3RhdHVzLlJlamVjdGVkKVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5uZXJDb250ZW50ID0gKGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhbikgPT4ge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXMpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtbWFwIHctMTAwIGgtMTAwJz5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfX0gY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9e3JlZiA9PiB7IHRoaXMucGFyZW50Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnXHJcbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJywgeyAnbWFwLWlzLWRlc2lnbi1tb2RlJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9PlxyXG4gICAgICAgICAgICAgICAgPERlZmF1bHRNYXBcclxuICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbk1hcD17dGhpcy5mdWxsU2NyZWVuTWFwfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0TWFwIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2U9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX1cclxuICAgICAgICAgICAgICAgICAgb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfVxyXG4gICAgICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5vbkppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgICAgICAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZT17dGhpcy5vbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICB3aWRnZXRIZWlnaHQ9e3RoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0fSB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMuc3RhdGUud2lkdGhCcmVha3BvaW50fSBpc0Z1bGxTY3JlZW49e3RoaXMuc3RhdGUuaXNGdWxsU2NyZWVufSBpc01hcEluVmlzaWJsZUFyZWE9e2lzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC9EZWZhdWx0TWFwPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZVdpZHRoIGhhbmRsZUhlaWdodCBvblJlc2l6ZT17dGhpcy5vblJlc2l6ZX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgcmVmPXtyZWYgPT4geyB0aGlzLnBhcmVudENvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJ1xyXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCcsIHsgJ21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpIH0pfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+PSAxICYmXHJcbiAgICAgICAgICAgICAgICAgIDxNdWx0aVNvdXJjZU1hcFxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17MX0gZnVsbFNjcmVlbk1hcD17dGhpcy5mdWxsU2NyZWVuTWFwfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX1cclxuICAgICAgICAgICAgICAgICAgICBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMub25KaW11TWFwVmlld0NyZWF0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZT17dGhpcy5vbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5zdGF0ZS53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5zdGF0ZS53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGdWxsU2NyZWVuPXt0aGlzLnN0YXRlLmlzRnVsbFNjcmVlbn0gaXNNYXBJblZpc2libGVBcmVhPXtpc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgICAvPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50UG9wdXBTZWxlY3RlZEZlYXR1cmUgKCk6IF9fZXNyaS5HcmFwaGljIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3Py52aWV3Py5wb3B1cD8uc2VsZWN0ZWRGZWF0dXJlXHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkUmVhY3RpdmVVdGlscyAoKSB7XHJcbiAgICBbdGhpcy5yZWFjdGl2ZVV0aWxzXSA9IGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL2NvcmUvcmVhY3RpdmVVdGlscyddKSBhcyBbdHlwZW9mIF9fZXNyaS5yZWFjdGl2ZVV0aWxzXVxyXG4gICAgdGhpcy53YXRjaFBvcHVwU2VsZWN0ZWRGZWF0dXJlQ2hhbmdlKClcclxuICB9XHJcblxyXG4gIGFzeW5jIHdhdGNoUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UgKCkge1xyXG4gICAgaWYgKHRoaXMud2F0Y2hTZWxlY3RlZEZlYXR1cmVIYW5kbGUpIHtcclxuICAgICAgdGhpcy53YXRjaFNlbGVjdGVkRmVhdHVyZUhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLndhdGNoU2VsZWN0ZWRGZWF0dXJlSGFuZGxlID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFjdGl2ZUppbXVNYXBWaWV3ID0gdGhpcy5hY3RpdmVKaW11TWFwVmlld1xyXG5cclxuICAgIGlmICghYWN0aXZlSmltdU1hcFZpZXcgfHwgIXRoaXMucmVhY3RpdmVVdGlscykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nZXRDdXJyZW50UG9wdXBTZWxlY3RlZEZlYXR1cmUoKSkge1xyXG4gICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb25XaGVuUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UoYWN0aXZlSmltdU1hcFZpZXcpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy53YXRjaFNlbGVjdGVkRmVhdHVyZUhhbmRsZSA9IHRoaXMucmVhY3RpdmVVdGlscy53YXRjaCgoKSA9PiBhY3RpdmVKaW11TWFwVmlldz8udmlldz8ucG9wdXA/LnNlbGVjdGVkRmVhdHVyZSwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb25XaGVuUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UoYWN0aXZlSmltdU1hcFZpZXcpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGFuZGxlRGF0YUFjdGlvbldoZW5Qb3B1cFNlbGVjdGVkRmVhdHVyZUNoYW5nZSAoYWN0aXZlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IGFjdGl2ZUppbXVNYXBWaWV3Py52aWV3Py5wb3B1cFxyXG4gICAgY29uc3Qgb3JpZ2luYWxTZWxlY3RlZEZlYXR1cmUgPSBwb3B1cD8uc2VsZWN0ZWRGZWF0dXJlXHJcblxyXG4gICAgLy8gZmlyc3RseSwgd2UgbmVlZCB0byByZW1vdmUgZGF0YUFjdGlvbkxpc3RDb250YWluZXIgZnJvbSBwb3B1cCBkb21Ob2RlLFxyXG4gICAgLy8gd2hlbiBzdGF0ZS5kYXRhQWN0aW9uRGF0YVNldCBpcyByZWFkeSwgd2UgY2FuIGFkZCBkYXRhQWN0aW9uTGlzdENvbnRhaW5lciB0byBwb3B1cCBkb21Ob2RlXHJcbiAgICBpZiAodGhpcy5kYXRhQWN0aW9uTGlzdENvbnRhaW5lci5wYXJlbnROb2RlKSB7XHJcbiAgICAgIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVsZWFzZVBvcHVwRG9tTm9kZU9ic2VydmVyKClcclxuXHJcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZURhdGFBY3Rpb25EYXRhU2V0KG51bGwpXHJcblxyXG4gICAgY29uc3QgaXNEYXRhQWN0aW9uRW5hYmxlZCA9IHRoaXMuaXNEYXRhQWN0aW9uRW5hYmxlZCgpXHJcblxyXG4gICAgaWYgKGlzRGF0YUFjdGlvbkVuYWJsZWQgJiYgb3JpZ2luYWxTZWxlY3RlZEZlYXR1cmUpIHtcclxuICAgICAgY29uc3QgZGF0YUFjdGlvbkRhdGFTZXQgPSBhd2FpdCB0aGlzLmdldERhdGFBY3Rpb25EYXRhU2V0KGFjdGl2ZUppbXVNYXBWaWV3LCBvcmlnaW5hbFNlbGVjdGVkRmVhdHVyZSlcclxuXHJcbiAgICAgIC8vIGdldERhdGFBY3Rpb25EYXRhU2V0IG1heSB0YWtlIGEgbG9uZyB0aW1lLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIHNob3VsZCB3ZSBnbyBvbiBvciBub3RcclxuICAgICAgaWYgKHRoaXMuZ2V0Q3VycmVudFBvcHVwU2VsZWN0ZWRGZWF0dXJlKCkgIT09IG9yaWdpbmFsU2VsZWN0ZWRGZWF0dXJlKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGF0YUFjdGlvbkRhdGFTZXQoZGF0YUFjdGlvbkRhdGFTZXQpXHJcblxyXG4gICAgICBpZiAodGhpcy5nZXRDdXJyZW50UG9wdXBTZWxlY3RlZEZlYXR1cmUoKSAhPT0gb3JpZ2luYWxTZWxlY3RlZEZlYXR1cmUpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy53YXRjaFBvcHVwRG9tTm9kZUNoYW5nZShwb3B1cClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZURhdGFBY3Rpb25EYXRhU2V0IChkYXRhQWN0aW9uRGF0YVNldDogRGF0YVJlY29yZFNldCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRhdGFBY3Rpb25EYXRhU2V0XHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZWxlYXNlUG9wdXBEb21Ob2RlT2JzZXJ2ZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucG9wdXBEb21Ob2RlT2JzZXJ2ZXIpIHtcclxuICAgICAgdGhpcy5wb3B1cERvbU5vZGVPYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgdGhpcy5wb3B1cERvbU5vZGVPYnNlcnZlciA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHdhdGNoUG9wdXBEb21Ob2RlQ2hhbmdlIChwb3B1cDogX19lc3JpLlBvcHVwKSB7XHJcbiAgICB0aGlzLnJlbGVhc2VQb3B1cERvbU5vZGVPYnNlcnZlcigpXHJcblxyXG4gICAgY29uc3QgcG9wdXBEb21Ob2RlID0gKChwb3B1cCBhcyBhbnkpLmRvbU5vZGUgfHwgKHBvcHVwIGFzIGFueSkuY29udGFpbmVyKSBhcyBIVE1MRWxlbWVudFxyXG5cclxuICAgIHRoaXMudHJ5QXBwZW5kRGF0YUFjdGlvbkxpc3REb21Ob2RlVG9Qb3B1cChwb3B1cERvbU5vZGUpXHJcblxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgIHN1YnRyZWU6IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbnNMaXN0KSA9PiB7XHJcbiAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkge1xyXG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0Jykge1xyXG4gICAgICAgICAgdGhpcy50cnlBcHBlbmREYXRhQWN0aW9uTGlzdERvbU5vZGVUb1BvcHVwKHBvcHVwRG9tTm9kZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKVxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShwb3B1cERvbU5vZGUsIGNvbmZpZylcclxuICAgIHRoaXMucG9wdXBEb21Ob2RlT2JzZXJ2ZXIgPSBvYnNlcnZlclxyXG4gIH1cclxuXHJcbiAgdHJ5QXBwZW5kRGF0YUFjdGlvbkxpc3REb21Ob2RlVG9Qb3B1cCAocG9wdXBEb21Ob2RlOiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3Qgc2VsZWN0b3IgPSAnY2FsY2l0ZS1hY3Rpb24tYmFyW3Nsb3Q9XCJhY3Rpb24tYmFyXCJdJ1xyXG4gICAgY29uc3QgcG9wdXBBY3Rpb25zQ29udGFpbmVyID0gcG9wdXBEb21Ob2RlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXHJcblxyXG4gICAgaWYgKHBvcHVwQWN0aW9uc0NvbnRhaW5lciAmJiAhcG9wdXBBY3Rpb25zQ29udGFpbmVyLmNvbnRhaW5zKHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIpKSB7XHJcbiAgICAgIC8vIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIgaXMgbm90IGluIHBvcHVwXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGFBY3Rpb25EYXRhU2V0KSB7XHJcbiAgICAgICAgLy8gRGF0YUFjdGlvbkxpc3QgZG9tTm9kZSBpcyByZWFkeSwgd2UgY2FuIGFkZCBpdCB0byBwb3B1cCBkb21Ob2RlIG5vd1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYXBwZW5kIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIgaW50byBwb3B1cEFjdGlvbnNDb250YWluZXIgYXMgdGhlIGZpcnN0IGNoaWxkXHJcbiAgICAgICAgaWYgKHBvcHVwQWN0aW9uc0NvbnRhaW5lci5maXJzdENoaWxkKSB7XHJcbiAgICAgICAgICBwb3B1cEFjdGlvbnNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIsIHBvcHVwQWN0aW9uc0NvbnRhaW5lci5maXJzdENoaWxkKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwb3B1cEFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kYXRhQWN0aW9uTGlzdENvbnRhaW5lcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldERhdGFBY3Rpb25EYXRhU2V0IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIHNlbGVjdGVkRmVhdHVyZTogX19lc3JpLkdyYXBoaWMpIHtcclxuICAgIGxldCBqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3ID0gbnVsbFxyXG5cclxuICAgIC8vIElmIHRoZSBzZWxlY3RlZEZlYXR1cmUgaXMgZnJvbSBKaW11TGF5ZXJWaWV3IHNlbGVjdGlvbiwgd2UgY2FuIGdldCB0aGUgamltdUxheWVyVmlld0lkLlxyXG4gICAgLy8gU2VlIEppbXVGZWF0dXJlTGF5ZXJWaWV3LmdldFNlbGVjdGVkRmVhdHVyZXMoKSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAgY29uc3QgamltdUxheWVyVmlld0lkID0gKHNlbGVjdGVkRmVhdHVyZSBhcyBhbnkpLmppbXVMYXllclZpZXdJZFxyXG5cclxuICAgIGlmIChqaW11TGF5ZXJWaWV3SWQpIHtcclxuICAgICAgamltdUxheWVyVmlldyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzW2ppbXVMYXllclZpZXdJZF1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBqaW11TGF5ZXJWaWV3IGlzIHN0aWxsIG51bGwsIG1lYW5zIHRoZSBzZWxlY3RlZEZlYXR1cmUgY29tZXMgZnJvbSBjbGlja2luZyBtYXAsIHdlIGNhbiB0cnkgdG8gZmluZCB0aGUgamltdUxheWVyVmlldyBieSBsYXllci5cclxuICAgIGlmICghamltdUxheWVyVmlldykge1xyXG4gICAgICBjb25zdCBhbGxKaW11TGF5ZXJWaWV3cyA9IE9iamVjdC52YWx1ZXMoamltdU1hcFZpZXcuamltdUxheWVyVmlld3MpXHJcblxyXG4gICAgICBpZiAoc2VsZWN0ZWRGZWF0dXJlLmxheWVyKSB7XHJcbiAgICAgICAgamltdUxheWVyVmlldyA9IGFsbEppbXVMYXllclZpZXdzLmZpbmQoaXRlbSA9PiBpdGVtLmxheWVyID09PSBzZWxlY3RlZEZlYXR1cmUubGF5ZXIpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghamltdUxheWVyVmlldykge1xyXG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3RlZCBmZWF0dXJlIGNvbW1lcyBmcm9tIGVzcmkubGF5ZXJzLnN1cHBvcnQuU3VibGF5ZXIsIHRoZW4gdGhlIHNlbGVjdGVkRmVhdHVyZS5sYXllciBpcyBudWxsIGFuZCBzZWxlY3RlZEZlYXR1cmUuc291cmNlTGF5ZXIgaXMgbm90IG51bGwuXHJcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSAoc2VsZWN0ZWRGZWF0dXJlIGFzIGFueSkuc291cmNlTGF5ZXJcclxuXHJcbiAgICAgICAgaWYgKHNvdXJjZUxheWVyKSB7XHJcbiAgICAgICAgICBqaW11TGF5ZXJWaWV3ID0gYWxsSmltdUxheWVyVmlld3MuZmluZChpdGVtID0+IGl0ZW0ubGF5ZXIgPT09IHNvdXJjZUxheWVyKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghamltdUxheWVyVmlldykge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGxldCBsYXllckRhdGFTb3VyY2UgPSBqaW11TGF5ZXJWaWV3LmdldExheWVyRGF0YVNvdXJjZSgpXHJcblxyXG4gICAgaWYgKCFsYXllckRhdGFTb3VyY2UpIHtcclxuICAgICAgbGF5ZXJEYXRhU291cmNlID0gYXdhaXQgamltdUxheWVyVmlldy5jcmVhdGVMYXllckRhdGFTb3VyY2UoKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChsYXllckRhdGFTb3VyY2UpIHtcclxuICAgICAgY29uc3Qgc291cmNlTGFiZWwgPSBsYXllckRhdGFTb3VyY2UuZ2V0TGFiZWwoKSB8fCAnJ1xyXG4gICAgICBjb25zdCBzdHJpbmdLZXkgPSAnbWFwQ3VycmVudFJlY29yZCdcclxuICAgICAgY29uc3QgZGF0YVNldE5hbWUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiBzdHJpbmdLZXksIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbc3RyaW5nS2V5XSB9LCB7IGxheWVyTmFtZTogc291cmNlTGFiZWwgfSlcclxuICAgICAgY29uc3QgcmVjb3JkID0gbGF5ZXJEYXRhU291cmNlLmJ1aWxkUmVjb3JkKHNlbGVjdGVkRmVhdHVyZSlcclxuICAgICAgY29uc3QgZGF0YVNldDogRGF0YVJlY29yZFNldCA9IHtcclxuICAgICAgICBkYXRhU291cmNlOiBsYXllckRhdGFTb3VyY2UsXHJcbiAgICAgICAgbmFtZTogZGF0YVNldE5hbWUsXHJcbiAgICAgICAgdHlwZTogJ2N1cnJlbnQnLFxyXG4gICAgICAgIHJlY29yZHM6IFtyZWNvcmRdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBkYXRhU2V0XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGlzRGF0YUFjdGlvbkVuYWJsZWQgKCkge1xyXG4gICAgLy8gQnkgZGVmYXVsdCwgdGhpcy5wcm9wcy5lbmFibGVEYXRhQWN0aW9uIGlzIHVuZGVmaW5lZCwgd2hpY2ggbWVhbnMgZW5hYmxlZC5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktYm9vbGVhbi1saXRlcmFsLWNvbXBhcmVcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmVuYWJsZURhdGFBY3Rpb24gIT09IGZhbHNlXHJcbiAgfVxyXG5cclxuICByZW5kZXJEYXRhQWN0aW9uTGlzdCAoKSB7XHJcbiAgICBjb25zdCBpc0RhdGFBY3Rpb25FbmFibGVkID0gdGhpcy5pc0RhdGFBY3Rpb25FbmFibGVkKClcclxuXHJcbiAgICBpZiAoaXNEYXRhQWN0aW9uRW5hYmxlZCAmJiB0aGlzLnN0YXRlLmRhdGFBY3Rpb25EYXRhU2V0KSB7XHJcbiAgICAgIC8vIHJlbmRlciB0aGUgRGF0YUFjdGlvbkxpc3QgaW50byB0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyLCBzbyB3ZSBjYW4gYXBwZW5kIGl0IHRvIHBvcHVwIGRvbU5vZGVcclxuICAgICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChcclxuICAgICAgICA8RGF0YUFjdGlvbkxpc3Qgd2lkZ2V0SWQ9e3RoaXMucHJvcHMuaWR9IGRhdGFTZXRzPXtbdGhpcy5zdGF0ZS5kYXRhQWN0aW9uRGF0YVNldF19XHJcbiAgICAgICAgICBkaXNhYmxlRGF0YVNvdXJjZUxldmVsQWN0aW9ucz17dHJ1ZX0gbGlzdFN0eWxlPXtEYXRhQWN0aW9uTGlzdFN0eWxlLkRyb3Bkb3dufSBoaWRlR3JvdXBUaXRsZT17dHJ1ZX1cclxuICAgICAgICAvPixcclxuICAgICAgICB0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IGRhdGFBY3Rpb25MaXN0ID0gdGhpcy5yZW5kZXJEYXRhQWN0aW9uTGlzdCgpXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0IGFyY2dpcy1tYXAnIGNzcz17dGhpcy5nZXRXaWRnZXRTeWxlKCl9PlxyXG4gICAgICAgIHt0aGlzLmlzTG9hZGluZ0Rpc3BsYXllZCgpICYmIDxMb2FkaW5nIGNsYXNzTmFtZT0nbWFwLWxvYWRpbmctYmFyJyB0eXBlPXtMb2FkaW5nVHlwZS5CYXJ9Lz59XHJcbiAgICAgICAge3RoaXMuaXNXYXJuaW5nRGlzcGxheWVkKCkgJiYgPGRpdiBjbGFzc05hbWU9J21hcC13YXJuaW5nLWJhcic+XHJcbiAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9J3dhcm5pbmctaWNvbicgaWNvbj17dGhpcy53YXJuaW5nSWNvbn0gc2l6ZT17MjZ9IGN1cnJlbnRDb2xvcj17ZmFsc2V9IC8+XHJcbiAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2ZhaWxUb0FkZFRoZURhdGFPbk1hcCcsIGRlZmF1bHRNZXNzYWdlOiAnRmFpbCB0byBhZGQgdGhlIGRhdGEuJyB9KX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHsgZGF0YUFjdGlvbkxpc3QgfVxyXG4gICAgICAgIDxQYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICB7KGlzUGFnZVZpc2libGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8Vmlld3BvcnRWaXNpYmlsaXR5Q29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgICAgICAgIHsoaXNWaXNpYmxlSW5WaWV3UG9ydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxWaWV3VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7KHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUGFnZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcCBjYW4gaGF2ZSBwYWdlMSwgcGFnZTIsIGlzUGFnZVZpc2libGUgaXMgdXNlZCB0byBqdWRnZSB3aGV0aGVyIHRoZSBjdXJyZW50IHBhZ2UgaXMgdmlzaWJsZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzVmlzaWJsZUluVmlld1BvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gc2Nyb2xsaW5nIHRoZSBzY3JvbGwgcGFnZSwgdGhlIHdpZGdldCBtYXkgYmUgc2Nyb2xsZWQgb3V0IG9mIHRoZSBjdXJyZW50IHZpZXdwb3J0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1Zpc2libGVJblZpZXdQb3J0IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnJlbnQgd2lkZ2V0IGlzIGluIHRoZSB2aWV3cG9ydCBvZiB0aGUgYnJvd3Nlci5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbnRQcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbnRQcmV2aWV3IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQgaXMgY3VycmVudGx5IGluIGJyb3dzZXIgcHJpbnRpbmcgbW9kZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzVmlzaWJsZUluVmlldzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdpZGdldCBpcyB1bHRpbWF0ZWx5IHBsYWNlZCBpbiBhIHZpZXcgaW4gYSBsYXlvdXQuIEl0IGlzIHBvc3NpYmxlIHRoYXQgd2UgaGF2ZSBhIHNlY3Rpb24gd2l0aCBtdWx0aXBsZSB2aWV3cyBpbiBpdCwgc2ltaWxhciB0byB0YWJzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1Zpc2libGVJblZpZXcgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgd2lkZ2V0IGlzIGluIHRoZSBjdXJyZW50bHkgdmlzaWJsZSB2aWV3LlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWaXNpYmxlSW5WaWV3ID0gdmlld1Zpc2liaWxpdHlDb250ZXh0UHJvcHMuaXNJblZpZXcgPyB2aWV3VmlzaWJpbGl0eUNvbnRleHRQcm9wcy5pc0luQ3VycmVudFZpZXcgOiB0cnVlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc01hcEluVmlzaWJsZUFyZWE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzTWFwSW5WaXNpYmxlQXJlYSBpcyB1c2VkIHRvIGZpbmFsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGRvbSBvZiB0aGUgbWFwIGlzIHZpc2libGUgdG8gdGhlIHVzZXIuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHVzZSAoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSwgbm90IG9ubHkgaXNWaXNpYmxlSW5WaWV3UG9ydCwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjcmVhdGUgYSBzY3JvbGwgcGFnZSB3aXRoIG1hcC4gV2Ugc2Nyb2xsIHRoZSBwYWdlIGFuZCB0aGUgbWFwIGlzIG5vdCB2aXNpYmxlIGZvciB1c2VyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIHdhbnRzIHRvIHByaW50IHRoZSBzY3JvbGwgcGFnZSwgaW5jbHVkaW5nIHRoZSBtYXAgKGV2ZW4gdGhlIG1hcCBpcyBub3QgdmlzaWJsZSkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZW4gdGhlIHVzZXIgZW5hYmxlcyBwcmludCB2aWV3IG1vZGUgYnkgYSBidXR0b24uIE5vdywgaXNWaXNpYmxlSW5WaWV3UG9ydCBpcyBmYWxzZSBhbmQgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldyBpcyB0cnVlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgbWFwIHdpZGdldCBpcyB2aXNpYmxlIChsZXQgaXNNYXBJblZpc2libGVBcmVhIGJlIHRydWUpIHdoZW4gaW4gcHJpbnQgdmlldyBtb2RlLCBvdGhlcndpc2UgdGhlIHByaW50IHJlc3VsdCB3aWxsIGxvc2UgbWFwLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTbyB3ZSB1c2UgKGlzVmlzaWJsZUluVmlld1BvcnQgfHwgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldyksIGluc3RlYWQgb2YgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNYXBJblZpc2libGVBcmVhID0gaXNQYWdlVmlzaWJsZSAmJiAoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSAmJiBpc1Zpc2libGVJblZpZXdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldElubmVyQ29udGVudChpc01hcEluVmlzaWJsZUFyZWEpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvVmlld1Zpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA8L1ZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPC9QYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cbiBleHBvcnQgZnVuY3Rpb24gX19zZXRfd2VicGFja19wdWJsaWNfcGF0aF9fKHVybCkgeyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHVybCB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9