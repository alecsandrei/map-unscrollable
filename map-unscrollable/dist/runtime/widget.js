System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-layouts/layout-runtime"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./jimu-icons/svg/filled/data/placeholder-map.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/filled/data/placeholder-map.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#050505\" d=\"m12.687 9.074.073-.133a.147.147 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.05.05 0 0 1-.019.01l-.092.017a.042.042 0 0 0-.033.051l.019.077a.135.135 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066M13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069c.002 0 .002 0 .003.002l.104.13c.005.006.013.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131zM13.878 6.775l-.048.043a.294.294 0 0 0-.094.187.299.299 0 0 1-.082.178.496.496 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.546.546 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011zM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.125.125 0 0 0-.058.105zM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.063.063 0 0 0-.031-.008h-.328l-.035-.038a.216.216 0 0 0-.157-.074L5.778 4l-.048.009a2.362 2.362 0 0 1-.048.009l-.289.122a.209.209 0 0 1-.076.018l-.464.023a.232.232 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.093.093 0 0 0-.015.105l.183.37a.134.134 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.097.097 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.227.227 0 0 0-.001-.172l-.03-.07a.227.227 0 0 1 .097-.28M4.03 4.643l.061-.11a.221.221 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.203.203 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.226.226 0 0 0 .199-.118M4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.137.137 0 0 0-.081-.027h-.224a.131.131 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085c.006.01.018.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038c0 .005 0 .01-.002.016l-.03.073a.036.036 0 0 0 .006.036l.07.084a.032.032 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007c.008 0 .018.002.024.007l.174.133c.013.011.017.029.01.044l-.057.116a.033.033 0 0 1-.03.018l-.054.004a.036.036 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009c.024.001.048.01.069.024l.206.146c.014.01.03.008.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.035.035 0 0 0-.004-.029l-.07-.11.022-.004a.037.037 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008M2.08 5.137h.07l.104.146c.014.018.03.033.05.044l.136.068c.018.01.04.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.136.136 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138zM2.679 5.022l.11-.058a.139.139 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003zM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028zM2.414 4.698l.158.057a.12.12 0 0 1 .03.015l.109.073c.018.012.038.02.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122zM7.46 5.712l.058.092a.025.025 0 0 1-.001.028l-.044.06c-.004.008-.007.016-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.138.138 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.023.023 0 0 1 .014-.017l.049-.024c.01-.004.015-.015.013-.026l-.002-.03a.026.026 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118c-.003.011-.013.018-.024.018l-.11-.003a.024.024 0 0 1-.018-.007.024.024 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002c.008 0 .014-.004.02-.01l.053-.079A.027.027 0 0 0 7.3 5.94V5.82c0-.008.004-.015.01-.019l.115-.094a.024.024 0 0 1 .037.005\"></path><path fill=\"#050505\" fill-rule=\"evenodd\" d=\"M15.073 5.1H14.7a.042.042 0 0 1-.04-.03l-.358-.069a.161.161 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.033.033 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049c0-.017.006-.032.02-.044l.218-.2a.162.162 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.057.057 0 0 1-.03.008h-.101a.159.159 0 0 0-.114.049l-.244.252a.165.165 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.161.161 0 0 1-.098.11l-.081.032a.157.157 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.147.147 0 0 0-.042.027l-.62.565a.162.162 0 0 0-.006.231l.058.061.083-.069a.057.057 0 0 1 .076.003l.155.146h.04l.146-.176a.057.057 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.042.042 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.134.134 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.161.161 0 0 1-.134.064l-.254-.01a.046.046 0 0 1-.031-.013.047.047 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.042.042 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.158.158 0 0 1 .13-.067h.097c.032 0 .064.01.09.028l.157.11c.03.022.033.068.004.092l-.088.077a.156.156 0 0 1-.104.04h-.55a.158.158 0 0 0-.126.064l-.425.573a.168.168 0 0 0-.032.096v.38c0 .035.011.069.032.097l.148.198c.013.016.02.036.027.055.01.033.036.08.1.08h.686s.172.005.172.12c0 .04-.001.08-.003.116a.162.162 0 0 0 .083.148c.048.028.099.077.099.155v.21a.203.203 0 0 1-.007.049.772.772 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.583.583 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.115.115 0 0 0-.018-.062l-.033-.057a.162.162 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.596.596 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.158.158 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.159.159 0 0 0-.035-.1l-.125-.158a.159.159 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5.405 5.405 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001c.011 0 .021 0 .03-.002a.132.132 0 0 1 .127.083c.006.016.01.034.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.122.122 0 0 1 .075-.045l.054-.011a.125.125 0 0 0 .08-.053l.247-.373a.165.165 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.155.155 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.158.158 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.125.125 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.154.154 0 0 0 .104-.039l.159-.14a.043.043 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08c0-.013.005-.024.013-.032l.062-.058a.156.156 0 0 1 .181-.024l.104.055a.061.061 0 0 0 .076-.016l.051-.065a.062.062 0 0 0 .012-.052.062.062 0 0 0-.033-.042l-.503-.25a5.427 5.427 0 0 0-.39-.014M8.141 7.024l.09-.078zl-.133-.163a.053.053 0 0 1-.01-.019.053.053 0 0 0 .01.018zm.755.493h-.081a.13.13 0 0 1-.032-.004 9.127 9.127 0 0 1-.61-.186.062.062 0 0 1-.035-.045.063.063 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056c-.011-.027.048-.061.048-.061s.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088m.417-.503H9.2l-.083-.065a.057.057 0 0 0-.032-.01h-.108a.067.067 0 0 0-.044.017l-.078.07-.078.012a.053.053 0 0 1-.056-.026.055.055 0 0 1-.006-.02l-.011-.087a.09.09 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.051.051 0 0 0 .05.058h.029a.069.069 0 0 0 .064-.042l.026-.058.12.02.01.087a.077.077 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052m.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.052.052 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004c.006.02 0 .04-.013.056a.061.061 0 0 0-.015.031l-.013.085.113.105-.08.054z\" clip-rule=\"evenodd\"></path><path fill=\"#050505\" d=\"M12.945 7.8c-.006-.015-.01-.022-.017-.021-.007 0-.018.009-.036.025a.11.11 0 0 0-.039.08c0 .02.003.04.012.062.007.018.02.032.028.032.025 0 .066-.14.052-.178M12.894 8.108a.116.116 0 0 1 .024.005l.014.004c.018.006.027.009.033.015.005.005.008.014.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016-.007.007 0 .016.014.021.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.047.047 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02-.038.01-.05.006-.05-.018a.05.05 0 0 1 .03-.044c.013-.005.02-.009.02-.017 0-.008-.007-.019-.02-.038a.174.174 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201.004-.002.009-.008.012-.016a.148.148 0 0 0 .009-.053c0-.04.003-.054.021-.052M12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013M12.912 8.698a.02.02 0 0 1 .021.02c0 .011-.003.02-.008.02 0 0-.005 0-.007-.003a.064.064 0 0 1-.015-.017c-.007-.011-.003-.02.01-.02M13.254 8.913c-.013-.03-.03-.045-.044-.043-.014.001-.025.018-.03.05a.058.058 0 0 1-.01.026c.013.052.052.06.064.063h.004a.255.255 0 0 1 .025-.029.751.751 0 0 0 .014-.015zM13.082 8.894c.026-.004.035.015.011.043a.044.044 0 0 0-.008.015l-.057.01a.62.62 0 0 1-.036.005c-.038.006-.077.011-.1.037 0 .004.004.007.01.009.007.002.019.002.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017-.006-.023-.01-.016-.012.021-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.142.142 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012c.01-.005.02-.01.031-.011M13.36 9.136c0-.027-.034-.042-.092-.042a.445.445 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015M5.866 9.362l-.35-.185a.222.222 0 0 0-.102-.026h-.101a.038.038 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.217.217 0 0 1-.173-.088l-.048-.065a.216.216 0 0 0-.155-.086l-.262-.023a.028.028 0 0 1-.017-.007l-.043-.03c-.012-.007-.026-.009-.038 0l-.187.106a.216.216 0 0 1-.108.028h-.192a.037.037 0 0 1-.017-.004.146.146 0 0 1-.071-.133v-.112a.038.038 0 0 0-.023-.035.037.037 0 0 0-.014-.003h-.122a.037.037 0 0 1-.032-.019.038.038 0 0 1 0-.038l.057-.1a.044.044 0 0 0 .006-.02V8.2c0-.01-.004-.02-.011-.027a.037.037 0 0 0-.027-.011h-.066a.037.037 0 0 0-.03.017l-.038.06a.217.217 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.097.097 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.038.038 0 0 1 .043.005l.07.066c.007.007.015.01.024.01h.015c.022 0 .051 0 .057-.003.004-.002.004-.007.003-.014 0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.037.037 0 0 0 .05.006l.023-.016a.038.038 0 0 0 .012-.05l-.002-.005a.223.223 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.767.767 0 0 0 .208-.093.036.036 0 0 0 .019-.033v-.047l-.143.03a.038.038 0 0 1-.044-.031l-.016-.095a.038.038 0 0 0-.036-.03l-.143.015.018-.043a.043.043 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.038.038 0 0 0 .004-.055l-.396-.41a.039.039 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.033.033 0 0 0-.007.02l-.01.174c0 .011.003.02.011.029l.048.05a.038.038 0 0 1-.005.056l-.07.051a.037.037 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.042.042 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.123.123 0 0 1-.12.104H2.54l-.05-.01a2.652 2.652 0 0 1-.04-.009l-.358-.162a2.003 2.003 0 0 0-.075-.018l-.33-.022a2.158 2.158 0 0 1-.092.015l-.148.058a.217.217 0 0 1-.124.01L.591 5.23a.212.212 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.037.037 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.215.215 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.222.222 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.038.038 0 0 0 .014-.055s.365.383.4.399l.296.148a.22.22 0 0 0 .097.023h.147c.015 0 .028.008.033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.036.036 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212c0 .01.003.017.008.024.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.038.038 0 0 1 .008.024v.122a.04.04 0 0 1 .001.006l.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.222.222 0 0 1 .076.186l-.027.345-.003.02a.43.43 0 0 1-.003.02l-.119.45a1.75 1.75 0 0 0-.007.08l.012.185a.233.233 0 0 1-.01.095l-.044.126a.235.235 0 0 0-.007.125l.056.233a.123.123 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114c.01 0 .02-.004.026-.012l.266-.294a.036.036 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.039.039 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215M14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044.036.023.028.034-.022.03-.038-.004-.049.002-.07.039a.27.27 0 0 1-.078.074c-.071.044-.108.109-.06.109.013 0 .017.01.012.026-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.065.065 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076-.005-.006.001-.011.012-.011.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003-.024.005-.035.002-.035-.01 0-.02-.075-.089-.102-.097M12.885 9.274l-.486-.057a.119.119 0 0 1-.035-.01l-.118-.048a.144.144 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.128.128 0 0 0 .04.005h.397zM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.254.254 0 0 0-.1.023l-.098.046a.249.249 0 0 0-.07.049l-.18.178a.24.24 0 0 1-.075.051l-.123.055a.259.259 0 0 0-.152.236v.02c0 .034.007.068.02.1l.096.228c.003.005.004.01.005.015a.11.11 0 0 0 .143.077l.245-.088a.248.248 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.254.254 0 0 0 .218.122h.118a.255.255 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006M13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.332.332 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043.02-.022.041-.032.058-.03M13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027M6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.133.133 0 0 1-.1-.028l-.153-.121zM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.132.132 0 0 0-.076-.024M8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08zM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109zM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456zM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082zM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038z\"></path><path fill=\"#050505\" d=\"m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13zM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0M14.162 10.93h-.28l.074.164h.066z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-fat-left.svg":
/*!****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-fat-left.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M.4 8 8 1.92V5.5h7v5H8v3.58zM7 9.5h7v-3H7V4L2 8l5 4z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-fat-right.svg":
/*!*****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-fat-right.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"m16 8-7.6 6.08V10.5h-7v-5h7V1.92zM9.4 6.5h-7v3h7V12l5-4-5-4z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg":
/*!********************************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/clear-selection-general.svg ***!
  \********************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 17\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M0 12v-1.5h1V12h1.5v1H1a1 1 0 0 1-1-1M1 1h1.5v1H1v1.5H0V2a1 1 0 0 1 1-1m0 7.5H0v-3h1zM4.5 2V1h3v1zm5 0V1H11a1 1 0 0 1 1 1v1.5h-1V2zm4.813 14.02-3.535-3.535-3.536 3.535-.707-.707 3.536-3.535-3.536-3.536.707-.707 3.536 3.536 3.535-3.536.707.707-3.535 3.536 3.535 3.535z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-header.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-header.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9 5\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.128 4.587.751.834A.5.5 0 0 1 1.123 0h6.754a.5.5 0 0 1 .372.834L4.872 4.587a.5.5 0 0 1-.744 0\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/more-16.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/more-16.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"none\" fill-rule=\"nonzero\"><path fill=\"#000\" d=\"M13 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0m-6.5 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0M0 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0\"></path><path d=\"M0 0h16v16H0z\"></path></g></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/widgets.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/widgets.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M20.889 1.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556h-6.222a3.556 3.556 0 0 1-3.556-3.556V4.889a3.556 3.556 0 0 1 3.556-3.556M20 4v8h8V4zM4.889 17.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556H4.889a3.556 3.556 0 0 1-3.556-3.556v-6.222a3.556 3.556 0 0 1 3.556-3.556M4 20v8h8v-8zm20 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8m0 2.667a6.667 6.667 0 1 1 0-13.334 6.667 6.667 0 0 1 0 13.334M4.981 12h6.037L7.999 5.963zm4.212-9.615 5.176 10.352a1.334 1.334 0 0 1-1.192 1.93H2.825a1.333 1.333 0 0 1-1.192-1.929L6.809 2.386a1.332 1.332 0 0 1 2.385 0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/basemap.svg":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/basemap.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M.1 6.9h6.8V.1H.1zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 0 0 1.609.805zm0-1.128a3.758 3.758 0 0 1-1.006-.523c.31-.203.65-.358 1.006-.459zM6.1.9v2.266a4.229 4.229 0 0 0-1.613.73 6.038 6.038 0 0 1-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 0 1 2.99.9zM.9.9h1.266a8.7 8.7 0 0 0 .359 1.249A1.93 1.93 0 0 1 .9 3.188zm0 3.09a2.828 2.828 0 0 0 2.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 0 0 3.17 6.1H.9zM9.1.1v6.8h6.8V.1zm.8.8h4.063a.373.373 0 0 1-.045.2.594.594 0 0 1-.438.176 1.637 1.637 0 0 0-1.175.49.91.91 0 0 0-.203.708c-.001.007-.114.736-.607.742a.74.74 0 0 0-.719.384.828.828 0 0 0-.026.6H9.9zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 0 1-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 0 1 .028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 0 0 .16-.625h.344zm-15 9.8h6.8V9.1H.1zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089zm0 4.01 4 .112v-1.355l1.2-1.182V15.1H.9zm8.2 1.99h6.8V9.1H9.1zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605zm0-5.2v2.628L12.49 9.9zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/close-12.svg":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/close-12.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 14\"><g fill=\"none\" fill-rule=\"nonzero\"><path fill=\"#000\" d=\"m7.745 7 4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746z\"></path><path d=\"M1 1h12v12H1z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 39 32\"><path d=\"M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exit-full-screen.svg":
/*!************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exit-full-screen.svg ***!
  \************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M5 11v5H4v-4.001L0 12v-1zm11 0v1l-4-.001V16h-1v-5zM5 0v5H0V4l4 .001V0zm7 0v4.001L16 4v1h-5V0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/full-screen.svg":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/full-screen.svg ***!
  \*******************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M1 11v4.001L5 15v1H0v-5zm15 0v5h-5v-1l4 .001V11zM5 0v1L1 .999V5H0V0zm11 0v5h-1V.999L11 1V0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/layerlist.svg":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/layerlist.svg ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"m14.376 10.573 1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353zm-.999-2.414.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915zM8.023 1.023l-8 4.5 8 4.5 8-4.5zm-5.96 4.5 5.96-3.352 5.96 3.352-5.96 3.353z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg":
/*!********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg ***!
  \********************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 16\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M4 8h1v3H4zM2 9h1v2H2zm6-1h1v3H8zm4 0h1v3h-1z\"></path><path d=\"M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1zm-3-9h1v1h-1zm-8-.92L11 4v1h1v1H3V3h1zM2 1h1v1H2zm1 14H2v-1h1zm8-1H4v-1H3v-1h9v1h-1zm2 1h-1v-1h1zM1 11V7h13v4z\"></path><path d=\"M6 9h1v2H6zm4 0h1v2h-1z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg":
/*!************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg ***!
  \************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 10\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M0 10h15V4H0zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1zm11-5v1H3V0H0v3h3V2h9v1h3V0zM2 2H1V1h1zm12 0h-1V1h1z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure.svg":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M0 9v6h16V9zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14zm.18-7.5-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7zM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/search.svg":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/search.svg ***!
  \**************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M7 1a6 6 0 1 0 0 12A6 6 0 0 0 7 1m0 13a7 7 0 1 1 5.621-2.828l-.222.284 3.405 3.404a.668.668 0 0 1-.944.944L11.456 12.4A6.974 6.974 0 0 1 7 14\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg":
/*!*********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48z\"></path><path d=\"M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 0 1-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg":
/*!********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.75 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48z\"></path><path d=\"M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg":
/*!*******************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg":
/*!********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg":
/*!************************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg ***!
  \************************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM16 0v11H8.5v-1H15V1H6v2.5H5V0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-zoomto.svg":
/*!*********************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-zoomto.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M0 10.5V12a1 1 0 0 0 1 1h1.5v-1H1v-1.5zM2.5 1H1a1 1 0 0 0-1 1v1.5h1V2h1.5zM0 8.5h1v-3H0zM4.5 1v1h3V1zm5 0v1H11v1.5h1V2a1 1 0 0 0-1-1zM6.318 13.682a4.5 4.5 0 0 0 5.991.334l1.848 1.848.707-.707-1.847-1.848a4.5 4.5 0 1 0-6.699.373m.707-.707a3.5 3.5 0 1 1 4.95-4.95 3.5 3.5 0 0 1-4.95 4.95M9 13v-2H7v-1h2V8h1v2h2v1h-2v2z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/filled/data/placeholder-map.tsx":
/*!****************************************************!*\
  !*** ./jimu-icons/filled/data/placeholder-map.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlaceholderMapFilled: () => (/* binding */ PlaceholderMapFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/data/placeholder-map.svg */ "./jimu-icons/svg/filled/data/placeholder-map.svg");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const PlaceholderMapFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-fat-left.tsx":
/*!************************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-fat-left.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowFatLeftOutlined: () => (/* binding */ ArrowFatLeftOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-fat-left.svg */ "./jimu-icons/svg/outlined/directional/arrow-fat-left.svg");
/* harmony import */ var _svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ArrowFatLeftOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_fat_left_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-fat-right.tsx":
/*!*************************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-fat-right.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowFatRightOutlined: () => (/* binding */ ArrowFatRightOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-fat-right.svg */ "./jimu-icons/svg/outlined/directional/arrow-fat-right.svg");
/* harmony import */ var _svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ArrowFatRightOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_fat_right_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/config.ts":
/*!****************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/config.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SceneQualityMode: () => (/* binding */ SceneQualityMode)
/* harmony export */ });
var SceneQualityMode;
(function (SceneQualityMode) {
    SceneQualityMode["auto"] = "auto";
    SceneQualityMode["low"] = "low";
    SceneQualityMode["medium"] = "medium";
    SceneQualityMode["high"] = "high";
})(SceneQualityMode || (SceneQualityMode = {}));


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/default-map.tsx":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/default-map.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DefaultMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class DefaultMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {
            defaultMapInfo: null
        };
    }
    componentDidMount() {
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.portalUtils.getDefaultWebMap(this.props.baseWidgetProps.portalUrl).then(defaultMapInfo => {
            this.setState({
                defaultMapInfo: defaultMapInfo
            });
        });
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100' },
            !this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'widget-map w-100 h-100 widget-map-background' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIsLive)(this.props.baseWidgetProps.appMode) }) }, jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap__WEBPACK_IMPORTED_MODULE_2__["default"], { key: 0, fullScreenMap: this.props.fullScreenMap, baseWidgetProps: this.props.baseWidgetProps, startLoadModules: this.props.startLoadModules, isDefaultMap: true, ref: this.props.setMultiSourceMapInstance, onViewGroupCreate: this.props.onViewGroupCreate, onJimuMapViewCreated: this.props.onJimuMapViewCreated, onActiveJimuMapViewChange: this.props.onActiveJimuMapViewChange, widgetHeight: this.props.widgetHeight, widthBreakpoint: this.props.widthBreakpoint, isFullScreen: this.props.isFullScreen, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.state.defaultMapInfo, autoControlWidgetId: this.props.autoControlWidgetId }))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/map-thumb.tsx":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/map-thumb.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapThumb)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/filled/data/placeholder-map */ "./jimu-icons/filled/data/placeholder-map.tsx");



class MapThumb extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.unmount = false;
        this.setMapThumbUrl = (mapId) => {
            var _a;
            if (!mapId) {
                this.setState({ mapThumbUrl: null });
            }
            // if no portalUrl or same to config portalurl, use app config's portalUrl
            const portalUrl = ((_a = this.props) === null || _a === void 0 ? void 0 : _a.portUrl) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl) || null;
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restPortal.searchItems({
                q: `id:${mapId}`,
                authentication: session,
                portal: portalUrl + '/sharing/rest'
            }).then(items => {
                var _a;
                if (!this.unmount) {
                    if ((_a = items.results[0]) === null || _a === void 0 ? void 0 : _a.thumbnail) {
                        const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl);
                        let tempThumbUrl = null;
                        if (session && session.token) {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}?token=${session.token}`;
                        }
                        else {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}`;
                        }
                        this.setState({ mapThumbUrl: tempThumbUrl });
                    }
                    else {
                        this.setState({ mapThumbUrl: null });
                    }
                }
            });
        };
        this.state = {
            mapThumbUrl: null
        };
    }
    componentDidMount() {
        this.unmount = false;
        this.setMapThumbUrl(this.props.mapItemId);
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevProps.mapItemId !== this.props.mapItemId) {
            this.setMapThumbUrl(this.props.mapItemId);
        }
    }
    componentWillUnmount() {
        this.unmount = true;
    }
    render() {
        if (this.state.mapThumbUrl) {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ImageWithParam, { imageParam: { url: this.state.mapThumbUrl } });
        }
        else {
            const palette = this.props.theme.colors.palette;
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { backgroundColor: palette.light[200], height: '100%' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__.PlaceholderMapFilled, { color: palette.light[600], size: '100%' })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/mapbase.tsx":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/mapbase.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapLoadStatus: () => (/* binding */ MapLoadStatus),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./your-extensions/widgets/map-unscrollable/src/config.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */






const Exchange = __webpack_require__(/*! ../assets/icons/exchange.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg");
const DEFAULT_HIGHLIGHT_COLOR = '#00FFFF';
const DEFAULT_HIGHLIGHT_HALO_COLOR = '#00FFFF';
var MapLoadStatus;
(function (MapLoadStatus) {
    MapLoadStatus["Loading"] = "LOADING";
    MapLoadStatus["Loadok"] = "LOADOK";
    MapLoadStatus["LoadError"] = "LOADERROR";
})(MapLoadStatus || (MapLoadStatus = {}));
class MapBase extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.isFirstReceiveMessage = true;
        this.__unmount = false;
        this.debounceUpdateUrlHashParams = () => { };
        this.getInitViewPointForDefaultWebMap = () => {
            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
            let tempViewPoint = null;
            if (this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.viewPoint) {
                tempViewPoint = this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            else {
                tempViewPoint = new this.Viewpoint({
                    targetGeometry: new this.Extent({
                        xmin: defaultExtent && defaultExtent.xmin,
                        ymin: defaultExtent && defaultExtent.ymin,
                        xmax: defaultExtent && defaultExtent.xmax,
                        ymax: defaultExtent && defaultExtent.ymax,
                        spatialReference: { wkid: defaultExtent.spatialReference.wkid }
                    })
                });
            }
            return tempViewPoint;
        };
        /**
         * onDataSourceCreated and onCreateDataSourceFailed will not invoked when this.props.isWebMap is true
         * @param dataSource
         */
        this.onDataSourceCreated = (dataSource) => {
            if (dataSource.id === this.props.dataSourceId) {
                const isMapDsCreateFailedBefore = this.createFailedDataSourceIds[this.props.dataSourceId];
                delete this.createFailedDataSourceIds[this.props.dataSourceId];
                this.mapDs = dataSource;
                if (this.isReadyToCreateJimuMapView()) {
                    this.createJimuMapView();
                    return;
                }
                if (isMapDsCreateFailedBefore && !this.view && !this.mapCreatingInfo && this.expectedDataSourceInfo && this.expectedDataSourceInfo.dataSourceId === dataSource.id) {
                    console.log(`recreate map because data source ${this.props.dataSourceId} is recreated`);
                    this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
                }
            }
        };
        this.onCreateDataSourceFailed = (err) => {
            console.warn('onCreateDataSourceFailed', err);
            this.mapDs = null;
            const dsId = this.props.dataSourceId;
            this.createFailedDataSourceIds[dsId] = true;
            this.setState({
                mapLoadStatus: MapLoadStatus.LoadError
            }, () => {
                this.props.onMapLoaded(dsId, MapLoadStatus.LoadError);
            });
        };
        // This method is used to sync viewpoint between two mapbase of same map widget.
        this.setViewPoint = (viewPoint) => {
            if (this.view && viewPoint) {
                this.view.viewpoint = viewPoint.clone();
            }
        };
        // This method is used to sync viewpoint between two mapbase of same map widget.
        this.getViewPoint = () => {
            return this.view && this.view.viewpoint ? this.view.viewpoint.clone() : null;
        };
        this.getMapLoadStatus = () => {
            return this.state.mapLoadStatus;
        };
        this.getViewType = () => {
            return this.getDsJsonFromDsId(this.props.dataSourceId).type;
        };
        this.queryExtentFromSingleLayerQueryParams = (dataSourceId) => {
            const dataSource = this.dsManager.getDataSource(dataSourceId);
            const queryParams = dataSource.getCurrentQueryParams();
            let layerObjectPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerObjectPromise = Promise.resolve(dataSource.layer);
            }
            else {
                layerObjectPromise = dataSource.createJSAPILayerByDataSource().then((layerObject) => Promise.resolve(layerObject));
            }
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query',
                'esri/Graphic',
                'esri/geometry/Point'
            ]).then(modules => {
                const [Query, Graphic, Point] = modules;
                const query = new Query();
                query.where = queryParams === null || queryParams === void 0 ? void 0 : queryParams.where;
                return layerObjectPromise.then(layerObject => {
                    return layerObject.queryExtent(query).then(result => {
                        var _a;
                        const extentCenter = (_a = result === null || result === void 0 ? void 0 : result.extent) === null || _a === void 0 ? void 0 : _a.center;
                        const extent = result === null || result === void 0 ? void 0 : result.extent;
                        let singlePointGraphic;
                        if ((result === null || result === void 0 ? void 0 : result.count) === 1 && (layerObject.geometryType === 'point') && extentCenter) {
                            const point = new Point({
                                x: extentCenter.x,
                                y: extentCenter.y,
                                spatialReference: extent.spatialReference
                            });
                            singlePointGraphic = new Graphic({ geometry: point });
                        }
                        return {
                            extent: extent,
                            singlePointGraphic: singlePointGraphic,
                            count: result === null || result === void 0 ? void 0 : result.count,
                            layer: layerObject
                        };
                    });
                });
            });
        };
        this.queryExtentFromQueryParams = (mapBaseView, dataSourceIds, useDataSources) => {
            //const dataSource = this.dsManager.getDataSource(dataSourceId) as FeatureLayerDataSource
            //const queryParams: SqlQueryParams = dataSource.getCurrentQueryParams()
            const useDefaultExtentOfCurrentView = !useDataSources.some(useDataSource => {
                const dataSource = this.dsManager.getDataSource(useDataSource.dataSourceId);
                const queryParams = dataSource.getRuntimeQueryParams();
                // use default extent if all merged SQLs on data source is remvoved.
                const hasQueryWhere = (queryParams === null || queryParams === void 0 ? void 0 : queryParams.where) && queryParams.where !== '1=1';
                if (hasQueryWhere) {
                    return true;
                }
                else {
                    return false;
                }
            });
            if (useDefaultExtentOfCurrentView) {
                const initViewPoint = this.getMapBaseInitViewPoint();
                return Promise.resolve({
                    viewpoint: initViewPoint,
                    useDefaultExtentOfCurrentView: true,
                    singlePointGraphic: null,
                    count: 2,
                    layer: null
                });
            }
            const extentResultPromises = [];
            dataSourceIds.forEach(dataSourceId => {
                extentResultPromises.push(this.queryExtentFromSingleLayerQueryParams(dataSourceId));
            });
            return Promise.all(extentResultPromises).then(results => {
                let fullExtent = null;
                let count = 0;
                if ((results === null || results === void 0 ? void 0 : results.length) === 1) {
                    return results[0];
                }
                else {
                    results.forEach(result => {
                        if (result.extent) {
                            fullExtent = fullExtent ? fullExtent.union(result.extent) : result.extent;
                        }
                        count = count + result.count;
                    });
                    return {
                        extent: fullExtent,
                        singlePointGraphic: null,
                        count: count,
                        layer: null
                    };
                }
            });
        };
        this.debounceUpdateUrlHashParams = jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.debounce(() => {
            this.updateUrlHashParams();
        }, 500);
        this.restored = false;
        this.createFailedDataSourceIds = {};
        this.mapViewCreateFailedUniqueIdsInfo = {};
        this.updateExpectedDataSourceInfo();
        const restoreData = this.getRestoreDataFromMS();
        if (restoreData && restoreData.expectedDataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.restoreMapBase)(this, restoreData);
            this.updateRestoreDataToMS(null);
            this.bindMapBaseViewEvent(this.view);
            if (this.view) {
                this.view.isInCaching = false;
                this.view.mapbase = this;
                this.restored = true;
                this.tryFatalErrorRecovery(this.view);
                if (this.view.isMapToolsHidden) {
                    this.view.hideMapTools();
                }
                else {
                    this.view.showMapTools();
                }
            }
        }
        else {
            this.state = {
                dataSourceId: null,
                isBasicModulesLoaded: false,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
        this.unsubscribeResourceSessions();
        // Observe no permission resource changes.
        this.resourceSessionsUnsubscribe = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.observeStore)(this.onStoreResourceSessionsChange.bind(this), ['resourceSessions']);
    }
    unsubscribeResourceSessions() {
        if (this.resourceSessionsUnsubscribe) {
            this.resourceSessionsUnsubscribe();
            this.resourceSessionsUnsubscribe = null;
        }
    }
    static getDerivedStateFromProps(nextProps, prevState) {
        if (nextProps.dataSourceId !== prevState.dataSourceId) {
            return {
                dataSourceId: nextProps.dataSourceId,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
        else {
            return null;
        }
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .esri-view .esri-view-surface:focus::after {
        display: none;
      }
    `;
    }
    render() {
        let useDataSource = null;
        if (this.props.baseWidgetProps.useDataSources) {
            useDataSource = this.props.baseWidgetProps.useDataSources.find((item) => item.dataSourceId === this.props.dataSourceId);
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 map-base', style: { position: 'relative' }, css: this.getStyle(), ref: ref => { this.widgetContainer = ref; } },
            (this.state.mapLoadStatus === MapLoadStatus.Loading) &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 widget-map-background' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            (this.state.mapLoadStatus === MapLoadStatus.LoadError) &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 widget-map-background' },
                    this.getMapSwitchForErrorMap(),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex justify-content-center align-items-center' }, this.formatMessage('mapFailure'))),
            !this.props.isDefaultMap && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', display: 'none' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSource, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed }))));
    }
    componentDidMount() {
        this.__unmount = false;
        if (this.widgetContainer.getElementsByClassName('widget-map').length === 0) {
            if (!this.mapContainer) {
                this.mapContainer = document && document.createElement('div');
                this.mapContainer.className = 'w-100 h-100 widget-map mapview-container';
            }
            this.widgetContainer.appendChild(this.mapContainer);
        }
        if (this.props.startLoadModules) {
            this.loadCommonModules();
        }
        if (this.restored) {
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (jimuMapView && !jimuMapView.isCached()) {
                jimuMapView.onRestore();
            }
        }
    }
    componentDidUpdate(prevProps) {
        this.tryCreateMapViewWhenDidUpdate(prevProps);
        this.tryHandleUrlParamsChangeWhenDidUpdate(prevProps);
    }
    tryCreateMapViewWhenDidUpdate(prevProps) {
        var _a;
        // update the this.expectedDataSourceInfo by the current props
        this.updateExpectedDataSourceInfo();
        if (!this.state.isBasicModulesLoaded) {
            return;
        }
        // TODO: should we check isMapInVisibleArea before this.checkAndHandleIfDataSourceIdPropChange() ?
        // props.isMapInVisibleArea changed
        if (this.view && prevProps.isMapInVisibleArea !== this.props.isMapInVisibleArea && (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length === 2)) {
            if (this.props.isMapInVisibleArea) {
                this.view.isInCaching = false;
                this.tryFatalErrorRecovery(this.view);
            }
            else {
                this.view.isInCaching = true;
            }
        }
        // the following code is mainly used to check and handle if dataSourceId prop change
        let needCreateNewView = false;
        if (this.view) {
            // this.view created, now need to check if this.view match this.props.dataSourceId or not
            if (this.isViewExpected(this.view)) {
                // data source match this.props.dataSourceId, do nothing
                needCreateNewView = false;
                // this.view is the expected view
                // We call this.tryUpdateCurrentViewByConfigProps() to consume this.props.baseWidgetProps.config change
                this.tryUpdateCurrentViewByConfigProps(false);
                // We call this.checkAndHandleMutableStateProps() to consume this.props.baseWidgetProps.mutableStateProps change
                this.checkAndHandleMutableStateProps();
                return;
            }
            else {
                // data source changed, we need to destroy this.view
                needCreateNewView = true;
            }
        }
        else {
            // this.view not created, we need to check if we are creating the expected view
            if (this.isCreatingExpectedView()) {
                // We are creating the expected view, do nothing
                needCreateNewView = false;
                return;
            }
            else {
                const uniqueId = (_a = this.expectedDataSourceInfo) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (uniqueId && this.mapViewCreateFailedUniqueIdsInfo[uniqueId]) {
                    // map view create failed before, don't need to recreate view
                    needCreateNewView = false;
                }
                else {
                    // need to create new view
                    needCreateNewView = true;
                }
            }
        }
        if (needCreateNewView) {
            this.destroyCurrentMapbaseView();
            this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
        }
    }
    // When user updates map url params manually, we need to update view.viewpoint.
    tryHandleUrlParamsChangeWhenDidUpdate(prevProps) {
        var _a, _b, _c, _d;
        try {
            if (!this.view) {
                return;
            }
            const preRuntimeUrlHashParams = (_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.runtimeUrlHashParams;
            const currRuntimeUrlHashParams = (_c = (_b = this.props) === null || _b === void 0 ? void 0 : _b.baseWidgetProps) === null || _c === void 0 ? void 0 : _c.runtimeUrlHashParams;
            if (currRuntimeUrlHashParams && currRuntimeUrlHashParams !== preRuntimeUrlHashParams && currRuntimeUrlHashParams.active_datasource_id) {
                const jimuMapView = this.getJimuMapViewFoView(this.view);
                if (jimuMapView && jimuMapView.isActive && jimuMapView.dataSourceId === currRuntimeUrlHashParams.active_datasource_id) {
                    // When user move map, it will trigger extent change event, and updateUrlHashParamsForActiveJimuMapView() method will call urlManager.setWidgetUrlParams() to change url params.
                    // Then it will trigger componentDidUpdate() because this.props.baseWidgetProps.runtimeUrlHashParams changed. For this case, we don't need to handle it to avoid dead loop.
                    // So we need to determine the url is changed by user or map self.
                    // By test, the duration between urlManager.setWidgetUrlParams() and componentDidUpdate() is about 3~4ms, we use 100ms here for safe.
                    const isUrlParamsChangeByMapSelf = this.view.lastViewpointUrlParamUpdateTimestamp > 0 && (Date.now() - this.view.lastViewpointUrlParamUpdateTimestamp) <= 100;
                    const isUrlParamsChangedByUser = !isUrlParamsChangeByMapSelf;
                    if (isUrlParamsChangedByUser) {
                        // console.log('url hash prams changed', Date.now())
                        const urlParamViewpointChanged = currRuntimeUrlHashParams.viewpoint && currRuntimeUrlHashParams.viewpoint !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.viewpoint);
                        const urlParamCenterChanged = currRuntimeUrlHashParams.center && currRuntimeUrlHashParams.center !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.center);
                        const urlParamScaleChanged = currRuntimeUrlHashParams.scale && currRuntimeUrlHashParams.scale !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.scale);
                        const urlParamRotationChanged = currRuntimeUrlHashParams.rotation && currRuntimeUrlHashParams.rotation !== (preRuntimeUrlHashParams === null || preRuntimeUrlHashParams === void 0 ? void 0 : preRuntimeUrlHashParams.rotation);
                        if (urlParamViewpointChanged || urlParamCenterChanged || urlParamScaleChanged || urlParamRotationChanged) {
                            const changedViewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getChangedViewpointByViewAndUrlHashParams)(this.view, currRuntimeUrlHashParams, urlParamViewpointChanged, urlParamCenterChanged, urlParamScaleChanged, urlParamRotationChanged, this.Viewpoint, this.Point, this.SpatialReference);
                            const currViewpoint = (_d = this.view.viewpoint) === null || _d === void 0 ? void 0 : _d.clone();
                            if (changedViewpoint && !(0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSamelikeViewpoints)(this.view, changedViewpoint, currViewpoint)) {
                                // console.log('update viewpoint by url', Date.now())
                                this.view.viewpoint = changedViewpoint;
                            }
                        }
                    }
                }
            }
        }
        catch (e) {
            console.error('handleUrlParamsChange error', e);
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        this.unsubscribeResourceSessions();
        if (this.view) {
            this.view.mapbase = null;
        }
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources &&
            this.state.mapLoadStatus !== MapLoadStatus.Loading) {
            // JS API limits only 16 canvas with WebGL context on a html page. Caching the map widget (unmount the canvas from the html tree but don't destroy the view) is a workround.
            // We scroll the page and the map widget is not in the visible area, we need to cache it so we can restore it quickly.
            // We don't destroy the map view here, just cache it to mutable store.
            const restoreData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapBaseRestoreData)(this);
            if (this.view) {
                this.view.isInCaching = true;
            }
            this.updateRestoreDataToMS(restoreData);
            if (this.view) {
                const jimuMapView = this.getJimuMapViewFoView(this.view);
                if (jimuMapView) {
                    jimuMapView.onCache();
                }
            }
        }
        else {
            // Destroy the map view
            this.destroyCurrentMapbaseView();
            this.mapCreatingInfo = null;
            if (this.view && !this.view.destroyed) {
                this.view.container = null;
                this.view = null;
            }
            this.mapDs = null;
        }
    }
    createDataSourceInfo(dataSourceId) {
        let result = null;
        const dataSourceJson = this.getDsJsonFromDsId(dataSourceId);
        if (dataSourceJson && dataSourceJson.id) {
            // data source case2 or data source case3
            const type = dataSourceJson.type || '';
            const itemId = dataSourceJson.itemId || '';
            const dataSourceId = dataSourceJson.id;
            const jimuMapViewId = this.getJimuMapViewId(dataSourceId);
            if (type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                // user select a web scene
                result = {
                    isDefaultMap: false,
                    isWebMap: false,
                    uniqueId: `webscene-${dataSourceId}-${itemId}`,
                    dataSourceId,
                    jimuMapViewId,
                    dataSourceJson
                };
            }
            else {
                // user select a web map
                result = {
                    isDefaultMap: false,
                    isWebMap: true,
                    uniqueId: `webmap-${dataSourceId}-${itemId}`,
                    dataSourceId,
                    jimuMapViewId,
                    dataSourceJson
                };
            }
        }
        else {
            // data source case1: use default web map
            const dataSourceId = '';
            // TODO: could we use this.getJimuMapViewId('defaultmap') here ?
            const jimuMapViewId = this.getJimuMapViewId(dataSourceId);
            result = {
                isDefaultMap: true,
                isWebMap: true,
                uniqueId: 'webmap-default',
                dataSourceId,
                jimuMapViewId,
                dataSourceJson
            };
        }
        return result;
    }
    getJimuMapViewId(dataSourceId) {
        return (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getJimuMapViewId)(this.props.baseWidgetProps.id, dataSourceId);
    }
    getDsJsonFromDsId(dataSourceId) {
        let result = null;
        if (dataSourceId) {
            result = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources[dataSourceId];
        }
        if (!result) {
            result = {};
        }
        return result;
    }
    getCurrentDataSourceJson() {
        // when select a web map or web scene in builder, this.props.dataSourceId is not null, the result is like this
        // {
        //   id: "dataSource_5",
        //   type: "WEB_MAP",
        //   sourceLabel: "China Version 1_2",
        //   itemId: "a2c5449c4c624447bf45d48478b25838",
        //   portalUrl: "https://esridevbeijing.maps.arcgis.com",
        // }
        // when use the default web map in builder, this.props.dataSourceId is null, the result is empty object {}
        return this.getDsJsonFromDsId(this.props.dataSourceId);
    }
    updateExpectedDataSourceInfo() {
        this.expectedDataSourceInfo = this.createDataSourceInfo(this.props.dataSourceId);
    }
    isCurrentViewExpected() {
        return this.isViewExpected(this.view);
    }
    isViewExpected(view) {
        return view && view.dataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId;
    }
    isCreatingExpectedView() {
        return this.mapCreatingInfo && this.isDataSourceInfoExpected(this.mapCreatingInfo.dataSourceInfo);
    }
    isDataSourceInfoExpected(dataSourceInfo) {
        return dataSourceInfo && dataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId;
    }
    /**
     * Consume this.props.baseWidgetProps.config change
     * @param calledWhenViewCreate true means this method is called when view just created, false means this method is called when config props change
     */
    tryUpdateCurrentViewByConfigProps(calledWhenViewCreate) {
        if (!this.view) {
            return;
        }
        const config = this.props.baseWidgetProps.config;
        const preConfig = this.lastUpdateViewConfig;
        this.lastUpdateViewConfig = config;
        // update popup options
        const currPopupEnabled = !config.disablePopUp;
        if (calledWhenViewCreate) {
            // calledWhenViewCreate is true, means tryUpdateCurrentViewByConfigProps is called when view just created, we just set view.popupEnabled to !config.disablePopUp.
            this.view.popupEnabled = currPopupEnabled;
        }
        else {
            // calledWhenViewCreate is false, means tryUpdateCurrentViewByConfigProps is called when config props change, we need to handle config.disablePopUp change.
            const prePopupEnabled = !(preConfig === null || preConfig === void 0 ? void 0 : preConfig.disablePopUp);
            const popupEnabled = !config.disablePopUp;
            // Both Map widget 'disablePopUp' option and JimuMapView.enableClickOpenPopup() can control 'view.popupEnabled'.
            // We should not use `this.view.popupEnabled !== currPopupEnabled` here because we only want to check if Map widget 'disablePopUp' option changed,
            // so we should use `prePopupEnabled !== currPopupEnabled` here.
            if (prePopupEnabled !== popupEnabled) {
                // config.disablePopUp really changed
                this.view.popupEnabled = popupEnabled;
                if (!popupEnabled) {
                    this.view.closePopup();
                }
            }
        }
        if ((config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) || (config.selectionHighlightHaloColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightHaloColor))) {
            // highlight info changes
            const highlightColor = config.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = config.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
            const highlightOptions = Object.assign(Object.assign({}, this.view.highlightOptions), { color: new this.Color(highlightColor), haloColor: new this.Color(highlightHaloColor) });
            this.view.highlightOptions = highlightOptions;
        }
        const enableScroll = !config.disableScroll;
        // this.view.navigation is empty sometimes, so we need to check it here.
        if (this.view.navigation) {
            if (this.view.navigation.mouseWheelZoomEnabled !== enableScroll) {
                this.view.navigation.mouseWheelZoomEnabled = enableScroll;
            }
            if (this.view.navigation.browserTouchPanEnabled !== enableScroll) {
                this.view.navigation.browserTouchPanEnabled = enableScroll;
            }
        }
        if (this.view.ui) {
            this.view.ui.components = [];
        }
        const sceneQualityMode = config.sceneQualityMode;
        if (this.isSceneView(this.view)) {
            const sceneView = this.view;
            if (sceneQualityMode && sceneQualityMode !== sceneView.qualityProfile) {
                sceneView.qualityProfile = sceneQualityMode;
            }
        }
        // try to update mapView.timeZone
        if (this.view.type === '2d') {
            const newTimeZone = this.calMapViewTimeZone(this.view.map);
            const mapView = this.view;
            if (mapView.timeZone !== newTimeZone) {
                mapView.timeZone = newTimeZone;
            }
        }
    }
    /**
     * Consume this.props.baseWidgetProps.mutableStateProps change
     */
    checkAndHandleMutableStateProps() {
        if (this.view && this.props.baseWidgetProps.mutableStateProps) {
            const jimuMapViewId = this.view.dataSourceInfo.jimuMapViewId;
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            if (jimuMapView) {
                jimuMapView.whenJimuMapViewLoaded().then(() => {
                    setTimeout(() => {
                        // We don't need to check this.view if null or destroyed here, we do it in this.handleAction()
                        this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.view, jimuMapView);
                        this.isFirstReceiveMessage = false;
                    }, this.isFirstReceiveMessage ? 500 : 0);
                });
            }
        }
    }
    isMapView(view) {
        return view && view.declaredClass === 'esri.views.MapView';
    }
    isSceneView(view) {
        return view && view.declaredClass === 'esri.views.SceneView';
    }
    diffProps(prevProps) {
        const addedKeys = [];
        const removeKeys = [];
        const updatedKeys = [];
        const currKeys = Object.keys(this.props);
        const prevKeys = Object.keys(prevProps);
        const prevKeysMap = {};
        prevKeys.forEach(key => {
            prevKeysMap[key] = true;
        });
        const currKeysMap = {};
        currKeys.forEach(key => {
            currKeysMap[key] = true;
        });
        currKeys.forEach(currKey => {
            if (prevKeysMap[currKey]) {
                if (prevProps[currKey] !== this.props[currKey]) {
                    updatedKeys.push(currKey);
                }
            }
            else {
                addedKeys.push(currKey);
            }
        });
        prevKeys.forEach(prevKey => {
            if (!currKeysMap[prevKey]) {
                removeKeys.push(prevKey);
            }
        });
        return {
            addedKeys,
            removeKeys,
            updatedKeys
        };
    }
    loadCommonModules() {
        return __awaiter(this, void 0, void 0, function* () {
            const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/geometry/Extent',
                'esri/Viewpoint',
                'esri/portal/Portal',
                'esri/portal/PortalItem',
                'esri/Color',
                'esri/geometry/SpatialReference',
                'esri/geometry/Point'
            ]);
            [
                this.Extent, this.Viewpoint, this.Portal, this.PortalItem, this.Color, this.SpatialReference, this.Point
            ] = modules;
            if (this.__unmount) {
                return;
            }
            this.setState({
                isBasicModulesLoaded: true
            });
        });
    }
    cacheLoadModulesAndCreateMapbaseView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.__unmount || this.isCurrentViewExpected() || this.isCreatingExpectedView()) {
                return;
            }
            const uniqueId = dataSourceInfo === null || dataSourceInfo === void 0 ? void 0 : dataSourceInfo.uniqueId;
            if (uniqueId) {
                delete this.mapViewCreateFailedUniqueIdsInfo[uniqueId];
            }
            this.setState({
                mapLoadStatus: MapLoadStatus.Loading
            });
            const mapCreatingInfo = {
                dataSourceInfo
            };
            this.mapCreatingInfo = mapCreatingInfo;
            try {
                if (dataSourceInfo.isWebMap) {
                    // load modules to create MapView
                    if (!this.MapView) {
                        const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                            'esri/geometry/Geometry',
                            'esri/webmap/InitialViewProperties',
                            'esri/Basemap',
                            'esri/layers/TileLayer',
                            'esri/views/MapView',
                            'esri/WebMap'
                        ]);
                        [
                            this.Geometry, this.InitialViewProperties, this.Basemap, this.TileLayer, this.MapView, this.WebMap
                        ] = modules;
                    }
                }
                else {
                    // load modules for create SceneView
                    if (!this.SceneView) {
                        const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                            'esri/views/SceneView',
                            'esri/WebScene'
                        ]);
                        [
                            this.SceneView, this.WebScene
                        ] = modules;
                    }
                }
                if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(mapCreatingInfo.dataSourceInfo)) {
                    return;
                }
                yield this.createMapbaseView(mapCreatingInfo);
            }
            catch (e) {
                console.error('cacheLoadModulesAndCreateMapbaseView error', e);
                if (uniqueId) {
                    this.mapViewCreateFailedUniqueIdsInfo[uniqueId] = true;
                }
                if (this.mapCreatingInfo === mapCreatingInfo) {
                    this.setState({
                        mapLoadStatus: MapLoadStatus.LoadError
                    });
                }
            }
            if (this.mapCreatingInfo === mapCreatingInfo) {
                this.mapCreatingInfo = null;
            }
        });
    }
    createMapbaseView(mapCreatingInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            const dataSourceInfo = mapCreatingInfo.dataSourceInfo;
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(dataSourceInfo)) {
                return;
            }
            // get mapViewOption or sceneViewOption
            let mapViewOption = null;
            let sceneViewOption = null;
            if (dataSourceInfo.isWebMap) {
                // get map view option
                mapViewOption = yield this.getMapViewOptionToCreateMapView(dataSourceInfo);
            }
            else {
                // get scene view option
                sceneViewOption = yield this.getSceneViewOptionToCreateSceneView(dataSourceInfo);
            }
            const popupOptions = {
                defaultPopupTemplateEnabled: true
            };
            if (mapViewOption) {
                mapViewOption.popup = popupOptions;
            }
            if (sceneViewOption) {
                sceneViewOption.popup = popupOptions;
            }
            // need to check view again to avoid new MapView() twice, because we use async function to get mapViewOption
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(dataSourceInfo)) {
                return;
            }
            let initUrlHashMapOptions = null;
            if (this.props.baseWidgetProps.isRunAppMode) {
                initUrlHashMapOptions = this.getMapOptionsByUrlHashParams(dataSourceInfo.isWebMap);
                if (initUrlHashMapOptions) {
                    const hashViewpoint = initUrlHashMapOptions.viewpoint;
                    if (mapViewOption) {
                        let zoomMaybeFloat = false;
                        if (hashViewpoint) {
                            mapViewOption.viewpoint = hashViewpoint;
                            zoomMaybeFloat = true;
                        }
                        if (initUrlHashMapOptions.center) {
                            mapViewOption.center = initUrlHashMapOptions.center;
                        }
                        if ('scale' in initUrlHashMapOptions) {
                            mapViewOption.scale = initUrlHashMapOptions.scale;
                        }
                        if ('rotation' in initUrlHashMapOptions) {
                            mapViewOption.rotation = initUrlHashMapOptions.rotation;
                            zoomMaybeFloat = true;
                        }
                        if (zoomMaybeFloat) {
                            // Note, we must set snapToZoom to false if we can get hashViewpoint, otherwise the final view.scale is different with hashViewpoint.scale,
                            // because hashViewpoint.scale comes from a float-zoom map and view.scale comes from a int-zoom map.
                            mapViewOption.constraints.snapToZoom = false;
                        }
                    }
                    if (sceneViewOption) {
                        if (hashViewpoint) {
                            sceneViewOption.viewpoint = hashViewpoint;
                        }
                    }
                }
            }
            let view = null;
            // create map view or scene view
            if (dataSourceInfo.isWebMap) {
                view = new this.MapView(mapViewOption);
            }
            else {
                view = new this.SceneView(sceneViewOption);
            }
            view.initUrlHashMapOptions = initUrlHashMapOptions;
            const map = view.map;
            // set view.map.originalBasemap
            const setOriginalBasemap = () => {
                if (map.originalBasemap) {
                    return;
                }
                const originalBasemap = map.basemap;
                // originalBasemap maybe null, we need to check originalBasemap is null or not
                if (!originalBasemap) {
                    return;
                }
                if (!originalBasemap.thumbnailUrl) {
                    const mapThumbnailUrl = map.thumbnailUrl;
                    // use map.thumbnailUrl as originalBasemap.thumbnailUrl if originalBasemap.thumbnailUrl is empty
                    if (mapThumbnailUrl) {
                        originalBasemap.thumbnailUrl = mapThumbnailUrl;
                    }
                }
                map.originalBasemap = originalBasemap;
            };
            if (map.basemap) {
                setOriginalBasemap();
            }
            else {
                let watchBasemapHandle = null;
                watchBasemapHandle = map.watch('basemap', () => {
                    // only watch once
                    if (watchBasemapHandle) {
                        watchBasemapHandle.remove();
                    }
                    watchBasemapHandle = null;
                    if (map.basemap) {
                        setOriginalBasemap();
                    }
                });
            }
            view.mapbase = this;
            view.highLightHandles = {};
            view.mapBaseViewEventHandles = {};
            view.extentChangeRelatedWidgetIds = [];
            view.publishExtentChangeMessage = function (stationary, interacive) {
                try {
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props && mapbase.props.onExtentChanged) {
                            mapbase.publishExtentChangeMessage(view, stationary, interacive);
                        }
                    }
                }
                catch (e) {
                    console.error('view publish extent change message error', e);
                }
            };
            view.hideMapTools = function () {
                try {
                    view.isMapToolsHidden = true;
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props) {
                            if (mapbase.props.onActiveToolInfoChange) {
                                // set no active tool
                                mapbase.props.onActiveToolInfoChange(null);
                            }
                            const multiSourceMapDom = mapbase.props.multiSourceMapDom;
                            if (multiSourceMapDom) {
                                multiSourceMapDom.classList.add('hide-map-tools-layout');
                            }
                        }
                    }
                }
                catch (e) {
                    console.error('view hide map tools error', e);
                }
            };
            view.viewpointHistory = [];
            view.viewpointIndex = -1;
            view.showMapTools = function () {
                try {
                    view.isMapToolsHidden = false;
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props) {
                            const multiSourceMapDom = mapbase.props.multiSourceMapDom;
                            if (multiSourceMapDom) {
                                multiSourceMapDom.classList.remove('hide-map-tools-layout');
                            }
                        }
                    }
                }
                catch (e) {
                    console.error('view show map tools error', e);
                }
            };
            view.dataSourceInfo = dataSourceInfo;
            if (this.view) {
                this.destroyCurrentMapbaseView();
                this.view = null;
            }
            // update this.view
            this.view = view;
            this.mapCreatingInfo = null;
            if (this.isReadyToCreateJimuMapView()) {
                this.createJimuMapView();
            }
            // the following code are same for both map view and scene view
            view.when(() => {
                var _a, _b, _c;
                view.isViewWhenReady = true;
                if (view.viewpoint) {
                    view.viewWhenInitialViewpoint = view.viewpoint.clone();
                    view.lastViewpointToUpdateUrlParams = view.viewpoint.clone();
                }
                else {
                    view.viewWhenInitialViewpoint = null;
                    view.lastViewpointToUpdateUrlParams = null;
                }
                view.viewWhenTimestamp = Date.now();
                // view.when() is async, we need to check the view is expected or not
                // if the view is not expected again, we don't execute the following logic
                const isViewOk = !view.destroyed && this.view === view && this.isViewExpected(view);
                if (!isViewOk) {
                    return;
                }
                setTimeout(() => {
                    if (!view.destroyed) {
                        // make sure publish extent-change message at least once
                        this.publishExtentChangeMessage(view, true);
                    }
                }, 1000);
                view.watchInteractingHandle = view.watch('interacting', () => {
                    if (view.interacting) {
                        MapBase.lastInteraciveView = view;
                        // We must set view.extentChangeRelatedWidgetIds to empty array, becuase current view is the extent-change sourcer.
                        this.setExtentChangeRelatedWidgetIdsForView(view, []);
                    }
                });
                // MapView always trigger twice extent change event after view when, about 3ms - 80ms after view when.
                // SceneView always trigger 2-5 times extent change event after view when, about 3 - 5000 ms, depends on data.
                view.extentWatchHandle = view.watch('extent', (extent) => {
                    if (!extent) {
                        return;
                    }
                    this.publishExtentChangeMessage(view, false);
                    if (view.stationaryTimerId) {
                        clearTimeout(view.stationaryTimerId);
                        view.stationaryTimerId = null;
                    }
                    // We don't use view.watch('stationary', cb) to check if view is static or not, because the behavior of view.stationary is strange.
                    // Instead, we use a timeout to check if view is static or not.
                    view.stationaryTimerId = setTimeout(() => {
                        view.stationaryTimerId = null;
                        // view is static now
                        // We need to publish extent-change message again when view is static.
                        this.publishExtentChangeMessage(view, true);
                        // Note, make sure we call setExtentChangeRelatedWidgetIdsForView() after publish extent-change message.
                        this.setExtentChangeRelatedWidgetIdsForView(view, []);
                        setTimeout(() => {
                            if (view === MapBase.lastInteraciveView && !view.interacting) {
                                MapBase.lastInteraciveView = null;
                            }
                        }, 1000);
                    }, 200);
                });
                if (!view.fatalErrorWatchHandle) {
                    view.fatalErrorWatchHandle = view.watch('fatalError', (error) => {
                        var _a, _b;
                        if (error) {
                            // Don't use this.props.isMapInVisibleArea to check is map visible or not, because mapbase maybe unmounted and this.props.isMapInVisibleArea is still true.
                            // It is more safe to
                            const shouldRecovery = !view.isInCaching && view.container && view.container.clientWidth > 0 && view.container.clientHeight > 0;
                            const widgetId = ((_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.id) || '';
                            if (shouldRecovery) {
                                console.error(`${widgetId} Fatal Error! View has lost its WebGL context. Attempting to recover it because the view is visible.`);
                                this.tryFatalErrorRecovery(view);
                            }
                            else {
                                console.error(`${widgetId} Fatal Error! View has lost its WebGL context. Don't recover it because the view is not visible.`);
                            }
                        }
                    });
                }
                // after view is loaded, send extent change message
                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {
                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);
                });
                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish
                // extentMessage and change other mapWidget's extent.
                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {
                    // In 2023.R02, it always calls this.goHome(false) here. We keep it for compatibility.
                    // In the next release, if we can get viewpoint from url hash, we will use it as map initial viewpoint.
                    // For this case (view.initUrlHashViewpoint not empty), we don't call this.goHome(false), because goHome will let the map goto config.initialMapState.
                    if (!view.initUrlHashMapOptions) {
                        this.goHome(false);
                    }
                }
                if (this.isMapView(view)) {
                    // snapToZoom: true means integer zoom, false means float zoom
                    // We need to set the initial value to true for backward compatibility and keep the same behavior with MapViewer
                    // After map inited, we will set snapToZoom to false to get the best synchronization between two map widgets
                    // We use setTimeout here to make sure the above this.goHome(false) is done.
                    setTimeout(() => {
                        view.constraints.snapToZoom = false;
                    }, 0);
                }
            });
            this.bindMapBaseViewEvent(view);
            this.tryUpdateCurrentViewByConfigProps(true);
            this.checkAndHandleMutableStateProps();
        });
    }
    publishExtentChangeMessage(view, stationary, interacive) {
        if (!view) {
            return;
        }
        const nowTime = Date.now();
        if (!view.firstPublishExtentChangeTime) {
            view.firstPublishExtentChangeTime = nowTime;
        }
        const extent = view.extent.clone();
        const viewpoint = view.viewpoint.clone();
        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent, viewpoint, stationary);
        extentMessage.publishTime = nowTime;
        extentMessage.interacive = interacive || view.interacting;
        const extentChangeRelatedWidgetIdsOfView = this.getExtentChangeRelatedWidgetIdsOfView(view);
        extentMessage.setRelatedWidgetIds(extentChangeRelatedWidgetIdsOfView);
        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
        if (stationary) {
            // handle viewpointHistory
            const currentViewpoint = view.viewpoint.clone();
            if (view.viewpointHistory.length > 0) {
                const indexes = [view.viewpointIndex, view.viewpointIndex - 1, view.viewpointIndex + 1];
                let isSamelikeViewpoint = false;
                const lastViewpointIndex = view.viewpointHistory.length - 1;
                for (let i = 0; i < indexes.length; i++) {
                    const viewpointIndex = indexes[i];
                    if (viewpointIndex >= 0 && viewpointIndex <= lastViewpointIndex) {
                        const viewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getViewpointInstanceFromHistory)(view, viewpointIndex);
                        if (viewpoint && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSamelikeViewpoints)(view, currentViewpoint, viewpoint)) {
                            isSamelikeViewpoint = true;
                            break;
                        }
                    }
                }
                if (!isSamelikeViewpoint) {
                    // current viewpointHistory: view.viewpointIndex point to C
                    // A -> B -> [C] -> D -> E
                    // temp viewpointHistory
                    // A -> B -> [C]
                    view.viewpointHistory.splice(view.viewpointIndex + 1);
                    // new viewpointHistory
                    // A -> B -> C -> [F]
                    view.viewpointHistory.push(currentViewpoint);
                    view.viewpointIndex += 1;
                }
            }
            else {
                // first viewpoint
                view.viewpointHistory.push(currentViewpoint);
                view.viewpointIndex = 0;
            }
            if (view.stationaryCallback) {
                view.stationaryCallback();
            }
        }
        this.debounceUpdateUrlHashParams();
    }
    updateUrlHashParams() {
        if (this.view) {
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (jimuMapView && jimuMapView.isActive) {
                // MapView always trigger twice extent change event after view when, about 3ms - 80ms after view when.
                // SceneView always trigger 2-5 times extent change event after view when, about 3 - 5000 ms, depends on data.
                // We don't want to update map url parameters during map initializing, so need to check viewpoint really changed or not.
                const isViewpointChange = !(0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSamelikeViewpoints)(this.view, this.view.viewpoint, this.view.lastViewpointToUpdateUrlParams);
                if (isViewpointChange) {
                    // viewpoint really changed
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateUrlHashParamsForActiveJimuMapView)(jimuMapView);
                }
            }
        }
    }
    generateViewPointFromInitialMapState(initialMapState) {
        // For 2d, initialMapState.extent and initialMapState.viewPoint have some difference.
        // The logic has run long time, for now we don't change its logic for compatibility.
        if (initialMapState.viewType === '2d') {
            return new this.Viewpoint({
                targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                rotation: initialMapState.rotation
            });
        }
        else {
            return this.Viewpoint.fromJSON(initialMapState.viewPoint);
        }
    }
    getMapOptionsByUrlHashParams(is2d) {
        let result = null;
        try {
            const isRunAppMode = this.props.baseWidgetProps.isRunAppMode;
            const runtimeUrlHashParams = this.props.baseWidgetProps.runtimeUrlHashParams;
            if (isRunAppMode && runtimeUrlHashParams) {
                result = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapOptionsByUrlHashParams)(runtimeUrlHashParams, is2d, this.Viewpoint, this.Point, this.SpatialReference);
            }
        }
        catch (e) {
            console.error('parse map options from url hash params error', e);
            result = null;
        }
        return result;
    }
    calMapViewTimeZone(webMapOrWebScene) {
        var _a, _b;
        let finalTimeZone = '';
        const timeZoneProp = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.mapTimeZone;
        const originalItemTimeZone = webMapOrWebScene === null || webMapOrWebScene === void 0 ? void 0 : webMapOrWebScene.originalItemTimeZone;
        if (timeZoneProp) {
            // case1: user sets 'Device time zone' as timeZone in ExB
            // case2: user sets 'Specific time zone' as timeZone in ExB
            finalTimeZone = timeZoneProp;
        }
        else if (originalItemTimeZone) {
            // user sets 'Data time zone' as timeZone in ExB
            // The webmap is a new one with timeZone.
            finalTimeZone = originalItemTimeZone;
        }
        else {
            // user doesn't set timeZone in ExB
            // The webmap is an old one without timeZone.
            finalTimeZone = 'system';
        }
        return finalTimeZone;
    }
    /**
     * This method create web map or web scene by data source. This method doesn't consider default web map case.
     * @param dataSourceInfo
     * @returns
     */
    createWebMapOrWebSceneByDataSource(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            let webMapOrWebScene = null;
            const MapClass = dataSourceInfo.isWebMap ? this.WebMap : this.WebScene;
            const dataSourceJson = dataSourceInfo.dataSourceJson;
            if (dataSourceJson.portalUrl) {
                // create web map or web scene for portal
                const portal = new this.Portal({
                    url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getPlatformUrlByOrgUrl(dataSourceJson.portalUrl)
                });
                webMapOrWebScene = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId,
                        portal: portal
                    })
                });
            }
            else {
                // create web map or web scene for arcgis online
                webMapOrWebScene = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId
                    })
                });
            }
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getWhetherUseProxy()) {
                yield webMapOrWebScene.load();
                yield webMapOrWebScene.when();
                // set proxy url for layers and tables
                const allLayers = webMapOrWebScene.allLayers.toArray();
                const tables = webMapOrWebScene.tables ? webMapOrWebScene.tables.toArray() : [];
                const layersAndTables = allLayers.concat(tables);
                layersAndTables.forEach(layer => {
                    const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(layer);
                    if (!sourceUrl) {
                        return;
                    }
                    const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);
                    if (proxyUrl) {
                        layer.url = proxyUrl;
                        // The following code is the workaround to fix JS API 4.28 issue. Need to be replaced with request interceptor in next release.
                        const portalItem = layer.portalItem;
                        if (portalItem && portalItem.when) {
                            portalItem.when(() => {
                                // After execute 'layer.url = proxyUrl', layer.url maybe still different with proxyUrl, e.g. proxyUrl is 'xxx/featureserver/0', but the final layer.url is 'xxx/featureserver'.
                                // so we use layer.url here, not proxyUrl.
                                portalItem.url = layer.url;
                                if (portalItem.sourceJSON) {
                                    portalItem.sourceJSON.url = layer.url;
                                }
                            });
                        }
                    }
                });
            }
            return webMapOrWebScene;
        });
    }
    getDefaultWebMap() {
        const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
        const tempViewPoint = new this.Viewpoint({
            targetGeometry: new this.Extent({
                xmin: defaultExtent && defaultExtent.xmin,
                ymin: defaultExtent && defaultExtent.ymin,
                xmax: defaultExtent && defaultExtent.xmax,
                ymax: defaultExtent && defaultExtent.ymax,
                spatialReference: { wkid: defaultExtent.spatialReference.wkid }
            })
        });
        const defaultWebmap = new this.WebMap({
            portalItem: {
                id: this.props.defaultMapInfo.defaultMapId,
                portal: {
                    url: this.props.baseWidgetProps.portalUrl
                }
            },
            initialViewProperties: new this.InitialViewProperties({
                spatialReference: defaultExtent && defaultExtent.spatialReference,
                viewpoint: tempViewPoint
            })
        });
        return defaultWebmap;
    }
    getMapViewOptionToCreateMapView(dataSourceInfo) {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            let mapViewOption;
            const initialMapState = this.props.baseWidgetProps.config.initialMapState;
            let webMap = null;
            if (this.props.isDefaultMap) {
                webMap = this.getDefaultWebMap();
                mapViewOption = {
                    map: webMap,
                    container: this.mapContainer,
                    viewpoint: this.getInitViewPointForDefaultWebMap()
                };
            }
            else {
                webMap = (yield this.createWebMapOrWebSceneByDataSource(dataSourceInfo));
                if (initialMapState) {
                    mapViewOption = {
                        map: webMap,
                        container: this.mapContainer,
                        viewpoint: initialMapState && this.generateViewPointFromInitialMapState(initialMapState)
                    };
                }
                else {
                    mapViewOption = {
                        map: webMap,
                        container: this.mapContainer
                    };
                }
            }
            // get the initial timeZone of MapViewer
            try {
                yield webMap.load();
                yield webMap.when();
                const webmapConfig = yield webMap.resourceInfo;
                if (webmapConfig) {
                    webMap.originalItemTimeZone = webmapConfig.timeZone;
                }
            }
            catch (e) {
                console.error('can not get MapViewer timeZone', e);
            }
            const config = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.config;
            const highlightColor = (config === null || config === void 0 ? void 0 : config.selectionHighlightColor) || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = (config === null || config === void 0 ? void 0 : config.selectionHighlightHaloColor) || DEFAULT_HIGHLIGHT_HALO_COLOR;
            mapViewOption.highlightOptions = {
                color: new this.Color(highlightColor),
                haloColor: new this.Color(highlightHaloColor)
            };
            mapViewOption.constraints = {
                // snapToZoom: true means integer zoom, false means float zoom
                // We need to set the initial value to true for backward compatibility and keep the same behavior with MapViewer
                // After map inited, we will set snapToZoom to false to get the best synchronization between two map widgets
                snapToZoom: true
            };
            const finalTimeZone = this.calMapViewTimeZone(webMap);
            mapViewOption.timeZone = finalTimeZone;
            if (!window.jimuConfig.isInBuilder) {
                if (this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id]) {
                    const extentStr = this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id].substr('extent='.length);
                    let extent;
                    try {
                        extent = new this.Extent(JSON.parse(extentStr));
                    }
                    catch (err) {
                        console.error('Bad extent URL parameter.');
                    }
                    if (extent) {
                        mapViewOption.extent = extent;
                    }
                }
            }
            return mapViewOption;
        });
    }
    getSceneViewOptionToCreateSceneView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            const webScene = yield this.createWebMapOrWebSceneByDataSource(dataSourceInfo);
            const mapViewOption = {
                map: webScene,
                container: this.mapContainer
            };
            const widgetConfig = this.props.baseWidgetProps.config;
            const initialMapState = widgetConfig.initialMapState;
            if (initialMapState) {
                mapViewOption.viewpoint = initialMapState && this.generateViewPointFromInitialMapState(initialMapState);
            }
            const highlightColor = widgetConfig.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = widgetConfig.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
            mapViewOption.highlightOptions = {
                color: new this.Color(highlightColor),
                haloColor: new this.Color(highlightHaloColor)
            };
            const sceneQualityMode = widgetConfig.sceneQualityMode;
            if (sceneQualityMode && sceneQualityMode !== _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.auto) {
                mapViewOption.qualityProfile = sceneQualityMode;
            }
            else {
                // use 'low' as default value
                mapViewOption.qualityProfile = _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.low;
            }
            return mapViewOption;
        });
    }
    bindMapBaseViewEvent(view) {
        if (view) {
            this.releaseMapbaseViewEventHandles(view);
            view.mapBaseViewEventHandles.click = view.on('click', () => {
                this.releaseHighLightHandles(view);
            });
        }
    }
    isReadyToCreateJimuMapView() {
        if (this.view) {
            if (this.props.isDefaultMap) {
                // Don't need data source if use default map.
                return true;
            }
            else {
                return this.mapDs && this.mapDs.id === this.props.dataSourceId;
            }
        }
        return false;
    }
    getJimuMapViewFoView(view) {
        var _a;
        const jimuMapViewId = (_a = view === null || view === void 0 ? void 0 : view.dataSourceInfo) === null || _a === void 0 ? void 0 : _a.jimuMapViewId;
        if (jimuMapViewId) {
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            return jimuMapView;
        }
        return null;
    }
    createJimuMapView() {
        if (!this.isReadyToCreateJimuMapView()) {
            return;
        }
        const view = this.view;
        // If dataSourceId is null, make sure it converts to empty string.
        const dataSourceId = this.props.dataSourceId || '';
        const useUrlHashLayersVisibility = this.props.baseWidgetProps.isRunAppMode;
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().createJimuMapView({
            mapWidgetId: this.props.baseWidgetProps.id,
            dataSourceId,
            view,
            isEnablePopup: this.props.baseWidgetProps.config && !this.props.baseWidgetProps.config.disablePopUp,
            mapViewManager: jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance(),
            useUrlHashLayersVisibility
        });
        view.when(() => {
            const jimuMapViewId = view.dataSourceInfo.jimuMapViewId;
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            if (jimuMapView) {
                if (jimuMapView.view) {
                    jimuMapView.whenJimuMapViewLoaded().then(() => {
                        if (!jimuMapView.view) {
                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
                            return;
                        }
                        if (this.isViewExpected(view)) {
                            if (this.props.onJimuMapViewCreated) {
                                this.props.onJimuMapViewCreated(jimuMapView);
                            }
                        }
                    });
                }
                else {
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
                }
            }
        });
    }
    destroyCurrentMapbaseView() {
        if (this.view) {
            this.destroyMapbaseView(this.view);
        }
        // Note, don't set this.mapDs to null here.
        // Consider this case:
        // We create a new Mapbase instance, onDataSourceCreated callback is quickly, then we get this.mapDs.
        // Then componentDidMount is invoked for some reason (e.g. this.isBasicModulesLoaded changed from false to true),
        // and we need to call this method to destroy this.view.
        // So, if we set this.mapDs to null, we will never get this.mapDs,
        // and this.isReadyToCreateJimuMapView() always return false, then we can't create jimu map view.
        this.view = null;
    }
    destroyMapbaseView(view) {
        if (view) {
            // release handles
            if (view.watchInteractingHandle) {
                view.watchInteractingHandle.remove();
                view.watchInteractingHandle = null;
            }
            if (view.extentWatchHandle) {
                view.extentWatchHandle.remove();
                view.extentWatchHandle = null;
            }
            if (view.fatalErrorWatchHandle) {
                view.fatalErrorWatchHandle.remove();
                view.fatalErrorWatchHandle = null;
            }
            if (view.stationaryTimerId) {
                clearTimeout(view.stationaryTimerId);
                view.stationaryTimerId = null;
            }
            this.releaseHighLightHandles(view);
            this.releaseMapbaseViewEventHandles(view);
        }
        const jimuMapViewId = view.dataSourceInfo.jimuMapViewId;
        if (jimuMapViewId) {
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
        }
        if (!view.destroyed) {
            view.destroy();
        }
    }
    releaseHighLightHandles(view) {
        if (view.highLightHandles) {
            const keys = Object.keys(view.highLightHandles);
            for (const key of keys) {
                view.highLightHandles[key].remove();
            }
        }
        view.highLightHandles = {};
    }
    releaseMapbaseViewEventHandles(view) {
        if (view.mapBaseViewEventHandles) {
            const keys = Object.keys(view.mapBaseViewEventHandles);
            for (const key of keys) {
                view.mapBaseViewEventHandles[key].remove();
            }
        }
        view.mapBaseViewEventHandles = {};
    }
    onStoreResourceSessionsChange(prevResourceSessions, resourceSessions) {
        // When user logins, it will trigger onStoreResourceSessionsChange twice, the duration is about 10ms. So use the defer to only handle the last onStoreResourceSessionsChange.
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.defer(() => {
            var _a, _b, _c, _d;
            const isMapDsCreateFailed = this.createFailedDataSourceIds[this.props.dataSourceId];
            if (isMapDsCreateFailed) {
                return;
            }
            if (this.mapCreatingInfo) {
                return;
            }
            if (!this.view) {
                return;
            }
            if (!this.view.isViewWhenReady) {
                return;
            }
            if (this.view.isInCaching) {
                return;
            }
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (!jimuMapView) {
                return;
            }
            const allLayers = ((_b = (_a = this.view.map) === null || _a === void 0 ? void 0 : _a.layers) === null || _b === void 0 ? void 0 : _b.toArray()) || [];
            const loadErrLayers = allLayers.filter(layer => {
                return layer.loadStatus === 'failed' && layer.loadError && layer.url;
            });
            if (loadErrLayers.length === 0) {
                return;
            }
            const serviceManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance();
            const noPermissionResourceInfoList = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getNoPermissionResourceInfoList() || {};
            const isSomeLayerReLogin = loadErrLayers.some(layer => {
                var _a;
                const layerUrl = layer.url;
                const serviceOwningSystemUrl = (_a = serviceManager.getServerInfoByServiceUrl(layerUrl)) === null || _a === void 0 ? void 0 : _a.owningSystemUrl;
                const serverRootUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.serviceUrlUtils.getServerRootUrl(layerUrl);
                const serviceStandardPlatformUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getStandardPortalUrl(serviceOwningSystemUrl || serverRootUrl);
                if (!serviceStandardPlatformUrl) {
                    return false;
                }
                const preUser = (prevResourceSessions === null || prevResourceSessions === void 0 ? void 0 : prevResourceSessions[serviceStandardPlatformUrl]) || '';
                const currUser = (resourceSessions === null || resourceSessions === void 0 ? void 0 : resourceSessions[serviceStandardPlatformUrl]) || '';
                if (preUser !== currUser && currUser && !noPermissionResourceInfoList[layerUrl]) {
                    // user can access layerUrl now
                    return true;
                }
                return false;
            });
            if (isSomeLayerReLogin && this.expectedDataSourceInfo && this.isViewExpected(this.view)) {
                const mapWidgetId = (_d = (_c = this.props) === null || _c === void 0 ? void 0 : _c.baseWidgetProps) === null || _d === void 0 ? void 0 : _d.widgetId;
                const jimuMapViewId = jimuMapView.id;
                console.log(`recreate mapbaseview because layers that previously failed to load are now accessible, mapWidgetId: ${mapWidgetId}, jimuMapViewId: ${jimuMapViewId}`);
                this.destroyCurrentMapbaseView();
                this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
            }
        });
    }
    getRestoreDataFromMS() {
        const basicKey = this.getRestoreDataKey();
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData', basicKey]);
        return restoreData;
    }
    updateRestoreDataToMS(restoreData) {
        const basicKey = this.getRestoreDataKey();
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${basicKey}`, restoreData);
    }
    getRestoreDataKey() {
        return `${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`;
    }
    /**
     * This method is called when user clicks the map thubnail in map setting page and change the config.initialMapDataSourceID.
     * @param useAmination
     */
    goHome(useAmination) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {
                return;
            }
            const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
            if (this.view && widgets[this.props.baseWidgetProps.id]) {
                const initViewPoint = this.getMapBaseInitViewPoint();
                if (initViewPoint) {
                    // TODO: maybe need to set view.constraints.snapToZoom to true before call view.goTo() and reset it to false after view.goTo() is done.
                    return this.view.goTo(initViewPoint, {
                        animate: useAmination
                    });
                }
            }
        });
    }
    getMapBaseInitViewPoint() {
        var _a, _b;
        if (this.props.isDefaultMap) {
            return this.getInitViewPointForDefaultWebMap();
        }
        else {
            const initialMapState = this.props.baseWidgetProps.config.initialMapState;
            if (initialMapState) {
                return this.generateViewPointFromInitialMapState(initialMapState);
            }
            else {
                if (this.view) {
                    const map = this.view.map;
                    return (_b = (_a = map === null || map === void 0 ? void 0 : map.initialViewProperties) === null || _a === void 0 ? void 0 : _a.viewpoint) === null || _b === void 0 ? void 0 : _b.clone();
                }
            }
        }
    }
    formatMessage(id) {
        return this.props.baseWidgetProps.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages[id] });
    }
    handleDisableWheel() {
        this.widgetContainer.style.pointerEvents = 'none';
        setTimeout(() => {
            this.widgetContainer.style.pointerEvents = 'auto';
        }, 50);
    }
    getMapSwitchForErrorMap() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-container', style: {
                display: isShowMapSwitchBtn ? 'block' : 'none',
                marginBottom: this.props.widthBreakpoint === 'xsmall' ? 10 : 0
            } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: (e) => { e.preventDefault(); switchMap(); }, className: 'w-100 h-100 esri-widget--button' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: Exchange, width: 16, height: 16, className: 'mapswitch-icon' }))))));
    }
    /**
     * handle message/action.
     */
    handleAction(mutableStateProps, mapBaseView, jimuMapView) {
        if (!mapBaseView || mapBaseView.destroyed) {
            return;
        }
        // consume mutableStateProps.zoomToFeatureActionValue
        this.handleActionForZoomToFeatureActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.panToActionValue
        this.handleActionForPanToActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.newFeatureSetActionValue
        this.handleActionForNewFeatureSetActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.changedFeatureSetActionValue
        this.handleActionForChangedFeatureSetActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.selectFeatureActionValue
        this.handleActionForSelectFeatureActionValue(mutableStateProps, mapBaseView);
        // consume flashActionValue and filterActionValue
        this.handleActionForFlashActionValueAndFilterActionValue(mutableStateProps, mapBaseView);
        // handle show data on map action
        this.handleActionForShowOnMapDatas(mutableStateProps, jimuMapView);
        // handle add data to map action
        this.handleActionForAddToMapDatas(mutableStateProps, jimuMapView);
    }
    getExtentChangeRelatedWidgetIdsOfView(view) {
        let result = [];
        if (view) {
            const relatedWidgetIds = view.extentChangeRelatedWidgetIds || [];
            // We need to clone the relatedWidgetIds.
            result = relatedWidgetIds.slice();
        }
        return result;
    }
    setExtentChangeRelatedWidgetIdsForView(view, _relatedWidgetIds) {
        if (view) {
            const relatedWidgetIds = _relatedWidgetIds || [];
            // We need to clone the relatedWidgetIds.
            view.extentChangeRelatedWidgetIds = relatedWidgetIds.slice();
        }
    }
    tryFatalErrorRecovery(view) {
        if (view) {
            view.tryFatalErrorRecovery();
        }
    }
    handleActionForZoomToFeatureActionValue(mutableStateProps, mapBaseView) {
        if (!mutableStateProps.zoomToFeatureActionValue) {
            return;
        }
        const receiveMessageTime = Date.now();
        const zoomToFeatureActionValue = mutableStateProps.zoomToFeatureActionValue;
        const relatedWidgetIds = mutableStateProps.zoomToFeatureActionValue.relatedWidgets || [];
        if (relatedWidgetIds && relatedWidgetIds.includes(this.props.baseWidgetProps.id)) {
            // avoid endless loop
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
        }
        else {
            const zoomToFeatureInternalValue = zoomToFeatureActionValue.value;
            if (zoomToFeatureInternalValue.type === 'zoom-to-extent') {
                // ZoomToExtentInternalValue
                const nowTime = Date.now();
                mapBaseView.lastZoomToExtentTime = nowTime;
                // map widget1 extent chagnes and map widget2 needs to sync the extent by message action.
                // Finally, it calls view.goTo(extent)
                // Consider this case:
                // On app load:
                // 1. Both map widget1 and map widget2 set zoom-to action for each other.
                // 2. The initial extent of map widget1 is extent1 and the initial extent of map widget2 is extent2.
                // 3. map widget1 first publish extent-change message after the view is ready.
                // 4. Then map widget2 publish extent-change message.
                // 5. Then map widget2 receive message from map widget1 and call handleAction.
                // 6. Then map widget1 receive message from map widget2 and call handleAction.
                // At last, the extent of map widget1 is extent2 and the extent of map widget2 is extent1. This is not the expected result.
                // To avoid the above case, we need to stop the step6 because map widget1 first publish message.
                let isAboveCase = false;
                if (mapBaseView.firstPublishExtentChangeTime) {
                    if ((nowTime - mapBaseView.firstPublishExtentChangeTime) <= 2000) {
                        if (mapBaseView.firstPublishExtentChangeTime <= zoomToFeatureInternalValue.publishTime) {
                            if (!zoomToFeatureInternalValue.interacive) {
                                // #14391, if extentMessage.interacive is true, means the extent comes from a interactiving map and needs to sync viewpoint with the interactiving map
                                if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTwoWidgetsMutuallyExtentChange)(this.props.baseWidgetProps.id, zoomToFeatureInternalValue.publishWidgetId)) {
                                    isAboveCase = true;
                                }
                            }
                        }
                    }
                }
                // If mapBaseView is the last interactive view, it means mapBaseView is the extent-change source, we should ignore the zoom-to-extent message.
                if (!isAboveCase && mapBaseView !== MapBase.lastInteraciveView) {
                    const viewpoint = zoomToFeatureInternalValue.viewpoint;
                    const extent = zoomToFeatureInternalValue.extent;
                    const stationary = zoomToFeatureInternalValue.stationary;
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    const viewSR = mapBaseView.spatialReference;
                    // viewpoint has high priority than exent, because it contains more information
                    if (viewpoint) {
                        // update view by viewpoint
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectViewpoint)(viewpoint, viewSR)) {
                            if (stationary) {
                                // only project the viewpoint when map is static
                                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectViewpoint)(viewpoint, viewSR).then((projectedViewpoint) => {
                                    // Consider this case(#16423):
                                    // 1. handleActionForZoomToFeatureActionValue receive message at time1, the message viewpoint is viewpoint1
                                    // 2. the viewpoint needs to be project, then send http request to project the viewpoint1, this async step maybe take long time
                                    // 3. then JimuMapView needs to update viewpoint to viewpoint2 by url data_id (sync step) in JimuMapView.moveFeatureToCenter() at time2
                                    // 4. then the async step2 is done at time3, and udpate viewpoint by the projected viewpoint1, finally the viewpoint is the projected viewpoint1
                                    // The step4 is wrong, because viewpoint2 of step3 is the new one, and the projected viewpoint1 is stale.
                                    // To avoid this case, we should check projectedViewpoint is fresh or stale.
                                    const isProjectedViewpointStale = mapBaseView.receiveMessageTimeOfLastViewUpdate && mapBaseView.receiveMessageTimeOfLastViewUpdate > receiveMessageTime;
                                    if (!isProjectedViewpointStale) {
                                        mapBaseView.viewpoint = projectedViewpoint;
                                    }
                                });
                            }
                        }
                        else {
                            mapBaseView.viewpoint = viewpoint;
                        }
                    }
                    else {
                        // TODO: need to remove the following extent logic
                        // update view by extent
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectSpatialReference)(extent.spatialReference, viewSR)) {
                            if (stationary) {
                                // only project the extent when map is static
                                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)([extent], viewSR).then((projectedGeometries) => {
                                    const projectedExtent = projectedGeometries[0];
                                    mapBaseView.goTo(projectedExtent);
                                });
                            }
                        }
                        else {
                            mapBaseView.goTo(extent, { animate: false });
                        }
                    }
                }
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-query-params') {
                // ZoomToQueryParamsInternalValue
                this.queryExtentFromQueryParams(mapBaseView, zoomToFeatureInternalValue.dataSourceIds, zoomToFeatureInternalValue.useDataSources).then((result) => {
                    let target;
                    if (result.count === 0) {
                        return;
                    }
                    else if (result.count === 1 && (result === null || result === void 0 ? void 0 : result.singlePointGraphic)) {
                        target = {
                            graphics: [result === null || result === void 0 ? void 0 : result.singlePointGraphic],
                            layer: result === null || result === void 0 ? void 0 : result.layer
                        };
                    }
                    else {
                        target = result === null || result === void 0 ? void 0 : result.extent;
                    }
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    // Because of 'zoomToUtils' does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                    if (result.useDefaultExtentOfCurrentView) {
                        mapBaseView.goTo(result.viewpoint);
                    }
                    else {
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, target, zoomToFeatureInternalValue.zoomToOption);
                    }
                });
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-array-graphics') {
                // ZoomToArrayGraphicsInternalValue
                this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, zoomToFeatureInternalValue.arrayFeatures, zoomToFeatureInternalValue.zoomToOption);
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-layers') {
                // ZoomToLayersInternalValue
                const dataSourceIds = zoomToFeatureInternalValue.dataSourceIds;
                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getLayersFromDataSourceIds)(dataSourceIds).then(layers => {
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, layers, zoomToFeatureInternalValue.zoomToOption);
                });
            }
            else {
                // zoom-to-graphics
                const dataSource = this.dsManager.getDataSource(zoomToFeatureInternalValue.dataSourceId);
                let layerPromise;
                if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                    layerPromise = Promise.resolve(dataSource.layer);
                }
                else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
                    layerPromise = dataSource.createJSAPILayerByDataSource();
                }
                else {
                    layerPromise = Promise.resolve(null);
                }
                layerPromise.then(layer => {
                    const originalGraphics = zoomToFeatureInternalValue.features || [];
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.processZoomToFeatures)(mapBaseView, layer, originalGraphics).then(handledGraphics => {
                        let zoomToTarget = null;
                        if (layer) {
                            zoomToTarget = {
                                layer,
                                graphics: handledGraphics
                            };
                        }
                        else {
                            zoomToTarget = handledGraphics;
                        }
                        if (!zoomToFeatureInternalValue.zoomToOption) {
                            zoomToFeatureInternalValue.zoomToOption = {};
                        }
                        this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                        zoomToFeatureInternalValue.zoomToOption.queryParams = ((dataSource === null || dataSource === void 0 ? void 0 : dataSource.getCurrentQueryParams) && dataSource.getCurrentQueryParams()) || '';
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, zoomToTarget, zoomToFeatureInternalValue.zoomToOption);
                    });
                });
            }
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
        }
    }
    handleActionForPanToActionValue(mutableStateProps, mapBaseView) {
        var _a;
        if (!mutableStateProps.panToActionValue) {
            return;
        }
        const relatedWidgetIds = mutableStateProps.panToActionValue.relatedWidgets || [];
        const panToType = (_a = mutableStateProps.panToActionValue.value) === null || _a === void 0 ? void 0 : _a.type;
        if (relatedWidgetIds && relatedWidgetIds.includes(this.props.baseWidgetProps.id)) {
            // avoid endless loop
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
        }
        else if (panToType === 'pan-to-query-params') {
            const panToValue = mutableStateProps.panToActionValue.value;
            this.queryExtentFromQueryParams(mapBaseView, panToValue.dataSourceIds, panToValue.useDataSources).then((result) => {
                var _a, _b, _c;
                // Because of 'panToGeometry' method does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                if (result.useDefaultExtentOfCurrentView) {
                    const targetGeometry = ((_b = (_a = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _a === void 0 ? void 0 : _a.camera) === null || _b === void 0 ? void 0 : _b.position) || ((_c = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _c === void 0 ? void 0 : _c.targetGeometry);
                    this.panToGeometry([targetGeometry], mapBaseView, relatedWidgetIds);
                }
                else {
                    this.panToGeometry([result === null || result === void 0 ? void 0 : result.extent], mapBaseView, relatedWidgetIds);
                }
            });
        }
        else if (panToType === 'pan-to-layer') {
            const panToValue = mutableStateProps.panToActionValue.value;
            const dataSource = this.dsManager.getDataSource(panToValue.dataSourceId);
            let layerPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerPromise = Promise.resolve(dataSource.layer);
            }
            else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
                layerPromise = dataSource.createJSAPILayerByDataSource();
            }
            else {
                layerPromise = Promise.resolve(null);
            }
            layerPromise.then(layer => {
                let queryParams = null;
                if (dataSource) {
                    if (dataSource.getCurrentQueryParams) {
                        queryParams = dataSource.getCurrentQueryParams();
                    }
                }
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.layerExtent(mapBaseView, layer, queryParams).then(layerExtent => {
                    if (layerExtent) {
                        this.panToGeometry([layerExtent], mapBaseView, []);
                    }
                });
            });
        }
        else if (panToType === 'pan-to-layers') {
            const panToValue = mutableStateProps.panToActionValue.value;
            const dataSourceIds = panToValue.dataSourceIds;
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getLayersFromDataSourceIds)(dataSourceIds).then(layers => {
                const extentPromises = [];
                layers.forEach(layer => {
                    if (layer) {
                        extentPromises.push(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.layerExtent(mapBaseView, layer));
                    }
                });
                let fullExtent = null;
                return Promise.all(extentPromises).then(extents => {
                    extents.forEach(extent => {
                        if (extent) {
                            fullExtent = fullExtent ? fullExtent.union(extent) : extent;
                        }
                    });
                    if (fullExtent) {
                        this.panToGeometry([fullExtent], mapBaseView, []);
                    }
                });
            });
        }
        else if (panToType === 'pan-to-geometries') {
            const panToValue = mutableStateProps.panToActionValue.value;
            this.panToGeometry(panToValue.geometries, mapBaseView, relatedWidgetIds);
        }
        else if (panToType === 'pan-to-extent') {
            // map widget1 extent changes and map widget2 needs to sync the extent by message action.
            // Finally, it calls view.goTo(extent.center).
            // Consider this case:
            // 1. Both map widget1 and map widget2 set pan-to action for each other.
            // 2. The initial extent of map widget1 is extent1 and the initial extent of map widget2 is extent2.
            // 3. map widget1 first publish extent-change message after the view is ready.
            // 4. Then map widget2 publish extent-change message.
            // 5. Then map widget2 receive message from map widget1 and call handleAction.
            // 6. Then map widget1 receive message from map widget2 and call handleAction.
            // At last, the extent of map widget1 is extent2 and the extent of map widget2 is extent1. This is not the expected result.
            // To avoid the above case, we need to stop the step6 because map widget1 first publish message.
            let isAboveCase = false;
            const nowTime = Date.now();
            if (mapBaseView.firstPublishExtentChangeTime) {
                if ((nowTime - mapBaseView.firstPublishExtentChangeTime) <= 2000) {
                    if (mapBaseView.firstPublishExtentChangeTime <= mutableStateProps.panToActionValue.value.publishTime) {
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTwoWidgetsMutuallyExtentChange)(this.props.baseWidgetProps.id, mutableStateProps.panToActionValue.value.publishWidgetId)) {
                            isAboveCase = true;
                        }
                    }
                }
            }
            // Consider this case:
            // 1. We have 4 map widgets. Here are the actions.
            // 2. Widget1 -> zoom to -> Widget2 -> zoom to -> Widget4
            // 3. Widget1 -> zoom to -> Widget3 -> pan to -> Widget4
            // 4. We move the map of widget1, finally widget4 will receive zoomTo and panTo actions serially, like zoomTo, panTo, zoomTo, panTo, ...
            // 5. Step4 will result in widget4's map view jumping.
            // 6. To avoid this case, we need to stop executing panTo action if zoomTo action is executed recently.
            let isPanZoomConflictCase = false;
            if (mapBaseView.lastZoomToExtentTime) {
                // By test, the biggest delta time is about 200ms in most cases, but it is safe to use a bigger one.
                if ((nowTime - mapBaseView.lastZoomToExtentTime) <= 500) {
                    isPanZoomConflictCase = true;
                }
            }
            // If mapBaseView is the last interactive view, it means mapBaseView is the extent-change source, we should ignore the pan-to-extent message.
            if (!isAboveCase && !isPanZoomConflictCase && mapBaseView !== MapBase.lastInteraciveView) {
                this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                const panToValue = mutableStateProps.panToActionValue.value;
                const extent = panToValue.geometries[0];
                const extentCenter = extent.center;
                const stationary = panToValue.stationary;
                const viewSR = mapBaseView.spatialReference;
                if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectSpatialReference)(extentCenter.spatialReference, viewSR)) {
                    if (stationary) {
                        // only project the extent when map is static
                        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)([extentCenter], viewSR).then((projectedGeometries) => {
                            const projectedCenter = projectedGeometries[0];
                            mapBaseView.goTo(projectedCenter);
                        });
                    }
                }
                else {
                    // mapBaseView.goTo(extentCenter, { animate: false })
                    mapBaseView.center = extentCenter;
                }
            }
        }
        this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
    }
    panToGeometry(originalGeometries, mapBaseView, relatedWidgetIds) {
        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)(originalGeometries, mapBaseView.spatialReference).then((projectedGeometries) => {
            this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.mapPanto)(mapBaseView, projectedGeometries);
        });
    }
    handleActionForNewFeatureSetActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.newFeatureSetActionValue && !mutableStateProps.newFeatureSetActionValue.promise) {
            const createNewFeaturelayerPromise = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.createNewFeaturelayer)(mapBaseView, mutableStateProps.newFeatureSetActionValue.value);
            if (createNewFeaturelayerPromise) {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue.promise', createNewFeaturelayerPromise);
                createNewFeaturelayerPromise.then(() => {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
                });
            }
            else {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
            }
        }
    }
    handleActionForChangedFeatureSetActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.changedFeatureSetActionValue) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateFeaturelayer)(mapBaseView, mutableStateProps.changedFeatureSetActionValue);
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'changedFeatureSetActionValue', null);
        }
    }
    handleActionForSelectFeatureActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.selectFeatureActionValue) {
            mapBaseView.closePopup();
            this.releaseHighLightHandles(mapBaseView);
            const selectFeatureHandle = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.selectFeature)(mapBaseView, mutableStateProps.selectFeatureActionValue);
            if (selectFeatureHandle) {
                mapBaseView.highLightHandles[selectFeatureHandle.layerId] = selectFeatureHandle.handle;
            }
            setTimeout(() => {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'selectFeatureActionValue', null);
            }, 500);
        }
    }
    handleActionForFlashActionValueAndFilterActionValue(mutableStateProps, mapBaseView) {
        const mutableStatePropsKeys = Object.keys(mutableStateProps);
        // WHY: why use array.some() here ? the callback always return false
        mutableStatePropsKeys.some(actionKey => {
            var _a;
            const jimuMapViewId = mapBaseView.dataSourceInfo.jimuMapViewId;
            const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            // handle flash action
            if (actionKey.indexOf('flashActionValue-') === 0 && mutableStateProps[actionKey]) {
                mutableStateProps[actionKey].querySQL && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.flashFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
            }
            // handle filter action
            if (actionKey.indexOf('filterActionValue-') === 0 && mutableStateProps[actionKey]) {
                ((_a = mutableStateProps[actionKey].querySQL) === null || _a === void 0 ? void 0 : _a.length) >= 0 && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.filterFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
            }
            return false;
        });
    }
    handleActionForShowOnMapDatas(mutableStateProps, jimuMapView) {
        if (mutableStateProps.showOnMapDatas) {
            jimuMapView.drawDataOnMap(mutableStateProps.showOnMapDatas);
        }
    }
    handleActionForAddToMapDatas(mutableStateProps, jimuMapView) {
        if (mutableStateProps.addToMapDatas) {
            jimuMapView.addOrRemoveDataOnMap(mutableStateProps.addToMapDatas);
        }
    }
}
// Record the JimuMapView/Mapbase inited count for the specific jimuMapViewId (mapWidgetId + dataSourceId) at runtime, the key is jimuMapViewId, the value is the JimuMapView/Mapbase inited count.
// We use runtimeInitedJimuMapViews to identify whether the JimuMapView/Mapbase is initialized for the first time,
// and replace config.initialMapState with map_state in the url hash during the first initialization.
MapBase.runtimeInitedJimuMapViews = {};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapBase);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts":
/*!***************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiSourceMapContext: () => (/* binding */ MultiSourceMapContext)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const MultiSourceMapContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createContext({
    mapWidgetId: null,
    mapWidgetHeight: null,
    isShowMapSwitchBtn: false,
    isFullScreen: false,
    dataSourceIds: [],
    activeDataSourceId: null,
    switchMap: () => { },
    fullScreenMap: () => { },
    initialMapState: null,
    mobilePanelContainer: null,
    onMobilePanelContentChange: (MobilePanelContent) => { },
    theme: null
});


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx":
/*!********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _mapbase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapbase */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/mapbase.tsx");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layout/map-fixed-layout */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/map-fixed-layout.tsx");
/* harmony import */ var _layout_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/layout */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/layout.tsx");
/* harmony import */ var _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/pc-layout-json */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/pc-layout-json.ts");
/* harmony import */ var _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout/mobile-layout-json */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/mobile-layout-json.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};









const VisibleStyles = {
    firstMapVisible: [{
            zIndex: 'unset',
            opacity: 1
        }, {
            zIndex: -1,
            opacity: 0
        }],
    secondMapVisible: [{
            zIndex: -1,
            opacity: 0
        }, {
            zIndex: 'unset',
            opacity: 1
        }]
};
class MultiSourceMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.mutableStatePropsMap = {};
        this.__unmount = false;
        this.onPageChange = (prePageId, currentPageId) => {
            // close active tool
            if (prePageId && currentPageId && prePageId !== currentPageId) {
                this.setState({
                    activeToolInfo: null
                });
            }
        };
        this.onResize = (width, height) => {
            // close active tool
            this.setState({
                activeToolInfo: null
            });
        };
        this.reInitWidgetInstance = (restoreData) => {
            this.state = restoreData;
            this.isReIniting = true;
        };
        /**
         * This method is called when user clicks the map thubnail in map setting page and change the config.initialMapDataSourceID.
         * @param dataSourceId
         * @param callBack
         */
        this.changeInitialMapDataSourceID = (dataSourceId, callBack) => {
            if (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1) {
                const firstMapInstance = this.refs.firstMapInstance;
                const secondMapInstance = this.refs.secondMapInstance;
                if (!firstMapInstance || !secondMapInstance) {
                    // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                    if (callBack) {
                        callBack();
                    }
                    return;
                }
                if (!this.state.currentMapIndex) {
                    if (this.state.secondMapDsId && this.state.secondMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        secondMapInstance.goHome(false);
                    }
                    else {
                        firstMapInstance.goHome(false);
                    }
                }
                else {
                    if (this.state.firstMapDsId && this.state.firstMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        firstMapInstance.goHome(false);
                    }
                    else {
                        secondMapInstance.goHome(false);
                    }
                }
            }
        };
        this.startChangeInitialMapAnimation = (callBack) => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!firstMapInstance || !secondMapInstance) {
                // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                if (callBack) {
                    callBack();
                }
                return;
            }
            const tempState = Object.assign({}, this.state);
            if (!this.state.currentMapIndex) {
                // currentMapIndex: 0 -> 1
                // first map visible -> second map visible
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack && callBack(); });
            }
            else {
                // currentMapIndex: 1 -> 0
                // second map visible -> first map visible
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack && callBack(); });
            }
        };
        /**
         * This method is called when user clicks the switch tool at the left bottom of map widget.
         */
        this.switchMap = (ignoreSwitchAnimation = false) => __awaiter(this, void 0, void 0, function* () {
            if (!this.props.baseWidgetProps.useDataSources || this.props.baseWidgetProps.useDataSources.length < 2) {
                yield Promise.resolve();
                return;
            }
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!firstMapInstance || !secondMapInstance) {
                // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                return;
            }
            const tempState = Object.assign({}, this.state);
            // By default, we enable switching opacity animation.
            tempState.useAnimation = !ignoreSwitchAnimation;
            if (!this.state.currentMapIndex) {
                // currentMapIndex: 0 -> 1
                // first map visible -> second map visible
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance.setViewPoint(viewPoint);
                }
            }
            else {
                // currentMapIndex: 1 -> 0
                // second map visible -> first map visible
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance.setViewPoint(viewPoint);
                }
            }
            return new Promise((resolve, reject) => {
                this.setState(tempState, () => {
                    this.confirmJimuMapViewIsActive();
                    setTimeout(() => {
                        this.setState({
                            useAnimation: false
                        }, () => {
                            resolve(null);
                        });
                    }, 500);
                });
            });
        });
        this.handleMutableStatePropsChanged = (dataSourceId, propKey, value) => {
            if (!this.mutableStatePropsMap[propKey]) {
                this.mutableStatePropsMap[propKey] = [dataSourceId];
            }
            else {
                if (!this.mutableStatePropsMap[propKey].includes(dataSourceId)) {
                    this.mutableStatePropsMap[propKey].push(dataSourceId);
                }
            }
            const multiMapDsIds = [];
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && firstMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.firstMapDsId);
            }
            if (secondMapInstance && secondMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.secondMapDsId);
            }
            let isAllMatched = true;
            for (let i = 0; i < multiMapDsIds.length; i++) {
                if (!this.mutableStatePropsMap[propKey].includes(multiMapDsIds[i])) {
                    isAllMatched = false;
                    break;
                }
            }
            if (isAllMatched) {
                delete this.mutableStatePropsMap[propKey];
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, propKey, value);
            }
        };
        // callback of view.extent change
        this.onMapbaseExtentChanged = (dataSourceId, message) => {
            const currentVisibleDsId = this.getCurrentVisibleDsId();
            if (currentVisibleDsId === dataSourceId) {
                const clonedViewpoint = message.viewpoint.clone();
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(message);
                // sync viewpoint of hidden mapbase
                let hiddenMapBase = null;
                if (this.state.firstMapDsId && this.state.firstMapDsId !== dataSourceId) {
                    hiddenMapBase = this.refs.firstMapInstance;
                }
                else if (this.state.secondMapDsId && this.state.secondMapDsId !== dataSourceId) {
                    hiddenMapBase = this.refs.secondMapInstance;
                }
                if (hiddenMapBase) {
                    hiddenMapBase.setViewPoint(clonedViewpoint);
                }
            }
        };
        this.handleMapLoaded = (dataSourceId, mapLoadStatus) => {
            this.forceUpdate();
        };
        this.handleJimuMapViewCreated = (jimuMapView) => {
            if (this.props.onJimuMapViewCreated) {
                this.props.onJimuMapViewCreated(jimuMapView);
            }
            if (this.__unmount) {
                return;
            }
            this.confirmJimuMapViewIsActive();
        };
        /**
         * Update this.state.currentJimuMapViewId by this.state.multiMapStyle and update JimuMapView.isActive by calling jimuMapView.setIsActive(isActive).
         */
        this.confirmJimuMapViewIsActive = () => {
            if (this.props.isDefaultMap) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(null);
                if (jimuMapView) {
                    this.setActiveJimuMapView(jimuMapView, true);
                }
                return;
            }
            const allDatasourceIds = [];
            this.state.firstMapDsId && allDatasourceIds.push(this.state.firstMapDsId);
            this.state.secondMapDsId && allDatasourceIds.push(this.state.secondMapDsId);
            const currentDataSourceId = this.getCurrentVisibleDsId();
            for (let i = 0; i < allDatasourceIds.length; i++) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(allDatasourceIds[i]);
                if (jimuMapView) {
                    if (allDatasourceIds[i] === currentDataSourceId) {
                        this.setActiveJimuMapView(jimuMapView, true);
                    }
                    else {
                        this.setActiveJimuMapView(jimuMapView, false);
                    }
                }
            }
        };
        this.isShowMapSwitchBtn = () => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && secondMapInstance) {
                if (firstMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading && secondMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading) {
                    return true;
                }
            }
            else {
                return false;
            }
        };
        this.getCurrentVisibleDsId = () => {
            if (this.state.multiMapStyle[0].opacity === 1) {
                return this.state.firstMapDsId;
            }
            else {
                return this.state.secondMapDsId;
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (this.props.onViewGroupCreate) {
                this.props.onViewGroupCreate(viewGroup);
            }
        };
        this.handleMobilePanelContentChange = (mobilePanelContent) => {
            this.setState({
                mobilePanelContent: mobilePanelContent
            });
        };
        this.handleActiveToolInfoChange = (activeToolInfo) => {
            this.setState({
                activeToolInfo: activeToolInfo
            });
        };
        this.domRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();
        const mapWidgetId = this.props.baseWidgetProps.id;
        if (typeof MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] === 'number') {
            // MultiSourceMap is inited multiple times for mapWidgetId
            MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] += 1;
        }
        else {
            // MultiSourceMap is inited firstly for mapWidgetId
            MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] = 1;
        }
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',
            `${this.props.baseWidgetProps.id}-restoreData-multimap`]);
        if (restoreData) {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            restoreData.mobilePanelContainer = mobilePanelContainer;
            this.reInitWidgetInstance(restoreData);
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, null);
        }
        else {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            // The workflow to show top map and bottom map:
            // 1. this.state.multiMapStyle is set to VisibleStyles.firstMapVisible, this leads to getCurrentVisibleDsId() returning this.state.firstMapDsId.
            // 2. In componentDidMount, this.state.firstMapDsId is set to initialMapDataSourceID.
            // 3. When JimuMapView created, handleJimuMapViewCreated is called, then handleJimuMapViewCreated calls confirmJimuMapViewIsActive.
            // 4. In confirmJimuMapViewIsActive, it calls this.getCurrentVisibleDsId() as currentDataSourceId, currentDataSourceId is this.state.firstMapDsId due to step1.
            //    And because of step2, this.state.firstMapDsId is initialMapDataSourceID, so the currentDataSourceId is initialMapDataSourceID.
            //    Then call JimuMapView.setIsActive(isActive), isActive is true if jimuMapView.dataSourceId equals currentDataSourceId, otherwise isActive is false.
            this.state = {
                // show useDataSources[0] on the top by default
                currentMapIndex: 0,
                multiMapStyle: VisibleStyles.firstMapVisible,
                firstMapDsId: null,
                secondMapDsId: null,
                useAnimation: false,
                useDataSources: null,
                // Note, the initial currentJimuMapViewId is empty, it is not empty after called this.confirmJimuMapViewIsActive() method.
                currentJimuMapViewId: null,
                mobilePanelContent: null,
                mobilePanelContainer: mobilePanelContainer,
                activeToolInfo: null
                // showOnMapDatasKey: null
            };
        }
        this.mutableStatePropsMap = {};
        this.useMapWidgetIds = this.props.baseWidgetProps.id ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.props.baseWidgetProps.id]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.observeStore)(this.onPageChange, ['appRuntimeInfo', 'currentPageId']);
    }
    componentDidMount() {
        if ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo) {
            if (!(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo[this.props.baseWidgetProps.id]) {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoAdded(this.props.baseWidgetProps.id, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({ mapWidgetId: this.props.baseWidgetProps.id })));
            }
        }
        this.__unmount = false;
        if (this.isReIniting) {
            // this.isReIniting is true means MultiSourceMap is restored.
            return;
        }
        const useDataSources = this.props.baseWidgetProps.useDataSources;
        if (useDataSources) {
            // initialMapDataSourceID maybe config.initialMapDataSourceID or url hash param active_datasource_id
            let initialMapDataSourceID = this.props.baseWidgetProps.config.initialMapDataSourceID;
            // If url hash param active_datasource_id is set and this is the first time MultiSourceMap inited,
            // then we use active_datasource_id override config.initialMapDataSourceID.
            if (this.props.baseWidgetProps.isRunAppMode) {
                const mapWidgetId = this.props.baseWidgetProps.id;
                const firstTimeInited = MultiSourceMap.runtimeInitedMapWidgets[mapWidgetId] === 1;
                if (firstTimeInited) {
                    // MultiSourceMap is inited firstly for mapWidgetId.
                    const runtimeUrlHashParams = this.props.baseWidgetProps.runtimeUrlHashParams;
                    if (runtimeUrlHashParams && runtimeUrlHashParams.active_datasource_id) {
                        const allDataSourceIds = useDataSources.map(item => item.dataSourceId);
                        if (allDataSourceIds.includes(runtimeUrlHashParams.active_datasource_id)) {
                            initialMapDataSourceID = runtimeUrlHashParams.active_datasource_id;
                        }
                    }
                }
            }
            // the following code make sure firstMapDsId points to the above initialMapDataSourceID
            if (!initialMapDataSourceID) {
                this.setState({
                    firstMapDsId: useDataSources[0] && useDataSources[0].dataSourceId,
                    secondMapDsId: useDataSources[1] && useDataSources[1].dataSourceId
                });
            }
            else {
                if (initialMapDataSourceID === (useDataSources[0] && useDataSources[0].dataSourceId)) {
                    this.setState({
                        firstMapDsId: useDataSources[0] && useDataSources[0].dataSourceId,
                        secondMapDsId: useDataSources[1] && useDataSources[1].dataSourceId
                    });
                }
                else if (initialMapDataSourceID === (useDataSources[1] && useDataSources[1].dataSourceId)) {
                    this.setState({
                        firstMapDsId: useDataSources[1] && useDataSources[1].dataSourceId,
                        secondMapDsId: useDataSources[0] && useDataSources[0].dataSourceId
                    });
                }
                else {
                    this.setState({
                        firstMapDsId: useDataSources[0] && useDataSources[0].dataSourceId,
                        secondMapDsId: useDataSources[1] && useDataSources[1].dataSourceId
                    });
                }
            }
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources) {
            const restoreData = {
                currentMapIndex: this.state.currentMapIndex,
                multiMapStyle: this.state.multiMapStyle,
                firstMapDsId: this.state.firstMapDsId,
                secondMapDsId: this.state.secondMapDsId,
                useAnimation: this.state.useAnimation,
                currentJimuMapViewId: this.state.currentJimuMapViewId
            };
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, restoreData);
        }
        if (!widgets[this.props.baseWidgetProps.id]) {
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoRemoved(this.props.baseWidgetProps.id));
        }
    }
    static getDerivedStateFromProps(newProps, prevState) {
        if (newProps.baseWidgetProps.useDataSources !== prevState.useDataSources) {
            const newState = MultiSourceMap.getChangedState(prevState.firstMapDsId, prevState.secondMapDsId, newProps.baseWidgetProps.useDataSources);
            return newState;
        }
        else {
            return null;
        }
    }
    componentDidUpdate(prevProps, prevState, snapshot) {
        if (this.props.baseWidgetProps.stateProps && this.props.baseWidgetProps.stateProps.initialMapDataSourceID) {
            // mapWidget.props.stateProps.initialMapDataSourceID is a temporary variable to let map setting and map runtime communicate with each other.
            // If we change the initialMapDataSourceID by clicking ds thumbnail in map setting,
            // then map setting will call builderAppSync.publishChangeWidgetStatePropToApp() to update mapWidget.props.stateProps.initialMapDataSourceID.
            // Once we check mapWidget.props.stateProps.initialMapDataSourceID is not empty in MultiSourceMap, means we changed the initialMapDataSourceID,
            // then we make sure the initialMapbase go to the initial extent.
            // At last, we will reset mapWidget.props.stateProps.initialMapDataSourceID to empty.
            const initialMapDataSourceID = this.props.baseWidgetProps.stateProps.initialMapDataSourceID;
            if (this.state.firstMapDsId === initialMapDataSourceID) {
                const firstMapInstance = this.refs.firstMapInstance;
                if (firstMapInstance) {
                    firstMapInstance.goHome(false);
                }
            }
            if (this.state.secondMapDsId === initialMapDataSourceID) {
                const secondMapInstance = this.refs.secondMapInstance;
                if (secondMapInstance) {
                    secondMapInstance.goHome(false);
                }
            }
            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(this.props.baseWidgetProps.id, 'initialMapDataSourceID', null));
        }
        if (this.isReIniting) {
            this.isReIniting = false;
            return;
        }
        if (this.props.baseWidgetProps.config.initialMapDataSourceID !== prevProps.baseWidgetProps.config.initialMapDataSourceID) {
            // User clicks the map thubnail in map setting page and change the config.initialMapDataSourceID.
            this.changeInitialMapDataSourceID(this.props.baseWidgetProps.config.initialMapDataSourceID, this.confirmJimuMapViewIsActive);
        }
        if (this.props.baseWidgetProps.useDataSources !== prevProps.baseWidgetProps.useDataSources) {
            this.confirmJimuMapViewIsActive();
        }
    }
    getJimuMapViewByDataSourceId(dsId) {
        const jimuMapViewId = (0,_utils__WEBPACK_IMPORTED_MODULE_8__.getJimuMapViewId)(this.props.baseWidgetProps.id, dsId);
        const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
        return jimuMapView;
    }
    setActiveJimuMapView(jimuMapView, isActive) {
        var _a, _b;
        if (isActive) {
            // jimuMapView is active
            jimuMapView.setIsActive(isActive);
            this.setState({
                currentJimuMapViewId: jimuMapView.id
            });
            if (this.props.onActiveJimuMapViewChange) {
                this.props.onActiveJimuMapViewChange(jimuMapView);
            }
            const baseWidgetProps = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps;
            if (baseWidgetProps) {
                // If current url active_datasource_id is empty, we should treat it as initialMapDataSourceID.
                let urlActiveDsId = ((_b = baseWidgetProps.runtimeUrlHashParams) === null || _b === void 0 ? void 0 : _b.active_datasource_id) || baseWidgetProps.config.initialMapDataSourceID;
                // initialMapDataSourceID only exists when useDataSources.length === 2, so initialMapDataSourceID maybe null.
                if (!urlActiveDsId) {
                    // means runtimeUrlHashParams.active_datasource_id and config.initialMapDataSourceID are null
                    const useDataSources = baseWidgetProps.useDataSources;
                    if (useDataSources && useDataSources.length === 1) {
                        urlActiveDsId = useDataSources[0].dataSourceId;
                    }
                }
                if (!urlActiveDsId) {
                    urlActiveDsId = '';
                }
                const newActiveDsId = jimuMapView.dataSourceId || '';
                if (newActiveDsId !== urlActiveDsId) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_8__.updateUrlHashParamsForActiveJimuMapView)(jimuMapView);
                }
            }
        }
        else {
            // jimuMapView is not active
            jimuMapView.setIsActive(isActive);
        }
    }
    // handleShowOnMapDataChange = (showOnMapDatasKey: string[]) => {
    //  this.setState({
    //    showOnMapDatasKey: showOnMapDatasKey
    //  })
    // }
    getLayoutConfig() {
        if (this.props.widthBreakpoint === 'xsmall') {
            return _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__["default"][0];
        }
        else {
            return this.props.baseWidgetProps.config.layoutIndex ? _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][this.props.baseWidgetProps.config.layoutIndex] : _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][0];
        }
    }
    render() {
        var _a;
        const mutiSourceMapDom = this.domRef.current;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Provider, { value: {
                mapWidgetId: this.props.baseWidgetProps.id,
                mapWidgetHeight: this.props.widgetHeight,
                isShowMapSwitchBtn: this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1 && this.isShowMapSwitchBtn(),
                dataSourceIds: [this.state.firstMapDsId, this.state.secondMapDsId],
                activeDataSourceId: this.getCurrentVisibleDsId(),
                switchMap: this.switchMap,
                fullScreenMap: this.props.fullScreenMap,
                isFullScreen: this.props.isFullScreen,
                mobilePanelContainer: this.state.mobilePanelContainer,
                onMobilePanelContentChange: this.handleMobilePanelContentChange,
                initialMapState: this.props.baseWidgetProps.config && this.props.baseWidgetProps.config.initialMapState,
                theme: this.props.baseWidgetProps.theme
            } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: this.domRef, className: 'w-100 h-100 multi-source-map' },
                !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 multi-map-container', style: { position: 'relative' } },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map1', {
                            'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[0].opacity,
                            'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[0].opacity),
                            'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[0].opacity,
                            'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[0].opacity)
                        }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[0].zIndex } }, this.state.firstMapDsId && this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, dataSourceId: this.state.firstMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, multiSourceMapDom: mutiSourceMapDom })),
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map2', {
                            'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[1].opacity,
                            'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[1].opacity),
                            'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[1].opacity,
                            'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[1].opacity)
                        }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[1].zIndex } }, this.state.secondMapDsId && this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'secondMapInstance', baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, dataSourceId: this.state.secondMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, multiSourceMapDom: mutiSourceMapDom }))),
                this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 default-map-container', style: { position: 'relative' } },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 multisourcemap-item-appear-noanimate default-map-mapbase-container'), style: { position: 'absolute', zIndex: 'unset' } }, this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', isDefaultMap: this.props.isDefaultMap, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, dataSourceId: null, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.props.defaultMapInfo, multiSourceMapDom: mutiSourceMapDom }))),
                this.state.currentJimuMapViewId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__["default"], { jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, widgetManifestName: this.props.baseWidgetProps.manifest.name }),
                this.state.currentJimuMapViewId && jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId) &&
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_layout__WEBPACK_IMPORTED_MODULE_5__["default"], { mapWidgetId: this.props.baseWidgetProps.id, isMobile: this.props.widthBreakpoint === 'xsmall', jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, intl: this.props.baseWidgetProps.intl, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, layoutConfig: this.getLayoutConfig(), toolConfig: this.props.baseWidgetProps.config.toolConfig ? this.props.baseWidgetProps.config.toolConfig : {}, activeToolInfo: this.state.activeToolInfo, onActiveToolInfoChange: this.handleActiveToolInfoChange, theme: this.props.baseWidgetProps.theme, widgetManifestName: this.props.baseWidgetProps.manifest.name, widgetHeight: this.props.widthBreakpoint === 'xsmall' ? null : this.props.widgetHeight, autoControlWidgetId: this.props.autoControlWidgetId }),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.JimuMapViewComponent, { useMapWidgetId: (_a = this.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0], onViewGroupCreate: this.handleViewGroupCreate }),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, handleWidth: true, onResize: this.onResize }))));
    }
}
// Record the MultiSourceMap inited count for the specific mapWidgetId at runtime, the key is map widget id, the value is the MultiSourceMap inited count.
// We use runtimeInitedMapWidgets to identify whether the MultiSourceMap is initialized for the first time,
// and replace config.initialMapDataSourceID with activeDataSourceId in the url hash during the first initialization.
MultiSourceMap.runtimeInitedMapWidgets = {};
MultiSourceMap.getChangedState = (firstMapDsId, secondMapDsId, useDataSources) => {
    const changedState = {};
    if (useDataSources && useDataSources[0]) {
        const newDataSourceArr = [];
        const repeatDataSourceArr = [];
        for (let i = 0; i < useDataSources.length; i++) {
            if (firstMapDsId !== useDataSources[i].dataSourceId) {
                newDataSourceArr.push(useDataSources[i].dataSourceId);
            }
            else {
                repeatDataSourceArr.push(useDataSources[i].dataSourceId);
            }
        }
        if (repeatDataSourceArr.length > 0) {
            changedState.firstMapDsId = firstMapDsId;
            changedState.secondMapDsId = newDataSourceArr[0];
        }
        else if (repeatDataSourceArr.length === 0) {
            if (newDataSourceArr.includes(secondMapDsId)) {
                newDataSourceArr.splice(newDataSourceArr.indexOf(secondMapDsId), 1);
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = secondMapDsId;
            }
            else {
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = newDataSourceArr[1];
            }
        }
    }
    else {
        changedState.firstMapDsId = null;
        changedState.secondMapDsId = null;
    }
    if (changedState.firstMapDsId !== firstMapDsId) {
        if (changedState.firstMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
        else {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
    }
    else {
        if (!changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId !== secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
    }
    return changedState;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MultiSourceMap);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool-shell.tsx":
/*!**********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool-shell.tsx ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseToolShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-modules */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts");
/** @jsx jsx */



class BaseToolShell extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    render() {
        const ToolClass = _tool_modules__WEBPACK_IMPORTED_MODULE_2__["default"][this.props.toolName];
        let isAvailable = true;
        if (ToolClass) {
            if (ToolClass.isAvailable) {
                isAvailable = ToolClass.isAvailable(this.props);
            }
            else {
                isAvailable = true;
            }
        }
        else {
            isAvailable = false;
        }
        if (isAvailable) {
            const className = `exbmap-ui exbmap-ui-tool-shell divitem exbmap-ui-tool-shell-${this.props.toolName}`;
            const styleObj = this.props.layoutConfig.elements[this.props.toolName].style || {};
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(this.props.className, className, this.props.layoutConfig.elements[this.props.toolName].className, {
                    'exbmap-ui-hidden-element': this.props.isHidden,
                    'rounded-pill': ['Compass'].includes(this.props.toolName)
                }), style: styleObj },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolClass, { mapWidgetId: this.props.mapWidgetId, ref: 'baseToolInstance', toolJson: this.props.layoutConfig.elements[this.props.toolName], toolName: this.props.toolName, isMobile: this.props.isMobile, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, theme: this.props.theme, autoControlWidgetId: this.props.autoControlWidgetId })));
        }
        else {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null);
            }
            else {
                return null;
            }
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseTool: () => (/* binding */ BaseTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _scroll_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scroll-container */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/scroll-container.tsx");
/* harmony import */ var _panel_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel-shell */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/panel-shell.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






const defaultIcon = __webpack_require__(/*! jimu-ui/lib/icons/widgets.svg */ "./jimu-ui/lib/icons/widgets.svg");
const closeIcon = __webpack_require__(/*! ../../assets/icons/close-12.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/close-12.svg");
class BaseTool extends _ui_component__WEBPACK_IMPORTED_MODULE_2__.UIComponent {
    constructor(props) {
        super(props);
        this.toolName = null;
        this.isContainedToMobilePanel = false;
        // this param is used to update pop position when pc content has changed
        this.generation = 0;
        this._getContent = () => {
            if (this.props.toolJson.isOnlyExpanded) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: 'exbmap-ui exbmap-ui-tool-panel' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())));
            }
            else {
                if (this.props.isMobile) {
                    return this._renderMobileTool();
                }
                else {
                    return this._renderPCTool();
                }
            }
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.generation = height;
            this.forceUpdate();
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        const mapContainer = this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.container;
        if (jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanelManager.getInstance().checkDomIsContained(mapContainer)) {
            this.isContainedToMobilePanel = true;
        }
        this.modifiers = [{
                name: 'flip',
                options: {
                    padding: 0
                }
            }, {
                name: 'preventOverflow',
                options: {
                    boundary: mapContainer
                }
            }];
        this._onKeyDown = this._onKeyDown.bind(this);
        this.onPopperToggle = this.onPopperToggle.bind(this);
    }
    _cssStyle() {
        const extendCssStyle = this.getExtendCssStyle();
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      ${extendCssStyle}

      /* pointer-events: auto;
      box-shadow: 0 1px 2px rgba(0,0,0,0.3);
      position: relative;

      .exbmap-ui-tool-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .exbmap-ui-expand-content {
        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;
        min-height: 10px;
        min-width: 10px;
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};

        .exbmap-ui-expand-content-header {
          margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        }

        .panel-title {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
          color: #000000;
        }
      }

      .expand-placement-bottom {
        padding-top: 0.25rem !important;
      }

      .expand-placement-left {
        padding-right: 0.25rem !important;
      }

      .expand-placement-right {
        padding-left: 0.25rem !important;
      }

      .expand-placement-top {
        padding-bottom: 0.25rem !important;
      }

      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      } */
    `;
    }
    getExtendCssStyle() {
        return '';
    }
    focusDefaultElement() { }
    onShowPanel() { }
    onClosePanel() { }
    destroy() { }
    static getIsNeedSetting() {
        return true;
    }
    /**
     * Retrun true if the tool should be rendered on the map, otherwise return false.
     * e.g. ScaleBar only supports map view, so ScaleBarTool.isAvailable() will return false if the map is scene view.
     */
    static isAvailable(toolShellProps) {
        return true;
    }
    onPopperToggle(e) {
        if (e) {
            if (e.type === 'keydown' && e.key === 'Escape') {
                this._onIconClick();
                this.iconContainer.focus();
            }
        }
    }
    _onKeyDown(e) {
        var _a;
        if (e.key === 'Enter' || e.key === ' ') {
            if (((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) !== this.toolName) {
                this._onIconClick();
            }
            else {
                this.focusDefaultElement();
            }
        }
    }
    // toggle props.activeToolName
    _onIconClick(e) {
        const onIconClick = this.getIcon() && this.getIcon().onIconClick;
        if (onIconClick) {
            onIconClick(e);
        }
        if (!this.getExpandPanel()) {
            return;
        }
        if (this.props.activeToolInfo) {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
            else {
                this.props.onActiveToolInfoChange({
                    activeToolName: this.toolName,
                    activeToolTitle: this.getTitle()
                });
                this.onShowPanel();
            }
        }
        else {
            this.props.onActiveToolInfoChange({
                activeToolName: this.toolName,
                activeToolTitle: this.getTitle()
            });
            this.onShowPanel();
        }
    }
    _initIconContainer(ref) {
        if (ref && !this.iconContainer) {
            this.iconContainer = ref;
            this.forceUpdate();
        }
    }
    _renderPCTool() {
        var _a;
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        this.generation = this.generation + 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle(), style: { width: '32px', height: '32px' } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this._initIconContainer(ref); }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); }, "aria-expanded": ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) === this.toolName, role: 'button', tabIndex: 0, onKeyDown: this._onKeyDown },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.iconContainer && (this.toolName === activeToolName && expandPanel) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { className: 'exbmap-ui-popper', reference: this.iconContainer, open: !!(this.toolName === activeToolName && expandPanel), placement: this.props.toolJson.panelPlacement, modifiers: this.modifiers, version: this.generation, offset: [0, 4], toggle: this.onPopperToggle, forceLatestFocusElements: true },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mapWidgetHeight }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: this.getExpandPanelPlacementClassName() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-expand-content' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 justify-content-between d-flex exbmap-ui-expand-content-header' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'panel-title text-truncate', style: { maxWidth: '210px' }, title: this.getTitle() }, this.getTitle()),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: () => { this.props.onActiveToolInfoChange(null); }, style: { cursor: 'pointer' }, tabIndex: 0, role: "button", "aria-label": this.props.intl.formatMessage({ id: 'close', defaultMessage: 'close' }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 20, height: 20, icon: closeIcon }))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { maxHeight: `${mapWidgetHeight - 55}px`, overflowY: this.toolName !== 'Search' ? 'auto' : 'inherit' } }, expandPanel),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.onResize }))))))))));
    }
    _renderMobileTool() {
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this.iconContainer = ref; }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), role: 'button', tabIndex: 0, onKeyDown: this._onKeyDown, title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.toolName === activeToolName && expandPanel &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex flex-column', css: this._cssStyle() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_scroll_container__WEBPACK_IMPORTED_MODULE_3__["default"], { className: 'w-100 h-100' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())))), mobilePanelContainer)))));
    }
    getExpandPanelPlacementClassName() {
        if (!this.props.toolJson.panelPlacement) {
            return null;
        }
        else {
            return `expand-placement-${this.props.toolJson.panelPlacement.split('-')[0]}`;
        }
    }
    render() {
        return this._getContent();
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/group.tsx":
/*!************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/group.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Group)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _base_tool_shell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tool-shell */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool-shell.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-modules */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






class Group extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    getStyle() {
        const groupJson = this.props.layoutConfig.elements[this.props.groupName];
        const direction = groupJson.direction;
        const isRTL = this.props.isRTL;
        const isVertical = direction === 'vertical';
        let flexFlow = '';
        if (isVertical) {
            flexFlow = 'column';
        }
        else {
            if (isRTL) {
                flexFlow = 'row-reverse';
            }
            else {
                flexFlow = 'row';
            }
        }
        let alignItems = 'flex-start';
        if (isVertical) {
            if (groupJson.isVerticalRrlAlignItemsStart) {
                if (isRTL) {
                    alignItems = 'flex-end';
                }
                else {
                    alignItems = 'flex-start';
                }
            }
            if (groupJson.isVerticalRrlAlignItemsEnd) {
                if (isRTL) {
                    alignItems = 'flex-start';
                }
                else {
                    alignItems = 'flex-end';
                }
            }
        }
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `

      display: flex;
      flex-flow: ${flexFlow};
      align-items: ${alignItems};

      .exbmap-ui-group-expand-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .expand-mobile-panel {
        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;
        border-radius: 10px 10px 0px 0px;
      }

      .expand-mobile-panel-transition {
        transition: height 0.3s;
      }

      .expand-mobile-panel-touch-container {
        top: 0;
        position: absolute;
        width: 100%;
        height: 31px;
      }

      .expand-mobile-panel-bar {
        width: 36px;
        height: 4px;
        background-color: #434343;
        border-radius: 2px;
      }
      `;
    }
    constructor(props) {
        super(props);
        this.checkIsHiddenElement = (elementName) => {
            if (this.props.hiddenElementNames) {
                if (this.props.hiddenElementNames.includes(elementName)) {
                    return true;
                }
                else {
                    return false;
                }
            }
            else {
                return false;
            }
        };
        /**
         * Hide some tools if widget hegith is too small.
         * This method only hide child element names if current group is main group and in mobile size.
         * @returns
         */
        this.checkResponsive = () => {
            if (!this.props.onSetHiddenElementNames) {
                return;
            }
            if (!this.props.isMainGroup || !this.props.isMobile) {
                this.props.onSetHiddenElementNames([]);
                return;
            }
            const mobileResponsiveStrategy = this.props.layoutConfig.mobileResponsiveStrategy;
            const aboveHeight = this.state.widgetHeight;
            // see issue #2862 for more details
            let hiddenElementNames = [];
            if (aboveHeight >= 465) {
                hiddenElementNames = [];
            }
            else if (aboveHeight >= 400 && aboveHeight < 465) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage1) || [];
            }
            else if (aboveHeight >= 320 && aboveHeight < 400) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage2) || [];
            }
            else if (aboveHeight >= 250 && aboveHeight < 320) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage3) || [];
            }
            else if (aboveHeight >= 160 && aboveHeight < 250) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage4) || [];
            }
            else if (aboveHeight >= 54 && aboveHeight < 160) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage5) || [];
            }
            else if (aboveHeight < 54) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage6) || [];
            }
            this.props.onSetHiddenElementNames(hiddenElementNames);
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.setState({
                widgetWidth: width,
                widgetHeight: height
                // isThumbMap: false
            }, () => {
                this.checkResponsive();
            });
        };
        this.returnNullNode = (key) => {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { key: key });
            }
            else {
                return null;
            }
        };
        this.checkIsLastElement = (parentGroupJson, toolJson) => {
            const toolName = toolJson.toolName;
            const layoutJson = this.props.layoutConfig;
            const children = layoutJson.layout[parentGroupJson.groupName].children;
            const index = children.indexOf(toolName);
            if (index === children.length - 1) {
                return true;
            }
            if (index < children.length - 1) {
                let isLastElement = true;
                for (let i = (index + 1); i < children.length; i++) {
                    const elementName = children[i];
                    if (layoutJson.elements[children[i]].type === 'GROUP') {
                        continue;
                    }
                    else if ((!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][elementName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${elementName}`]) ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(elementName)))) {
                        isLastElement = false;
                        break;
                    }
                    else {
                        continue;
                    }
                }
                return isLastElement;
            }
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        this.handlePanelHeightChange = (panelWidth, panelHeight) => {
            this.setState({ bottomPanelHeight: panelHeight }, () => {
                this.checkResponsive();
            });
        };
        this.getMobilePanelInContext = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer, mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.MobilePanel, { mapWidgetId: mapWidgetId, title: this.props.activeToolInfo && this.props.activeToolInfo.activeToolTitle, open: !!this.props.activeToolInfo, onClose: () => { this.handleToggleMobilePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: (container) => { if (mobilePanelContainer && container) {
                        container.appendChild(mobilePanelContainer);
                    } } })))));
        };
        this.getGroupContent = (layoutJson) => {
            if (!layoutJson) {
                return this.returnNullNode();
            }
            else {
                const children = layoutJson.layout[this.props.groupName] && layoutJson.layout[this.props.groupName].children;
                if (this.checkIsShowGroup(layoutJson, children)) {
                    const groupClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(`exbmap-ui exbmap-ui-group exbmap-ui-group-${this.props.groupName}`, this.props.className, { 'exbmap-ui-hidden-element': this.props.isHidden });
                    const styleObj = this.props.layoutConfig.elements[this.props.groupName].style || {};
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: (this.props.isMainGroup ? this.props.mapWidgetId : undefined), css: this.getStyle(), className: groupClassName, style: styleObj },
                        children.map((key, index) => {
                            var _a, _b;
                            if (!layoutJson.elements[key]) {
                                return this.returnNullNode(index);
                            }
                            if (layoutJson.elements[key].type === 'GROUP') {
                                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group, { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, isMobile: this.props.isMobile, intl: this.props.intl, jimuMapView: this.props.jimuMapView, groupName: key, activeToolInfo: this.props.activeToolInfo, hiddenElementNames: this.props.hiddenElementNames, onActiveToolInfoChange: this.props.onActiveToolInfoChange, theme: this.props.theme, isThumbMap: this.props.isMainGroup ? this.state.isThumbMap : this.props.isThumbMap, autoControlWidgetId: this.props.autoControlWidgetId, isRTL: this.props.isRTL }));
                            }
                            else if (layoutJson.elements[key].type === 'TOOL') {
                                const toolName = layoutJson.elements[key].toolName;
                                const viewType = (_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type;
                                // Navigation is not available for 2D MapView.
                                if ((toolName === 'Navigation' && viewType === '2d') || (toolName === 'ScaleBar' && viewType === '3d')) {
                                    return this.returnNullNode(index);
                                }
                                if (!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][key].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${key}`]) || (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(key))) {
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__["default"], { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), key: index, layoutConfig: layoutJson, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: key, theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: this.checkIsLastElement(layoutJson.elements[this.props.groupName], layoutJson.elements[key]), autoControlWidgetId: this.props.autoControlWidgetId }));
                                }
                                else {
                                    return this.returnNullNode(index);
                                }
                            }
                            else {
                                return this.returnNullNode(index);
                            }
                        }),
                        this.props.isMainGroup && this.props.isMobile && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }),
                        this.props.isMainGroup && this.props.isMobile && this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== 'Select' && this.getMobilePanelInContext(),
                        this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui w-100', style: {
                                position: 'relative',
                                pointerEvents: 'auto',
                                overflow: 'hidden',
                                touchAction: 'none',
                                display: this.props.isMobile && !(this.state.isThumbMap || this.props.isThumbMap) ? 'block' : 'none'
                            } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.props.mapWidgetId}-bottom-panel exbmap-ui w-100 expand-mobile-panel`, style: { overflow: 'hidden', pointerEvents: 'auto', position: 'relative', touchAction: 'none' } },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.handlePanelHeightChange }))))));
                }
                else {
                    return this.returnNullNode();
                }
            }
        };
        this.checkIsShowGroup = (layoutJson, children) => {
            if (!children || children.length === 0) {
                return false;
            }
            else {
                const toolNames = [];
                this.findAllToolNames(layoutJson, children, toolNames);
                let isShowGroup = false;
                for (let i = 0; i < toolNames.length; i++) {
                    if (this.props.toolConfig[`can${toolNames[i]}`] || !_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][toolNames[i]].getIsNeedSetting() ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(toolNames[i]))) {
                        isShowGroup = true;
                        break;
                    }
                }
                return isShowGroup;
            }
        };
        this.findAllToolNames = (layoutJson, children, toolNames) => {
            if (!children || children.length === 0) {
                return;
            }
            for (let i = 0; i < children.length; i++) {
                const childName = children[i];
                const elementInfo = layoutJson.elements[childName];
                if (elementInfo.type === 'GROUP') {
                    const groupName = elementInfo.groupName;
                    this.findAllToolNames(layoutJson, layoutJson.layout[groupName] && layoutJson.layout[groupName].children, toolNames);
                }
                else {
                    toolNames.push(children[i]);
                }
            }
        };
        this.state = {
            bottomPanelHeight: 0,
            isThumbMap: !!this.props.isMobile
        };
    }
    componentDidMount() {
        this.checkResponsive();
    }
    render() {
        if (this.props.isMainGroup && this.props.isMobile && this.props.toolConfig && this.props.toolConfig.canSelect) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `${this.props.mapWidgetId}-with-select-container`, style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', style: { position: 'relative' } }, this.getGroupContent(this.props.layoutConfig)))));
        }
        else {
            return this.getGroupContent(this.props.layoutConfig);
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/panel-shell.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/panel-shell.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PanelShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class PanelShell extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    componentWillUnmount() {
        if (this.props.onDestroyed) {
            this.props.onDestroyed();
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null, this.props.children));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/scroll-container.tsx":
/*!***********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/scroll-container.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScrollContainer)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/** @jsx jsx */

class ScrollContainer extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.moveY = 0;
        this.startY = 0;
        this.isRegisted = false;
        this.registerTouchEvent = (ref) => {
            if (ref && !this.isRegisted) {
                ref.addEventListener('touchstart', (event) => {
                    this.moveY = 0;
                    const touch = event.touches[0];
                    this.startY = touch.clientY;
                }, { passive: false });
                ref.addEventListener('touchmove', (event) => {
                    const touch = event.touches[0];
                    this.moveY = (touch.clientY - this.startY) * -1;
                    this.startY = touch.clientY;
                    ref.scrollTop = ref.scrollTop + this.moveY;
                }, { passive: false });
                ref.addEventListener('touchend', (event) => {
                    this.moveY = 0;
                    this.startY = 0;
                }, { passive: false });
                this.isRegisted = true;
            }
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      overflow: auto;
      pointer-events: auto;
      `;
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: this.props.className, style: this.props.style, ref: ref => {
                this.registerTouchEvent(ref);
            } }, this.props.children));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/ui-component.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UIComponent: () => (/* binding */ UIComponent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class UIComponent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/layout.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/layout.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapToolLayout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _base_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/group */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/group.tsx");
/** @jsx jsx */


class MapToolLayout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getMaxHeightForPcExpand = (widgetHeight) => {
            if (!widgetHeight) {
                return null;
            }
            else {
                if (widgetHeight < 65) {
                    return null;
                }
                else {
                    const resultHeight = widgetHeight - 65;
                    if (resultHeight < 300) {
                        return resultHeight;
                    }
                    else {
                        return 300;
                    }
                }
            }
        };
        this.handSetHiddenElementNames = (elementNames) => {
            this.setState({
                hiddenElementNames: elementNames
            });
        };
        this.state = {
            toolsContentInMobileExpandPanel: null,
            hiddenElementNames: []
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      z-index: 8;
      pointer-events: none;

      .expand-panel-transition {
        transition: opacity 0.3s, right 0.3s;
      }

      .scale-attribution-xy-group {
        > div:first-of-type:nth-last-of-type(1) {
          width: 100%;
          max-width: 100% !important;
        }
      }

      .exbmap-ui-hidden-element {
        display: none !important;
      }

      .exbmap-ui-pc-expand-maxheight {
        max-height: ${this.getMaxHeightForPcExpand(this.props.widgetHeight)}px;
        overflow: auto
      }
      `;
    }
    getLayoutContent(layoutJson) {
        if (!layoutJson || !this.props.toolConfig) {
            return null;
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui esri-ui-inner-container map-tool-layout', css: this.getStyle() }, Object.keys(layoutJson.layout).map((key, index) => {
                const elementItem = layoutJson.elements[key];
                const layoutItem = layoutJson.layout[key];
                if (!elementItem || elementItem.type !== 'GROUP' || !layoutItem.isMainGroup) {
                    return null;
                }
                const isRTL = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appContext.isRTL;
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_group__WEBPACK_IMPORTED_MODULE_1__["default"], { mapWidgetId: this.props.mapWidgetId, className: elementItem.className, style: elementItem.style, isMobile: this.props.isMobile, isMainGroup: true, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, activeToolInfo: this.props.activeToolInfo, jimuMapView: this.props.jimuMapView, groupName: key, onActiveToolInfoChange: this.props.onActiveToolInfoChange, hiddenElementNames: layoutJson.mobileResponsiveStrategy && this.state.hiddenElementNames, intl: this.props.intl, onSetHiddenElementNames: this.handSetHiddenElementNames, theme: this.props.theme, autoControlWidgetId: this.props.autoControlWidgetId, isRTL: isRTL }));
            })));
        }
    }
    componentDidUpdate(prevProps) {
        if (prevProps.appMode !== this.props.appMode && this.props.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            this.props.onActiveToolInfoChange(null);
        }
    }
    render() {
        return this.getLayoutContent(this.props.layoutConfig);
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/map-fixed-layout.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/map-fixed-layout.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/** @jsx jsx */



class Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.getMapFixedLayout = () => {
            // #1197, #2960
            if (window.jimuConfig.isInBuilder) {
                const LayoutEntry = this.props.LayoutEntry;
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayoutEntry, { layouts: layout || null, isInWidget: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map-fix-layout', { 'widget-map-usemask': !(0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode), 'map-is-live-mode': (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode) }) }));
            }
            else {
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.LayoutEntry, { layouts: layout ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(layout) : null, className: 'w-100 h-100 map-is-live-mode map-fix-layout' });
            }
        };
        this.state = {};
    }
    render() {
        return this.getMapFixedLayout();
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/mobile-layout-json.ts":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/mobile-layout-json.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const mobileLayoutJson = {
    elements: {
        mainGroup: {
            type: 'GROUP',
            groupName: 'mainGroup',
            direction: 'vertical',
            className: 'd-flex flex-column',
            style: {
                position: 'absolute',
                top: '0px',
                left: '0px',
                bottom: '0px',
                right: '0px'
            }
        },
        topGroup: {
            type: 'GROUP',
            groupName: 'topGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between',
            style: {
                padding: '10px 10px 0 10px'
            }
        },
        midGroup: {
            type: 'GROUP',
            groupName: 'midGroup',
            direction: 'horizontal',
            className: 'flex-grow-1 d-flex w-100 justify-content-between',
            style: {
                position: 'relative'
            }
        },
        bottomGroup: {
            type: 'GROUP',
            groupName: 'bottomGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between'
        },
        'midGroup-left-top': {
            type: 'GROUP',
            groupName: 'midGroup-left-top',
            direction: 'vertical',
            style: {
                position: 'absolute',
                left: '0px',
                top: '0px'
            }
        },
        'midGroup-left-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-left-bottom',
            direction: 'vertical',
            className: 'd-flex flex-column',
            isVerticalRrlAlignItemsStart: true,
            style: {
                position: 'absolute',
                left: '0px',
                bottom: '0px'
            }
        },
        'midGroup-right-content-top': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-top',
            direction: 'vertical',
            style: {
                position: 'absolute',
                top: '0px',
                right: '10px'
            }
        },
        'midGroup-right-content-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-bottom',
            direction: 'vertical',
            style: {
                position: 'absolute',
                bottom: '10px',
                right: '10px'
            }
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'flex-grow-1'
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            style: {
                marginLeft: '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'mb-0',
            style: {
                marginLeft: '10px',
                marginTop: '10px'
            }
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginLeft: '10px',
                marginBottom: '10px'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        ExtentNavigate: {
            type: 'TOOL',
            toolName: 'ExtentNavigate',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginLeft: '10px',
                marginBottom: '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginTop: '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginTop: '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                width: '100%'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginTop: '10px'
            }
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        }
    },
    layout: {
        mainGroup: {
            isMainGroup: true,
            children: ['topGroup', 'midGroup', 'bottomGroup']
        },
        topGroup: {
            children: ['Search', 'FullScreen']
        },
        midGroup: {
            children: ['midGroup-left-top', 'midGroup-left-bottom', 'midGroup-right-content-top', 'midGroup-right-content-bottom']
        },
        'midGroup-left-top': {
            children: ['Compass']
        },
        'midGroup-left-bottom': {
            children: ['ExtentNavigate', 'MapSwitch', 'ScaleBar']
        },
        'midGroup-right-content-top': {
            children: ['Layers', 'BaseMap', 'Measure', 'Select']
        },
        'midGroup-right-content-bottom': {
            children: ['Zoom', 'Home', 'Locate', 'ClearActionData']
        },
        bottomGroup: {
            children: ['SelectState']
        }
    },
    mobileResponsiveStrategy: {
        // height: 400-465
        stage1: ['Measure', 'Locate'],
        // height: 320-400
        stage2: ['Measure', 'Select', 'Locate', 'bottomGroup'],
        // height: 250-320
        stage3: ['ExtentNavigate', 'midGroup-right-content-top', 'Locate', 'bottomGroup'],
        // height: 160-250
        stage4: ['MapSwitch', 'midGroup-right-content-top', 'Home', 'Locate', 'ClearActionData', 'bottomGroup'],
        // height: 54-160
        stage5: ['midGroup', 'bottomGroup'],
        // height: 0-54
        stage6: ['topGroup', 'midGroup', 'bottomGroup']
    },
    lockToolNames: []
};
const mobileLayoutJsons = [mobileLayoutJson];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mobileLayoutJsons);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/pc-layout-json.ts":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/pc-layout-json.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const layoutJson1 = {
    elements: {
        leftTopContainer: {
            type: 'GROUP',
            groupName: 'leftTopContainer',
            direction: 'horizontal',
            style: {
                position: 'absolute',
                top: '15px',
                left: '15px'
            }
        },
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            style: {
                marginRight: '10px'
            }
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'vertical',
            isResponsive: true,
            style: {
                position: 'absolute',
                top: '15px',
                right: '15px'
            }
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100',
            style: {
                position: 'absolute',
                bottom: '0px',
                left: '0px'
            }
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                marginBottom: '0px',
                marginTop: '0px'
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                paddingLeft: '15px',
                paddingRight: '15px',
                marginBottom: '10px'
            }
        },
        'SelectState-FullScreen-Container': {
            type: 'GROUP',
            groupName: 'SelectState-FullScreen-Container',
            direction: 'vertical',
            isVerticalRrlAlignItemsEnd: true
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                maxWidth: '60%'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginBottom: '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginBottom: '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginBottom: '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px',
                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        ExtentNavigate: {
            type: 'TOOL',
            toolName: 'ExtentNavigate',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginBottom: '10px'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                marginBottom: '10px'
            }
        }
    },
    layout: {
        leftTopContainer: {
            isMainGroup: true,
            children: ['navigator', 'Select']
        },
        navigator: {
            children: ['Zoom', 'Home', 'Navigation', 'ExtentNavigate', 'Locate', 'Compass']
        },
        interact: {
            isMainGroup: true,
            children: ['Search', 'Layers', 'BaseMap', 'Measure']
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'SelectState-FullScreen-Container']
        },
        'SelectState-FullScreen-Container': {
            children: ['FullScreen', 'ClearActionData', 'SelectState']
        },
        bottom: {
            isMainGroup: true,
            children: ['bottom-line2', 'bottom-line1']
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJson2 = {
    elements: {
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            isVerticalRrlAlignItemsEnd: true
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'horizontal',
            isResponsive: true,
            style: {
                position: 'absolute',
                top: '15px',
                left: '15px'
            }
        },
        fullScreenGroup: {
            type: 'GROUP',
            groupName: 'fullScreenGroup',
            direction: 'horizontal',
            style: {
                position: 'absolute',
                top: '15px',
                right: '15px'
            }
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100',
            style: {
                position: 'absolute',
                bottom: '0px',
                left: '0px'
            }
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                marginBottom: '0px',
                marginTop: '0px'
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                paddingLeft: '15px',
                paddingRight: '15px',
                marginBottom: '10px'
            }
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                maxWidth: '60%'
            },
            className: 'attibute-group'
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px'
            }
        },
        ExtentNavigate: {
            type: 'TOOL',
            toolName: 'ExtentNavigate',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                marginTop: '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                marginTop: '10px',
                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                marginRight: '10px'
            }
        }
    },
    layout: {
        navigator: {
            children: ['Compass', 'Locate', 'ExtentNavigate', 'Navigation', 'Zoom', 'Home', 'SelectState']
        },
        interact: {
            isMainGroup: true,
            children: ['Search', 'Layers', 'BaseMap', 'Measure', 'Select']
        },
        fullScreenGroup: {
            isMainGroup: true,
            children: ['FullScreen', 'ClearActionData']
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'navigator']
        },
        bottom: {
            isMainGroup: true,
            children: ['bottom-line2', 'bottom-line1']
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJsons = [layoutJson1, layoutJson2];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layoutJsons);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/layout/tool-modules.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tools_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/zoom */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/zoom.tsx");
/* harmony import */ var _tools_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/home */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/home.tsx");
/* harmony import */ var _tools_compass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/compass */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/compass.tsx");
/* harmony import */ var _tools_locate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/locate */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/locate.tsx");
/* harmony import */ var _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/clear-action-data */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/clear-action-data.tsx");
/* harmony import */ var _tools_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/navigation */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/navigation.tsx");
/* harmony import */ var _tools_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tools/search */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/search.tsx");
/* harmony import */ var _tools_layers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/layers */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/layers.tsx");
/* harmony import */ var _tools_basemap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/basemap */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/basemap.tsx");
/* harmony import */ var _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/mapswitch */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/mapswitch.tsx");
/* harmony import */ var _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/fullscreen */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/fullscreen.tsx");
/* harmony import */ var _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/scalebar */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/scalebar.tsx");
/* harmony import */ var _tools_attribution__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/attribution */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/attribution.tsx");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tools/measure */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/measure.tsx");
/* harmony import */ var _tools_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/select */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/index.tsx");
/* harmony import */ var _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/selectstate */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/index.tsx");
/* harmony import */ var _tools_extent_navigate__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../tools/extent-navigate */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/extent-navigate.tsx");

















const ToolModules = {
    Zoom: _tools_zoom__WEBPACK_IMPORTED_MODULE_0__["default"],
    Home: _tools_home__WEBPACK_IMPORTED_MODULE_1__["default"],
    Navigation: _tools_navigation__WEBPACK_IMPORTED_MODULE_5__["default"],
    Locate: _tools_locate__WEBPACK_IMPORTED_MODULE_3__["default"],
    ClearActionData: _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__["default"],
    Compass: _tools_compass__WEBPACK_IMPORTED_MODULE_2__["default"],
    Search: _tools_search__WEBPACK_IMPORTED_MODULE_6__["default"],
    Layers: _tools_layers__WEBPACK_IMPORTED_MODULE_7__["default"],
    BaseMap: _tools_basemap__WEBPACK_IMPORTED_MODULE_8__["default"],
    Measure: _tools_measure__WEBPACK_IMPORTED_MODULE_13__["default"],
    MapSwitch: _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__["default"],
    FullScreen: _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__["default"],
    ScaleBar: _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__["default"],
    Attribution: _tools_attribution__WEBPACK_IMPORTED_MODULE_12__["default"],
    Select: _tools_select__WEBPACK_IMPORTED_MODULE_14__["default"],
    SelectState: _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__["default"],
    ExtentNavigate: _tools_extent_navigate__WEBPACK_IMPORTED_MODULE_16__["default"]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolModules);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/attribution.tsx":
/*!************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/attribution.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Attribution)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Attribution extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Attribution';
    }
    static getIsNeedSetting() {
        return false;
    }
    getTitle() {
        return 'Attribution';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(AttributionInner, { jimuMapView: this.props.jimuMapView });
    }
}
class AttributionInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Attribution = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Attribution']).then(modules => {
                [this.Attribution] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.AttributionBtn && !this.AttributionBtn.destroy) {
                    this.AttributionBtn.view = this.props.jimuMapView.view;
                    this.AttributionBtn.renderNow();
                    this.props.jimuMapView.addJimuMapTool({
                        name: 'Attribution',
                        instance: this.AttributionBtn
                    });
                }
            }
            else {
                this.AttributionBtn = new this.Attribution({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Attribution');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Attribution',
                    instance: this.AttributionBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.AttributionBtn) {
            this.AttributionBtn.destroy();
            this.AttributionBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Attribution');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'attribution-map-tool', style: { position: 'relative' }, ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/basemap.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/basemap.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");





class BaseMap extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'BaseMap';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'BaseMapLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.BaseMapLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/basemap.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/basemap.svg")
        };
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(BaseMapInner, { jimuMapView: this.props.jimuMapView, isMobile: this.props.isMobile });
    }
}
class BaseMapInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.__unmount = false;
        this.state = {
            apiLoaded: false,
            sourceLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/BasemapGallery', 'esri/widgets/BasemapGallery/support/LocalBasemapsSource']).then(modules => {
                if (this.__unmount) {
                    return;
                }
                [this.BasemapGallery, this.LocalBasemapsSource] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
        if (!this.state.sourceLoaded) {
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.basemapUtils.getOrgBasemaps().then((basemaps) => {
                if (this.__unmount) {
                    return;
                }
                this.orgBasemaps = basemaps;
                this.setState({
                    sourceLoaded: true
                });
            }).catch(err => {
                console.error(`load basemap gallery source error: ${err}`);
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.state.sourceLoaded && this.container) {
            if (this.basemapGallery) {
                // basemapGallery already created
                const isViewChanged = prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id);
                if (isViewChanged) {
                    // view changed
                    this.basemapGallery.view = this.props.jimuMapView.view;
                    this.basemapGallery.source = this.getFinalBasemapGallerySource(this.orgBasemaps, this.basemapGallery);
                    this.basemapGallery.renderNow();
                }
            }
            else {
                // basemapGallery not created
                this.basemapGallery = new this.BasemapGallery({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.basemapGallery.source = this.getFinalBasemapGallerySource(this.orgBasemaps, this.basemapGallery);
                this.props.jimuMapView.deleteJimuMapTool('BaseMap');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'BaseMap',
                    instance: this.basemapGallery
                });
            }
        }
    }
    getFinalBasemapGallerySource(orgBasemaps, basemapGallery) {
        var _a;
        const finalBasemaps = orgBasemaps.slice();
        const view = basemapGallery.view;
        if (view) {
            const originalBasemap = view.map.originalBasemap || view.map.basemap;
            const basemapGalleryViewModel = basemapGallery.viewModel;
            if (originalBasemap && basemapGalleryViewModel) {
                const isOriginalBasemapIncluded = finalBasemaps.some(item => basemapGalleryViewModel.basemapEquals(originalBasemap, item));
                if (!isOriginalBasemapIncluded) {
                    // If originalBasemap.thumbnailUrl is null, use map.thumbnailUrl as originalBasemap.thumbnailUrl.
                    if (!originalBasemap.thumbnailUrl) {
                        const thumbnailUrl = (_a = view.map) === null || _a === void 0 ? void 0 : _a.thumbnailUrl;
                        if (thumbnailUrl) {
                            originalBasemap.thumbnailUrl = thumbnailUrl;
                        }
                    }
                    finalBasemaps.unshift(originalBasemap);
                }
            }
        }
        const source = new this.LocalBasemapsSource({
            basemaps: finalBasemaps
        });
        return source;
    }
    componentWillUnmount() {
        this.__unmount = true;
        if (this.basemapGallery) {
            this.basemapGallery.destroy();
            this.basemapGallery = null;
            this.props.jimuMapView.deleteJimuMapTool('BaseMap');
        }
    }
    render() {
        if (this.props.isMobile) {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'basemap-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', maxWidth: 'none', maxHeight: 'none', overflowY: 'auto', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
        else {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '250px', minHeight: '32px', position: 'relative' }, className: 'exbmap-ui-pc-expand-maxheight basemap-map-tool' }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/clear-action-data.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/clear-action-data.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ClearActionData)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */





class ClearActionData extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'ClearActionData';
        this.onIconClick = () => { };
        this.onDropDownToggle = () => {
            this.setState({ isOpen: !this.state.isOpen });
        };
        this.onItemClick = (listItem, mapWidgetId) => {
            var _a, _b, _c;
            this.setState({ isOpen: false });
            const layerId = listItem.layerId;
            const mutableState = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId]) || {};
            if (listItem.isAction) {
                // this item comes from ShowOnMap/AddToMap actions, remove it by mutableStoreManager.updateStateValue().
                const actionDataId = layerId;
                const showOnMapDatas = mutableState.showOnMapDatas;
                const addToMapDatas = mutableState.addToMapDatas;
                if (showOnMapDatas) {
                    delete showOnMapDatas[actionDataId];
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, 'showOnMapDatas', showOnMapDatas);
                }
                if (addToMapDatas && ((_a = addToMapDatas[actionDataId]) === null || _a === void 0 ? void 0 : _a.dataChangeType) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Created) {
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, `addToMapDatas.${actionDataId}.dataChangeType`, jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Remove);
                }
            }
            else {
                // this item comes from JimuLayerView.removeableByMapTool
                // just remove the layer from map, don't need to update removeableLayerIdsInfo (only update removeableLayerIdsInfo when calling JimuLayerView.setRemoveableByMapTool())
                const map = (_c = (_b = this.props.jimuMapView) === null || _b === void 0 ? void 0 : _b.view) === null || _c === void 0 ? void 0 : _c.map;
                if (map) {
                    const layer = map.findLayerById(layerId);
                    if (layer) {
                        map.remove(layer);
                    }
                }
            }
        };
        this.getContent = (mapWidgetId) => {
            const listItems = this.getListItems(mapWidgetId);
            const dropdownItems = listItems.map((listItem, index) => this.createDropdownItem(listItem, mapWidgetId, index));
            if (dropdownItems.length > 0) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), title: this.getTitle() },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Dropdown, { direction: 'down', size: 'sm', toggle: this.onDropDownToggle, isOpen: this.state.isOpen },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownButton, { icon: true, arrow: false, size: 'sm', type: 'default' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { size: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, null, dropdownItems))));
            }
            return null;
        };
        this.state = { isOpen: false };
    }
    static getIsNeedSetting() {
        return false;
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .jimu-dropdown {
        display: flex;
        .icon-btn {
          padding: 7px;
          border-radius: 0;
        }
      }
    `;
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'clearResults', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.clearResults });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! jimu-icons/svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg"),
            onIconClick: () => {
                this.onIconClick();
            }
        };
    }
    getListItems(mapWidgetId) {
        const mapMutableState = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId]) || {};
        const listItems1 = this.getListItemsByAddOrShowOnMapDatas(mapWidgetId, mapMutableState);
        const layerIds1 = listItems1.map(listItem => listItem.layerId);
        let listItems2 = this.getListItemsByRemoveableLayerIdsInfo(mapMutableState);
        // one layerId maybe both in showOnMapDatas/addToMapDatas and removeableLayerIdsInfo, so need to remove repeat items
        listItems2 = listItems2.filter(listItem => !layerIds1.includes(listItem.layerId));
        const result = listItems1.concat(listItems2);
        return result;
    }
    /**
     * Only show layers that crated by data actions. The layers maybe crated by showOnMap data action or addToMap data action.
     * @param mapWidgetId
     * @returns
     */
    getListItemsByAddOrShowOnMapDatas(mapWidgetId, mapMutableState) {
        const showOnMapDatas = (mapMutableState === null || mapMutableState === void 0 ? void 0 : mapMutableState.showOnMapDatas) || {};
        const addToMapDatas = (mapMutableState === null || mapMutableState === void 0 ? void 0 : mapMutableState.addToMapDatas) || {};
        const showOnMapDataInfos = Object.entries(showOnMapDatas).map(entry => {
            return {
                id: entry[0],
                title: entry[1].title,
                jimuMapViewId: entry[1].jimuMapViewId,
                mapWidgetId: entry[1].mapWidgetId,
                needToRemove: true,
                type: entry[1].type
            };
        });
        const addToMapDataInfos = Object.entries(addToMapDatas).map(entry => {
            return {
                id: entry[0],
                title: entry[1].title,
                jimuMapViewId: entry[1].jimuMapViewId,
                mapWidgetId: entry[1].mapWidgetId,
                needToRemove: entry[1].dataChangeType === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Created,
                type: entry[1].type
            };
        });
        const dataActionInfos = showOnMapDataInfos.concat(addToMapDataInfos).filter(dataInfo => {
            // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,
            // use a default jimuMapViewId to show data.
            let jimuMapViewId = dataInfo.jimuMapViewId;
            if (!jimuMapViewId && dataInfo.mapWidgetId === mapWidgetId) {
                const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;
                jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === mapWidgetId);
            }
            return (jimuMapViewId === this.props.jimuMapView.id && dataInfo.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.ActionType.DataAction && dataInfo.needToRemove);
        });
        const dataActionListItems = dataActionInfos.map((item) => {
            const listItem = {
                layerId: item.id,
                title: item.title,
                isAction: true
            };
            return listItem;
        });
        return dataActionListItems;
    }
    /**
     * Get list items by JimuLayerView.removeableByMapTool.
     * @param mutableState
     */
    getListItemsByRemoveableLayerIdsInfo(mutableState) {
        var _a;
        const listItems = [];
        const removeableLayerIdsInfo = (mutableState === null || mutableState === void 0 ? void 0 : mutableState.removeableLayerIdsInfo) || {};
        const jimuMapView = this.props.jimuMapView;
        if (jimuMapView) {
            const map = (_a = jimuMapView.view) === null || _a === void 0 ? void 0 : _a.map;
            if (map) {
                const removeableLayerIds = removeableLayerIdsInfo[jimuMapView.id] || [];
                removeableLayerIds.forEach(layerId => {
                    const layer = map.findLayerById(layerId);
                    if (layer) {
                        const title = layer.title || layerId;
                        const listItem = {
                            layerId,
                            title,
                            isAction: false
                        };
                        listItems.push(listItem);
                    }
                });
            }
        }
        return listItems;
    }
    createDropdownItem(listItem, mapWidgetId, index) {
        const key = `${listItem.layerId}-index-${index}`;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { key: key, header: false, onClick: () => { this.onItemClick(listItem, mapWidgetId); } }, listItem.title));
    }
    getExpandPanel() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => (this.getContent(mapWidgetId))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/compass.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/compass.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Compass)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Compass extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Compass';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'CompassLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.CompassLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(CompassInner, { jimuMapView: this.props.jimuMapView });
    }
}
class CompassInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Compass = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Compass']).then(modules => {
                [this.Compass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.CompassBtn) {
                this.container.innerHTML = '';
            }
            this.CompassBtn = new this.Compass({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Compass');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Compass',
                instance: this.CompassBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.CompassBtn) {
            this.CompassBtn.destroy();
            this.CompassBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Compass');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'compass-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/extent-navigate.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/extent-navigate.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ExtentNavigate)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var jimu_icons_outlined_directional_arrow_fat_left__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-fat-left */ "./jimu-icons/outlined/directional/arrow-fat-left.tsx");
/* harmony import */ var jimu_icons_outlined_directional_arrow_fat_right__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-fat-right */ "./jimu-icons/outlined/directional/arrow-fat-right.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");






class ExtentNavigate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'ExtentNavigate';
        this.onViewStationary = () => {
            // view static, view.viewpointHistory maybe changed
            this.updateByCurrentView();
        };
        this.onClickPrevBtn = () => {
            if (!this.isPrevBtnEnabled()) {
                return;
            }
            this.view.viewpointIndex--;
            const viewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getViewpointInstanceFromHistory)(this.view, this.view.viewpointIndex);
            if (viewpoint) {
                this.view.goTo(viewpoint);
            }
            this.updateByCurrentView();
        };
        this.onClickNextBtn = () => {
            if (!this.isNextBtnEnabled()) {
                return;
            }
            this.view.viewpointIndex++;
            const viewpoint = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getViewpointInstanceFromHistory)(this.view, this.view.viewpointIndex);
            if (viewpoint) {
                this.view.goTo(viewpoint);
            }
            this.updateByCurrentView();
        };
    }
    getTitle() {
        return 'ExtentNavigate';
    }
    getIcon() {
        return {
            icon: null
        };
    }
    getExtendCssStyle() {
        return `
      .extent-navigate-btn {
        width: 32px;
        height: 32px;
        text-align: center;
        line-height: 32px;
        cursor: default;
      }

      .extent-navigate-btn.extent-navigate-btn-disabled {
        color: grey;
      }

      .extent-navigate-prev-btn {
        border-bottom: 1px solid #ccc;
      }
    `;
    }
    getExpandPanel() {
        const isPrevBtnDisabled = !this.isPrevBtnEnabled();
        const isNextBtnDisabled = !this.isNextBtnEnabled();
        const prevBtnClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button extent-navigate-btn extent-navigate-prev-btn', { 'extent-navigate-btn-disabled': isPrevBtnDisabled });
        const nextBtnClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button extent-navigate-btn extent-navigate-next-btn', { 'extent-navigate-btn-disabled': isNextBtnDisabled });
        const prevExtentTitle = this.formatMessage('prevExtent');
        const nextExtentTitle = this.formatMessage('nextExtent');
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", null,
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: prevBtnClassName, title: prevExtentTitle, onClick: this.onClickPrevBtn },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_arrow_fat_left__WEBPACK_IMPORTED_MODULE_3__.ArrowFatLeftOutlined, null)),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: nextBtnClassName, title: nextExtentTitle, onClick: this.onClickNextBtn },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_arrow_fat_right__WEBPACK_IMPORTED_MODULE_4__.ArrowFatRightOutlined, null))));
    }
    formatMessage(strId) {
        return this.props.intl.formatMessage({ id: strId, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_5__.defaultMessages[strId] });
    }
    componentDidMount() {
        this.bindView();
    }
    componentDidUpdate() {
        this.bindView();
    }
    bindView() {
        var _a;
        const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
        if (this.view !== view) {
            // active view changes
            if (this.view) {
                this.view.stationaryCallback = null;
            }
            this.view = view;
            if (this.view) {
                this.view.stationaryCallback = this.onViewStationary;
            }
            this.updateByCurrentView();
        }
    }
    updateByCurrentView() {
        this.forceUpdate();
    }
    isPrevBtnEnabled() {
        return this.view && this.view.viewpointHistory.length >= 2 && this.view.viewpointIndex >= 1;
    }
    isNextBtnEnabled() {
        return this.view && this.view.viewpointHistory.length >= 2 && this.view.viewpointIndex < (this.view.viewpointHistory.length - 1);
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/fullscreen.tsx":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/fullscreen.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Fullscreen)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Fullscreen extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Fullscreen';
        this.isFullScreen = false;
        this.fullScreenMap = () => { };
        this.getContent = (fullScreenMap, isFullScreen) => {
            this.fullScreenMap = fullScreenMap;
            this.isFullScreen = isFullScreen;
            return super.render();
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'FullScreenLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.FullScreenLabel });
    }
    getIcon() {
        return {
            icon: this.isFullScreen ? __webpack_require__(/*! ../assets/icons/exit-full-screen.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exit-full-screen.svg") : __webpack_require__(/*! ../assets/icons/full-screen.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/full-screen.svg"),
            onIconClick: (evt) => {
                this.fullScreenMap();
            }
        };
    }
    getExpandPanel() {
        return null;
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Consumer, null, ({ fullScreenMap, isFullScreen }) => (this.getContent(fullScreenMap, isFullScreen))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/home.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/home.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Home)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class Home extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Home';
        this.getHomeContent = (initialMapState) => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(HomeInner, { jimuMapView: this.props.jimuMapView, initialMapState: initialMapState });
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'HomeLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.HomeLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        // return <HomeInner jimuMapView={this.props.jimuMapView}></HomeInner>;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ initialMapState }) => (this.getHomeContent(initialMapState))));
    }
}
class HomeInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Home = null;
        this.generateViewPointFromInitialMapState = (initialMapState) => {
            if (initialMapState.viewType === '2d') {
                return new this.Viewpoint({
                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                    rotation: initialMapState.rotation
                });
            }
            else {
                return this.Viewpoint.fromJSON(initialMapState.viewPoint);
            }
        };
        this.homeBtnGoToOverride = (view, goToParams) => __awaiter(this, void 0, void 0, function* () {
            const is2DView = view.type === '2d';
            // snapToZoom: true means integer zoom, false means float zoom
            // We need to make sure goTo the integer zoom when click home btn.
            let needToRestoreSnapToZoomToFalse = false;
            if (is2DView && view.constraints && !view.constraints.snapToZoom) {
                view.constraints.snapToZoom = true;
                needToRestoreSnapToZoomToFalse = true;
            }
            try {
                yield view.goTo(goToParams.target, goToParams.options);
            }
            catch (e) {
                console.error('home btn goto error', e);
            }
            // When goTo is done, we need to reset to float zoom to get the best synchronization between two map widgets.
            if (is2DView && view.constraints && needToRestoreSnapToZoomToFalse) {
                view.constraints.snapToZoom = false;
            }
        });
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Home',
                'esri/geometry/Extent',
                'esri/Viewpoint']).then(modules => {
                [this.Home, this.Extent, this.Viewpoint] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        var _a;
        if (!this.state.apiLoaded || !this.container) {
            return;
        }
        const currView = ((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) || null;
        // check initialMapState change or not
        // sometimes prevProps.initialMapState is undefined and props.initialMapState is null, so we need to convert undefined to null
        const preInitialMapState = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.initialMapState) || null;
        const currInitialMapState = this.props.initialMapState || null;
        const isInitialMapStateChanged = preInitialMapState !== currInitialMapState;
        // destroy current view when view changed or initialMapState changed
        if (this.homeBtn && (this.homeBtn.view !== currView || isInitialMapStateChanged)) {
            this.destroyHomeBtn();
        }
        // create new home btn if this.homeBtn is empty and currView is not empty
        if (!this.homeBtn && currView) {
            let initViewpoint = this.props.initialMapState
                ? this.generateViewPointFromInitialMapState(this.props.initialMapState)
                : this.props.jimuMapView.view.map.initialViewProperties.viewpoint;
            if (initViewpoint) {
                initViewpoint = initViewpoint.clone();
            }
            const homeBtnContainer = document.createElement('div');
            this.container.appendChild(homeBtnContainer);
            this.homeBtn = new this.Home({
                container: homeBtnContainer,
                view: this.props.jimuMapView.view,
                viewpoint: initViewpoint,
                goToOverride: this.homeBtnGoToOverride
            });
            this.props.jimuMapView.deleteJimuMapTool('Home');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Home',
                instance: this.homeBtn
            });
        }
        if (isInitialMapStateChanged) {
            // initialMapState change
            if (currView && this.homeBtn) {
                // const cloneViewpoint = this.homeBtn.viewpoint.clone()
                // set currView.viewpoint to cloneViewpoint directly not work with error 'invalid scale value of 0' if the init homeBtan.viewpoint.scale is 0, so use view.goTo() instead
                // currView.viewpoint = cloneViewpoint
                // currView.goTo(cloneViewpoint, {
                //   animate: false
                // })
                this.homeBtn.go();
            }
        }
    }
    destroyHomeBtn() {
        if (this.homeBtn) {
            // this.homeBtn.destroy() will remove this.homeBtn.container from dom tree and let this.homeBtn.container.parentNode be null
            this.homeBtn.destroy();
            this.homeBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Home');
        }
        if (this.container) {
            this.container.innerHTML = '';
        }
    }
    componentWillUnmount() {
        this.destroyHomeBtn();
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'home-map-tool', ref: ref => { if (!this.container) {
                this.container = ref;
            } } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/layers.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/layers.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layers)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Layers extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Layers';
        this.handleTabIndexChange = (activeTabIndex) => {
            this.setState({
                activeTabIndex: activeTabIndex
            });
        };
        this.handleKeyDown = (e, index) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.handleTabIndexChange(index);
            }
        };
        this.state = {
            activeTabIndex: 0
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'LayersLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/layerlist.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/layerlist.svg")
        };
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', minHeight: '32px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Nav, { tabs: true },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 0, onClick: () => { this.handleTabIndexChange(0); }, onKeyDown: e => { this.handleKeyDown(e, 0); } }, this.props.intl.formatMessage({ id: 'LayersLabelLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLayer }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 1, onClick: () => { this.handleTabIndexChange(1); }, onKeyDown: e => { this.handleKeyDown(e, 1); } }, this.props.intl.formatMessage({ id: 'LayersLabelLegend', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLegend })))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-1' }),
            this.state.activeTabIndex === 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LayerListInner, { jimuMapView: this.props.jimuMapView }),
            this.state.activeTabIndex === 1 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LegendInner, { jimuMapView: this.props.jimuMapView })));
    }
}
class LayerListInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.LayerList = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/LayerList']).then(modules => {
                [this.LayerList] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LayerListBtn) {
                    this.LayerListBtn.view = this.props.jimuMapView.view;
                    this.LayerListBtn.renderNow();
                }
            }
            else {
                this.LayerListBtn = new this.LayerList({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('LayerList');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'LayerList',
                    instance: this.LayerListBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LayerListBtn) {
            this.LayerListBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('LayerList');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'layers-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}
class LegendInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Legend = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Legend']).then(modules => {
                [this.Legend] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LegendBtn) {
                    this.LegendBtn.view = this.props.jimuMapView.view;
                    this.LegendBtn.renderNow();
                }
            }
            else {
                this.LegendBtn = new this.Legend({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Legend');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Legend',
                    instance: this.LegendBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LegendBtn) {
            this.LegendBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Legend');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/locate.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/locate.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Locate)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Locate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Locate';
    }
    getTitle() {
        return 'Locate';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LocateInner, { jimuMapView: this.props.jimuMapView });
    }
}
class LocateInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Locate = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Locate']).then(modules => {
                [this.Locate] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.LocateBtn) {
                this.container.innerHTML = '';
            }
            this.LocateBtn = new this.Locate({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Locate');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Locate',
                instance: this.LocateBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.LocateBtn) {
            this.LocateBtn.destroy();
            this.LocateBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Locate');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'esri-widget--button locate-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/mapswitch.tsx":
/*!**********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/mapswitch.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapSwitch)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var _components_map_thumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/map-thumb */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/map-thumb.tsx");
/** @jsx jsx */





class MapSwitch extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'MapSwitch';
        this.switchMap = () => { };
        this.handleKeyDown = (e, onClick) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e === null || e === void 0 ? void 0 : e.preventDefault();
                onClick();
            }
        };
        this.getContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme) => {
            const onClick = () => {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(mapWidgetId, mapWidgetId));
                switchMap();
            };
            if (isShowMapSwitchBtn) {
                if (this.props.isMobile) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-tool esri-widget--button', onClick: onClick, role: 'button', tabIndex: 0, onKeyDown: e => { this.handleKeyDown(e, onClick); }, "aria-label": this.props.intl.formatMessage({ id: 'SwitchMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SwitchMap }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })));
                }
                else {
                    const dsJsons = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources;
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-map-tool', css: this.getStyle(), onClick: onClick, role: 'button', tabIndex: 0, onKeyDown: e => { this.handleKeyDown(e, onClick); }, "aria-label": this.props.intl.formatMessage({ id: 'SwitchMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SwitchMap }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[0] !== activeDataSourceId }, { back: dataSourceIds[0] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].itemId : null, portUrl: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].portalUrl : null, theme: theme })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[1] !== activeDataSourceId }, { back: dataSourceIds[1] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].itemId : null, portUrl: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].portalUrl : null, theme: theme }))));
                }
            }
            else {
                return null;
            }
        };
        this.getIconContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) => {
            if (isShowMapSwitchBtn) {
                this.switchMap = switchMap;
                return super.render();
            }
            else {
                return null;
            }
        };
    }
    static getIsNeedSetting() {
        return false;
    }
    static isAvailable(toolShellProps) {
        if (toolShellProps.isMobile) {
            const widgetId = toolShellProps.mapWidgetId;
            if (widgetId) {
                const widgetInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets[widgetId];
                if (widgetInfo) {
                    return widgetInfo.useDataSources && widgetInfo.useDataSources.length >= 2;
                }
            }
            return false;
        }
        // Always return true for pc layout because false will let SelectState-FullScreen-Container in wroing position.
        return true;
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(68)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(52)};
      cursor: pointer;
      position: relative;

      .mapthumb-item {
        position: absolute;
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(64)};
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(48)};
        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;
      }

      .front {
        z-index: 1;
        bottom: 0;
        left: 0;
      }

      .back {
        z-index: 0;
        top: 0;
        right: 0;
      }
    `;
    }
    getTitle() {
        return 'MapSwitch';
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/exchange.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/exchange.svg"),
            onIconClick: () => {
                this.switchMap();
            }
        };
    }
    getExpandPanel() {
        if (this.props.toolJson.isOnlyExpanded) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme }) => (this.getContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme))));
        }
        else {
            return null;
        }
    }
    render() {
        if (this.props.toolJson.isOnlyExpanded) {
            return super.render();
            // In fact, it never goes here.
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (this.getIconContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap))));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/measure.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/measure.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Measure)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class Measure extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Measure';
        this.measureModules2D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'distance',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg")
            }];
        this.measureModules3D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'direct-line',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure-area.svg")
            }];
        this.destroy = () => {
            if (this.state.measureInstance && !this.state.measureInstance.destroyed) {
                this.state.measureInstance.destroy();
                this.setState({
                    measureInstance: null,
                    activeTabIndex: 0
                });
            }
        };
        this.handleMeasurceInstanceCreated = (measureInstance) => {
            this.setState({
                measureInstance: measureInstance
            });
        };
        this.onTabClick = (index) => {
            if (this.state.activeTabIndex === index) {
                return;
            }
            this.state.measureInstance.clear();
            this.setState({ activeTabIndex: index });
            if (index === 0) {
                this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
            }
            else if (index === 1) {
                this.state.measureInstance.activeTool = 'area';
            }
        };
        this.handleKeyDown = (e, index) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.onTabClick(index);
            }
        };
        this.onRequestClosePanel = () => {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
        };
        this.onClosePanel = () => {
            this.destroy();
        };
        this.onShowPanel = () => {
            if (this.state.measureInstance) {
                if (this.state.activeTabIndex === 0) {
                    this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
                }
                else if (this.state.activeTabIndex === 1) {
                    this.state.measureInstance.activeTool = 'area';
                }
            }
        };
        this.getNavTab = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules2D.map((module, index) => {
                    const tabTitle = index === 0 ? 'drawModeLine' : 'drawModePolygon';
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, ref: ref => { this.state.activeTabIndex === index && (this.activeTabRef = ref); }, onClick: () => { this.onTabClick(index); }, onKeyDown: e => { this.handleKeyDown(e, index); }, "aria-label": this.props.intl.formatMessage({ id: `${tabTitle}`, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[tabTitle] }) },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else if (this.props.jimuMapView.view.type === '3d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules3D.map((module, index) => {
                    const tabTitle = index === 0 ? 'drawModeLine' : 'drawModePolygon';
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, ref: ref => { this.state.activeTabIndex === index && (this.activeTabRef = ref); }, onClick: () => { this.onTabClick(index); }, onKeyDown: e => { this.handleKeyDown(e, index); }, "aria-label": this.props.intl.formatMessage({ id: `${tabTitle}`, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[tabTitle] }) },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else {
                return null;
            }
        };
        this.getMeasureModule = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return this.measureModules2D[this.state.activeTabIndex];
            }
            else {
                return this.measureModules3D[this.state.activeTabIndex];
            }
        };
        this.state = {
            activeTabIndex: 0,
            measureInstance: null
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'MeasureLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.MeasureLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/measure.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/measure.svg")
        };
    }
    focusDefaultElement() {
        var _a;
        (_a = this.activeTabRef) === null || _a === void 0 ? void 0 : _a.focus();
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            this.getNavTab(),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(MeasureInner, { mapWidgetId: this.props.mapWidgetId, activeTabIndex: this.state.activeTabIndex, jimuMapView: this.props.jimuMapView, measureModule: this.getMeasureModule(), measureInstance: this.state.measureInstance, onMeasurceInstanceCreated: this.handleMeasurceInstanceCreated, autoControlWidgetId: this.props.autoControlWidgetId, onRequestClosePanel: this.onRequestClosePanel })));
    }
}
class MeasureInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.MeasureInstance = null;
        this.toolName = 'measurement';
        this.checkContainer = () => {
            if (this.container.style.opacity === '0' || this.container.style.opacity === 0) {
                this.container.style.opacity = 1;
                this.container.style.height = '';
            }
        };
        this.id = `${this.props.mapWidgetId}-measure-tool`;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)(['esri/widgets/Measurement']).then(modules => {
                [this.MeasureClass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.parentContainer && this.container) {
            if (!this.props.measureInstance) {
                // crate measure isntance here
                const tempInstance = new this.MeasureClass({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                tempInstance.activeTool = this.props.measureModule.activeTool;
                this.setCurrentJimuMapView(this.props.jimuMapView);
                this.currentJimuMapView.deleteJimuMapTool(this.toolName);
                this.currentJimuMapView.addJimuMapTool({
                    name: this.toolName,
                    instance: tempInstance
                });
                this.props.onMeasurceInstanceCreated(tempInstance);
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
            else {
                const newJimuMapView = this.props.jimuMapView;
                if (this.props.measureInstance.view !== newJimuMapView.view) {
                    // map view changed by switch
                    this.restoreClickHighlightEnabledForCurrentJimuMapView();
                    this.setCurrentJimuMapView(newJimuMapView);
                    this.props.measureInstance.clear();
                    this.props.measureInstance.view = newJimuMapView.view;
                    // @ts-expect-error
                    this.props.measureInstance.activeTool = this.props.measureModule.activeTool;
                }
            }
            this.checkContainer();
        }
        // check if autoControlWidgetId changed
        const prevAutoControlWidgetId = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.autoControlWidgetId) || '';
        if (prevAutoControlWidgetId === this.id && this.props.autoControlWidgetId !== this.id) {
            // measure is from active to inactive, destroy MeasureInner
            this.props.onRequestClosePanel();
        }
    }
    componentWillUnmount() {
        this.restoreClickHighlightEnabledForCurrentJimuMapView();
        if (this.props.autoControlWidgetId === this.id) {
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    setCurrentJimuMapView(jimuMapView) {
        this.currentJimuMapView = jimuMapView;
        this.originalClickHighlightEnabled = jimuMapView.isClickHighlightEnabled();
        // disable click highlight to avoid conflict with clicking-select
        this.currentJimuMapView.disableClickHighlight();
    }
    restoreClickHighlightEnabledForCurrentJimuMapView() {
        if (this.currentJimuMapView) {
            if (this.originalClickHighlightEnabled) {
                this.currentJimuMapView.enableClickHighlight();
            }
            else {
                this.currentJimuMapView.disableClickHighlight();
            }
        }
    }
    reload() {
        if (this.container.childNodes && this.container.childNodes[0]) {
            this.container.style.opacity = 0;
            this.container.style.height = '35px';
        }
        //this.setState({
        //  apiLoaded: false
        //}, () => {
        //  loadArcGISJSAPIModules(['esri/widgets/Measurement']).then(modules => {
        //    [this.MeasureClass] = modules
        //    this.setState({
        //      apiLoaded: true
        //    })
        //  })
        //})
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100', style: { width: '250px', position: 'relative', minHeight: '32px' }, ref: ref => { this.parentContainer = ref; } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'measure-container measure-map-tool', ref: ref => { this.container = ref; } }),
            !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/navigation.tsx":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/navigation.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Navigation)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Navigation extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Navigation';
    }
    getTitle() {
        return 'Navigation';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(NavigationInner, { jimuMapView: this.props.jimuMapView });
    }
    /**
     * Navigation only supports scene view, so ScaleBarTool.isAvailable() will return false if the map is map view.
     */
    static isAvailable(toolShellProps) {
        var _a, _b;
        return ((_b = (_a = toolShellProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) === '3d';
    }
}
class NavigationInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Navigation = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/NavigationToggle']).then(modules => {
                [this.Navigation] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.NavigationBtn) {
                this.container.innerHTML = '';
            }
            this.NavigationBtn = new this.Navigation({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Navigation',
                instance: this.NavigationBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.NavigationBtn) {
            this.NavigationBtn.destroy();
            this.NavigationBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'navigation-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/scalebar.tsx":
/*!*********************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/scalebar.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScaleBar)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class ScaleBar extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'ScaleBar';
    }
    getTitle() {
        return 'ScaleBar';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ScaleBarInner, { jimuMapView: this.props.jimuMapView });
    }
    /**
     * ScaleBar only supports map view, so ScaleBarTool.isAvailable() will return false if the map is scene view.
     */
    static isAvailable(toolShellProps) {
        var _a, _b;
        return ((_b = (_a = toolShellProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) === '2d';
    }
}
class ScaleBarInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.ScaleBar = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/ScaleBar']).then(modules => {
                [this.ScaleBar] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ScaleBarBtn) {
                this.container.innerHTML = '';
            }
            let rawUnit = '';
            const appState = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState();
            if (appState) {
                if (appState.user && appState.user.units) {
                    rawUnit = appState.user.units;
                }
                else if (appState.portalSelf && appState.portalSelf.units) {
                    rawUnit = appState.portalSelf.units;
                }
            }
            let scaleBarUnit = null;
            // metric => metric
            // english => imperial
            // '' => dual
            if (rawUnit === 'metric') {
                scaleBarUnit = 'metric';
            }
            else if (rawUnit === 'english') {
                scaleBarUnit = 'imperial';
            }
            else {
                scaleBarUnit = 'dual';
            }
            this.ScaleBarBtn = new this.ScaleBar({
                container: this.container,
                view: this.props.jimuMapView.view,
                unit: scaleBarUnit
            });
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
            this.props.jimuMapView.addJimuMapTool({
                name: 'ScaleBar',
                instance: this.ScaleBarBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ScaleBarBtn) {
            this.ScaleBarBtn.destroy();
            this.ScaleBarBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'scalebar-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/search.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/search.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Search)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */




class Search extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Search';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SearchLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.SearchLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/search.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/search.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minHeight: '32px', position: 'relative', width: '100%' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minWidth: '250px', minHeight: '32px', position: 'relative' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
    }
}
class SearchInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Search = null;
        this.Portal = null;
        this.state = {
            apiLoaded: false
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      /* border: solid 1px rgba(110,110,110,0.3); */
    `;
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Search', 'esri/portal/Portal']).then(modules => {
                [this.Search, this.Portal] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.SearchBtn) {
                const containerParent = this.container.parentElement;
                this.SearchBtn.destroy();
                this.SearchBtn = null;
                if (!this.container.parentElement && containerParent) {
                    containerParent.appendChild(this.container);
                }
                this.container.innerHTML = '';
            }
            this.SearchBtn = new this.Search({
                container: this.container,
                view: this.props.jimuMapView.view,
                portal: new this.Portal({
                    url: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl
                })
            });
            this.props.jimuMapView.deleteJimuMapTool('Search');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Search',
                instance: this.SearchBtn
            });
            this.SearchBtn.on('select-result', (event) => {
                if (!event.result.feature.layer) {
                    const geometry = event.result.feature.geometry.toJSON();
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry));
                }
                else {
                    const geometry = event.result.feature.geometry;
                    if (geometry.type === 'point') {
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry.toJSON()));
                    }
                    else {
                        const point = geometry.extent.center;
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, point.toJSON()));
                    }
                }
            });
        }
    }
    componentWillUnmount() {
        if (this.SearchBtn) {
            this.SearchBtn.destroy();
            this.SearchBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Search');
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 search-map-tool', ref: ref => { this.container = ref; } }, !this.state.apiLoaded && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/index.tsx":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/index.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _select_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-pc */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-pc.tsx");
/* harmony import */ var _select_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-mobile */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-mobile.tsx");
/** @jsx jsx */





class Select extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Select';
        this.state = {};
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.SelectLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_mobile__WEBPACK_IMPORTED_MODULE_4__.SelectMobileTool, { mapWidgetId: this.props.mapWidgetId, autoControlWidgetId: this.props.autoControlWidgetId, activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); }, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView }));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_pc__WEBPACK_IMPORTED_MODULE_3__.SelectPCTool, { mapWidgetId: this.props.mapWidgetId, autoControlWidgetId: this.props.autoControlWidgetId, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); } }));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-mobile.tsx":
/*!*********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-mobile.tsx ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectMobileTool: () => (/* binding */ SelectMobileTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var _select_progress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-progress */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx");
/** @jsx jsx */





const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectMoreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-16.svg */ "./jimu-ui/lib/icons/more-16.svg");
class SelectMobileTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        var _a, _b;
        super(props);
        this.jsonUtils = null;
        this.currentActiveTool = 'rectangle';
        this.toggleIsSelectActive = () => {
            this.setState({
                isActive: !this.state.isActive
            });
        };
        this.toggleSelectTypePopup = () => {
            this.setState({
                isShowSelectTypePopup: !this.state.isShowSelectTypePopup
            });
        };
        this.onJimuMapViewSelectProgressChange = (progress) => {
            this.setState({
                selectProgress: progress
            });
        };
        this.onKeyDown = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
        };
        this.onKeyUp = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
        };
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === this.state.currentSelectType) {
                return;
            }
            if (currentSelectType === 'Point') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('point');
                }
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('rectangle');
                }
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('polygon');
                }
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('circle');
                }
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                if (this.state.isActive) {
                    this.setActiveToolForSketchViewModel('polyline');
                }
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType,
                isActive: true
            });
        };
        this.onClickLoadingProgress = () => {
            if (this.activeJimuMapView) {
                const updateSelection = true;
                this.activeJimuMapView.cancelSelectByQuery(updateSelection);
            }
        };
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.getMobilePanelForSelectSetting = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanel, { mapWidgetId: `${mapWidgetId}-with-select-container`, title: '', open: this.state.isShowSelectTypePopup, onClose: () => { this.toggleSelectTypePopup(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100' }, this.getMobilePanelSettingContent())))));
        };
        this.getMobilePanelSettingContent = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 select-tool-type-mobile-container-shell' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-mobile-container d-flex' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                            }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Rectangle'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                            }), onClick: () => { this.setCurrentSelectType('Lasso'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Lasso'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                            }), onClick: () => { this.setCurrentSelectType('Circle'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Circle'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                            }), onClick: () => { this.setCurrentSelectType('Line'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Line'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-4 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                            }), onClick: () => { this.setCurrentSelectType('Point'); }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Point'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain }))))));
        };
        this.handleSelectTypeKeyDown = (e, selectType) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.setCurrentSelectType(selectType);
            }
        };
        this.handleKeyDown = (e, action) => {
            if (e.key === 'Enter' || e.key === ' ') {
                if (action === 'toggleIsSelectActive') {
                    this.toggleIsSelectActive();
                }
                else if (action === 'showSelectSetting') {
                    this.toggleSelectTypePopup();
                }
                else if (action === 'onClickLoadingProgress') {
                    this.onClickLoadingProgress();
                }
            }
        };
        this.isMac = ((_b = (_a = window.jimuUA) === null || _a === void 0 ? void 0 : _a.os) === null || _b === void 0 ? void 0 : _b.name) === 'macOS';
        this.id = `${this.props.mapWidgetId}-select-tool`;
        this.sketChCreateOptions = {
            polygon: {
                mode: 'hybrid'
            }
        };
        this.state = {
            sketchInitialed: false,
            isActive: false,
            isShowSelectTypePopup: false,
            currentSelectType: 'Rectangle',
            spatialRelationship: 'intersects',
            selectProgress: 0
        };
        this.bindShiftCtrlKeysEventListeners();
    }
    getCSSStyle() {
        const theme = this.props.theme;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .select-tool-btn-hover: hover {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.palette.primary[500], 0.1)};;
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
        padding: 4px;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 40%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine',
                // When you first click to enable the interactive tools, like the rectangle, for a couple of seconds, there is no cursor on the map, and you cannot do anything - which looks like a bug.
                // To fix the above issue, we need to preload the following API modules for SketchViewModel.
                'esri/views/2d/interactive/editingTools',
                'esri/views/3d/interactive/editingTools',
                'esri/views/2d/layers/GraphicsLayerView2D',
                'esri/views/3d/layers/GraphicsLayerView3D'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            // state.sketchInitialed changed from false to true
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            // active JimuMapView changed
            // need to destroy current this.sketchViewModel and recreate it, dont't change this.sketchViewModel.view, because we need to bind view keydown/keyup events before init sketchViewModel
            this.destroySketchViewModelAndReleaseHandles();
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevState.isActive !== this.state.isActive) {
            // active change
            this.initialSketchTool();
            if (this.state.isActive) {
                // change from inactive to active
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            else {
                // change from active to inactive
                this.destroySketchViewModelAndReleaseHandles();
            }
        }
        this.tryUpdateActiveToolInfoWhenStateChange(prevState);
        this.tryUpdateActiveToolInfoWhenPropsChange(prevProps);
    }
    /**
     * Update props.activeToolName for the following cases:
     * case1: If select tool gets active from inactive, needs to set map.props.activeToolName to select tool by calling props.onActiveToolInfoChange().
     * case2: If select tool gets inactive from active, needs to set map.props.activeToolName to null by calling props.onActiveToolInfoChange().
     */
    tryUpdateActiveToolInfoWhenStateChange(prevState) {
        if (!prevState) {
            return;
        }
        const prevSelectIsActiveTool = !!(prevState.isActive || prevState.isShowSelectTypePopup);
        const currentSelectIsActiveTool = !!(this.state.isActive || this.state.isShowSelectTypePopup);
        if (!prevSelectIsActiveTool && currentSelectIsActiveTool) {
            // select changes to active tool
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange({
            //   activeToolName: this.props.toolName,
            //   activeToolTitle: this.props.toolName
            // })
            this.setCurrentToolAsActiveTool();
        }
        else if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
            // select changes to inactive tool
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange(null)
            this.setActiveToolToNull();
        }
    }
    /**
     * try to set state.isActive and state.isShowSelectTypePopup to false for the following cases:
     * case1: If select tool is originally active, but another map select tool gets active, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * case2: If select tool is originally active, but another widget gets control of map, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * @param prevProps
     */
    tryUpdateActiveToolInfoWhenPropsChange(prevProps) {
        var _a, _b;
        let shouldBeInactive = false;
        const preActiveToolName = ((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) || '';
        const currentActiveToolName = ((_b = this.props.activeToolInfo) === null || _b === void 0 ? void 0 : _b.activeToolName) || '';
        if (preActiveToolName !== currentActiveToolName) {
            // props.activeToolInfo.activeToolName changes
            const toolName = this.props.toolName;
            const prevSelectIsActiveTool = preActiveToolName === toolName;
            const currentSelectIsActiveTool = currentActiveToolName === toolName;
            if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
                // select changes to inactive tool beacause another map tool gets active, e.g. map layers tool gets active
                shouldBeInactive = true;
            }
        }
        // If we don't check this.props.autoControlWidgetId is empty or not, we will get the following wrong case
        // 1. Click measure tool, measure is the active tool and measure controls the map
        // 2. Then click select tool, select tool doesn't get active
        if (prevProps.autoControlWidgetId === this.id && this.props.autoControlWidgetId && this.props.autoControlWidgetId !== this.id) {
            // another widget gets control of map, select tool loses control of map
            shouldBeInactive = true;
        }
        if (shouldBeInactive && (this.state.isActive || this.state.isShowSelectTypePopup)) {
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
        }
    }
    componentWillUnmount() {
        this.destroySketchViewModelAndReleaseHandles();
        this.releaseShiftCtrlKeysEventListeners();
    }
    destroySketchViewModelAndReleaseHandles() {
        this.releaseViewHandles();
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
            this.sketchViewModel = null;
        }
        this.activeJimuMapView = null;
        if (this.props.autoControlWidgetId === this.id) {
            // select tool releases the control of map
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    releaseViewHandles() {
        if (this.activeJimuMapView) {
            this.activeJimuMapView.removeSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
        }
        if (this.viewKeyDownHandle) {
            this.viewKeyDownHandle.remove();
            this.viewKeyDownHandle = null;
        }
        if (this.viewKeyUpHandle) {
            this.viewKeyUpHandle.remove();
            this.viewKeyUpHandle = null;
        }
    }
    setCurrentToolAsActiveTool() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (!this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    setActiveToolToNull() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    // this method is only used by setCurrentToolAsActiveTool and setActiveToolToNull
    isSelectIsActiveTool() {
        var _a;
        return this.props.toolName && this.props.toolName === ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName);
    }
    useShiftKey(tolearnaceMs) {
        return this.useKey(this.lastShiftKeyEventInfo, tolearnaceMs);
    }
    useCtrlKey(tolearnaceMs) {
        return this.useKey(this.lastCtrlKeyEventInfo, tolearnaceMs);
    }
    useKey(lastKeyEventInfo, tolearnaceMs) {
        if (lastKeyEventInfo) {
            if (lastKeyEventInfo.isKeyDown) {
                // key is still down and not up, return true
                return true;
            }
            else {
                // key is up, we use tolearnaceMs to deterine the return value
                const deltaTime = Date.now() - lastKeyEventInfo.eventDate.getTime();
                if (deltaTime <= tolearnaceMs) {
                    // keyup time is not too long from now
                    return true;
                }
                else {
                    // keyup time is too long from nows
                    return false;
                }
            }
        }
        else {
            // key never down, return false
            return false;
        }
    }
    bindShiftCtrlKeysEventListeners() {
        document.addEventListener('keydown', this.onKeyDown, true);
        document.addEventListener('keyup', this.onKeyUp, true);
    }
    releaseShiftCtrlKeysEventListeners() {
        document.removeEventListener('keydown', this.onKeyDown, true);
        document.removeEventListener('keyup', this.onKeyUp, true);
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.releaseViewHandles();
            const jimuMapView = this.props.jimuMapView;
            this.activeJimuMapView = jimuMapView;
            this.activeJimuMapView.addSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
            const view = jimuMapView.view;
            this.viewKeyDownHandle = view.on('key-down', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.viewKeyDownHandle = view.on('key-up', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.sketchViewModel = new this.SketchViewModel({
                view: view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    // keep continuous drawing for SketchViewModel
                    this.setActiveToolForSketchViewModel(this.currentActiveTool);
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.view.closePopup();
                    const graphic = event.graphic;
                    // graphic.geometry is null when double click map
                    if (!graphic.geometry) {
                        console.log('sketch graphic.geometry is null');
                        return;
                    }
                    const useKeyToleranceMs = 500;
                    const isShiftKey = this.useShiftKey(useKeyToleranceMs);
                    const isCtrlKey = this.useCtrlKey(useKeyToleranceMs);
                    let selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                    if (isShiftKey) {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.SelectFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.AddToCurrent;
                        }
                    }
                    else {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.RemoveFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                        }
                    }
                    jimuMapView.selectFeaturesByGraphic(graphic, this.state.spatialRelationship, selectionMode);
                }
            });
        }
    }
    setActiveToolForSketchViewModel(activeTool) {
        if (this.sketchViewModel) {
            const createOptions = this.sketChCreateOptions[activeTool];
            if (createOptions) {
                this.sketchViewModel.create(activeTool, createOptions);
            }
            else {
                this.sketchViewModel.create(activeTool);
            }
            if (this.props.autoControlWidgetId !== this.id) {
                // select tool gets control of map
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
        }
    }
    getSelectIconTitle() {
        let topTitle = '';
        if (this.state.currentSelectType === 'Point') {
            topTitle = this.formatMessage('SelectionByPoint');
        }
        else if (this.state.currentSelectType === 'Rectangle') {
            topTitle = this.formatMessage('SelectionByRectangle');
        }
        else if (this.state.currentSelectType === 'Lasso') {
            topTitle = this.formatMessage('SelectionByLasso');
        }
        else if (this.state.currentSelectType === 'Circle') {
            topTitle = this.formatMessage('SelectionByCircle');
        }
        else if (this.state.currentSelectType === 'Line') {
            topTitle = this.formatMessage('SelectionByLine');
        }
        else {
            topTitle = this.formatMessage('SelectLabel');
        }
        const newSelection = this.formatMessage('newSelection');
        const addToCurrentSelection = this.formatMessage('addToCurrentSelection');
        const removeFromCurrentSelection = this.formatMessage('removeFromCurrentSelection');
        const selectFromCurrentSelection = this.formatMessage('selectFromCurrentSelection');
        const drawShape = this.formatMessage('drawShape');
        const draw = this.formatMessage('draw');
        const ctrlKey = this.isMac ? 'Cmd' : 'Ctrl';
        const newSelectionTip = `∙ ${newSelection} (${drawShape})`;
        const addToCurrentSelectionTip = `∙ ${addToCurrentSelection} (Shift + ${draw})`;
        const removeFromCurrentSelectionTip = `∙ ${removeFromCurrentSelection} (${ctrlKey} + ${draw})`;
        const selectFromCurrentSelectionTip = `∙ ${selectFromCurrentSelection} (Shift + ${ctrlKey} + ${draw})`;
        const finalTitle = `${topTitle}
${newSelectionTip}
${addToCurrentSelectionTip}
${removeFromCurrentSelectionTip}
${selectFromCurrentSelectionTip}
    `;
        return finalTitle;
    }
    formatMessage(strId) {
        return this.props.intl.formatMessage({ id: strId, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[strId] });
    }
    render() {
        const selectIconTitle = this.getSelectIconTitle();
        const moreIconTitle = this.props.intl.formatMessage({ id: 'more', defaultMessage: 'More' });
        const isSelecting = this.state.selectProgress > 0 && this.state.selectProgress < 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            this.state.sketchInitialed && !isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.toggleIsSelectActive, style: {}, title: selectIconTitle, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.state.isActive
                }), onKeyDown: e => { this.handleKeyDown(e, 'toggleIsSelectActive'); }, role: 'button', tabIndex: 0 },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            this.state.sketchInitialed && isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_progress__WEBPACK_IMPORTED_MODULE_4__["default"], { progress: this.state.selectProgress, intl: this.props.intl, theme: this.props.theme, onClick: this.onClickLoadingProgress }),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'border border-top-0 w-100', style: { height: '1px' } }),
            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.toggleSelectTypePopup, title: moreIconTitle, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button'), onKeyDown: e => { this.handleKeyDown(e, 'showSelectSetting'); }, role: 'button', tabIndex: 0 },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, title: moreIconTitle, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            this.state.isShowSelectTypePopup && this.getMobilePanelForSelectSetting()));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-pc.tsx":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-pc.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectPCTool: () => (/* binding */ SelectPCTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _select_progress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-progress */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const IconArrowDown = __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-header.svg */ "./jimu-ui/lib/icons/arrow-down-header.svg");
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectClearIcon = __webpack_require__(/*! jimu-icons/svg/outlined/editor/clear-selection-general.svg */ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg");
class SelectPCTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        var _a, _b;
        super(props);
        this.currentActiveTool = 'rectangle';
        this.jsonUtils = null;
        this.resultGraphics = [];
        this.toggleIsSelectActive = () => {
            this.setState({
                isActive: !this.state.isActive
            });
        };
        this.toggleSelectTypePopup = () => {
            this.setState({
                isShowSelectTypePopup: !this.state.isShowSelectTypePopup
            });
        };
        this.onClickLoadingProgress = () => {
            const jimuMapView = this.activeJimuMapView;
            if (jimuMapView) {
                const updateSelection = true;
                jimuMapView.cancelSelectByQuery(updateSelection);
            }
        };
        this.clearSelect = () => __awaiter(this, void 0, void 0, function* () {
            // Don't use this.activeJimuMapView here because this.activeJimuMapView is null if select tool is not pressed, see #18200 for more details.
            const jimuMapView = this.props.jimuMapView;
            if (jimuMapView) {
                try {
                    const updateSelection = false;
                    yield jimuMapView.cancelSelectByQuery(updateSelection);
                }
                catch (e) {
                    console.error(`jimuMapView.cancelSelectByQuery() error, jimuMapViewId: ${jimuMapView.id}`, e);
                }
                setTimeout(() => {
                    jimuMapView.clearSelectedFeatures();
                }, 200);
            }
        });
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === 'Point') {
                this.setActiveToolForSketchViewModel('point');
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                this.setActiveToolForSketchViewModel('rectangle');
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                this.setActiveToolForSketchViewModel('polygon');
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                this.setActiveToolForSketchViewModel('circle');
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                this.setActiveToolForSketchViewModel('polyline');
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType,
                isShowSelectTypePopup: false,
                isActive: true
            });
        };
        this.onJimuMapViewSelectProgressChange = (progress) => {
            this.setState({
                selectProgress: progress
            });
        };
        this.onKeyDown = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: true
                };
            }
        };
        this.onKeyUp = (event) => {
            if (event.key === 'Shift') {
                this.lastShiftKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
            else if ((this.isMac && event.key === 'Meta') || (!this.isMac && event.key === 'Control')) {
                this.lastCtrlKeyEventInfo = {
                    eventDate: new Date(),
                    isKeyDown: false
                };
            }
        };
        this.onPopperToggle = (e) => {
            this.toggleSelectTypePopup();
            if (e) {
                if (e.type === 'keydown' && e.key === 'Escape') {
                    this.btnSelectTypeContainer.focus();
                }
            }
        };
        this.handleKeyDown = (e, selectType) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.setCurrentSelectType(selectType);
            }
        };
        this.isMac = ((_b = (_a = window.jimuUA) === null || _a === void 0 ? void 0 : _a.os) === null || _b === void 0 ? void 0 : _b.name) === 'macOS';
        this.id = `${this.props.mapWidgetId}-select-tool`;
        this.sketChCreateOptions = {
            polygon: {
                mode: 'hybrid'
            }
        };
        this.state = {
            sketchInitialed: false,
            isActive: false,
            isShowSelectTypePopup: false,
            currentSelectType: 'Rectangle',
            spatialRelationship: 'intersects',
            selectProgress: 0
        };
        this.bindShiftCtrlKeysEventListeners();
    }
    getCSSStyle() {
        const theme = this.props.theme;
        const containerbg = theme.arcgis.components.button.variants.default.default.bg;
        const containerBorder = theme.arcgis.components.button.variants.default.default.border;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .select-tool-container {
        ${containerbg && `background-color: ${containerbg};`}
        ${containerBorder && `border: ${containerBorder.color} ${containerBorder.width} solid;`}
      }

      .select-tool-btn {
        width: 32px;
        height: 32px;
      }

      .content-bg {
        background-color: ${theme.colors.palette.light[100]};
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }
    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine',
                // When you first click to enable the interactive tools, like the rectangle, for a couple of seconds, there is no cursor on the map, and you cannot do anything - which looks like a bug.
                // To fix the above issue, we need to preload the following API modules for SketchViewModel.
                'esri/views/2d/interactive/editingTools',
                'esri/views/3d/interactive/editingTools',
                'esri/views/2d/layers/GraphicsLayerView2D',
                'esri/views/3d/layers/GraphicsLayerView3D'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            // state.sketchInitialed changed from false to true
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            // active JimuMapView changed
            // need to destroy current this.sketchViewModel and recreate it, dont't change this.sketchViewModel.view, because we need to bind view keydown/keyup events before init sketchViewModel
            this.destroySketchViewModelAndReleaseHandles();
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            return;
        }
        if (prevState.isActive !== this.state.isActive) {
            // active change
            this.initialSketchTool();
            if (this.state.isActive) {
                // change from inactive to active
                this.setActiveToolForSketchViewModel(this.currentActiveTool);
            }
            else {
                // change from active to inactive
                this.destroySketchViewModelAndReleaseHandles();
            }
        }
        this.tryUpdateActiveToolInfoWhenStateChange(prevState);
        this.tryUpdateActiveToolInfoWhenPropsChange(prevProps);
    }
    /**
     * Update props.activeToolName for the following cases:
     * case1: If select tool gets active from inactive, needs to set map.props.activeToolName to select tool by calling props.onActiveToolInfoChange().
     * case2: If select tool gets inactive from active, needs to set map.props.activeToolName to null by calling props.onActiveToolInfoChange().
     */
    tryUpdateActiveToolInfoWhenStateChange(prevState) {
        if (!prevState) {
            return;
        }
        const prevSelectIsActiveTool = !!(prevState.isActive || prevState.isShowSelectTypePopup);
        const currentSelectIsActiveTool = !!(this.state.isActive || this.state.isShowSelectTypePopup);
        if (!prevSelectIsActiveTool && currentSelectIsActiveTool) {
            // select changes to active tool
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange({
            //   activeToolName: this.props.toolName,
            //   activeToolTitle: this.props.toolName
            // })
            this.setCurrentToolAsActiveTool();
        }
        else if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
            // select changes to inactive tool
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
            // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
            // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
            // this.props.onActiveToolInfoChange(null)
            this.setActiveToolToNull();
        }
    }
    /**
     * try to set state.isActive and state.isShowSelectTypePopup to false for the following cases:
     * case1: If select tool is originally active, but another map select tool gets active, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * case2: If select tool is originally active, but another widget gets control of map, then needs set state.isActive and state.isShowSelectTypePopup to false.
     * @param prevProps
     */
    tryUpdateActiveToolInfoWhenPropsChange(prevProps) {
        var _a, _b;
        let shouldBeInactive = false;
        const preActiveToolName = ((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) || '';
        const currentActiveToolName = ((_b = this.props.activeToolInfo) === null || _b === void 0 ? void 0 : _b.activeToolName) || '';
        if (preActiveToolName !== currentActiveToolName) {
            // props.activeToolInfo.activeToolName changes
            const toolName = this.props.toolName;
            const prevSelectIsActiveTool = preActiveToolName === toolName;
            const currentSelectIsActiveTool = currentActiveToolName === toolName;
            if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
                // select changes to inactive tool beacause another map tool gets active, e.g. map layers tool gets active
                shouldBeInactive = true;
            }
        }
        // If we don't check this.props.autoControlWidgetId is empty or not, we will get the following wrong case
        // 1. Click measure tool, measure is the active tool and measure controls the map
        // 2. Then click select tool, select tool doesn't get active
        if (prevProps.autoControlWidgetId === this.id && this.props.autoControlWidgetId && this.props.autoControlWidgetId !== this.id) {
            // another widget gets control of map, select tool loses control of map
            shouldBeInactive = true;
        }
        if (shouldBeInactive && (this.state.isActive || this.state.isShowSelectTypePopup)) {
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
        }
    }
    componentWillUnmount() {
        this.destroySketchViewModelAndReleaseHandles();
        this.releaseShiftCtrlKeysEventListeners();
    }
    destroySketchViewModelAndReleaseHandles() {
        this.releaseViewHandles();
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
            this.sketchViewModel = null;
        }
        this.activeJimuMapView = null;
        if (this.props.autoControlWidgetId === this.id) {
            // select tool releases the control of map
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    releaseViewHandles() {
        if (this.activeJimuMapView) {
            this.activeJimuMapView.removeSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
        }
        if (this.viewKeyDownHandle) {
            this.viewKeyDownHandle.remove();
            this.viewKeyDownHandle = null;
        }
        if (this.viewKeyUpHandle) {
            this.viewKeyUpHandle.remove();
            this.viewKeyUpHandle = null;
        }
    }
    setCurrentToolAsActiveTool() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (!this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    setActiveToolToNull() {
        // Don't use props.onActiveToolInfoChange() to update props.activeToolInfo, we should use props._onIconClick() for compatibility.
        // Because props._onIconClick() will call this.onShowPanel() in base-tool.tsx, but props.onActiveToolInfoChange() doesn't.
        if (this.isSelectIsActiveTool()) {
            this.props._onIconClick();
        }
    }
    // this method is only used by setCurrentToolAsActiveTool and setActiveToolToNull
    isSelectIsActiveTool() {
        var _a;
        return this.props.toolName && this.props.toolName === ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName);
    }
    getSelectIconTitle() {
        let topTitle = '';
        if (this.state.currentSelectType === 'Point') {
            topTitle = this.formatMessage('SelectionByPoint');
        }
        else if (this.state.currentSelectType === 'Rectangle') {
            topTitle = this.formatMessage('SelectionByRectangle');
        }
        else if (this.state.currentSelectType === 'Lasso') {
            topTitle = this.formatMessage('SelectionByLasso');
        }
        else if (this.state.currentSelectType === 'Circle') {
            topTitle = this.formatMessage('SelectionByCircle');
        }
        else if (this.state.currentSelectType === 'Line') {
            topTitle = this.formatMessage('SelectionByLine');
        }
        else {
            topTitle = this.formatMessage('SelectLabel');
        }
        const newSelection = this.formatMessage('newSelection');
        const addToCurrentSelection = this.formatMessage('addToCurrentSelection');
        const removeFromCurrentSelection = this.formatMessage('removeFromCurrentSelection');
        const selectFromCurrentSelection = this.formatMessage('selectFromCurrentSelection');
        const drawShape = this.formatMessage('drawShape');
        const draw = this.formatMessage('draw');
        const ctrlKey = this.isMac ? 'Cmd' : 'Ctrl';
        const newSelectionTip = `∙ ${newSelection} (${drawShape})`;
        const addToCurrentSelectionTip = `∙ ${addToCurrentSelection} (Shift + ${draw})`;
        const removeFromCurrentSelectionTip = `∙ ${removeFromCurrentSelection} (${ctrlKey} + ${draw})`;
        const selectFromCurrentSelectionTip = `∙ ${selectFromCurrentSelection} (Shift + ${ctrlKey} + ${draw})`;
        const finalTitle = `${topTitle}
${newSelectionTip}
${addToCurrentSelectionTip}
${removeFromCurrentSelectionTip}
${selectFromCurrentSelectionTip}
    `;
        return finalTitle;
    }
    formatMessage(strId) {
        return this.props.intl.formatMessage({ id: strId, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[strId] });
    }
    useShiftKey(tolearnaceMs) {
        return this.useKey(this.lastShiftKeyEventInfo, tolearnaceMs);
    }
    useCtrlKey(tolearnaceMs) {
        return this.useKey(this.lastCtrlKeyEventInfo, tolearnaceMs);
    }
    useKey(lastKeyEventInfo, tolearnaceMs) {
        if (lastKeyEventInfo) {
            if (lastKeyEventInfo.isKeyDown) {
                // key is still down and not up, return true
                return true;
            }
            else {
                // key is up, we use tolearnaceMs to deterine the return value
                const deltaTime = Date.now() - lastKeyEventInfo.eventDate.getTime();
                if (deltaTime <= tolearnaceMs) {
                    // keyup time is not too long from now
                    return true;
                }
                else {
                    // keyup time is too long from nows
                    return false;
                }
            }
        }
        else {
            // key never down, return false
            return false;
        }
    }
    bindShiftCtrlKeysEventListeners() {
        document.addEventListener('keydown', this.onKeyDown, true);
        document.addEventListener('keyup', this.onKeyUp, true);
    }
    releaseShiftCtrlKeysEventListeners() {
        document.removeEventListener('keydown', this.onKeyDown, true);
        document.removeEventListener('keyup', this.onKeyUp, true);
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.releaseViewHandles();
            const jimuMapView = this.props.jimuMapView;
            this.activeJimuMapView = jimuMapView;
            this.activeJimuMapView.addSelectByQueryProgressChangeListener(this.onJimuMapViewSelectProgressChange);
            const view = jimuMapView.view;
            this.viewKeyDownHandle = view.on('key-down', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.viewKeyDownHandle = view.on('key-up', (event) => {
                if (event.key === 'Shift') {
                    event.stopPropagation();
                }
            });
            this.sketchViewModel = new this.SketchViewModel({
                view: view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    // keep continuous drawing for SketchViewModel
                    this.setActiveToolForSketchViewModel(this.currentActiveTool);
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.view.closePopup();
                    const graphic = event.graphic;
                    // graphic.geometry is null when double click map
                    if (!graphic.geometry) {
                        console.log('sketch graphic.geometry is null');
                        return;
                    }
                    const useKeyToleranceMs = 500;
                    const isShiftKey = this.useShiftKey(useKeyToleranceMs);
                    const isCtrlKey = this.useCtrlKey(useKeyToleranceMs);
                    let selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                    if (isShiftKey) {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.SelectFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.AddToCurrent;
                        }
                    }
                    else {
                        if (isCtrlKey) {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.RemoveFromCurrent;
                        }
                        else {
                            selectionMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceSelectionMode.New;
                        }
                    }
                    jimuMapView.selectFeaturesByGraphic(graphic, this.state.spatialRelationship, selectionMode);
                }
            });
        }
    }
    setActiveToolForSketchViewModel(activeTool) {
        if (this.sketchViewModel) {
            const createOptions = this.sketChCreateOptions[activeTool];
            if (createOptions) {
                this.sketchViewModel.create(activeTool, createOptions);
            }
            else {
                this.sketchViewModel.create(activeTool);
            }
            if (this.props.autoControlWidgetId !== this.id) {
                // select tool gets control of map
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
        }
    }
    render() {
        const selectIconTitle = this.getSelectIconTitle();
        const clearSelectionTitle = this.props.intl.formatMessage({ id: 'clearSelection', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clearSelection });
        const isSelecting = this.state.selectProgress > 0 && this.state.selectProgress < 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-center select-tool-container', ref: ref => { this.btnContainer = ref; } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex', title: selectIconTitle },
                        !isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleIsSelectActive, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isActive }), disabled: !this.state.sketchInitialed },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: this.getSelectToolIcon() })),
                        isSelecting && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_progress__WEBPACK_IMPORTED_MODULE_3__["default"], { progress: this.state.selectProgress, intl: this.props.intl, theme: this.props.theme, onClick: this.onClickLoadingProgress }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleSelectTypePopup, style: { width: 18 }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isShowSelectTypePopup }), disabled: !this.state.sketchInitialed, ref: ref => { this.btnSelectTypeContainer = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 8, height: 8, icon: IconArrowDown }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { title: clearSelectionTitle, className: 'select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0', ref: ref => { this.selectResultContainer = ref; }, onClick: this.clearSelect, disabled: !this.state.sketchInitialed },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectClearIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { css: this.getCSSStyle(), reference: this.btnContainer, open: this.state.isShowSelectTypePopup, placement: 'bottom-start', toggle: this.onPopperToggle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'p-4 content-bg', style: { display: 'flex', flexDirection: 'column' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-2 mb-2' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex mb-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                                        }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, onKeyDown: e => { this.handleKeyDown(e, 'Rectangle'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                                        }), onClick: () => { this.setCurrentSelectType('Lasso'); }, onKeyDown: e => { this.handleKeyDown(e, 'Lasso'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                                        }), onClick: () => { this.setCurrentSelectType('Circle'); }, onKeyDown: e => { this.handleKeyDown(e, 'Circle'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle })))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                                        }), onClick: () => { this.setCurrentSelectType('Line'); }, onKeyDown: e => { this.handleKeyDown(e, 'Line'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                                        }), onClick: () => { this.setCurrentSelectType('Point'); }, onKeyDown: e => { this.handleKeyDown(e, 'Point'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain })))))))),
            (!this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx":
/*!***********************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/select/select-progress.tsx ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SelectProgress)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */


class SelectProgress extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {};
    }
    getStyle() {
        const progressColor = this.props.theme.darkTheme ? 'black' : 'white';
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      position: relative;

      .select-circle-progress {
        position: absolute;
        left: 6px;
        top: 6px;

        .progress-circle-bg {
          stroke: ${progressColor};
          opacity: 0.3;
        }

        .progress-circle-progress {
          stroke: ${progressColor};
          transition: none !important;
        }
      }

      .progress-stop {
        width: 6px;
        height: 6px;
        background: ${progressColor};
      }

      .progress-mask {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: transparent;
      }
    `;
    }
    render() {
        var _a;
        const progress = this.props.progress * 100;
        const progressInt = parseFloat(progress.toFixed(2));
        const defaultStr = jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.selectingFeaturesTip;
        const title = ((_a = this.props.intl) === null || _a === void 0 ? void 0 : _a.formatMessage({ id: 'selectingFeaturesTip', defaultMessage: defaultStr })) || defaultStr;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { css: this.getStyle(), onClick: this.props.onClick, className: 'esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center active select-progress' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Progress, { className: 'select-circle-progress', color: 'light', type: 'circular', value: progressInt, circleSize: 20 }),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'progress-stop' }),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'progress-mask', title: title })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/index.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/index.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SelectState)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _selected_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selected-number */ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/selected-number.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const SelectZoomtoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-zoomto.svg */ "./your-extensions/widgets/map-unscrollable/src/runtime/assets/icons/select-tool/select-zoomto.svg");
const SelectClearIcon = __webpack_require__(/*! jimu-icons/svg/outlined/editor/clear-selection-general.svg */ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg");
class SelectState extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'SelectState';
        this.handleSelectedGraphicsChanged = (selectedGraphicCount) => {
            this.setState({
                selectedGraphicCount
            });
        };
        this.zoomToSelectedFeatures = () => __awaiter(this, void 0, void 0, function* () {
            var _a;
            const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
            if (view) {
                const graphics = yield this.getSelectedGraphics();
                if (graphics.length > 0) {
                    view.goTo(graphics);
                }
            }
        });
        this.clearSelectedFeatures = () => __awaiter(this, void 0, void 0, function* () {
            const jimuMapView = this.props.jimuMapView;
            if (jimuMapView) {
                try {
                    const updateSelection = false;
                    yield jimuMapView.cancelSelectByQuery(updateSelection);
                }
                catch (e) {
                    console.error(`jimuMapView.cancelSelectByQuery() error, jimuMapViewId: ${jimuMapView.id}`, e);
                }
                setTimeout(() => {
                    jimuMapView.clearSelectedFeatures();
                }, 200);
            }
        });
        this.state = {
            selectedGraphicCount: 0
        };
    }
    getStyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      background-color: ${this.props.theme.arcgis.components.button.variants.default.default.bg};

      .divide-line {
        border-right: 1px solid ${this.props.theme.colors.palette.dark[400]};
        height: 100%;
      }
    `;
    }
    getTitle() {
        return '';
    }
    getIcon() {
        return null;
    }
    getSelectedGraphics() {
        return __awaiter(this, void 0, void 0, function* () {
            let selectedGraphics = [];
            if (this.props.jimuMapView) {
                selectedGraphics = yield this.props.jimuMapView.getSelectedFeatures();
            }
            return selectedGraphics;
        });
    }
    getExpandPanel() {
        const selectedFeaturesTip = this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures });
        const clearSelectionTitle = this.props.intl.formatMessage({ id: 'clearSelection', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clearSelection });
        const zoomToSelectedFeaturesTip = this.props.intl.formatMessage({ id: 'SelectionZoomToSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionZoomToSelectedFeatures });
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 d-flex justify-content-between align-items-center', style: { height: '40px' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-2' }, `${selectedFeaturesTip}: ${this.state.selectedGraphicCount}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: zoomToSelectedFeaturesTip, className: 'h-100 border border-top-0 border-bottom-0 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.zoomToSelectedFeatures },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectZoomtoIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.clearSelectedFeatures, title: clearSelectionTitle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectClearIcon }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.zoomToSelectedFeatures, title: zoomToSelectedFeaturesTip },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectZoomtoIcon, className: 'mr-2' }),
                    `${selectedFeaturesTip}: ${this.state.selectedGraphicCount}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/selected-number.tsx":
/*!****************************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/selectstate/selected-number.tsx ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectedNumber: () => (/* binding */ SelectedNumber)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class _SelectedNumber extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.onJimuLayerViewSelectedFeaturesChange = () => {
            // Typically, this callback method is called when we highlight a feature by popup click, but the data source is not used and not created.
            this.computerSelectedGraphicCount();
        };
    }
    componentDidMount() {
        this.setCurrentJimuMapView(this.props.jimuMapView);
        this.computerSelectedGraphicCount();
    }
    componentDidUpdate(prevProps) {
        const preJimuMapView = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.jimuMapView) || null;
        const currJimuMapView = this.props.jimuMapView || null;
        if (preJimuMapView !== currJimuMapView) {
            // switch map
            this.setCurrentJimuMapView(currJimuMapView);
        }
        this.computerSelectedGraphicCount();
    }
    componentWillUnmount() {
        this.setCurrentJimuMapView(null);
    }
    setCurrentJimuMapView(jimuMapView) {
        if (this.currentJimuMapView) {
            this.currentJimuMapView.removeJimuLayerViewSelectedFeaturesChangeListener(this.onJimuLayerViewSelectedFeaturesChange);
        }
        this.currentJimuMapView = jimuMapView;
        if (this.currentJimuMapView) {
            this.currentJimuMapView.addJimuLayerViewSelectedFeaturesChangeListener(this.onJimuLayerViewSelectedFeaturesChange);
        }
    }
    computerSelectedGraphicCount() {
        if (this.props.onSelectedGraphicsChanged) {
            const selectedGraphicCount = this.props.jimuMapView.getSelectedFeatureCount();
            this.props.onSelectedGraphicsChanged(selectedGraphicCount);
        }
    }
    render() {
        return null;
    }
}
const mapStateToProps = (state, ownProps) => {
    if (state.appStateInBuilder) {
        const dataSourcesInfo = state.appStateInBuilder && state.appStateInBuilder.dataSourcesInfo;
        const jimuMapViewsInfo = state.appStateInBuilder && state.appStateInBuilder.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
    else {
        const dataSourcesInfo = state && state.dataSourcesInfo;
        const jimuMapViewsInfo = state && state.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
};
const SelectedNumber = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_SelectedNumber);


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/tools/zoom.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/tools/zoom.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Zoom)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/map-unscrollable/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Zoom extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Zoom';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'ZoomLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.ZoomLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ZoomInner, { jimuMapView: this.props.jimuMapView });
    }
}
class ZoomInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Zoom = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Zoom']).then(modules => {
                [this.Zoom] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ZoomBtn) {
                this.container.innerHTML = '';
            }
            this.ZoomBtn = new this.Zoom({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Zoom',
                instance: this.ZoomBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ZoomBtn) {
            this.ZoomBtn.destroy();
            this.ZoomBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            /**
             * TODO
             * When the map widget has two maps, the "componentWillUnmount" is called only for the current active view,
             * so the another view's mapTool is not cleared.
             */
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'zoom-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/translations/default.ts":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/translations/default.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    _widgetLabel: 'Map',
    _action_displayFeatureSet_label: 'Display feature set',
    _action_panTo_label: 'Pan to',
    _action_zoomToFeature_label: 'Zoom to',
    _action_selectFeature_label: 'Select feature',
    _action_flash_label: 'Flash',
    _action_filter_label: 'Filter',
    _action_showOnMap_label: 'Show on map',
    _action_addToMap_label: 'Add to map',
    showOnMapData: 'Show on map data',
    addedData: 'added data',
    failToAddTheDataOnMap: 'Fail to add the data.',
    addToMapData: 'Add to map data',
    mapCurrentRecord: '{layerName} map current record',
    _url_params_viewpoint_label: 'Viewpoint',
    _url_params_viewpoint_tooltip: "Viewpoint describes the point of view for a web map or web scene.",
    _url_params_center_label: 'Center',
    _url_params_scale_label: 'Scale',
    _url_params_rotation_label: 'Rotation',
    _url_params_layer_visibility_label: 'Layer visibility'
});


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts":
/*!***********************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkIsLive: () => (/* binding */ checkIsLive),
/* harmony export */   cloneFeature: () => (/* binding */ cloneFeature),
/* harmony export */   createNewFeaturelayer: () => (/* binding */ createNewFeaturelayer),
/* harmony export */   filterFeaturesByQuery: () => (/* binding */ filterFeaturesByQuery),
/* harmony export */   flashFeaturesByQuery: () => (/* binding */ flashFeaturesByQuery),
/* harmony export */   getChangedViewpointByViewAndUrlHashParams: () => (/* binding */ getChangedViewpointByViewAndUrlHashParams),
/* harmony export */   getJimuMapViewId: () => (/* binding */ getJimuMapViewId),
/* harmony export */   getLayersFromDataSourceIds: () => (/* binding */ getLayersFromDataSourceIds),
/* harmony export */   getMapBaseRestoreData: () => (/* binding */ getMapBaseRestoreData),
/* harmony export */   getMapOptionsByUrlHashParams: () => (/* binding */ getMapOptionsByUrlHashParams),
/* harmony export */   getViewpointInstanceFromHistory: () => (/* binding */ getViewpointInstanceFromHistory),
/* harmony export */   goToTargetImmediately: () => (/* binding */ goToTargetImmediately),
/* harmony export */   goToViewpointImmediately: () => (/* binding */ goToViewpointImmediately),
/* harmony export */   isNeedProjectSpatialReference: () => (/* binding */ isNeedProjectSpatialReference),
/* harmony export */   isNeedProjectViewpoint: () => (/* binding */ isNeedProjectViewpoint),
/* harmony export */   isSamelikeViewpoints: () => (/* binding */ isSamelikeViewpoints),
/* harmony export */   isTwoWidgetsMutuallyExtentChange: () => (/* binding */ isTwoWidgetsMutuallyExtentChange),
/* harmony export */   isWidgetSendZoomToActionToAnother: () => (/* binding */ isWidgetSendZoomToActionToAnother),
/* harmony export */   mapPanto: () => (/* binding */ mapPanto),
/* harmony export */   processZoomToFeatures: () => (/* binding */ processZoomToFeatures),
/* harmony export */   projectGeometries: () => (/* binding */ projectGeometries),
/* harmony export */   projectViewpoint: () => (/* binding */ projectViewpoint),
/* harmony export */   restoreMapBase: () => (/* binding */ restoreMapBase),
/* harmony export */   selectFeature: () => (/* binding */ selectFeature),
/* harmony export */   updateFeaturelayer: () => (/* binding */ updateFeaturelayer),
/* harmony export */   updateUrlHashParamsForActiveJimuMapView: () => (/* binding */ updateUrlHashParamsForActiveJimuMapView)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/* eslint-disable prefer-const */


function createNewFeaturelayer(mapBaseView, newFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const newLayerPromises = [];
        newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                console.warn('the feature layer is already created');
                return;
            }
            newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));
        });
        if (newLayerPromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(newLayerPromises);
        }
    });
}
function updateFeaturelayer(mapBaseView, changedFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const updatePromises = [];
        changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                mapBaseView.map.remove(layer);
                updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));
            }
        });
        if (updatePromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(updatePromises);
        }
    });
}
function addFeatureSetToMap(mapBaseView, featureSet, layerId) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield new Promise((resolve, reject) => {
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/layers/FeatureLayer'
            ]).then(modules => {
                if (featureSet.features.length < 1) {
                    resolve(null);
                }
                else {
                    // let FeatureSet: typeof  __esri.FeatureSet;
                    let FeatureLayer;
                    // eslint-disable-next-line
                    [FeatureLayer] = modules;
                    const layerFromFeatureSet = featureSet.features[0].layer;
                    const fieldsInFeaturelayer = [];
                    const fieldMap = {};
                    for (let i = 0; i < layerFromFeatureSet.fields.length; i++) {
                        const fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);
                        fieldMap[layerFromFeatureSet.fields[i].name] = fieldsItem.name;
                        fieldsInFeaturelayer.push(fieldsItem);
                    }
                    const fieldsInPopupTemplate = [];
                    for (const key in featureSet.features[0].attributes) {
                        if (fieldMap[key]) {
                            const fieldsItem = {
                                fieldName: fieldMap[key],
                                label: key
                            };
                            fieldsInPopupTemplate.push(fieldsItem);
                        }
                    }
                    const sourceFeatures = [];
                    featureSet.features.forEach((feature, index) => {
                        const tempFeature = feature;
                        if (tempFeature.attributes) {
                            for (const key in tempFeature.attributes) {
                                tempFeature.attributes[fieldMap[key]] = tempFeature.attributes[key];
                            }
                            tempFeature.attributes.exbfid = index;
                        }
                        else {
                            tempFeature.attributes = {
                                exbfid: index
                            };
                        }
                        sourceFeatures.push(tempFeature);
                    });
                    const layer = new FeatureLayer({
                        id: layerId,
                        title: layerFromFeatureSet.title,
                        source: sourceFeatures,
                        fields: fieldsInFeaturelayer,
                        outFields: ['*'],
                        objectIdField: 'exbfid',
                        renderer: layerFromFeatureSet.renderer,
                        popupEnabled: true,
                        popupTemplate: {
                            title: 'information',
                            content: [{
                                    type: 'fields',
                                    fieldInfos: fieldsInPopupTemplate
                                }]
                        }
                    });
                    mapBaseView.map.add(layer);
                    layer.on('layerview-create', event => {
                        resolve(null);
                    });
                }
            });
        });
    });
}
function getReasonableField(field) {
    // the function is supported to normalize the field.name
    const fieldName = field.name;
    return {
        name: fieldName.replace(/\./g, '_').replace(/\(/g, '_').replace(/\)/g, '_'),
        alias: field.alias,
        type: field.type
    };
}
function selectFeature(mapBaseView, target, layerId) {
    // In this function, we assume that features come from the same layer
    let featureLayerId = layerId;
    let featureLayerView = null;
    let tempFeature = null;
    // if layerId doesn't exist, we get layerId by feature
    if (!featureLayerId) {
        if (target instanceof Array) {
            tempFeature = target[0];
        }
        else {
            tempFeature = target;
        }
        if (tempFeature) {
            featureLayerId = tempFeature.layer && tempFeature.layer.id;
        }
    }
    if (featureLayerId) {
        const layerViews = mapBaseView.allLayerViews;
        for (let i = 0; i < layerViews.length; i++) {
            if (layerViews.getItemAt(i).layer.id === featureLayerId) {
                featureLayerView = layerViews.getItemAt(i);
            }
        }
        if (featureLayerView) {
            return {
                layerId: featureLayerId,
                handle: featureLayerView.highlight(target)
            };
        }
        else {
            return null;
        }
    }
}
function goToTargetImmediately(view, _target) {
    return __awaiter(this, void 0, void 0, function* () {
        const viewSR = view.spatialReference;
        const geometries = yield projectGeometries([_target], viewSR);
        if (geometries && geometries.length > 0) {
            const target = geometries[0];
            view.goTo(target, { animate: false });
        }
    });
}
function goToViewpointImmediately(view, _viewpoint) {
    return __awaiter(this, void 0, void 0, function* () {
        const viewSR = view.spatialReference;
        const viewpoint = yield projectViewpoint(_viewpoint, viewSR);
        // view.goTo(viewpoint, { animate: false })
        view.viewpoint = viewpoint;
    });
}
function isNeedProjectViewpoint(viewpoint, viewSR) {
    var _a, _b, _c;
    const sr1 = (_a = viewpoint.targetGeometry) === null || _a === void 0 ? void 0 : _a.spatialReference;
    if (sr1 && isNeedProjectSpatialReference(sr1, viewSR)) {
        return true;
    }
    const sr2 = (_c = (_b = viewpoint.camera) === null || _b === void 0 ? void 0 : _b.position) === null || _c === void 0 ? void 0 : _c.spatialReference;
    if (sr2 && isNeedProjectSpatialReference(sr2, viewSR)) {
        return true;
    }
    return false;
}
function isNeedProjectSpatialReference(sr1, sr2) {
    const isSame = sr1.wkid === sr2.wkid || sr1.equals(sr2);
    //  In JS API 4.x, the view can handle WebMercator and WGS84 spatialReference auto
    const isLike = (sr1.isWebMercator || sr1.isWGS84) && (sr2.isWebMercator || sr2.isWGS84);
    return !isSame && !isLike;
}
function projectViewpoint(_viewpoint, viewSR) {
    var _a;
    return __awaiter(this, void 0, void 0, function* () {
        const viewpoint = _viewpoint.clone();
        const targetGeometry = viewpoint.targetGeometry;
        const cameraPositon = (_a = viewpoint.camera) === null || _a === void 0 ? void 0 : _a.position;
        const toProjectGeometries = [];
        let isProjectTargetGeometry = false;
        let isProjectCameraPosition = false;
        if (targetGeometry && isNeedProjectSpatialReference(targetGeometry.spatialReference, viewSR)) {
            isProjectTargetGeometry = true;
            toProjectGeometries.push(targetGeometry);
        }
        if (cameraPositon && isNeedProjectSpatialReference(cameraPositon.spatialReference, viewSR)) {
            isProjectCameraPosition = true;
            toProjectGeometries.push(cameraPositon);
        }
        if (toProjectGeometries.length > 0) {
            const projectedGeometries = yield projectGeometries(toProjectGeometries, viewSR);
            if (isProjectTargetGeometry) {
                viewpoint.targetGeometry = projectedGeometries[0];
            }
            if (isProjectCameraPosition) {
                viewpoint.camera.position = projectedGeometries[projectedGeometries.length - 1];
            }
        }
        return viewpoint;
    });
}
function mapPanto(mapBaseView, target) {
    return __awaiter(this, void 0, void 0, function* () {
        const panToTarget = target;
        const tempBaseMapView = mapBaseView;
        if (panToTarget instanceof Array) {
            if (panToTarget.length === 0) {
                yield Promise.resolve();
                return;
            }
            if (panToTarget[0].geometry) {
                const geometryArr = [];
                for (let i = 0; i < panToTarget.length; i++) {
                    geometryArr.push(panToTarget[i].geometry);
                }
                yield getGeometriesExtent(geometryArr).then((extent) => {
                    return goTo(tempBaseMapView, extent.center);
                });
            }
            else {
                return getGeometriesExtent(panToTarget).then((extent) => {
                    return goTo(tempBaseMapView, extent.center);
                });
            }
        }
        else {
            if (panToTarget.geometry) {
                const getmetry = panToTarget.geometry;
                return goTo(tempBaseMapView, getCenterPoint(getmetry));
            }
            else {
                return goTo(tempBaseMapView, getCenterPoint(panToTarget));
            }
        }
    });
}
function goTo(view, target) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            // delay before updating of view turns true, 400ms is a temporary solution.
            setTimeout(() => {
                //// there is a conflict for paning when the layer view is updating, such as 'pan to' and 'filter'.
                //// this is a temporary solution, it can reduce the frequency of the problem rather than solve it completely.
                //if (view.updating) {
                //  const handler = view.watch('updating', value => {
                //    if (!value) {
                //      view.goTo(target).then(() => resolve()).catch(() => reject())
                //      handler.remove()
                //    }
                //  })
                //} else {
                //  view.goTo(target).then(() => resolve()).catch(() => reject())
                //}
                view.goTo(target).then(() => { resolve(); }).catch(() => { reject(); });
            }, 400);
        });
    });
}
function getGeometriesExtent(geometries) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/geometry/Extent'
        ]).then((modules) => __awaiter(this, void 0, void 0, function* () {
            // eslint-disable-next-line
            let Extent;
            [Extent] = modules;
            if (!geometries || !geometries.length) {
                return yield Promise.resolve(null);
            }
            let fullExtent = null;
            let index;
            const numGeometries = geometries.length;
            for (index = 0; index < numGeometries; index++) {
                const geometry = geometries[index];
                if (!geometry) {
                    continue;
                }
                let extent = geometry.extent;
                if (!extent && geometry.type === 'point') {
                    const pointGeometry = geometry;
                    if (pointGeometry.x && pointGeometry.y) {
                        extent = new Extent({
                            xmax: pointGeometry.x,
                            xmin: pointGeometry.x,
                            ymax: pointGeometry.y,
                            ymin: pointGeometry.y,
                            zmax: pointGeometry.z,
                            zmin: pointGeometry.z,
                            spatialReference: pointGeometry.spatialReference
                        });
                    }
                }
                if (!extent) {
                    continue;
                }
                if (fullExtent) {
                    fullExtent = fullExtent.union(extent);
                }
                else {
                    fullExtent = extent;
                }
            }
            if (fullExtent.width < 0 && fullExtent.height < 0) {
                return yield Promise.resolve(null);
            }
            return yield Promise.resolve(fullExtent);
        }));
    });
}
function filterFeaturesByQuery(jimuMapView, actionLayerDataSourceId, querySQL) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!actionLayerDataSourceId) {
            return;
        }
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(actionLayerDataSourceId);
        if (!dataSource) {
            return;
        }
        let jimuLayerView = null;
        try {
            jimuLayerView = yield jimuMapView.whenJimuLayerViewLoadedByDataSource(dataSource);
        }
        catch (err) {
            jimuLayerView = null;
            console.error('can\'t get jimuLayerView by dataSource', dataSource, err);
        }
        if (jimuLayerView && jimuLayerView.layer && (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer || jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer)) {
            jimuLayerView.setDefinitionExpression(querySQL);
        }
    });
}
function queryFeatures(layerObject, querySQL, outFields) {
    return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/rest/support/Query'
    ]).then(modules => {
        let Query;
        [Query] = modules;
        const query = new Query();
        query.where = querySQL;
        query.outFields = outFields || [];
        query.returnGeometry = true;
        return layerObject.queryFeatures(query).then(featureSet => {
            return featureSet;
        });
    });
}
function flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView) {
    if ((tempJimuLayerView).view) {
        let featureLayerView = (tempJimuLayerView).view;
        if (featureLayerView) {
            queryFeatures(featureLayerView.layer, querySQL, []).then(featureSet => {
                if (featureSet && featureSet.features && featureSet.features.length > 0) {
                    const symbol = getFlashSymbol(featureLayerView.layer.geometryType);
                    startFlash(jimuMapView.view, featureSet.features, symbol);
                }
            });
        }
        else {
            return null;
        }
    }
    else {
        (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/layers/FeatureLayer'
        ]).then(modules => {
            let FeatureLayer;
            [FeatureLayer] = modules;
            let tempFeatureLayer = new FeatureLayer({
                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(tempJimuLayerView.layer)
            });
            tempFeatureLayer.load().then(() => {
                queryFeatures(tempFeatureLayer, querySQL, []).then(featureSet => {
                    if (featureSet && featureSet.features && featureSet.features.length > 0) {
                        const symbol = getFlashSymbol(featureSet.features[0].geometry.type);
                        startFlash(jimuMapView.view, featureSet.features, symbol);
                    }
                });
            });
        });
    }
}
let sceneHightlightHandle = null;
function flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView) {
    var _a;
    if ((tempJimuLayerView).view) {
        let sceneLayerView = (tempJimuLayerView).view;
        // @ts-expect-error
        queryFeatures((_a = sceneLayerView === null || sceneLayerView === void 0 ? void 0 : sceneLayerView.layer) === null || _a === void 0 ? void 0 : _a.associatedLayer, querySQL, []).then(featureSet => {
            if (featureSet && featureSet.features && featureSet.features.length > 0) {
                const objectIdField = sceneLayerView.layer.objectIdField;
                const objectIds = featureSet.features.map(feature => feature.attributes[objectIdField]);
                let i = 0;
                const maxFlashCount = 6;
                let highlightColor = [255, 255, 0, 0.8];
                const originalHighlightOptions = jimuMapView.view.highlightOptions;
                const flash = function () {
                    if (i < maxFlashCount) {
                        i++;
                        if (highlightColor) {
                            highlightColor = null;
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: [0, 0, 0, 0] };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        else {
                            highlightColor = [255, 255, 0, 0.8];
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: highlightColor };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        setTimeout(flash, 500);
                    }
                    else {
                        jimuMapView.view.highlightOptions = originalHighlightOptions;
                        sceneHightlightHandle && sceneHightlightHandle.remove();
                    }
                };
                setTimeout(flash, 500);
            }
        });
    }
}
function flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!layerDataSourceId) {
            return;
        }
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(layerDataSourceId);
        if (!dataSource) {
            return;
        }
        let jimuLayerView = null;
        try {
            jimuLayerView = yield jimuMapView.whenJimuLayerViewLoadedByDataSource(dataSource);
        }
        catch (err) {
            jimuLayerView = null;
            console.error('can\'t get jimuLayerView by dataSource', dataSource, err);
        }
        if (jimuLayerView && jimuLayerView.layer) {
            if (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer) {
                flashOnFeatureLayer(jimuMapView, querySQL, jimuLayerView);
            }
            else if (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer) {
                flashOnSceneLayer(jimuMapView, querySQL, jimuLayerView);
            }
        }
    });
}
function startFlash(mapBaseView, features, symbol) {
    (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/Graphic'
    ]).then(modules => {
        // eslint-disable-next-line
        let Graphic;
        [Graphic] = modules;
        const flashFeatures = function (features, maxFlashCount) {
            const graphics = [];
            let flashCount = 0;
            for (let i = 0; i < features.length; i++) {
                const tempGraphic = new Graphic({
                    geometry: features[i].geometry,
                    symbol: symbol,
                    attributes: features[i].attributes
                });
                graphics.push(tempGraphic);
            }
            const singleFlash = function () {
                mapBaseView.graphics.addMany(graphics);
                setTimeout(() => {
                    mapBaseView.graphics.removeMany(graphics);
                    flashCount = flashCount + 1;
                    if (flashCount < maxFlashCount) {
                        setTimeout(() => {
                            singleFlash();
                        }, 500);
                    }
                }, 500);
            };
            singleFlash();
        };
        flashFeatures(features, 3);
    });
}
function getFlashSymbol(geometryType) {
    if (['point', 'multipoint'].includes(geometryType)) {
        return {
            type: 'simple-marker',
            style: 'circle',
            color: [255, 255, 0, 0.8],
            size: '16px',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['polyline'].includes(geometryType)) {
        return {
            type: 'simple-line',
            color: [255, 255, 0, 0.8],
            width: 3,
            style: 'solid'
        };
    }
    else if (['polygon', 'extent'].includes(geometryType)) {
        return {
            type: 'simple-fill', // autocasts as new SimpleFillSymbol()
            color: [255, 255, 0, 0.5],
            style: 'solid',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['mesh'].includes(geometryType)) {
        return {
            type: 'mesh-3d', // autocasts as new MeshSymbol3D()
            symbolLayers: [{
                    type: 'fill', // autocasts as new FillSymbol3DLayer()
                    material: { color: [255, 255, 0, 0.8] }
                }]
        };
    }
    else {
        return null;
    }
}
function getCenterPoint(geometry) {
    // point | multipoint | polyline | polygon | extent | mesh
    switch (geometry.type) {
        case 'point':
            return geometry;
        case 'extent':
            return geometry.center;
        case 'polygon':
            return geometry.centroid;
        case 'polyline':
            return geometry.extent.center;
        default:
            return geometry && geometry.extent ? geometry.extent.center : undefined;
        // todo
    }
}
function cloneFeature(feature, Graphic) {
    let tempFeature = null;
    if (feature.clone) {
        tempFeature = feature.clone();
    }
    else {
        tempFeature = Graphic.fromJSON(Object.assign({}, feature));
        tempFeature.attributes = Object.assign({}, feature.attributes);
    }
    return tempFeature;
}
function projectGeometries(geometries, spatialReference) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!geometries || geometries.length === 0 || !geometries[0] ||
            spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else {
            return yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.geometryUtils.projectToSpatialReference(geometries, spatialReference);
        }
    });
}
function processZoomToFeatures(mapBaseView, layer, features) {
    return __awaiter(this, void 0, void 0, function* () {
        if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {
            return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query'
            ]).then((modules) => {
                const [Query] = modules;
                const query = new Query();
                query.returnGeometry = true;
                query.outFields = ['*'];
                query.objectIds = features.map(feature => feature.attributes[layer.objectIdField]);
                return layer.queryFeatures(query).then((result) => __awaiter(this, void 0, void 0, function* () {
                    if (result && result.features && result.features.length === features.length) {
                        return yield Promise.resolve(result.features);
                    }
                    else {
                        return yield Promise.resolve(features);
                    }
                }), () => __awaiter(this, void 0, void 0, function* () {
                    return yield Promise.resolve(features);
                }));
            });
        }
        else {
            return yield Promise.resolve(features);
        }
    });
}
function checkIsLive(appMode) {
    if (window.jimuConfig.isInBuilder) {
        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            return false;
        }
        else {
            return true;
        }
    }
    else {
        return true;
    }
}
function getLayersFromDataSourceIds(dataSourceIds) {
    const layerPromises = [];
    dataSourceIds.forEach(dataSourceId => {
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dataSourceId);
        let layerPromise;
        if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
            layerPromise = Promise.resolve(dataSource.layer);
        }
        else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
            layerPromise = dataSource.createJSAPILayerByDataSource();
        }
        else {
            layerPromise = Promise.resolve(null);
        }
        layerPromises.push(layerPromise);
    });
    return Promise.all(layerPromises);
}
function getJimuMapViewId(widgetId, dataSourceId) {
    // If dataSourceId is null, make sure it converts to empty string.
    const dsId = dataSourceId || '';
    return `${widgetId}-${dsId}`;
}
function getMapBaseRestoreData(mapInstance) {
    const { mapContainer, state, Geometry, InitialViewProperties, TileLayer, Basemap, MapView, SceneView, Extent, Viewpoint, PortalItem, Portal, WebMap, WebScene, Color, SpatialReference, Point, expectedDataSourceInfo, mapCreatingInfo, view, lastUpdateViewConfig, mapDs, dsManager, isFirstReceiveMessage } = mapInstance;
    return {
        mapContainer,
        state,
        Geometry,
        InitialViewProperties,
        TileLayer,
        Basemap,
        MapView,
        SceneView,
        Extent,
        Viewpoint,
        PortalItem,
        Portal,
        WebMap,
        WebScene,
        Color,
        SpatialReference,
        Point,
        expectedDataSourceInfo,
        mapCreatingInfo,
        view,
        lastUpdateViewConfig,
        mapDs,
        dsManager,
        isFirstReceiveMessage
    };
}
function restoreMapBase(mapInstance, restoreData) {
    const keys = Object.keys(restoreData);
    for (const key of keys) {
        mapInstance[key] = restoreData[key];
    }
}
function isTwoWidgetsMutuallyExtentChange(widgetId1, widgetId2) {
    if (widgetId1 && widgetId2) {
        const messageConfigs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.messageConfigs;
        if (messageConfigs) {
            const actionNames = ['panTo', 'zoomToFeature'];
            const messageType = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageType.ExtentChange;
            if (isWidgetSendActionsToAnother(widgetId1, widgetId2, messageConfigs, messageType, actionNames) &&
                isWidgetSendActionsToAnother(widgetId2, widgetId1, messageConfigs, messageType, actionNames)) {
                return true;
            }
        }
    }
    return false;
}
function isWidgetSendZoomToActionToAnother(sendMessageWidgetId, actionWidgetId, messageType) {
    if (sendMessageWidgetId && actionWidgetId) {
        const messageConfigs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.messageConfigs;
        if (messageConfigs) {
            const actionNames = ['zoomToFeature'];
            return isWidgetSendActionsToAnother(sendMessageWidgetId, actionWidgetId, messageConfigs, messageType, actionNames);
        }
    }
    return false;
}
function isWidgetSendActionsToAnother(sendMessageWidgetId, actionWidgetId, messageConfigs, messageType, actionNames) {
    if (messageConfigs) {
        const messageJsonArray = Object.values(messageConfigs);
        for (let i = 0; i < messageJsonArray.length; i++) {
            const messageJson = messageJsonArray[i];
            if (messageJson.widgetId === sendMessageWidgetId && messageJson.messageType === messageType) {
                const actions = messageJson.actions;
                for (let j = 0; j < actions.length; j++) {
                    const action = actions[j];
                    if (action.widgetId === actionWidgetId) {
                        if (actionNames.includes(action.actionName)) {
                            return true;
                        }
                    }
                }
            }
        }
    }
    return false;
}
function isSamelikeViewpoints(view, vp1, vp2) {
    if (!vp1) {
        return false;
    }
    if (!vp2) {
        return false;
    }
    // We need to check both targetGeometry and camera.
    if (vp1.targetGeometry && vp1.targetGeometry.declaredClass === 'esri.geometry.Point' && vp2.targetGeometry && vp2.targetGeometry.declaredClass === 'esri.geometry.Point') {
        const screenPoint1 = view.toScreen(vp1.targetGeometry);
        const screenPoint2 = view.toScreen(vp2.targetGeometry);
        const deltaX = screenPoint1.x - screenPoint2.x;
        const deltaY = screenPoint1.y - screenPoint2.y;
        const dist = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
        if (dist >= 5) {
            return false;
        }
    }
    const camera1 = vp1.camera;
    const camera2 = vp2.camera;
    if (camera1 && camera2) {
        // compare viewpoint for SceneView
        const heading1 = parseFloat(camera1.heading.toFixed(2));
        const heading2 = parseFloat(camera2.heading.toFixed(2));
        if (heading1 !== heading2) {
            return false;
        }
        const tilt1 = parseFloat(camera1.tilt.toFixed(2));
        const tilt2 = parseFloat(camera2.tilt.toFixed(2));
        if (tilt1 !== tilt2) {
            return false;
        }
        const positionDist = camera1.position.distance(camera2.position);
        if (positionDist >= 1) {
            return false;
        }
    }
    else {
        // compare viewpoint for MapView
        const rotation1 = parseFloat(vp1.rotation.toFixed(2));
        const rotation2 = parseFloat(vp2.rotation.toFixed(2));
        if (rotation1 !== rotation2) {
            return false;
        }
        const deltaScale = vp1.scale - vp2.scale;
        if (Math.abs(deltaScale) >= 1) {
            return false;
        }
    }
    return true;
}
function getViewpointInstanceFromHistory(view, viewpointIndex) {
    if (view.viewpointHistory.length > 0) {
        const lastIndex = view.viewpointHistory.length - 1;
        if (viewpointIndex >= 0 && viewpointIndex <= lastIndex) {
            const viewpoint = view.viewpointHistory[viewpointIndex];
            return viewpoint.clone();
        }
    }
    return null;
}
function updateUrlHashParamsForActiveJimuMapView(jimuMapView) {
    var _a;
    if (jimuMapView && jimuMapView.isActive && jimuMapView.view && !jimuMapView.view.destroyed) {
        const view = jimuMapView.view;
        const urlManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.UrlManager.getInstance();
        const viewpointJson = view.viewpoint ? view.viewpoint.toJSON() : null;
        let viewpointStr = null;
        let centerStr = null;
        let scaleStr = null;
        let rotationStr = null;
        if (viewpointJson) {
            viewpointStr = JSON.stringify(viewpointJson);
        }
        // We only support center, scale and rotaion for MapView.
        if (view.type === '2d') {
            const wkid = (_a = view.spatialReference) === null || _a === void 0 ? void 0 : _a.wkid;
            if (wkid) {
                const viewCenter = view.center;
                centerStr = `${viewCenter.x},${viewCenter.y},${wkid}`;
            }
            scaleStr = String(view.scale);
            rotationStr = String(view.rotation);
        }
        view.lastViewpointToUpdateUrlParams = view.viewpoint ? view.viewpoint.clone() : null;
        view.lastViewpointUrlParamUpdateTimestamp = Date.now();
        const activeDatasourceId = jimuMapView.dataSourceId || null;
        const mapUrlHashParams = {
            active_datasource_id: activeDatasourceId,
            center: centerStr,
            scale: scaleStr,
            rotation: rotationStr,
            // if viewpointStr is null, UrlManager will remove it from url
            viewpoint: viewpointStr
        };
        // console.log('setWidgetUrlParams', Date.now())
        urlManager.setWidgetUrlParams(jimuMapView.mapWidgetId, mapUrlHashParams);
    }
}
/**
 * Get changed viewpoint by view and url hash params.
 * Return null if viewpoint not changed.
 * @param view
 * @param runtimeUrlHashParams
 * @param parseViewpoint
 * @param parseCenter
 * @param parseScale
 * @param parseRotation
 * @param Viewpoint
 * @param Point
 * @param SpatialReference
 * @returns
 */
function getChangedViewpointByViewAndUrlHashParams(view, runtimeUrlHashParams, parseViewpoint, parseCenter, parseScale, parseRotation, Viewpoint, Point, SpatialReference) {
    var _a;
    let result = null;
    const currViewpoint = (_a = view.viewpoint) === null || _a === void 0 ? void 0 : _a.clone();
    const is2D = view.type === '2d';
    if (!is2D) {
        parseCenter = false;
        parseScale = false;
        parseRotation = false;
    }
    const urlParamsMapOptions = getMapOptionsByUrlHashParams(runtimeUrlHashParams, is2D, Viewpoint, Point, SpatialReference);
    if (urlParamsMapOptions) {
        if (!parseViewpoint) {
            delete urlParamsMapOptions.viewpoint;
        }
        if (!parseCenter) {
            delete urlParamsMapOptions.center;
        }
        if (!parseScale) {
            delete urlParamsMapOptions.scale;
        }
        if (!parseRotation) {
            delete urlParamsMapOptions.rotation;
        }
        if (Object.keys(urlParamsMapOptions).length > 0) {
            if (is2D) {
                result = urlParamsMapOptions.viewpoint || currViewpoint;
                if (result) {
                    if (urlParamsMapOptions.center) {
                        result.targetGeometry = urlParamsMapOptions.center;
                    }
                    if ('scale' in urlParamsMapOptions) {
                        result.scale = urlParamsMapOptions.scale;
                    }
                    if ('rotation' in urlParamsMapOptions) {
                        result.rotation = urlParamsMapOptions.rotation;
                    }
                }
            }
            else {
                result = urlParamsMapOptions.viewpoint;
            }
        }
    }
    return result;
}
function getMapOptionsByUrlHashParams(runtimeUrlHashParams, is2D, Viewpoint, Point, SpatialReference) {
    let result = {};
    let viewpoint = null;
    let center = null;
    let scale = null;
    let rotation = null;
    if (runtimeUrlHashParams) {
        // parse viewpoint
        try {
            if (runtimeUrlHashParams.viewpoint) {
                const viewpointJson = JSON.parse(runtimeUrlHashParams.viewpoint);
                if (viewpointJson) {
                    viewpoint = Viewpoint.fromJSON(viewpointJson);
                }
            }
        }
        catch (e) {
            console.error('parse viewpoint from url hash params error', e);
            viewpoint = null;
        }
        // only support center, scale and rotation for MapView
        if (is2D) {
            // parse center
            // center format: x,y,wkid
            try {
                if (runtimeUrlHashParams.center) {
                    const splits = runtimeUrlHashParams.center.split(',');
                    if (splits.length >= 3) {
                        const x = parseFloat(splits[0]);
                        const y = parseFloat(splits[1]);
                        const wkid = parseFloat(splits[2]);
                        if (isValidNum(x) && isValidNum(y) && isValidNum(wkid)) {
                            const spatialReference = new SpatialReference({
                                wkid
                            });
                            center = new Point({
                                x,
                                y,
                                spatialReference
                            });
                        }
                    }
                }
            }
            catch (e) {
                console.error('parse center from url hash params error', e);
                center = null;
            }
            // parse scale
            try {
                if ('scale' in runtimeUrlHashParams) {
                    const scaleNum = parseFloat(runtimeUrlHashParams.scale);
                    if (isValidNum(scaleNum) && scaleNum >= 0) {
                        scale = scaleNum;
                    }
                }
            }
            catch (e) {
                scale = null;
                console.error('parse scale from url hash params error', e);
            }
            // parse rotation
            try {
                if ('rotation' in runtimeUrlHashParams) {
                    const rotationNum = parseFloat(runtimeUrlHashParams.rotation);
                    if (isValidNum(rotationNum) && rotationNum >= 0 && rotationNum <= 360) {
                        rotation = rotationNum;
                    }
                }
            }
            catch (e) {
                rotation = null;
                console.error('parse rotation from url hash params error', e);
            }
        }
    }
    if (viewpoint) {
        result.viewpoint = viewpoint;
    }
    // only support center, scale and rotation for MapView
    if (is2D) {
        if (center) {
            result.center = center;
        }
        if (isValidNum(scale)) {
            result.scale = scale;
        }
        if (isValidNum(rotation)) {
            result.rotation = rotation;
        }
    }
    if (Object.keys(result).length === 0) {
        result = null;
    }
    return result;
}
function isValidNum(value) {
    return typeof value === 'number' && !isNaN(value);
}


/***/ }),

/***/ "./your-extensions/widgets/map-unscrollable/src/version-manager.ts":
/*!*************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/version-manager.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   versionManager: () => (/* binding */ versionManager)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class VersionManager extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.BaseVersionManager {
    constructor() {
        super(...arguments);
        this.versions = [{
                version: '1.10.0',
                description: '1.10.0',
                upgrader: (oldConfig) => {
                    let newConfig;
                    if (oldConfig.toolConifg) {
                        // fix typo for 'toolConifg'
                        newConfig = jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable.without(oldConfig, 'toolConifg');
                        newConfig = newConfig.set('toolConfig', oldConfig.toolConifg);
                    }
                    return newConfig;
                }
            }];
    }
}
const versionManager = new VersionManager();


/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************************************************************!*\
  !*** ./your-extensions/widgets/map-unscrollable/src/runtime/widget.tsx ***!
  \*************************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/multisourcemap */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var _components_default_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/default-map */ "./your-extensions/widgets/map-unscrollable/src/runtime/components/default-map.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./your-extensions/widgets/map-unscrollable/src/runtime/utils.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _version_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../version-manager */ "./your-extensions/widgets/map-unscrollable/src/version-manager.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./translations/default */ "./your-extensions/widgets/map-unscrollable/src/runtime/translations/default.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */









class Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.multiSourceMapInstance = null;
        this.activeJimuMapView = null;
        this.watchSelectedFeatureHandle = null;
        this.dataActionListContainer = null;
        this.reactiveUtils = null;
        this.popupDomNodeObserver = null;
        this.mapClicked = false; // Add a flag to track if the map is clicked
        this.handleClickOutsideMap = (e) => {
            if (this.container.contains(e.target)) {
                this.mapClicked = true; // Set the flag to true if the map is clicked
                document.removeEventListener('click', this.handleClickOutsideMap);
            }
        };
        this.enableMapScrolling = () => {
            if (this.activeJimuMapView) {
                this.activeJimuMapView.view.container.style.touchAction = 'auto';
                this.activeJimuMapView.view.navigation.mouseWheelZoomEnabled = true;
                document.addEventListener('click', this.disableMapScrolling);
            }
        };
        this.disableMapScrolling = (e) => {
            if (this.activeJimuMapView.view && !this.container.contains(e.target)) {
                this.activeJimuMapView.view.container.style.touchAction = 'none';
                this.activeJimuMapView.view.navigation.mouseWheelZoomEnabled = false;
                document.removeEventListener('click', this.disableMapScrolling);
            }
        };
        this.startRenderMap = () => {
            setTimeout(() => {
                this.setState({
                    startLoadModules: true
                });
            }, 100);
        };
        this.getPlaceHolderImage = () => {
            let placeHolderImage = this.props.config.placeholderImage;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getMainSession();
            if (placeHolderImage) {
                // eslint-disable-next-line
                const isPortalThumbExp = new RegExp('^(.)+/sharing/rest/content/items/(.)+/info/(.)+');
                if (isPortalThumbExp.test(placeHolderImage)) {
                    if (session) {
                        placeHolderImage = placeHolderImage + `?token=${session.token}`;
                    }
                    else {
                        // eslint-disable-next-line no-self-assign
                        placeHolderImage = placeHolderImage;
                    }
                }
            }
            return placeHolderImage;
        };
        this.fullScreenHanlder = (event) => {
            if (!document.fullscreenElement && !document.webkitFullscreenElement) {
                this.setState({
                    isFullScreen: false
                });
            }
        };
        this.fullScreenMap = () => {
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isTouchDevice()) {
                // is touch device
                if (this.container.style.position === 'fixed') {
                    this.container.style.height = `${this.containerClientRect.height}px`;
                    this.container.style.width = `${this.containerClientRect.width}px`;
                    this.container.style.top = `${this.containerClientRect.top}px`;
                    this.container.style.left = `${this.containerClientRect.left}px`;
                    setTimeout(() => {
                        this.container.style.transition = null;
                        this.container.style.position = 'relative';
                        this.container.style.height = '100%';
                        this.container.style.width = '100%';
                        this.container.style.top = '0';
                        this.container.style.left = '0';
                        this.container.style.backgroundColor = 'none';
                        this.parentContainer.appendChild(this.container);
                        this.setState({
                            isFullScreen: false
                        });
                    }, 100);
                }
                else {
                    const clientRect = this.container.getBoundingClientRect();
                    this.containerClientRect = clientRect;
                    this.container.style.height = `${clientRect.height}px`;
                    this.container.style.width = `${clientRect.width}px`;
                    this.container.style.position = 'fixed';
                    this.container.style.top = `${clientRect.top}px`;
                    this.container.style.left = `${clientRect.left}px`;
                    this.container.style.zIndex = '1';
                    document && document.body.appendChild(this.container);
                    setTimeout(() => {
                        this.container.style.transition = 'top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s';
                        this.container.style.top = '0px';
                        this.container.style.left = '0px';
                        this.container.style.right = '0px';
                        this.container.style.bottom = '0px';
                        this.container.style.height = null;
                        this.container.style.width = null;
                        this.container.style.backgroundColor = '#fff';
                        this.setState({
                            isFullScreen: true
                        });
                    }, 100);
                }
            }
            else {
                const element = this.container;
                if (!document) {
                    return;
                }
                document.addEventListener('webkitfullscreenchange', this.fullScreenHanlder);
                document.addEventListener('fullscreenchange', this.fullScreenHanlder);
                if (document.fullscreenElement === element) {
                    document.exitFullscreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                if (document.webkitFullscreenElement === element) {
                    document.webkitCancelFullScreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                const requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;
                if (requestMethod) {
                    this.setState({
                        isFullScreen: true
                    });
                    requestMethod.call(element);
                }
                else if (typeof window.ActiveXObject !== 'undefined') {
                    const wscript = new ActiveXObject('WScript.Shell');
                    if (wscript !== null) {
                        wscript.SendKeys('{F11}');
                    }
                }
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (viewGroup) {
                viewGroup.setMapWidgetInstance(this);
            }
        };
        this.onJimuMapViewCreated = (jimuMapView) => {
            jimuMapView.setMapWidgetState(this.props.state);
            this.setShowPopupUponSelectionForJimuMapView(jimuMapView);
            const mapContainer = this.container;
            if (mapContainer) {
                mapContainer.addEventListener('click', this.enableMapScrolling);
            }
        };
        this.onActiveJimuMapViewChange = (jimuMapView) => {
            this.activeJimuMapView = jimuMapView;
            this.watchPopupSelectedFeatureChange();
        };
        this.switchMap = (ignoreSwitchAnimation = false) => __awaiter(this, void 0, void 0, function* () {
            if (this.multiSourceMapInstance) {
                return yield this.multiSourceMapInstance.switchMap(ignoreSwitchAnimation);
            }
            else {
                yield Promise.resolve();
            }
        });
        this.setMultiSourceMapInstance = (instance) => {
            this.multiSourceMapInstance = instance;
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            if (width <= 545 && width > 0) {
                this.setState({
                    widthBreakpoint: 'xsmall',
                    widgetHeight: height
                });
            }
            else {
                this.setState({
                    widthBreakpoint: 'other',
                    widgetHeight: height
                });
            }
        };
        this.isLoadingDisplayed = () => {
            var _a;
            const addToMapDatas = ((_a = this.props.mutableStateProps) === null || _a === void 0 ? void 0 : _a.addToMapDatas) || {};
            return Object.values(addToMapDatas).some(value => (value === null || value === void 0 ? void 0 : value.dataChangeStatus) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.DataChangeStatus.Pending);
        };
        this.isWarningDisplayed = () => {
            var _a;
            const addToMapDatas = ((_a = this.props.mutableStateProps) === null || _a === void 0 ? void 0 : _a.addToMapDatas) || {};
            return Object.values(addToMapDatas).some(value => (value === null || value === void 0 ? void 0 : value.dataChangeStatus) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.DataChangeStatus.Rejected);
        };
        this.getInnerContent = (isMapInVisibleArea) => {
            if (!this.state.startLoadModules) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-map w-100 h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' }))));
            }
            else {
                if (!(this.props.useDataSources && this.props.useDataSources[0] && this.props.useDataSources[0].dataSourceId)) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_default_map__WEBPACK_IMPORTED_MODULE_2__["default"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, isDefaultMap: true, setMultiSourceMapInstance: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, onJimuMapViewCreated: this.onJimuMapViewCreated, onActiveJimuMapViewChange: this.onActiveJimuMapViewChange, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea, autoControlWidgetId: this.props.autoControlWidgetId })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
                else {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, this.props.useDataSources.length >= 1 &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__["default"], { key: 1, fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, onJimuMapViewCreated: this.onJimuMapViewCreated, onActiveJimuMapViewChange: this.onActiveJimuMapViewChange, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea, autoControlWidgetId: this.props.autoControlWidgetId })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
            }
        };
        this.warningIcon = `<svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.09926 5.37004C7.04598 4.83729 7.46434 4.375 7.99975 4.375C8.53516 4.375 8.95353 4.83728 8.90025 5.37004L8.5495 8.87748C8.52126 9.15992 8.2836 9.375 7.99975 9.375C7.71591 9.375 7.47825 9.15992 7.45 8.87748L7.09926 5.37004Z" fill="#938500"/>
                        <path d="M7.99975 12.375C8.55204 12.375 8.99975 11.9273 8.99975 11.375C8.99975 10.8227 8.55204 10.375 7.99975 10.375C7.44747 10.375 6.99975 10.8227 6.99975 11.375C6.99975 11.9273 7.44747 12.375 7.99975 12.375Z" fill="#938500"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.66642 14.375C0.9115 14.375 0.428811 13.5705 0.784067 12.9044L7.1174 1.02941C7.49387 0.323529 8.50564 0.323529 8.88211 1.02941L15.2154 12.9044C15.5707 13.5705 15.088 14.375 14.3331 14.375H1.66642ZM1.66642 13.375L7.99975 1.5L14.3331 13.375H1.66642Z" fill="#938500"/>
                        </svg>`;
        this.state = {
            widthBreakpoint: null,
            widgetHeight: null,
            isFullScreen: false,
            dataActionDataSet: null
        };
        this.dataActionListContainer = document.createElement('div');
        this.dataActionListContainer.className = 'data-action-list-wrapper';
        this.loadReactiveUtils();
    }
    getWidgetSyle() {
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      .map-loading-bar {
        z-index: 8;
      }

      .map-warning-bar {
        z-index: 8;
        position: absolute;
        bottom: 4px;
        left: 4px;
        right: 4px;
        height: 35px;
        background: #fffdeb;
        border: 1px solid #fff592;
        display: flex;
        align-items: center;
        justify-content: flex-start;

        .warning-icon {
          width: 14px;
          margin: 0 12px 0 12px;
        }
      }

      .map-fix-layout {
        position: absolute !important;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        z-index: 7;
        pointer-events: none;
      }

      .hide-map-tools-layout .map-tool-layout{
        display: none;
      }

      .esri-view-root > .esri-ui {
        z-index: unset;
      }

      .esri-ui-manual-container .esri-swipe {
        z-index: 0;
      }

      .esri-ui .esri-popup {
        z-index: 9;
      }

      .data-action-list-wrapper {
        margin: 3px;
      }
    `;
    }
    getStyle() {
        const theme = this.props.theme;
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
      position: relative;

      .map-is-live-mode {
        .exbmap-ui {
          pointer-events: auto !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map-usemask {
        pointer-events: auto !important;
      }

      .map-is-design-mode {
        .exbmap-ui,
        .exbmap-ui-tool {
          pointer-events: none !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map{
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        z-index: -1;
        .overview-container{
          position: absolute;
          top: 12px;
          right: 12px;
          width: 300px;
          height: 200px;
          border: 1px solid black;
          z-index: 1;
        }

        .extent-container{
          background-color: rgba(0, 0, 0, 0.5);
          position: absolute;
          z-index: 2;
        }

        .extent-btn-container{
          button{
            outline: none;
          }
          .previous-extent-btn{
            color: #111;
          }
          .next-extent-btn{
            color: #222;
          }
        }
      }

      .mapswitch-container {
        position: absolute;
        z-index: 7;
        width: 32px;
        height: 32px;
        bottom: 10px;
        left: 10px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)
      }

      .mapswitch-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .widget-map-background {
        background-color: ${theme.colors.white};
        position: absolute;
        z-index: 1;
      }

      .widget-map-crashed {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.white, 0.85)};
        position: absolute;
        z-index: 1;
        top: 0;

        .widget-map-crashed-label-padding {
          padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
          padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
        }

        .widget-map-crashed-label {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
          color: ${theme.colors.black};
          font-weight: bold;
          text-align: center;
        }
      }

      @keyframes appear {
        0%{opacity:0}
        25%{opacity:.25}
        50%{opacity:.5;}
        75%{opacity:.75}
        100%{opacity:1;}
      }

      @keyframes disappear {
        0%{opacity:1}
        25%{opacity:.75}
        50%{opacity:.5;}
        75%{opacity:.25}
        100%{opacity:0;}
      }

      .multisourcemap-item-appear {
        animation: appear 300ms;
        -webkit-animation: appear 300ms;
        -moz-animation: appear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-disappear {
        animation: disappear 300ms;
        -webkit-animation: disappear 300ms;
        -moz-animation: disappear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-appear-noanimate {
        opacity: 1;
      }

      .multisourcemap-item-disappear-noanimate {
        opacity: 0;
      }
      `;
    }
    componentDidMount() {
        document.addEventListener('click', this.handleClickOutsideMap);
        if (!this.state.startLoadModules) {
            if (window.jimuConfig.isInBuilder || !this.props.config.canPlaceHolder) {
                this.startRenderMap();
            }
        }
    }
    componentDidUpdate(prevProps, prevState) {
        var _a, _b, _c;
        // check if props.state changed or not
        const preWidgetState = prevProps.state;
        const currWidgetState = this.props.state;
        if (preWidgetState !== currWidgetState) {
            const jimuMapViews = this.getJimuMapViews();
            jimuMapViews.forEach((jimuMapView) => {
                jimuMapView.setMapWidgetState(currWidgetState);
            });
        }
        // check if props.config.showPopupUponSelection changed or not
        const preShowPopupUponSelection = !!((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.config) === null || _a === void 0 ? void 0 : _a.showPopupUponSelection);
        const curShowPopupUponSelection = !!((_c = (_b = this.props) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.showPopupUponSelection);
        if (preShowPopupUponSelection !== curShowPopupUponSelection) {
            const jimuMapViews = this.getJimuMapViews();
            jimuMapViews.forEach((jimuMapView) => {
                this.setShowPopupUponSelectionForJimuMapView(jimuMapView);
            });
        }
        // check if props.enableDataAction changed or not
        const preEnableDataAction = prevProps === null || prevProps === void 0 ? void 0 : prevProps.enableDataAction;
        const currEnableDataAction = this.props.enableDataAction;
        if (preEnableDataAction !== currEnableDataAction) {
            console.log('enableDataAction changed');
            this.handleDataActionWhenPopupSelectedFeatureChange(this.activeJimuMapView);
        }
    }
    componentWillUnmount() {
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        document.removeEventListener('webkitfullscreenchange', this.fullScreenHanlder);
        document.removeEventListener('fullscreenchange', this.fullScreenHanlder);
        document.removeEventListener('click', this.handleClickOutsideMap);
        if (!widgets[this.props.id]) {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.id, 'restoreData', null);
        }
    }
    getJimuMapViews() {
        let jimuMapViews = [];
        const jimuMapViewGroup = jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.MapViewManager.getInstance().getJimuMapViewGroup(this.props.id);
        if (jimuMapViewGroup) {
            jimuMapViews = jimuMapViewGroup.getAllJimuMapViews();
        }
        return jimuMapViews;
    }
    setShowPopupUponSelectionForJimuMapView(jimuMapView) {
        if (jimuMapView) {
            jimuMapView.setShowPopupUponSelection(!!this.props.config.showPopupUponSelection);
        }
    }
    getCurrentPopupSelectedFeature() {
        var _a, _b, _c;
        return (_c = (_b = (_a = this.activeJimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.popup) === null || _c === void 0 ? void 0 : _c.selectedFeature;
    }
    loadReactiveUtils() {
        return __awaiter(this, void 0, void 0, function* () {
            [this.reactiveUtils] = (yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.loadArcGISJSAPIModules)(['esri/core/reactiveUtils']));
            this.watchPopupSelectedFeatureChange();
        });
    }
    watchPopupSelectedFeatureChange() {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.watchSelectedFeatureHandle) {
                this.watchSelectedFeatureHandle.remove();
                this.watchSelectedFeatureHandle = null;
            }
            const activeJimuMapView = this.activeJimuMapView;
            if (!activeJimuMapView || !this.reactiveUtils) {
                return;
            }
            if (this.getCurrentPopupSelectedFeature()) {
                this.handleDataActionWhenPopupSelectedFeatureChange(activeJimuMapView);
            }
            this.watchSelectedFeatureHandle = this.reactiveUtils.watch(() => { var _a, _b; return (_b = (_a = activeJimuMapView === null || activeJimuMapView === void 0 ? void 0 : activeJimuMapView.view) === null || _a === void 0 ? void 0 : _a.popup) === null || _b === void 0 ? void 0 : _b.selectedFeature; }, () => __awaiter(this, void 0, void 0, function* () {
                this.handleDataActionWhenPopupSelectedFeatureChange(activeJimuMapView);
            }));
        });
    }
    handleDataActionWhenPopupSelectedFeatureChange(activeJimuMapView) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            const popup = (_a = activeJimuMapView === null || activeJimuMapView === void 0 ? void 0 : activeJimuMapView.view) === null || _a === void 0 ? void 0 : _a.popup;
            const originalSelectedFeature = popup === null || popup === void 0 ? void 0 : popup.selectedFeature;
            // firstly, we need to remove dataActionListContainer from popup domNode,
            // when state.dataActionDataSet is ready, we can add dataActionListContainer to popup domNode
            if (this.dataActionListContainer.parentNode) {
                this.dataActionListContainer.parentNode.removeChild(this.dataActionListContainer);
            }
            this.releasePopupDomNodeObserver();
            yield this.updateDataActionDataSet(null);
            const isDataActionEnabled = this.isDataActionEnabled();
            if (isDataActionEnabled && originalSelectedFeature) {
                const dataActionDataSet = yield this.getDataActionDataSet(activeJimuMapView, originalSelectedFeature);
                // getDataActionDataSet may take a long time, so we need to check should we go on or not
                if (this.getCurrentPopupSelectedFeature() !== originalSelectedFeature) {
                    return;
                }
                yield this.updateDataActionDataSet(dataActionDataSet);
                if (this.getCurrentPopupSelectedFeature() !== originalSelectedFeature) {
                    return;
                }
                this.watchPopupDomNodeChange(popup);
            }
        });
    }
    updateDataActionDataSet(dataActionDataSet) {
        return new Promise((resolve) => {
            this.setState({
                dataActionDataSet
            }, () => {
                resolve();
            });
        });
    }
    releasePopupDomNodeObserver() {
        if (this.popupDomNodeObserver) {
            this.popupDomNodeObserver.disconnect();
            this.popupDomNodeObserver = null;
        }
    }
    watchPopupDomNodeChange(popup) {
        this.releasePopupDomNodeObserver();
        const popupDomNode = (popup.domNode || popup.container);
        this.tryAppendDataActionListDomNodeToPopup(popupDomNode);
        const config = {
            childList: true,
            subtree: true
        };
        const callback = (mutationsList) => {
            for (const mutation of mutationsList) {
                if (mutation.type === 'childList') {
                    this.tryAppendDataActionListDomNodeToPopup(popupDomNode);
                }
            }
        };
        const observer = new MutationObserver(callback);
        observer.observe(popupDomNode, config);
        this.popupDomNodeObserver = observer;
    }
    tryAppendDataActionListDomNodeToPopup(popupDomNode) {
        const selector = 'calcite-action-bar[slot="action-bar"]';
        const popupActionsContainer = popupDomNode.querySelector(selector);
        if (popupActionsContainer && !popupActionsContainer.contains(this.dataActionListContainer)) {
            // this.dataActionListContainer is not in popup
            if (this.state.dataActionDataSet) {
                // DataActionList domNode is ready, we can add it to popup domNode now
                if (this.dataActionListContainer.parentNode) {
                    this.dataActionListContainer.parentNode.removeChild(this.dataActionListContainer);
                }
                // append this.dataActionListContainer into popupActionsContainer as the first child
                if (popupActionsContainer.firstChild) {
                    popupActionsContainer.insertBefore(this.dataActionListContainer, popupActionsContainer.firstChild);
                }
                else {
                    popupActionsContainer.appendChild(this.dataActionListContainer);
                }
            }
        }
    }
    getDataActionDataSet(jimuMapView, selectedFeature) {
        return __awaiter(this, void 0, void 0, function* () {
            let jimuLayerView = null;
            // If the selectedFeature is from JimuLayerView selection, we can get the jimuLayerViewId.
            // See JimuFeatureLayerView.getSelectedFeatures() for more details.
            const jimuLayerViewId = selectedFeature.jimuLayerViewId;
            if (jimuLayerViewId) {
                jimuLayerView = jimuMapView.jimuLayerViews[jimuLayerViewId];
            }
            // If jimuLayerView is still null, means the selectedFeature comes from clicking map, we can try to find the jimuLayerView by layer.
            if (!jimuLayerView) {
                const allJimuLayerViews = Object.values(jimuMapView.jimuLayerViews);
                if (selectedFeature.layer) {
                    jimuLayerView = allJimuLayerViews.find(item => item.layer === selectedFeature.layer);
                }
                if (!jimuLayerView) {
                    // If the selected feature commes from esri.layers.support.Sublayer, then the selectedFeature.layer is null and selectedFeature.sourceLayer is not null.
                    const sourceLayer = selectedFeature.sourceLayer;
                    if (sourceLayer) {
                        jimuLayerView = allJimuLayerViews.find(item => item.layer === sourceLayer);
                    }
                }
            }
            if (!jimuLayerView) {
                return null;
            }
            let layerDataSource = jimuLayerView.getLayerDataSource();
            if (!layerDataSource) {
                layerDataSource = yield jimuLayerView.createLayerDataSource();
            }
            if (layerDataSource) {
                const sourceLabel = layerDataSource.getLabel() || '';
                const stringKey = 'mapCurrentRecord';
                const dataSetName = this.props.intl.formatMessage({ id: stringKey, defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"][stringKey] }, { layerName: sourceLabel });
                const record = layerDataSource.buildRecord(selectedFeature);
                const dataSet = {
                    dataSource: layerDataSource,
                    name: dataSetName,
                    type: 'current',
                    records: [record]
                };
                return dataSet;
            }
            return null;
        });
    }
    isDataActionEnabled() {
        // By default, this.props.enableDataAction is undefined, which means enabled.
        // eslint-disable-next-line @typescript-eslint/no-unnecessary-boolean-literal-compare
        return this.props.enableDataAction !== false;
    }
    renderDataActionList() {
        const isDataActionEnabled = this.isDataActionEnabled();
        if (isDataActionEnabled && this.state.dataActionDataSet) {
            // render the DataActionList into this.dataActionListContainer, so we can append it to popup domNode
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.DataActionList, { widgetId: this.props.id, dataSets: [this.state.dataActionDataSet], disableDataSourceLevelActions: true, listStyle: jimu_ui__WEBPACK_IMPORTED_MODULE_7__.DataActionListStyle.Dropdown, hideGroupTitle: true }), this.dataActionListContainer);
        }
        return null;
    }
    render() {
        const dataActionList = this.renderDataActionList();
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'jimu-widget arcgis-map', css: this.getWidgetSyle() },
            this.isLoadingDisplayed() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Loading, { className: 'map-loading-bar', type: jimu_ui__WEBPACK_IMPORTED_MODULE_7__.LoadingType.Bar }),
            this.isWarningDisplayed() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'map-warning-bar' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { className: 'warning-icon', icon: this.warningIcon, size: 26, currentColor: false }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'failToAddTheDataOnMap', defaultMessage: 'Fail to add the data.' }))),
            dataActionList,
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.PageVisibilityContext.Consumer, null, (isPageVisible) => {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.ViewportVisibilityContext.Consumer, null, (isVisibleInViewPort) => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.ViewVisibilityContext.Consumer, null, (viewVisibilityContextProps) => {
                        // isPageVisible:
                        // App can have page1, page2, isPageVisible is used to judge whether the current page is visible.
                        // isVisibleInViewPort:
                        // When scrolling the scroll page, the widget may be scrolled out of the current viewport,
                        // isVisibleInViewPort is used to determine whether the current widget is in the viewport of the browser.
                        // isPrintPreview
                        // isPrintPreview is used to determine whether it is currently in browser printing mode.
                        // isVisibleInView:
                        // The widget is ultimately placed in a view in a layout. It is possible that we have a section with multiple views in it, similar to tabs.
                        // isVisibleInView is used to determine whether the widget is in the currently visible view.
                        const isVisibleInView = viewVisibilityContextProps.isInView ? viewVisibilityContextProps.isInCurrentView : true;
                        // isMapInVisibleArea:
                        // isMapInVisibleArea is used to finally determine whether the dom of the map is visible to the user.
                        // Here we use (isVisibleInViewPort || this.props.isPrintPreview), not only isVisibleInViewPort, consider the following case.
                        // Case:
                        // We create a scroll page with map. We scroll the page and the map is not visible for user.
                        // User wants to print the scroll page, including the map (even the map is not visible).
                        // Then the user enables print view mode by a button. Now, isVisibleInViewPort is false and this.props.isPrintPreview is true.
                        // We need to make sure the map widget is visible (let isMapInVisibleArea be true) when in print view mode, otherwise the print result will lose map.
                        // So we use (isVisibleInViewPort || this.props.isPrintPreview), instead of this.props.isPrintPreview.
                        const isMapInVisibleArea = isPageVisible && (isVisibleInViewPort || this.props.isPrintPreview) && isVisibleInView;
                        return this.getInnerContent(isMapInVisibleArea);
                    }));
                }));
            })));
    }
}
Widget.versionManager = _version_manager__WEBPACK_IMPORTED_MODULE_6__.versionManager;
Widget.mapExtraStateProps = (state, props) => {
    var _a, _b, _c;
    let autoControlWidgetId = '';
    const mapWidgetId = props.id;
    if (state.mapWidgetsInfo && mapWidgetId) {
        autoControlWidgetId = ((_a = state.mapWidgetsInfo[mapWidgetId]) === null || _a === void 0 ? void 0 : _a.autoControlWidgetId) || '';
    }
    const appMode = state && state.appRuntimeInfo && state.appRuntimeInfo.appMode;
    const isRunAppMode = appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run;
    let runtimeUrlHashParams = null;
    if (isRunAppMode && state.urlHashObject) {
        runtimeUrlHashParams = state.urlHashObject[mapWidgetId];
    }
    // MapView.timeZone
    let mapTimeZone = '';
    const timeZoneInfo = (_c = (_b = state.appConfig) === null || _b === void 0 ? void 0 : _b.attributes) === null || _c === void 0 ? void 0 : _c.timezone;
    if (timeZoneInfo) {
        // user sets timeZone info in ExB
        if (timeZoneInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.TimezoneConfig.Device) {
            mapTimeZone = 'system';
        }
        else if (timeZoneInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.TimezoneConfig.Specific) {
            mapTimeZone = timeZoneInfo.value;
        }
        else if (timeZoneInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.TimezoneConfig.Data) {
            // set mapTimeZone to empty, means we need to uses MapViewer's timeZone
            mapTimeZone = '';
        }
    }
    else {
        // if user doesn't set timeZone info in ExB, we should use 'system' for compatibility
        mapTimeZone = 'system';
    }
    return {
        appMode: appMode,
        isPrintPreview: state.appRuntimeInfo.isPrintPreview,
        queryObject: state.queryObject,
        autoControlWidgetId,
        isRunAppMode,
        runtimeUrlHashParams,
        mapTimeZone
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Widget);
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL2Rpc3QvcnVudGltZS93aWRnZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBNkM7QUFFYztBQUVwRCxNQUFNLG9CQUFvQixHQUFHLENBQUMsS0FBd0IsRUFBRSxFQUFFO0lBQy9ELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHO0lBQ3RCLE1BQU0sRUFBRSxTQUFTLEtBQWdCLEtBQUssRUFBaEIsTUFBTSxVQUFLLEtBQUssRUFBaEMsYUFBd0IsQ0FBUTtJQUV0QyxNQUFNLE9BQU8sR0FBRyxxREFBVSxDQUFDLCtCQUErQixFQUFFLFNBQVMsQ0FBQztJQUN0RSxJQUFJLENBQUMsR0FBRztRQUFFLE9BQU8sa0ZBQUssU0FBUyxFQUFFLE9BQU8sSUFBTSxNQUFhLEVBQUk7SUFDL0QsT0FBTywyREFBQyxHQUFHLGtCQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLDZFQUFHLElBQU0sTUFBTSxFQUFJO0FBQzFELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1g0QztBQUVzQjtBQUU1RCxN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RUFBRSxDQUFDO1FBQ2pCLGlDQUFpQztRQUNqQyxJQUFJLFlBQVksQ0FBQyxJQUFJLEtBQUsscURBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNoRCxXQUFXLEdBQUcsUUFBUTtRQUN4QixDQUFDO2FBQU0sSUFBSSxZQUFZLENBQUMsSUFBSSxLQUFLLHFEQUFjLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDekQsV0FBVyxHQUFHLFlBQVksQ0FBQyxLQUFLO1FBQ2xDLENBQUM7YUFBTSxJQUFJLFlBQVksQ0FBQyxJQUFJLEtBQUsscURBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNyRCx1RUFBdUU7WUFDdkUsV0FBVyxHQUFHLEVBQUU7UUFDbEIsQ0FBQztJQUNILENBQUM7U0FBTSxDQUFDO1FBQ04scUZBQXFGO1FBQ3JGLFdBQVcsR0FBRyxRQUFRO0lBQ3hCLENBQUM7SUFFRCxPQUFPO1FBQ0wsT0FBTyxFQUFFLE9BQU87UUFDaEIsY0FBYyxFQUFFLEtBQUssQ0FBQyxjQUFjLENBQUMsY0FBYztRQUNuRCxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7UUFDOUIsbUJBQW1CO1FBQ25CLFlBQVk7UUFDWixvQkFBb0I7UUFDcEIsV0FBVztLQUNaO0FBQ0gsQ0FBQztpRUFyVWtCLE1BQU07QUErNEJuQixTQUFTLDJCQUEyQixDQUFDLEdBQUcsSUFBSSxxQkFBdUIsR0FBRyxHQUFHLEVBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1mYXQtbGVmdC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWZhdC1yaWdodC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9jbGVhci1zZWxlY3Rpb24tZ2VuZXJhbC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL2Fycm93LWRvd24taGVhZGVyLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9saWIvaWNvbnMvbW9yZS0xNi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL3dpZGdldHMuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9iYXNlbWFwLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvY2xvc2UtMTIuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9leGNoYW5nZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4aXQtZnVsbC1zY3JlZW4uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtZGlzdGFuY2Uuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VhcmNoLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1sYXNzby5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXJlY3RhbmdsZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC16b29tdG8uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctZmF0LWxlZnQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWZhdC1yaWdodC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL2NvbmZpZy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9jb21wb25lbnRzL2RlZmF1bHQtbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9jb21wb25lbnRzL21hcC10aHVtYi50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXBiYXNlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLXNoZWxsLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9iYXNlLXRvb2wudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL2dyb3VwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9wYW5lbC1zaGVsbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2Uvc2Nyb2xsLWNvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvdWktY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvbGF5b3V0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvbWFwLWZpeGVkLWxheW91dC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvbGF5b3V0L21vYmlsZS1sYXlvdXQtanNvbi50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS9sYXlvdXQvcGMtbGF5b3V0LWpzb24udHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvbGF5b3V0L3Rvb2wtbW9kdWxlcy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9hdHRyaWJ1dGlvbi50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvYmFzZW1hcC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvY2xlYXItYWN0aW9uLWRhdGEudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL2NvbXBhc3MudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL2V4dGVudC1uYXZpZ2F0ZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvZnVsbHNjcmVlbi50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvaG9tZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvbGF5ZXJzLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9sb2NhdGUudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL21hcHN3aXRjaC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvbWVhc3VyZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvbmF2aWdhdGlvbi50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2NhbGViYXIudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL3NlYXJjaC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvbWFwLXVuc2Nyb2xsYWJsZS9zcmMvcnVudGltZS90b29scy9zZWxlY3Qvc2VsZWN0LW1vYmlsZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wYy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wcm9ncmVzcy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdHN0YXRlL3NlbGVjdGVkLW51bWJlci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdG9vbHMvem9vbS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdHJhbnNsYXRpb25zL2RlZmF1bHQudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3J1bnRpbWUvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL21hcC11bnNjcm9sbGFibGUvc3JjL3ZlcnNpb24tbWFuYWdlci50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtYXJjZ2lzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtY29yZS9saWIvc2V0LXB1YmxpYy1wYXRoLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9tYXAtdW5zY3JvbGxhYmxlL3NyYy9ydW50aW1lL3dpZGdldC50c3giXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwNTA1MDVcXFwiIGQ9XFxcIm0xMi42ODcgOS4wNzQuMDczLS4xMzNhLjE0Ny4xNDcgMCAwIDAgLjAxNy0uMDc4bC0uMDEyLS4xNDJjLS4wMDItLjAzMy0uMDQyLS4wNTEtLjA2OC0uMDI4bC0uMjA1LjE3NWEuMDUuMDUgMCAwIDEtLjAxOS4wMWwtLjA5Mi4wMTdhLjA0Mi4wNDIgMCAwIDAtLjAzMy4wNTFsLjAxOS4wNzdhLjEzNS4xMzUgMCAwIDAgLjA5My4wOTdsLjA3LjAyYS4xMzQuMTM0IDAgMCAwIC4xNTctLjA2Nk0xMy44IDkuMzg5YS4xMy4xMyAwIDAgMCAuMDU4LS4wMTRsLjE0MS0uMDY5Yy4wMDIgMCAuMDAyIDAgLjAwMy4wMDJsLjEwNC4xM2MuMDA1LjAwNi4wMTMuMDEuMDIzLjAxaC4wNjlhLjAyOC4wMjggMCAwIDAgLjAyMy0uMDQ2bC0uMTA4LS4xNDEtLjA0Ny0uMDQtLjM4Mi0uMTkxLS4wOTIuMDM2aC0uMDd2LS4wMDFsLS4wMjYtLjA4NGEuMDI3LjAyNyAwIDAgMC0uMDI1LS4wMTloLS4wOTNhLjAyNy4wMjcgMCAwIDAtLjAyNy4wMjh2LjA4MmguMDZ2LjAyNGMwIC4wMy4wMjMuMDU1LjA1Mi4wNmwuMTM2LjAxNmguMDAxbC4wNzQuMDkzYy4wMjMuMDI4LjAxOS4wOTctLjAwNi4xMjV2LjAwMWguMTMxek0xMy44NzggNi43NzVsLS4wNDguMDQzYS4yOTQuMjk0IDAgMCAwLS4wOTQuMTg3LjI5OS4yOTkgMCAwIDEtLjA4Mi4xNzguNDk2LjQ5NiAwIDAgMS0uMjQ2LjEzNmwtLjAxOC4wMDQtLjA3Ni4wNjJzLS4wMjIuMTEgMCAuMTM1Yy4wMDkuMDEyLjA0OS4wMS4wNjEgMCAuMDE2LS4wMTIuMDE3LS4wOC4wMTctLjA4bC4yNDItLjA4N3MuMDYuMDguMDkuMDgzYy4wMTIuMDAyLjA0Mi0uMDEzLjA1LS4wMjUuMDMyLS4wNDUuMDY4LS4yMDguMDY4LS4yMDhhLjU0Ni41NDYgMCAwIDAgLjAyNC0uMTEzbC4wMTMtLjE0My4xMDgtLjAwNy4wNDMtLjA4Ny0uMTEyLS4wMTF6TTkuNDI3IDEwLjEyYS4xNDEuMTQxIDAgMCAwIC4yNDUgMHYtLjMzNGEuMTIyLjEyMiAwIDAgMC0uMTg3LS4xMDUuMTI1LjEyNSAwIDAgMC0uMDU4LjEwNXpNNi42OTggNC4zMTVsLjE0NC0uMDg0LjAwMi0uMDA2YS4wNjUuMDY1IDAgMCAwLS4wMjYtLjA4NS4wNjMuMDYzIDAgMCAwLS4wMzEtLjAwOGgtLjMyOGwtLjAzNS0uMDM4YS4yMTYuMjE2IDAgMCAwLS4xNTctLjA3NEw1Ljc3OCA0bC0uMDQ4LjAwOWEyLjM2MiAyLjM2MiAwIDAgMS0uMDQ4LjAwOWwtLjI4OS4xMjJhLjIwOS4yMDkgMCAwIDEtLjA3Ni4wMThsLS40NjQuMDIzYS4yMzIuMjMyIDAgMCAwLS4wOTkuMDI4bC0uMjYuMTQ4YS4wMy4wMyAwIDAgMC0uMDE1LjAyNC4wMy4wMyAwIDAgMCAuMDEyLjAyNmMuMDIuMDE1LjAxNC4wNDctLjAxLjA1M2wtLjIwMy4wNTFhLjAzLjAzIDAgMCAwLS4wMTkuMDQ0bC4wNjguMTEyYS4wMy4wMyAwIDAgMCAuMDIuMDE0bC4zNjQuMDYzYy4wNTYuMDEuMTA2LjA0LjE0LjA4NmwuMjUxLjMzMy4wNzQuMTAyYS4wOTQuMDk0IDAgMCAxLS4wMDcuMTE4bC0uMDU2LjA2YS4wOTMuMDkzIDAgMCAwLS4wMTUuMTA1bC4xODMuMzdhLjEzNC4xMzQgMCAwIDAgLjA4MS4wNjguMjIzLjIyMyAwIDAgMCAuMjc0LS4xNDJsLjA0OC0uMTM3YS4wOTcuMDk3IDAgMCAxIC4wNC0uMDVsLjIwNC0uMTc1YS4yNC4yNCAwIDAgMSAuMDg1LS4wNDZsLjMyLS4wODhhLjIyLjIyIDAgMCAwIC4xNDgtLjEzM2wuMTUxLS4zNzhhLjIyNy4yMjcgMCAwIDAtLjAwMS0uMTcybC0uMDMtLjA3YS4yMjcuMjI3IDAgMCAxIC4wOTctLjI4TTQuMDMgNC42NDNsLjA2MS0uMTFhLjIyMS4yMjEgMCAwIDEgLjA4OC0uMDg3bC41MDQtLjI4Mi0uMDU3LS4wNjYtLjU3Mi0uMDM1YS4yMDMuMjAzIDAgMCAwLS4wNS4wMDNsLS41NTcuMDlhLjIzMi4yMzIgMCAwIDAtLjEzNy4zNzdsLjEyNS4xNDhjLjA0My4wNTEuMTA3LjA4LjE3Mi4wOGguMjI0YS4yMjYuMjI2IDAgMCAwIC4xOTktLjExOE00LjY2NiA1LjY3MmwuMDUyLS4wNjFjLjAxMy0uMDE2LjAxLS4wNC0uMDA3LS4wNTFsLS4xNjItLjExNi0uNTY5LS40MjVhLjEzNy4xMzcgMCAwIDAtLjA4MS0uMDI3aC0uMjI0YS4xMzEuMTMxIDAgMCAwLS4wOTUuMDRsLS4xMTguMTE1YS4wMzQuMDM0IDAgMCAwLS4wMDMuMDQ3bC4wNjcuMDg1Yy4wMDYuMDEuMDE4LjAxNS4wMy4wMTRsLjA2NC0uMDA2YS4wMzUuMDM1IDAgMCAxIC4wMzguMDMzbC4wMDIuMDM4YzAgLjAwNSAwIC4wMS0uMDAyLjAxNmwtLjAzLjA3M2EuMDM2LjAzNiAwIDAgMCAuMDA2LjAzNmwuMDcuMDg0YS4wMzIuMDMyIDAgMCAwIC4wMjguMDEybC4wNjgtLjAwM2EuMDM1LjAzNSAwIDAgMCAuMDM0LS4wMzV2LS4xNDdjMC0uMDE5LjAxNC0uMDM0LjAzMi0uMDM1bC4wOTQtLjAwN2MuMDA4IDAgLjAxOC4wMDIuMDI0LjAwN2wuMTc0LjEzM2MuMDEzLjAxMS4wMTcuMDI5LjAxLjA0NGwtLjA1Ny4xMTZhLjAzMy4wMzMgMCAwIDEtLjAzLjAxOGwtLjA1NC4wMDRhLjAzNi4wMzYgMCAwIDAtLjAzMi4wMjcuMDM2LjAzNiAwIDAgMCAuMDMyLjA0NGwuMTE3LjAwOWMuMDI0LjAwMS4wNDguMDEuMDY5LjAyNGwuMjA2LjE0NmMuMDE0LjAxLjAzLjAwOC4wNDMtLjAwM2wuMDY1LS4wNTVhLjAzLjAzIDAgMCAwIC4wMTEtLjAxOGwuMDIxLS4wODNhLjAzNS4wMzUgMCAwIDAtLjAwNC0uMDI5bC0uMDctLjExLjAyMi0uMDA0YS4wMzcuMDM3IDAgMCAxIC4wMjQuMDA0bC4wOTEuMDU0YS4wMzUuMDM1IDAgMCAwIC4wNDQtLjAwOE0yLjA4IDUuMTM3aC4wN2wuMTA0LjE0NmMuMDE0LjAxOC4wMy4wMzMuMDUuMDQ0bC4xMzYuMDY4Yy4wMTguMDEuMDQuMDE1LjA2MS4wMTVoLjQyMlY1LjI3bC0uMTU2LS4wNTYtLjE4LS4wOTdBLjE0LjE0IDAgMCAxIDIuNTIgNS4xbC0uMjg4LS4xNjZhLjEzLjEzIDAgMCAwLS4wNjctLjAxOGgtLjE3M2EuMTM2LjEzNiAwIDAgMC0uMTMuMDk1bC0uMDE0LjA0N2EuMTQuMTQgMCAwIDAgLjAzMy4xNGwuMDYxLjA2MmguMTM4ek0yLjY3OSA1LjAyMmwuMTEtLjA1OGEuMTM5LjEzOSAwIDAgMSAuMDYzLS4wMTVoLjA2Yy4wNTIgMCAuMS4wMy4xMjMuMDc4bC4wNDQuMDkydi4wOTRoLS4ydi0uMTJsLS4wODQtLjA0My0uMS4wMDN6TTMuMDYxIDQuOTVsLjEuMTY0LjA4LjA0N2guMTE1bC4xMTYtLjEyNC0uMDg4LS4xMTYtLjIyNS4wMjh6TTIuNDE0IDQuNjk4bC4xNTguMDU3YS4xMi4xMiAwIDAgMSAuMDMuMDE1bC4xMDkuMDczYy4wMTguMDEyLjAzOC4wMi4wNi4wMjFsLjIuMDItLjAyNC0uMTI0LS4yMzgtLjEzMmEuMTQuMTQgMCAwIDAtLjA2NS0uMDE3aC0uMTIyek03LjQ2IDUuNzEybC4wNTguMDkyYS4wMjUuMDI1IDAgMCAxLS4wMDEuMDI4bC0uMDQ0LjA2Yy0uMDA0LjAwOC0uMDA3LjAxNi0uMDA0LjAyMmwuMDE3LjA2MWEuMDIuMDIgMCAwIDAgLjAwOC4wMTJsLjA5Mi4wNzJjLjA2My4wNDguMDcuMTQxLjAxNy4ybC0uMDAxLjAwMmEuMTM4LjEzOCAwIDAgMS0uMTAxLjA0NmgtLjExYS4wMjUuMDI1IDAgMCAxLS4wMjQtLjAzMWwuMDI4LS4xMWEuMDIzLjAyMyAwIDAgMSAuMDE0LS4wMTdsLjA0OS0uMDI0Yy4wMS0uMDA0LjAxNS0uMDE1LjAxMy0uMDI2bC0uMDAyLS4wM2EuMDI2LjAyNiAwIDAgMC0uMDItLjAyMWwtLjA3MS0uMDE1YS4wMjQuMDI0IDAgMCAwLS4wMjcuMDE0bC0uMDE2LjAzNXYuMDAybC0uMDAxLjAwMi0uMDM1LjExOGMtLjAwMy4wMTEtLjAxMy4wMTgtLjAyNC4wMThsLS4xMS0uMDAzYS4wMjQuMDI0IDAgMCAxLS4wMTgtLjAwNy4wMjQuMDI0IDAgMCAxLS4wMDctLjAxN3YtLjEyN2MwLS4wMTMuMDExLS4wMjQuMDI0LS4wMjRsLjA1OC0uMDAyYy4wMDggMCAuMDE0LS4wMDQuMDItLjAxbC4wNTMtLjA3OUEuMDI3LjAyNyAwIDAgMCA3LjMgNS45NFY1LjgyYzAtLjAwOC4wMDQtLjAxNS4wMS0uMDE5bC4xMTUtLjA5NGEuMDI0LjAyNCAwIDAgMSAuMDM3LjAwNVxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwNTA1MDVcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE1LjA3MyA1LjFIMTQuN2EuMDQyLjA0MiAwIDAgMS0uMDQtLjAzbC0uMzU4LS4wNjlhLjE2MS4xNjEgMCAwIDEtLjA4OC0uMDI3bC0uMDgxLS4wNTVhLjE2LjE2IDAgMCAwLS4wODgtLjAyN3MtLjgzMi0uNDMtMS45MjItLjM4OGMtLjQxLjAxNi0uNzcuMjIyLS43Ny4yMjJhLjAzMy4wMzMgMCAwIDAtLjAyLjAyNmwtLjAwNC4wMzRhLjAzMy4wMzMgMCAwIDEtLjAzMy4wMjhsLS4xNjQtLjAwNGEuMDMzLjAzMyAwIDAgMC0uMDM0LjAzMmwtLjQ1OS4wMTZjLS4wNCAwLS4wNzcuMDItLjEuMDUzbC0uMDQxLjA2Yy0uMDMuMDQ1LS40NDEuMDYtLjQ0MS4wNmEuMDYuMDYgMCAwIDEtLjAzNi0uMDU1di0uMDQ5YzAtLjAxNy4wMDYtLjAzMi4wMi0uMDQ0bC4yMTgtLjJhLjE2Mi4xNjIgMCAwIDEgLjA4Ny0uMDRsLjEzNi0uMDE4YS4wNi4wNiAwIDAgMCAuMDQtLjAyNGwuMDE2LS4wMjRhLjA2LjA2IDAgMCAwLS4wMjgtLjA5bC0uMDEtLjAwNWEuMDYuMDYgMCAwIDAtLjA0Ny4wMDRsLS4xMDQuMDYxYS4wNTcuMDU3IDAgMCAxLS4wMy4wMDhoLS4xMDFhLjE1OS4xNTkgMCAwIDAtLjExNC4wNDlsLS4yNDQuMjUyYS4xNjUuMTY1IDAgMCAwLS4wNDIuMDhsLS4wMjMuMTEuMDE2LjA0Ny0uMDk2LjEzNS0uMDg3LjA4N2gtLjA4MXYtLjA4N0g5LjQ1bC0uMDI4LjExYS4xNjEuMTYxIDAgMCAxLS4wOTguMTFsLS4wODEuMDMyYS4xNTcuMTU3IDAgMCAxLS4xNTYtLjAyNmwtLjEwNi0uMDg2LjI4NC4wMTUuMDMyLS4wNjJTOSA1LjE4IDguODI4IDUuMDg0Yy0uMTQtLjA4LS4zMjQtLjAxMy0uMzg4LjAxNmEuMTQ3LjE0NyAwIDAgMC0uMDQyLjAyN2wtLjYyLjU2NWEuMTYyLjE2MiAwIDAgMC0uMDA2LjIzMWwuMDU4LjA2MS4wODMtLjA2OWEuMDU3LjA1NyAwIDAgMSAuMDc2LjAwM2wuMTU1LjE0NmguMDRsLjE0Ni0uMTc2YS4wNTcuMDU3IDAgMCAwIC4wMDItLjA3MmwtLjAxOS0uMDI2YS4wNi4wNiAwIDAgMS0uMDA0LS4wNjZsLjIwNC0uMzM0YS4wNDIuMDQyIDAgMCAxIC4wNTItLjAxN2wuMDM2LjAxOGMuMDIyLjAxLjAzLjAzNS4wMTkuMDU3bC0uMTQuMjY4YS4xMzQuMTM0IDAgMCAwLS4wMS4xMDRsLjAyMy4wNzFhLjE4LjE4IDAgMCAxLS4wMy4xNDZsLS4wODcuMTJhLjE2MS4xNjEgMCAwIDEtLjEzNC4wNjRsLS4yNTQtLjAxYS4wNDYuMDQ2IDAgMCAxLS4wMzEtLjAxMy4wNDcuMDQ3IDAgMCAxLS4wMTMtLjAzMnYtLjA0MmEuMDQ1LjA0NSAwIDAgMC0uMDQ2LS4wNDYuMDQ2LjA0NiAwIDAgMC0uMDQ1LjA0MmwtLjAwNy4wNzRhLjA0Ni4wNDYgMCAwIDEtLjA0NS4wNDJoLS4wMjRhLjA0Mi4wNDIgMCAwIDAtLjAzLjAxMmwtLjQxNC4zODYuMDYuMDg4di4wOTNhLjA1Ny4wNTcgMCAwIDEtLjA1Ni4wNTZoLS4xMzJjLS4wNzEgMC0uMTI3LjA2LS4xMjMuMTMybC4wMDEuMDE4YS4xMjQuMTI0IDAgMCAwIC4xMTkuMTE2bC4xNDEuMDA0YS4xNi4xNiAwIDAgMCAuMTM1LS4wNjhsLjEwMS0uMTQ0YS4xNTguMTU4IDAgMCAxIC4xMy0uMDY3aC4wOTdjLjAzMiAwIC4wNjQuMDEuMDkuMDI4bC4xNTcuMTFjLjAzLjAyMi4wMzMuMDY4LjAwNC4wOTJsLS4wODguMDc3YS4xNTYuMTU2IDAgMCAxLS4xMDQuMDRoLS41NWEuMTU4LjE1OCAwIDAgMC0uMTI2LjA2NGwtLjQyNS41NzNhLjE2OC4xNjggMCAwIDAtLjAzMi4wOTZ2LjM4YzAgLjAzNS4wMTEuMDY5LjAzMi4wOTdsLjE0OC4xOThjLjAxMy4wMTYuMDIuMDM2LjAyNy4wNTUuMDEuMDMzLjAzNi4wOC4xLjA4aC42ODZzLjE3Mi4wMDUuMTcyLjEyYzAgLjA0LS4wMDEuMDgtLjAwMy4xMTZhLjE2Mi4xNjIgMCAwIDAgLjA4My4xNDhjLjA0OC4wMjguMDk5LjA3Ny4wOTkuMTU1di4yMWEuMjAzLjIwMyAwIDAgMS0uMDA3LjA0OS43NzIuNzcyIDAgMCAxLS4wNzkuMTc4Yy0uMDM2LjA1NC4wMTUuMTM1LjA1Mi4xODJhLjE3LjE3IDAgMCAxIC4wMzUuMTAydi4yMXMuMDE2LjA3Ni4wODguMTA5YS41ODMuNTgzIDAgMCAxIC4wOTcuMDV2LjA4NGMwIC4wOS4wNzEuMTYuMTYuMTZoLjIwN3MuMDk0LjAwOC4xNTUtLjA4N2wuMjgtLjQzN3MuMDQtLjA0MyAwLS4xMmMtLjA0LS4wNzYtLjAyMS0uMTQ1LS4wMjEtLjE0NWwuMTktLjExcy4wOS0uMDE2LjA5LS4xNDF2LS4xMzZhLjExNS4xMTUgMCAwIDAtLjAxOC0uMDYybC0uMDMzLS4wNTdhLjE2Mi4xNjIgMCAwIDEgLjAyMS0uMTkxbC4zOTUtLjQyNHMuMTA0LS4xNTYuMTA0LS4yMzVIOS40OWEuMTYuMTYgMCAwIDEtLjEzNi0uMDc3bC0uMzQ2LS41NzZhLjA4Ny4wODcgMCAwIDEgLjAzMy0uMTIxLjA4NC4wODQgMCAwIDEgLjExMi4wM2wuMzM1LjU1Mi0uMDAxLjA1YzAgLjAxNi4wMTIuMDI4LjAyOC4wMjguMDgzIDAgLjMyNy0uMDEuNDYzLS4xM2EuNTk2LjU5NiAwIDAgMCAuMTQzLS4xODEuMTYuMTYgMCAwIDAtLjAzOC0uMTlsLS4wODUtLjA3Ni0uMTEuMDI1LS4xOTctLjE5OWEuMDYzLjA2MyAwIDAgMSAuMDE2LS4xLjA2LjA2IDAgMCAxIC4wNjUuMDA3bC4zMDcuMjM4cy4wNjMuMDU2LjEyNy4wNTZoLjE4Yy4wNTYgMCAuMTA4LjAzLjEzNi4wNzhsLjQwMi42ODNzLjA2LjA1Ni4wOTQuMDU0Yy4wMzUtLjAwMy4wODItLjE1LjA4Mi0uMTUgMC0uMTM2LjA2NS0uMjY2LjE3Ni0uMzQ0bC4xMzgtLjA5OGEuMTU4LjE1OCAwIDAgMSAuMjAyLjAxNWwuMDg1LjA4M3YuMDljMCAuMDE0LjAxMi4wMjcuMDI4LjAyN2guMDM4bC4wMzYtLjAzNmguMDQydi4zNTljMCAuMDQuMDE1LjA4LjA0My4xMDlsLjI2Ny4yODh2LS4xMDNhLjE1OS4xNTkgMCAwIDAtLjAzNS0uMWwtLjEyNS0uMTU4YS4xNTkuMTU5IDAgMCAxLS4wMzUtLjF2LS4xMDljMC0uMDE3LjAyMS0uMDI2LjAzMy0uMDEzbC4xNjIuMTY3LjAwNC4xMDVjLjAwMS4wMi4wMjUuMDMuMDM4LjAxNWwuMjI5LS4yNXMuMDY2LS4wODMgMC0uMTUyYTUuNDA1IDUuNDA1IDAgMCAwLS4xNTgtLjE1NC4wNS4wNSAwIDAgMS0uMDE2LS4wMzkuMDUuMDUgMCAwIDEgLjAxOS0uMDM4bC4wNDQtLjAzNy4xMS4wMDJzLS4wMjMuMDUyLS4wNTguMTEyYzAgMCAuMDE3LjA5Ni4xMjMtLjA4My4wMDgtLjAwNy4wMzYtLjAwMy4wNjcuMDAyLjA0LjAwNi4wODQuMDE0LjEtLjAwMi4wNi0uMDY0LjMwOS0uNDA3LjMwOS0uNDA3cy4wMzItLjEyNi0uMDQzLS4xOTJjLS4wNzYtLjA2Ni0uMDQzLS4xNDctLjA0My0uMTQ3bC4wOTQtLjA4MnYtLjA1OGgtLjI0NHMuMDItLjEzLjE5NC0uMTM5bC4wMzEtLjAwMWMuMDExIDAgLjAyMSAwIC4wMy0uMDAyYS4xMzIuMTMyIDAgMCAxIC4xMjcuMDgzYy4wMDYuMDE2LjAxLjAzNC4wMS4wNTJ2LjI0M2wuMDM2LjAwNHMuMDY4LjAwNy4wOTMtLjA4NGMwIDAgLjA0Ni0uMDEzLjA0Ni0uMDY4di0uMDY2bC0uMDY2LS4wOC4xMDctLjEzOGEuMTIyLjEyMiAwIDAgMSAuMDc1LS4wNDVsLjA1NC0uMDExYS4xMjUuMTI1IDAgMCAwIC4wOC0uMDUzbC4yNDctLjM3M2EuMTY1LjE2NSAwIDAgMCAuMDI3LS4wOXYtLjEwMmEuMDUuMDUgMCAwIDAtLjA1LS4wNWgtLjE0NHMtLjA2LS4wNy4wMjItLjEyYy4wNTctLjAzNS4xNjktLjEyOC4yMzItLjE4YS4xNTUuMTU1IDAgMCAxIC4xMDEtLjAzOGguMjlhLjE2LjE2IDAgMCAwIC4wOTMtLjAzbC4xOS0uMTM3YS4wNC4wNCAwIDAgMSAuMDI1LS4wMDhjLjA4MiAwIC4xMjUuMS4wNy4xNjJsLS4xOTguMjE0YS4xNTguMTU4IDAgMCAwLS4wNDMuMTA2bC0uMDAzLjE3M2MwIC4wMzIuMDI2LjA2LjA1OS4wNmguMDQ4bC4yNTktLjI2OGEuMTI1LjEyNSAwIDAgMCAuMDMzLS4wNjZsLjAxLS4wNTZhLjE2LjE2IDAgMCAxIC4xNTUtLjEzNGguMTE0YS4xNTQuMTU0IDAgMCAwIC4xMDQtLjAzOWwuMTU5LS4xNGEuMDQzLjA0MyAwIDAgMSAuMDI4LS4wMWguMDgyYS4wNDIuMDQyIDAgMCAwIC4wNDMtLjA0NHYtLjA4YzAtLjAxMy4wMDUtLjAyNC4wMTMtLjAzMmwuMDYyLS4wNThhLjE1Ni4xNTYgMCAwIDEgLjE4MS0uMDI0bC4xMDQuMDU1YS4wNjEuMDYxIDAgMCAwIC4wNzYtLjAxNmwuMDUxLS4wNjVhLjA2Mi4wNjIgMCAwIDAgLjAxMi0uMDUyLjA2Mi4wNjIgMCAwIDAtLjAzMy0uMDQybC0uNTAzLS4yNWE1LjQyNyA1LjQyNyAwIDAgMC0uMzktLjAxNE04LjE0MSA3LjAyNGwuMDktLjA3OHpsLS4xMzMtLjE2M2EuMDUzLjA1MyAwIDAgMS0uMDEtLjAxOS4wNTMuMDUzIDAgMCAwIC4wMS4wMTh6bS43NTUuNDkzaC0uMDgxYS4xMy4xMyAwIDAgMS0uMDMyLS4wMDQgOS4xMjcgOS4xMjcgMCAwIDEtLjYxLS4xODYuMDYyLjA2MiAwIDAgMS0uMDM1LS4wNDUuMDYzLjA2MyAwIDAgMSAuMDE1LS4wNTVsLjExLS4xMTdhLjA5NC4wOTQgMCAwIDEgLjEzLjAwNWwuMS4xMDcuMDg3LS4wMTYtLjAyNC0uMDY0cy0uMDEtLjAzLS4wMjEtLjA1NmMtLjAxMS0uMDI3LjA0OC0uMDYxLjA0OC0uMDYxcy4wNi0uMDA2LjA2LjA4OGMwIC4wOTMuMDk3LjE2My4wOTcuMTYzaC4zMzJjLjAyMSAwIC4wMzUuMDIzLjAyNC4wNGwtLjA1OS4xMTNhLjE2LjE2IDAgMCAxLS4xNDEuMDg4bS40MTctLjUwM0g5LjJsLS4wODMtLjA2NWEuMDU3LjA1NyAwIDAgMC0uMDMyLS4wMWgtLjEwOGEuMDY3LjA2NyAwIDAgMC0uMDQ0LjAxN2wtLjA3OC4wNy0uMDc4LjAxMmEuMDUzLjA1MyAwIDAgMS0uMDU2LS4wMjYuMDU1LjA1NSAwIDAgMS0uMDA2LS4wMmwtLjAxMS0uMDg3YS4wOS4wOSAwIDAgMSAuMDIxLS4wNjlsLjEyOC0uMTQ1LjA1OC0uMDA1LS4wMDMuMDI2YS4wNTEuMDUxIDAgMCAwIC4wNS4wNThoLjAyOWEuMDY5LjA2OSAwIDAgMCAuMDY0LS4wNDJsLjAyNi0uMDU4LjEyLjAyLjAxLjA4N2EuMDc3LjA3NyAwIDAgMCAuMDI2LjA0OGwuMTMzLjExMnYuMDI1YzAgLjAzLS4wMjMuMDUyLS4wNTMuMDUybS41NzQuMDkzdi4wOTloLS4yMDVsLS4wMTgtLjA5OWEuMDUuMDUgMCAwIDEgLjAwOC0uMDM5bC4wMTEtLjAxNWEuMDUyLjA1MiAwIDAgMC0uMDA4LS4wNjlsLS4wOTYtLjA4OXYtLjE2M2wuMTQtLjA2aC4wNzJjLjAyOCAwIC4wNTIuMDE5LjA2LjA0NmwuMDAxLjAwNGMuMDA2LjAyIDAgLjA0LS4wMTMuMDU2YS4wNjEuMDYxIDAgMCAwLS4wMTUuMDMxbC0uMDEzLjA4NS4xMTMuMTA1LS4wOC4wNTR6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDUwNTA1XFxcIiBkPVxcXCJNMTIuOTQ1IDcuOGMtLjAwNi0uMDE1LS4wMS0uMDIyLS4wMTctLjAyMS0uMDA3IDAtLjAxOC4wMDktLjAzNi4wMjVhLjExLjExIDAgMCAwLS4wMzkuMDhjMCAuMDIuMDAzLjA0LjAxMi4wNjIuMDA3LjAxOC4wMi4wMzIuMDI4LjAzMi4wMjUgMCAuMDY2LS4xNC4wNTItLjE3OE0xMi44OTQgOC4xMDhhLjExNi4xMTYgMCAwIDEgLjAyNC4wMDVsLjAxNC4wMDRjLjAxOC4wMDYuMDI3LjAwOS4wMzMuMDE1LjAwNS4wMDUuMDA4LjAxNC4wMTMuMDNsLjAwNC4wMTRjLjAwOC4wMjcuMDAyLjA1My0uMDE4LjA3LS4wNDYuMDM3LS4wMzguMDU3LjAzLjA3Mi4wNDcuMDEuMDYxLjAyNC4wNjEuMDYyIDAgLjA0Ni0uMDAzLjA0Ni0uMDU1LjAxOS0uMDMtLjAxNi0uMDYtLjAyMy0uMDY1LS4wMTYtLjAwNy4wMDcgMCAuMDE2LjAxNC4wMjEuMDU1LjAyLjA4Ni4wNzEuMDc0LjEyLS4wMTQuMDU3LjAxNC4wNjYuMDU5LjAyLjA0OC0uMDQ5LjA4OS4wMjMuMDc4LjEzNi0uMDA0LjAzOC0uMDM4LjA1NS0uMDkuMDQzYS4wNDcuMDQ3IDAgMCAxLS4wMjItLjAxMi4wNC4wNCAwIDAgMS0uMDEzLS4wMjdjMC0uMDI0LS4wMTMtLjAyOS0uMDUxLS4wMi0uMDM4LjAxLS4wNS4wMDYtLjA1LS4wMThhLjA1LjA1IDAgMCAxIC4wMy0uMDQ0Yy4wMTMtLjAwNS4wMi0uMDA5LjAyLS4wMTcgMC0uMDA4LS4wMDctLjAxOS0uMDItLjAzOGEuMTc0LjE3NCAwIDAgMS0uMDMtLjA4YzAtLjAyLS4wMDgtLjAzNy0uMDE5LS4wMzctLjAyNyAwLS4wODgtLjE5My0uMDYzLS4yMDEuMDA0LS4wMDIuMDA5LS4wMDguMDEyLS4wMTZhLjE0OC4xNDggMCAwIDAgLjAwOS0uMDUzYzAtLjA0LjAwMy0uMDU0LjAyMS0uMDUyTTEyLjggOC41NjdjLjA0Ny0uMDQ0LjA3Mi0uMTE2LjA0LS4xMTYtLjAxNCAwLS4wODIuMDc5LS4xMS4xMjktLjAzLjA1Mi4wMDkuMDQ1LjA3LS4wMTNNMTIuOTEyIDguNjk4YS4wMi4wMiAwIDAgMSAuMDIxLjAyYzAgLjAxMS0uMDAzLjAyLS4wMDguMDIgMCAwLS4wMDUgMC0uMDA3LS4wMDNhLjA2NC4wNjQgMCAwIDEtLjAxNS0uMDE3Yy0uMDA3LS4wMTEtLjAwMy0uMDIuMDEtLjAyTTEzLjI1NCA4LjkxM2MtLjAxMy0uMDMtLjAzLS4wNDUtLjA0NC0uMDQzLS4wMTQuMDAxLS4wMjUuMDE4LS4wMy4wNWEuMDU4LjA1OCAwIDAgMS0uMDEuMDI2Yy4wMTMuMDUyLjA1Mi4wNi4wNjQuMDYzaC4wMDRhLjI1NS4yNTUgMCAwIDEgLjAyNS0uMDI5Ljc1MS43NTEgMCAwIDAgLjAxNC0uMDE1ek0xMy4wODIgOC44OTRjLjAyNi0uMDA0LjAzNS4wMTUuMDExLjA0M2EuMDQ0LjA0NCAwIDAgMC0uMDA4LjAxNWwtLjA1Ny4wMWEuNjIuNjIgMCAwIDEtLjAzNi4wMDVjLS4wMzguMDA2LS4wNzcuMDExLS4xLjAzNyAwIC4wMDQuMDA0LjAwNy4wMS4wMDkuMDA3LjAwMi4wMTkuMDAyLjAzMi0uMDAxbC4wMDYtLjAwMy4wMDUtLjAwMy4wMi0uMDAyLjA2NC4wMDgtLjAwNC4wMDZoLS4wMDJsLS4wMDUuMDA0LS4wMTMuMDA4Yy0uMDMuMDI2LS4wNDQuMDU0LS4wMzQuMDY3LjAwOC4wMTIuMDE1LjA0LjAxNS4wNjItLjAwMi4wNTMtLjA2Ni4wNjctLjA3OS4wMTctLjAwNi0uMDIzLS4wMS0uMDE2LS4wMTIuMDIxLS4wMDEuMDQ0LS4wMTEuMDU3LS4wMzguMDUxLS4wMi0uMDA0LS4wMzUtLjAyNS0uMDM1LS4wNDdhLjE0Mi4xNDIgMCAwIDAtLjAxNi0uMDY1Yy0uMDA4LS4wMTMtLjAwNi0uMDQ4LjAwNi0uMDc4LjAwNy0uMDE5LjAwOS0uMDI4LjAxLS4wMzZsLjAwMi0uMDA2LjAxMi0uMDMyLjAxOC0uMDUtLjAwMy4wMDFjLjAyOC0uMDI2LjA1Ni0uMDMyLjEtLjAyMmwuMDMyLjAwNGEuMTUuMTUgMCAwIDAgLjA2OC0uMDEyYy4wMS0uMDA1LjAyLS4wMS4wMzEtLjAxMU0xMy4zNiA5LjEzNmMwLS4wMjctLjAzNC0uMDQyLS4wOTItLjA0MmEuNDQ1LjQ0NSAwIDAgMC0uMDY0LjAwNmMtLjA4LjAxMi0uMTAzLjAyNy0uMDguMDUxLjAyLjAyLjIzNi4wMDcuMjM2LS4wMTVNNS44NjYgOS4zNjJsLS4zNS0uMTg1YS4yMjIuMjIyIDAgMCAwLS4xMDItLjAyNmgtLjEwMWEuMDM4LjAzOCAwIDAgMS0uMDM3LS4wMzMuMjIuMjIgMCAwIDAtLjIxOC0uMjAxaC0uMDMyYS4yMTcuMjE3IDAgMCAxLS4xNzMtLjA4OGwtLjA0OC0uMDY1YS4yMTYuMjE2IDAgMCAwLS4xNTUtLjA4NmwtLjI2Mi0uMDIzYS4wMjguMDI4IDAgMCAxLS4wMTctLjAwN2wtLjA0My0uMDNjLS4wMTItLjAwNy0uMDI2LS4wMDktLjAzOCAwbC0uMTg3LjEwNmEuMjE2LjIxNiAwIDAgMS0uMTA4LjAyOGgtLjE5MmEuMDM3LjAzNyAwIDAgMS0uMDE3LS4wMDQuMTQ2LjE0NiAwIDAgMS0uMDcxLS4xMzN2LS4xMTJhLjAzOC4wMzggMCAwIDAtLjAyMy0uMDM1LjAzNy4wMzcgMCAwIDAtLjAxNC0uMDAzaC0uMTIyYS4wMzcuMDM3IDAgMCAxLS4wMzItLjAxOS4wMzguMDM4IDAgMCAxIDAtLjAzOGwuMDU3LS4xYS4wNDQuMDQ0IDAgMCAwIC4wMDYtLjAyVjguMmMwLS4wMS0uMDA0LS4wMi0uMDExLS4wMjdhLjAzNy4wMzcgMCAwIDAtLjAyNy0uMDExaC0uMDY2YS4wMzcuMDM3IDAgMCAwLS4wMy4wMTdsLS4wMzguMDZhLjIxNy4yMTcgMCAwIDEtLjE4NC4xaC0uMDU0cy0uMDg2LS4wMTUtLjA4Ni0uMTA4di0uMzM5YS4wOTcuMDk3IDAgMCAxIC4wNDUtLjA2N2MuMDMyLS4wMi4xMDctLjA2MS4xNDQtLjA4MWEuMDM4LjAzOCAwIDAgMSAuMDQzLjAwNWwuMDcuMDY2Yy4wMDcuMDA3LjAxNS4wMS4wMjQuMDFoLjAxNWMuMDIyIDAgLjA1MSAwIC4wNTctLjAwMy4wMDQtLjAwMi4wMDQtLjAwNy4wMDMtLjAxNCAwLS4wMTcgMC0uMDQ2LjA0NS0uMDYuMDY2LS4wMTkuMTA5LjA0LjEwOS4wNGwuMTY1LjE5OWEuMDM3LjAzNyAwIDAgMCAuMDUuMDA2bC4wMjMtLjAxNmEuMDM4LjAzOCAwIDAgMCAuMDEyLS4wNWwtLjAwMi0uMDA1YS4yMjMuMjIzIDAgMCAxIC4wNDgtLjI4bC4xMzctLjExOHMuMDE2LS4wMS4wMjQtLjA3MWMuMDA1LS4wMzcuMDE1LS4wOS4wMjEtLjEyOGwuMDIxLS4wMzYuMDItLjAzNi4yOTctLjI1MmEuMDM2LjAzNiAwIDAgMSAuMDU1LjAwOGMuMDE0LjAyMi4wMzguMDQ2LjA2OS4wNDVhLjc2Ny43NjcgMCAwIDAgLjIwOC0uMDkzLjAzNi4wMzYgMCAwIDAgLjAxOS0uMDMzdi0uMDQ3bC0uMTQzLjAzYS4wMzguMDM4IDAgMCAxLS4wNDQtLjAzMWwtLjAxNi0uMDk1YS4wMzguMDM4IDAgMCAwLS4wMzYtLjAzbC0uMTQzLjAxNS4wMTgtLjA0M2EuMDQzLjA0MyAwIDAgMSAuMDM0LS4wMjdsLjM1Mi0uMDM3LjA1Ni0uMDIzLjA1Ni0uMDIzLjA3MS0uMDU2YS4wMzguMDM4IDAgMCAwIC4wMDQtLjA1NWwtLjM5Ni0uNDFhLjAzOS4wMzkgMCAwIDAtLjA0My0uMDA4bC0uMTE4LjA1N2EuMDQuMDQgMCAwIDEtLjAzOC0uMDAzTDQuMSA1LjkxYS4wMzYuMDM2IDAgMCAwLS4wNS4wMDhsLS4wNTEuMDdhLjAzMy4wMzMgMCAwIDAtLjAwNy4wMmwtLjAxLjE3NGMwIC4wMTEuMDAzLjAyLjAxMS4wMjlsLjA0OC4wNWEuMDM4LjAzOCAwIDAgMS0uMDA1LjA1NmwtLjA3LjA1MWEuMDM3LjAzNyAwIDAgMS0uMDM0LjAwNmwtLjE2LjAyN2EuMjIuMjIgMCAwIDAtLjEzMy0uMTNsLS4wOC0uMDI4YS4yMjIuMjIyIDAgMCAxLS4wOTgtLjM1bC4xNTYtLjE5YS4wNDIuMDQyIDAgMCAwIC4wMDctLjAzOGwtLjA0NC0uMTE1LS4wMDgtLjAxMi0uMTc2LS4xOWEuMTIyLjEyMiAwIDAgMC0uMjEuMDY1bC0uMDAxLjAxYS4xMjMuMTIzIDAgMCAxLS4xMi4xMDRIMi41NGwtLjA1LS4wMWEyLjY1MiAyLjY1MiAwIDAgMS0uMDQtLjAwOWwtLjM1OC0uMTYyYTIuMDAzIDIuMDAzIDAgMCAwLS4wNzUtLjAxOGwtLjMzLS4wMjJhMi4xNTggMi4xNTggMCAwIDEtLjA5Mi4wMTVsLS4xNDguMDU4YS4yMTcuMjE3IDAgMCAxLS4xMjQuMDFMLjU5MSA1LjIzYS4yMTIuMjEyIDAgMCAwLS4xMzIuMDEzbC0uMzQ2LjE1YS4wMzguMDM4IDAgMCAwLS4wMDkuMDYzbC4wOS4wNzdjLjAyNi4wMjEuMDExLjA2NS0uMDIyLjA2NmwtLjEzNi4wMDNjLS4wMiAwLS4wMzYuMDE3LS4wMzYuMDM3di4wMmMwIC4wMi4wMTYuMDM2LjAzNi4wMzdsLjExNy4wMDFjLjA0LjAwMi4wNTEuMDU2LjAxNS4wNzJsLS4xMDEuMDQ2YS4wMzcuMDM3IDAgMCAwLS4wMjIuMDM3bC4wMS4xMDNhLjIyLjIyIDAgMCAwIC4xODQuMTk4bC4wNzIuMDEyYy4wMzQuMDA2LjA0Mi4wNTEuMDEzLjA2OWwtLjAyMy4wMTNjLS4wMjQuMDE1LS4wMjQuMDUgMCAuMDY0bC4wMTIuMDA2YS4wNC4wNCAwIDAgMCAuMDM1LjAwM2wuNjE4LS4yODJhLjIxNS4yMTUgMCAwIDEgLjIzNy4wNGwuNTg4LjU0M2EuMjIuMjIgMCAwIDEgLjA3MS4xNTJsLjAyLjQxNWEuMjIyLjIyMiAwIDAgMCAuMDQ4LjEyOGwuNTc5LjcyOGMuMDEuMDE0LjAzLjAxOC4wNDUuMDFhLjAzOC4wMzggMCAwIDAgLjAxNC0uMDU1cy4zNjUuMzgzLjQuMzk5bC4yOTYuMTQ4YS4yMi4yMiAwIDAgMCAuMDk3LjAyM2guMTQ3Yy4wMTUgMCAuMDI4LjAwOC4wMzMuMDIxbC4wNS4xMDhWOC43bC4wMDEuMDAxLjAwMi4wMDNjLjAxNS4wMjUuMDg4LjE0My4xNjUuMTQ4LjA4Ny4wMDUuMjQzIDAgLjI0MyAwcy4wNTYtLjAwMS4wNTYuMDZ2LjA5NWEuMDM2LjAzNiAwIDAgMS0uMDE5LjAzMmMtLjA0OC4wMjctLjE3Mi4xMDctLjE3Mi4xOTd2LjIxMmMwIC4wMS4wMDMuMDE3LjAwOC4wMjQuMDE2LjAxOS4wNS4wNi4wOC4wODQuMDI3LjAyMi4wNzIuMDczLjA5OC4xMDNsLjAxMy4wMTRhLjAzOC4wMzggMCAwIDEgLjAwOC4wMjR2LjEyMmEuMDQuMDQgMCAwIDEgLjAwMS4wMDZsLjAwMS4wMDdjLjAwNy4wMTYuMDI0LjA1Ny4wNTUuMDcyLjAxOS4wMDkuMDY1LjA0Ny4xMDguMDg1YS4yMjIuMjIyIDAgMCAxIC4wNzYuMTg2bC0uMDI3LjM0NS0uMDAzLjAyYS40My40MyAwIDAgMS0uMDAzLjAybC0uMTE5LjQ1YTEuNzUgMS43NSAwIDAgMC0uMDA3LjA4bC4wMTIuMTg1YS4yMzMuMjMzIDAgMCAxLS4wMS4wOTVsLS4wNDQuMTI2YS4yMzUuMjM1IDAgMCAwLS4wMDcuMTI1bC4wNTYuMjMzYS4xMjMuMTIzIDAgMCAwIC4wNDQuMDdsLjA1Ny4wNDVjLjAyMi4wMTguMDU0LjA0Mi4wNzYuMDI2LjA3Ny0uMDU0LjEyLS4yMTguMTU1LS4zNTMuMDE1LS4wNi4wMy0uMTE1LjA0NC0uMTUuMDEtLjAyMy4wNjctLjEwNS4xMzQtLjIwMi4xMS0uMTU2LjI0NS0uMzUuMjQ0LS4zODlsLS4wMDMtLjA5YzAtLjAyMi4wMTYtLjAzOC4wMzctLjAzOGguMTE0Yy4wMSAwIC4wMi0uMDA0LjAyNi0uMDEybC4yNjYtLjI5NGEuMDM2LjAzNiAwIDAgMCAuMDEtLjAyNnYtLjEyYzAtLjAyMS4wMTctLjAzNy4wMzgtLjAzNy4wNDUuMDAyLjEyLjAwMi4xNDUtLjAyLjAyNy0uMDIxLjA5Ny0uMTAzLjEzOC0uMTVsLjAyMS0uMDI0YS4wMzkuMDM5IDAgMCAwIC4wMS0uMDI1di0uMTljMC0uMDU1LjAyLS4xMDguMDU3LS4xNWwuMTMzLS4xNDhhLjEzNy4xMzcgMCAwIDAtLjA0My0uMjE1TTE0LjkxNiAxMC43bC0uMDA4LjAwMWMtLjAwNi4wMDUuMDA1LjAzNi4wMjQuMDY3LjAzMS4wNTEuMDMzLjA2Mi4wMTYuMDg2LS4wMTcuMDI1LS4wMTYuMDMuMDA0LjA0NC4wMzYuMDIzLjAyOC4wMzQtLjAyMi4wMy0uMDM4LS4wMDQtLjA0OS4wMDItLjA3LjAzOWEuMjcuMjcgMCAwIDEtLjA3OC4wNzRjLS4wNzEuMDQ0LS4xMDguMTA5LS4wNi4xMDkuMDEzIDAgLjAxNy4wMS4wMTIuMDI2LS4wMS4wMzItLjAwNi4wMzIuMDY1LS4wMDIuMDQxLS4wMi4wNi0uMDM4LjA2Ni0uMDY1YS4wNjUuMDY1IDAgMCAxIC4wNDEtLjA0OGMuMDE4LS4wMDYuMDMyLS4wMTUuMDMtLjAxOS0uMDA3LS4wMTguMDMzLS4wODIuMDQ4LS4wNzcuMDIuMDA2LjA4LS4wNi4wNy0uMDc2LS4wMDUtLjAwNi4wMDEtLjAxMS4wMTItLjAxMS4wMjIgMCAuMDQzLS4wNDguMDMtLjA2Ny0uMDA0LS4wMDYtLjAyMy0uMDA3LS4wNDMtLjAwMy0uMDI0LjAwNS0uMDM1LjAwMi0uMDM1LS4wMSAwLS4wMi0uMDc1LS4wODktLjEwMi0uMDk3TTEyLjg4NSA5LjI3NGwtLjQ4Ni0uMDU3YS4xMTkuMTE5IDAgMCAxLS4wMzUtLjAxbC0uMTE4LS4wNDhhLjE0NC4xNDQgMCAwIDEtLjA0OC0uMDMybC0uMzktLjQxNGEuMDUuMDUgMCAwIDAtLjA0Mi0uMDE1LjA0Ny4wNDcgMCAwIDAtLjAyOC4wNzhsLjQxLjQ2NmEuMTUuMTUgMCAwIDAgLjA2My4wNGwuMjMyLjA3YS4xMjguMTI4IDAgMCAwIC4wNC4wMDVoLjM5N3pNMTMuODUgOS41MzVsLS4wMi4wNTdhLjI1NS4yNTUgMCAwIDEtLjI3LjE3LjA1LjA1IDAgMCAxLS4wMzgtLjAyNy4wNS4wNSAwIDAgMSAuMDAxLS4wNDdsLjEtLjE4Ni0uMjYuMDFhLjI1NC4yNTQgMCAwIDAtLjEuMDIzbC0uMDk4LjA0NmEuMjQ5LjI0OSAwIDAgMC0uMDcuMDQ5bC0uMTguMTc4YS4yNC4yNCAwIDAgMS0uMDc1LjA1MWwtLjEyMy4wNTVhLjI1OS4yNTkgMCAwIDAtLjE1Mi4yMzZ2LjAyYzAgLjAzNC4wMDcuMDY4LjAyLjFsLjA5Ni4yMjhjLjAwMy4wMDUuMDA0LjAxLjAwNS4wMTVhLjExLjExIDAgMCAwIC4xNDMuMDc3bC4yNDUtLjA4OGEuMjQ4LjI0OCAwIDAgMSAuMTA4LS4wMTNsLjI5NC4wMjdjLjA4LjAwNi4xNS4wNS4xOTMuMTJsLjAyLjAzYS4yNTQuMjU0IDAgMCAwIC4yMTguMTIyaC4xMThhLjI1NS4yNTUgMCAwIDAgLjE4Mi0uMDc2bC4xMy0uMTMyYS4yNi4yNiAwIDAgMCAuMDc1LS4xODN2LS4xNzNhLjI2LjI2IDAgMCAwLS4wODItLjE5bC0uMjY4LS4yNDhhLjI0LjI0IDAgMCAxLS4wNi0uMDgybC0uMDgtLjE3NWMtLjAxNy0uMDI3LS4wNi0uMDI2LS4wNzEuMDA2TTEzLjMyMiA5LjI1Yy4wMTcuMDAxLjAyOS4wMTQuMDI4LjAzNyAwIC4wMTUtLjAyOS4wNDMtLjA2NC4wNjNhLjMzMi4zMzIgMCAwIDEtLjA2OC4wMzJjLS4wMTYuMDA0LS4wMTktLjAwNS0uMDE5LS4wMjcgMC0uMDE3LjAwNi0uMDMxLjAxNC0uMDMxLjAwNyAwIC4wMy0uMDIuMDUxLS4wNDMuMDItLjAyMi4wNDEtLjAzMi4wNTgtLjAzTTEzLjA3OSA5LjI3MmMuMTYgMCAuMTQ5LjA0LS4wMTMuMDQ4LS4wOTUuMDA0LS4xMiAwLS4xMTUtLjAyMS4wMDUtLjAxOC4wNDUtLjAyNy4xMjgtLjAyN002LjExNyA1LjUyaC4wOWwuMDY3LjA0Ni4xODItLjA0Ny4wMzMuMDgxdi4xMTVsLS4xNzUuMDIxYS4xMzMuMTMzIDAgMCAxLS4xLS4wMjhsLS4xNTMtLjEyMXpNOC4xMiA0LjU1MWgtLjIzbC0uMDU2LjA0LjE5Ny4yNWguMDlsLjA4Mi0uMTUyLjIwMi4xMDMuMDMyLS4wNDgtLjI0LS4xNjlhLjEzMi4xMzIgMCAwIDAtLjA3Ni0uMDI0TTguNjExIDQuMzcyaC0uMjk4bC0uMDI4LjA0Ni4wODYuMDY0YS4xMy4xMyAwIDAgMCAuMDguMDI3aC4xNmwuMDc2LS4wOHpNMy4wNDIgNC4zNzlsLS4xOTcuMDc0LS4xOS4wNDguMjczLjEzLjIxNi0uMDcuMDcyLS4wMTMtLjA1Ny0uMTA5ek0zLjQxNSA0Ljc4aC0uMDg2di4wNDNsLjA0Ni4wMTcuMDEuMDQ0LjA3MS4wMS4wNDguMDU1LjQyNC0uMDE0LjAyNC0uMDUtLjAzNy0uMDU2aC0uNDU2ek0zLjAzIDQuODg0bC0uMDMzLS4wOTYuMDMzLS4wMTguMTI3LjAxLjAzLjAyOS0uMDcuMDgyek0zLjIxNiA0LjcyNWwuMDE2LS4wNTQuMDM1LS4wMjQuMDM0LjAxMy4wNTguMDI1di4wMjRoLS4wM2wtLjA0Ni4wMzh6XFxcIj48L3BhdGg+PHBhdGggZmlsbD1cXFwiIzA1MDUwNVxcXCIgZD1cXFwibTMuODQ0IDguMDk1LS4wODMuMDM3Yy0uMDEuMDA1LS4wMS4wMjEgMCAuMDI0bC4wODguMDM3LjEwMy0uMDE3LjE2Ny4xMTVoLjExOXMuMDgxLS4wMS4wODEtLjAzMi0uMDgxLS4wMzMtLjA4MS0uMDMzbC0uMTcyLS4xM3pNNC40IDguMjcycy0uMDc0LjA0NS0uMDY1LjA2NmMuMDE2LjAzOC4xNiAwIC4xNiAwcy4wNTItLjA0OC4wNDMtLjA2NmMtLjAxOC0uMDMxLS4xMzggMC0uMTM4IDBNMTQuMTYyIDEwLjkzaC0uMjhsLjA3NC4xNjRoLjA2NnpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0uNCA4IDggMS45MlY1LjVoN3Y1SDh2My41OHpNNyA5LjVoN3YtM0g3VjRMMiA4bDUgNHpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwibTE2IDgtNy42IDYuMDhWMTAuNWgtN3YtNWg3VjEuOTJ6TTkuNCA2LjVoLTd2M2g3VjEybDUtNC01LTR6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE3XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0wIDEydi0xLjVoMVYxMmgxLjV2MUgxYTEgMSAwIDAgMS0xLTFNMSAxaDEuNXYxSDF2MS41SDBWMmExIDEgMCAwIDEgMS0xbTAgNy41SDB2LTNoMXpNNC41IDJWMWgzdjF6bTUgMFYxSDExYTEgMSAwIDAgMSAxIDF2MS41aC0xVjJ6bTQuODEzIDE0LjAyLTMuNTM1LTMuNTM1LTMuNTM2IDMuNTM1LS43MDctLjcwNyAzLjUzNi0zLjUzNS0zLjUzNi0zLjUzNi43MDctLjcwNyAzLjUzNiAzLjUzNiAzLjUzNS0zLjUzNi43MDcuNzA3LTMuNTM1IDMuNTM2IDMuNTM1IDMuNTM1elxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTYgNi41YS41LjUgMCAwIDEgMSAwdjZhLjUuNSAwIDAgMS0xIDB6TTkuNSA2YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgMSAwdi02YS41LjUgMCAwIDAtLjUtLjVcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xMSAwSDVhMSAxIDAgMCAwLTEgMXYySC41YS41LjUgMCAwIDAgMCAxaDEuNmwuODEgMTEuMWExIDEgMCAwIDAgLjk5NS45aDguMTlhMSAxIDAgMCAwIC45OTUtLjlMMTMuOSA0aDEuNmEuNS41IDAgMCAwIDAtMUgxMlYxYTEgMSAwIDAgMC0xLTFtMCAzVjFINXYyem0xLjg5NSAxaC05Ljc5bC44IDExaDguMTl6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDkgNVxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNNC4xMjggNC41ODcuNzUxLjgzNEEuNS41IDAgMCAxIDEuMTIzIDBoNi43NTRhLjUuNSAwIDAgMSAuMzcyLjgzNEw0Ljg3MiA0LjU4N2EuNS41IDAgMCAxLS43NDQgMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxnIGZpbGw9XFxcIm5vbmVcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTEzIDcuNWExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgMG0tNi41IDBhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBNMCA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDE2djE2SDB6XFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzIgMzJcXFwiPjxwYXRoIGQ9XFxcIk0yMC44ODkgMS4zMzNoNi4yMjJhMy41NTYgMy41NTYgMCAwIDEgMy41NTYgMy41NTZ2Ni4yMjJhMy41NTYgMy41NTYgMCAwIDEtMy41NTYgMy41NTZoLTYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2LTMuNTU2VjQuODg5YTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2LTMuNTU2TTIwIDR2OGg4VjR6TTQuODg5IDE3LjMzM2g2LjIyMmEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1NiAzLjU1NnY2LjIyMmEzLjU1NiAzLjU1NiAwIDAgMS0zLjU1NiAzLjU1Nkg0Ljg4OWEzLjU1NiAzLjU1NiAwIDAgMS0zLjU1Ni0zLjU1NnYtNi4yMjJhMy41NTYgMy41NTYgMCAwIDEgMy41NTYtMy41NTZNNCAyMHY4aDh2LTh6bTIwIDhhNCA0IDAgMSAwIDAtOCA0IDQgMCAwIDAgMCA4bTAgMi42NjdhNi42NjcgNi42NjcgMCAxIDEgMC0xMy4zMzQgNi42NjcgNi42NjcgMCAwIDEgMCAxMy4zMzRNNC45ODEgMTJoNi4wMzdMNy45OTkgNS45NjN6bTQuMjEyLTkuNjE1IDUuMTc2IDEwLjM1MmExLjMzNCAxLjMzNCAwIDAgMS0xLjE5MiAxLjkzSDIuODI1YTEuMzMzIDEuMzMzIDAgMCAxLTEuMTkyLTEuOTI5TDYuODA5IDIuMzg2YTEuMzMyIDEuMzMyIDAgMCAxIDIuMzg1IDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNLjEgNi45aDYuOFYuMUguMXptNi0uOEgzLjk4NWMuMDc3LS40MDMuMjUtLjc4LjUwNi0xLjEwMmE0LjU3NCA0LjU3NCAwIDAgMCAxLjYwOS44MDV6bTAtMS4xMjhhMy43NTggMy43NTggMCAwIDEtMS4wMDYtLjUyM2MuMzEtLjIwMy42NS0uMzU4IDEuMDA2LS40NTl6TTYuMS45djIuMjY2YTQuMjI5IDQuMjI5IDAgMCAwLTEuNjEzLjczIDYuMDM4IDYuMDM4IDAgMCAxLTEuMS0xLjc2N2wuMDAyLS4wMDQtLjAwNC0uMDAxQTguMTYgOC4xNiAwIDAgMSAyLjk5Ljl6TS45LjloMS4yNjZhOC43IDguNyAwIDAgMCAuMzU5IDEuMjQ5QTEuOTMgMS45MyAwIDAgMSAuOSAzLjE4OHptMCAzLjA5YTIuODI4IDIuODI4IDAgMCAwIDIuMDA2LS45NjZjLjI2Mi41MTkuNTk0IDEgLjk4NyAxLjQyOEEzLjM2NyAzLjM2NyAwIDAgMCAzLjE3IDYuMUguOXpNOS4xLjF2Ni44aDYuOFYuMXptLjguOGg0LjA2M2EuMzczLjM3MyAwIDAgMS0uMDQ1LjIuNTk0LjU5NCAwIDAgMS0uNDM4LjE3NiAxLjYzNyAxLjYzNyAwIDAgMC0xLjE3NS40OS45MS45MSAwIDAgMC0uMjAzLjcwOGMtLjAwMS4wMDctLjExNC43MzYtLjYwNy43NDJhLjc0Ljc0IDAgMCAwLS43MTkuMzg0LjgyOC44MjggMCAwIDAtLjAyNi42SDkuOXptNS4yIDUuMkg5LjlWNWgyLjI5NmwtLjQ3NC0uNjM5YTEuNTYyIDEuNTYyIDAgMCAxLS4xOTItLjM0NmMxLjA0MS0uMDMgMS4zNy0xLjE4OCAxLjM2NS0xLjU4N2EuMTkuMTkgMCAwIDEgLjAyOC0uMTU0Yy4wMzEtLjAzNy4xNjYtLjE2Mi42MjQtLjIuNDE5IDAgLjgxLS4yMDUgMS4wNDktLjU0OWExLjEzIDEuMTMgMCAwIDAgLjE2LS42MjVoLjM0NHptLTE1IDkuOGg2LjhWOS4xSC4xem0uOC02aDUuMnYuNDZsLTIgMS45NzN2Ljg2N2wtMy4yLS4wODl6bTAgNC4wMSA0IC4xMTJ2LTEuMzU1bDEuMi0xLjE4MlYxNS4xSC45em04LjIgMS45OWg2LjhWOS4xSDkuMXptNi0uOGgtMS43OTJsLTEuMjctMS41NzIgMS40NjgtMS40NjggMS41OTQgMS42MDV6bTAtNS4ydjIuNjI4TDEyLjQ5IDkuOXptLTUuMiAwaDEuNDZsMS41ODEgMS41OTItMS45NzggMS45OCAxLjMxNiAxLjYyOEg5Ljl6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PGcgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJtNy43NDUgNyA0LjEgNC4xYS41MjcuNTI3IDAgMCAxLS43NDUuNzQ2TDcgNy43NDZsLTQuMSA0LjFhLjUyNy41MjcgMCAwIDEtLjc0Ni0uNzQ2bDQuMS00LjEtNC4xLTQuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2LS43NDZsNC4xIDQuMSA0LjEtNC4xYS41MjcuNTI3IDAgMCAxIC43NDYuNzQ2elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xIDFoMTJ2MTJIMXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzOSAzMlxcXCI+PHBhdGggZD1cXFwiTTM4Ljc4NCA5Ljc3OHYyLjk2MkgzLjIzNlY5Ljc3OGguMDc0TDEzLjA4Ni4wMDJsMi4xMTEgMi4xMTEtNy43MDIgNy42NjV6TTMuMjM2IDIxLjYyOGgzMS4zMjdsLTcuNzAyIDcuNzAyIDIuMTExIDIuMTExIDkuNzc2LTkuODEzaC4wMzd2LTIuOTYySDMuMjM3djIuOTYyelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwiTTUgMTF2NUg0di00LjAwMUwwIDEydi0xem0xMSAwdjFsLTQtLjAwMVYxNmgtMXYtNXpNNSAwdjVIMFY0bDQgLjAwMVYwem03IDB2NC4wMDFMMTYgNHYxaC01VjB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNMSAxMXY0LjAwMUw1IDE1djFIMHYtNXptMTUgMHY1aC01di0xbDQgLjAwMVYxMXpNNSAwdjFMMSAuOTk5VjVIMFYwem0xMSAwdjVoLTFWLjk5OUwxMSAxVjB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJtMTQuMzc2IDEwLjU3MyAxLjY0Ny45MjctOCA0LjUtOC00LjUgMS42NDgtLjkyNyAxLjAyLjU3NC0uNjI4LjM1MyA1Ljk2IDMuMzUzIDUuOTYtMy4zNTMtLjYyNy0uMzUzem0tLjk5OS0yLjQxNC42MDYuMzQxLTUuOTYgMy4zNTNMMi4wNjMgOC41bC42MDctLjM0MS0xLjAyLS41NzRMLjAyMyA4LjVsOCA0LjUgOC00LjUtMS42MjYtLjkxNXpNOC4wMjMgMS4wMjNsLTggNC41IDggNC41IDgtNC41em0tNS45NiA0LjUgNS45Ni0zLjM1MiA1Ljk2IDMuMzUyLTUuOTYgMy4zNTN6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNSAxNlxcXCI+PGcgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJNNCA4aDF2M0g0ek0yIDloMXYySDJ6bTYtMWgxdjNIOHptNCAwaDF2M2gtMXpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTUgMTJWNmgtMlY1aDFWMmgtM3YxTDQgMS4wNVYwSDF2M2gxdjNIMHY2aDJ2MUgxdjNoM3YtMWg3djFoM3YtM2gtMXYtMXptLTMtOWgxdjFoLTF6bS04LS45MkwxMSA0djFoMXYxSDNWM2gxek0yIDFoMXYxSDJ6bTEgMTRIMnYtMWgxem04LTFINHYtMUgzdi0xaDl2MWgtMXptMiAxaC0xdi0xaDF6TTEgMTFWN2gxM3Y0elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk02IDloMXYySDZ6bTQgMGgxdjJoLTF6XFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTUgMTBcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwiTTAgMTBoMTVWNEgwem0xLTVoMTN2NGgtMVY2aC0xdjNoLTFWN2gtMXYySDlWNkg4djNIN1Y3SDZ2Mkg1VjZINHYzSDNWN0gydjJIMXptMTEtNXYxSDNWMEgwdjNoM1YyaDl2MWgzVjB6TTIgMkgxVjFoMXptMTIgMGgtMVYxaDF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNMCA5djZoMTZWOXptMTUgM2gtMXYyaC0xdi0zaC0xdjNoLTF2LTJoLTF2Mkg5di0zSDh2M0g3di0ySDZ2Mkg1di0zSDR2M0gzdi0ySDJ2Mkgxdi00aDE0em0uMTgtNy41LTIuODUgMi44NS0uNzEtLjdMMTMuMjMgNUg5VjRoNC4zMmwtMS43LTEuNjkuNzEtLjd6TTIuNjggNEg3djFIMi43N2wxLjYxIDEuNjUtLjcxLjdMLjgyIDQuNWwyLjg1LTIuODUuNzEuN3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIk03IDFhNiA2IDAgMSAwIDAgMTJBNiA2IDAgMCAwIDcgMW0wIDEzYTcgNyAwIDEgMSA1LjYyMS0yLjgyOGwtLjIyMi4yODQgMy40MDUgMy40MDRhLjY2OC42NjggMCAwIDEtLjk0NC45NDRMMTEuNDU2IDEyLjRBNi45NzQgNi45NzQgMCAwIDEgNyAxNFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwibS4yNSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTV6bS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OHpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTAuMzE4IDBDMTMuNDU2IDAgMTYgMi40NjIgMTYgNS41UzEzLjQ1NiAxMSAxMC4zMTggMTFhNS43OTYgNS43OTYgMCAwIDEtMy4wMjMtLjg0MmwtLjIyLS4xNDIuNTQtLjc1MmMuNzg4LjUzIDEuNzIyLjgyIDIuNzAzLjgyIDIuNjE1IDAgNC43MzUtMi4wNTMgNC43MzUtNC41ODQgMC0yLjUzMS0yLjEyLTQuNTgzLTQuNzM1LTQuNTgzLTEuOTE2IDAtMy42MTcgMS4xMTItNC4zNTQgMi43NzlsLS4wNzguMTg3TDUgMy41NkM1LjgyNyAxLjQzNSA3LjkzMyAwIDEwLjMxOCAwXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTcgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwibS43NSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTV6bS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OHpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNOC43MjEgMGMxLjgyIDAgMi44NjUgMS41NTYgMi44NjUgNC4zNSAwIC40NjIuMTIuNjYuMzg1Ljc3NC4yMTkuMDkzLjQ3My4xMjYuOTkuMTMxaC41NTFsLjM5Ny4wMDljMS4yNTEuMDUgMS44MDcuMzM2IDIuMDQgMS4zMzMuNDEgMS43Ni0xLjYyIDMuMTE0LTUuOTA0IDQuMzEzbC0uMzI2LjA5LS4yNDUtLjk5OS42NC0uMThjMy41MTYtMS4wMiA1LjA4OC0yLjA4OSA0Ljg4LTIuOTc5LS4wOTQtLjQwNy0uMzgyLS41MzUtMS4zMDQtLjU1M2wtLjc4Ny0uMDAyYy0uNjItLjAwOC0uOTQzLS4wNTUtMS4zLS4yMDctLjY0OC0uMjc2LS45OTgtLjg1OS0uOTk4LTEuNzMgMC0yLjI4Ni0uNjk0LTMuMzE4LTEuODg0LTMuMzE4LS43MzEgMC0xLjY4LjU1LTIuODE1IDEuNjg1bC0uMjE1LjIyTDUgMi4yMDNDNi4zOTguNzQ4IDcuNjI2IDAgOC43MjEgMFxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48ZyBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1em0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDh6TTkuNzIgMS4xMWwuNTg4LS44MDggNS4wODIgMy43LTQuNTc3IDIuNjU2TDE0LjYxIDkuNDlsLS41OTguODAxTDkgNi41NTVsNC41Ni0yLjY0OXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJtLjI1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NXptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4ek0xMiA2YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwibS4yNSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTV6bS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OHpNMTYgMHYxMUg4LjV2LTFIMTVWMUg2djIuNUg1VjB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMCAxMC41VjEyYTEgMSAwIDAgMCAxIDFoMS41di0xSDF2LTEuNXpNMi41IDFIMWExIDEgMCAwIDAtMSAxdjEuNWgxVjJoMS41ek0wIDguNWgxdi0zSDB6TTQuNSAxdjFoM1Yxem01IDB2MUgxMXYxLjVoMVYyYTEgMSAwIDAgMC0xLTF6TTYuMzE4IDEzLjY4MmE0LjUgNC41IDAgMCAwIDUuOTkxLjMzNGwxLjg0OCAxLjg0OC43MDctLjcwNy0xLjg0Ny0xLjg0OGE0LjUgNC41IDAgMSAwLTYuNjk5LjM3M20uNzA3LS43MDdhMy41IDMuNSAwIDEgMSA0Ljk1LTQuOTUgMy41IDMuNSAwIDAgMS00Ljk1IDQuOTVNOSAxM3YtMkg3di0xaDJWOGgxdjJoMnYxaC0ydjJ6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvZmlsbGVkL2RhdGEvcGxhY2Vob2xkZXItbWFwLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlck1hcEZpbGxlZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1mYXQtbGVmdC5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgQXJyb3dGYXRMZWZ0T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctZmF0LXJpZ2h0LnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBBcnJvd0ZhdFJpZ2h0T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxyXG59XHJcbiIsImltcG9ydCB7IHR5cGUgSW1tdXRhYmxlT2JqZWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIElNSmltdU1hcENvbmZpZyB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xyXG5cclxuZXhwb3J0IGVudW0gU2NlbmVRdWFsaXR5TW9kZSB7XHJcbiAgYXV0byA9ICdhdXRvJyxcclxuICBsb3cgPSAnbG93JyxcclxuICBtZWRpdW0gPSAnbWVkaXVtJyxcclxuICBoaWdoID0gJ2hpZ2gnXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlnIGV4dGVuZHMgSU1KaW11TWFwQ29uZmlnIHtcclxuICBpc1VzZUN1c3RvbU1hcFN0YXRlOiBib29sZWFuXHJcbiAgc2NlbmVRdWFsaXR5TW9kZTogU2NlbmVRdWFsaXR5TW9kZVxyXG4gIC8vIHdlYm1hcC93ZWJzY2VuZSBkYXRhIHNvdXJjZSBpZHMgdGhhdCBlbmFibGVzIGNsaWVudCBxdWVyeVxyXG4gIGNsaWVudFF1ZXJ5RGF0YVNvdXJjZUlkcz86IHN0cmluZ1tdXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIElNQ29uZmlnID0gSW1tdXRhYmxlT2JqZWN0PENvbmZpZz5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENvbmZpZyB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBNYXBXaWRnZXRQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcclxuaW1wb3J0IHsgY2hlY2tJc0xpdmUgfSBmcm9tICcuLi91dGlscydcclxuaW1wb3J0IE11bHRpU291cmNlTWFwIGZyb20gJy4vbXVsdGlzb3VyY2VtYXAnXHJcbmltcG9ydCB7IHR5cGUgSmltdU1hcFZpZXdHcm91cCwgcG9ydGFsVXRpbHMsIHR5cGUgRGVmYXVsdE1hcEluZm8sIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgYmFzZVdpZGdldFByb3BzOiBNYXBXaWRnZXRQcm9wc1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkXHJcblxyXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW5cclxuICBvblZpZXdHcm91cENyZWF0ZTogKHZpZXdHcm91cDogSmltdU1hcFZpZXdHcm91cCkgPT4gdm9pZFxyXG4gIG9uSmltdU1hcFZpZXdDcmVhdGVkOiAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB2b2lkXHJcbiAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZTogKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykgPT4gdm9pZFxyXG5cclxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZ1xyXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXHJcblxyXG4gIGlzRnVsbFNjcmVlbjogYm9vbGVhblxyXG4gIGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhblxyXG5cclxuICBzZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlOiAoaW5zdGFuY2U6IE11bHRpU291cmNlTWFwKSA9PiB2b2lkXHJcblxyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcblxyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gIGRlZmF1bHRNYXBJbmZvOiBEZWZhdWx0TWFwSW5mb1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0TWFwIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGRlZmF1bHRNYXBJbmZvOiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBwb3J0YWxVdGlscy5nZXREZWZhdWx0V2ViTWFwKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnBvcnRhbFVybCkudGhlbihkZWZhdWx0TWFwSW5mbyA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRlZmF1bHRNYXBJbmZvOiBkZWZhdWx0TWFwSW5mb1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnPlxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5kZWZhdWx0TWFwSW5mbyAmJiA8ZGl2IGNsYXNzTmFtZT0nd2lkZ2V0LW1hcCB3LTEwMCBoLTEwMCB3aWRnZXQtbWFwLWJhY2tncm91bmQnPlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfX0gY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7dGhpcy5zdGF0ZS5kZWZhdWx0TWFwSW5mbyAmJiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAnLCB7ICdtYXAtaXMtZGVzaWduLW1vZGUnOiAhY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZSkgfSl9PlxyXG4gICAgICAgICAgezxNdWx0aVNvdXJjZU1hcFxyXG4gICAgICAgICAgICBrZXk9ezB9IGZ1bGxTY3JlZW5NYXA9e3RoaXMucHJvcHMuZnVsbFNjcmVlbk1hcH1cclxuICAgICAgICAgICAgYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wc30gc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfSBpc0RlZmF1bHRNYXBcclxuICAgICAgICAgICAgcmVmPXt0aGlzLnByb3BzLnNldE11bHRpU291cmNlTWFwSW5zdGFuY2V9XHJcbiAgICAgICAgICAgIG9uVmlld0dyb3VwQ3JlYXRlPXt0aGlzLnByb3BzLm9uVmlld0dyb3VwQ3JlYXRlfVxyXG4gICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5wcm9wcy5vbkppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlfVxyXG4gICAgICAgICAgICB3aWRnZXRIZWlnaHQ9e3RoaXMucHJvcHMud2lkZ2V0SGVpZ2h0fSB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW49e3RoaXMucHJvcHMuaXNGdWxsU2NyZWVufSBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxyXG4gICAgICAgICAgICBkZWZhdWx0TWFwSW5mbz17dGhpcy5zdGF0ZS5kZWZhdWx0TWFwSW5mb31cclxuICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgPC9NdWx0aVNvdXJjZU1hcD59XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIFNlc3Npb25NYW5hZ2VyLCBlc3JpLCBnZXRBcHBTdG9yZSwgdHlwZSBJTVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJbWFnZVdpdGhQYXJhbSB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IFBsYWNlaG9sZGVyTWFwRmlsbGVkIH0gZnJvbSAnamltdS1pY29ucy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIG1hcEl0ZW1JZDogc3RyaW5nXHJcbiAgcG9ydFVybDogc3RyaW5nXHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlcyB7XHJcbiAgbWFwVGh1bWJVcmw6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBUaHVtYiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xyXG4gIHVubW91bnQgPSBmYWxzZVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIG1hcFRodW1iVXJsOiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICB0aGlzLnVubW91bnQgPSBmYWxzZVxyXG4gICAgdGhpcy5zZXRNYXBUaHVtYlVybCh0aGlzLnByb3BzLm1hcEl0ZW1JZClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlKSB7XHJcbiAgICBpZiAocHJldlByb3BzLm1hcEl0ZW1JZCAhPT0gdGhpcy5wcm9wcy5tYXBJdGVtSWQpIHtcclxuICAgICAgdGhpcy5zZXRNYXBUaHVtYlVybCh0aGlzLnByb3BzLm1hcEl0ZW1JZClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE1hcFRodW1iVXJsID0gKG1hcElkOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgIGlmICghbWFwSWQpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1hcFRodW1iVXJsOiBudWxsIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgbm8gcG9ydGFsVXJsIG9yIHNhbWUgdG8gY29uZmlnIHBvcnRhbHVybCwgdXNlIGFwcCBjb25maWcncyBwb3J0YWxVcmxcclxuICAgIGNvbnN0IHBvcnRhbFVybCA9IHRoaXMucHJvcHM/LnBvcnRVcmwgfHwgZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFVybFxyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U2Vzc2lvbkJ5VXJsKHBvcnRhbFVybCkgfHwgbnVsbFxyXG4gICAgZXNyaS5yZXN0UG9ydGFsLnNlYXJjaEl0ZW1zKHtcclxuICAgICAgcTogYGlkOiR7bWFwSWR9YCxcclxuICAgICAgYXV0aGVudGljYXRpb246IHNlc3Npb24sXHJcbiAgICAgIHBvcnRhbDogcG9ydGFsVXJsICsgJy9zaGFyaW5nL3Jlc3QnXHJcbiAgICB9KS50aGVuKGl0ZW1zID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnVubW91bnQpIHtcclxuICAgICAgICBpZiAoaXRlbXMucmVzdWx0c1swXT8udGh1bWJuYWlsKSB7XHJcbiAgICAgICAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTZXNzaW9uQnlVcmwocG9ydGFsVXJsKVxyXG4gICAgICAgICAgbGV0IHRlbXBUaHVtYlVybCA9IG51bGxcclxuICAgICAgICAgIGlmIChzZXNzaW9uICYmIHNlc3Npb24udG9rZW4pIHtcclxuICAgICAgICAgICAgdGVtcFRodW1iVXJsID0gYCR7cG9ydGFsVXJsfS9zaGFyaW5nL3Jlc3QvY29udGVudC9pdGVtcy8ke2l0ZW1zLnJlc3VsdHNbMF0uaWR9L2AgK1xyXG4gICAgICAgICAgICBgaW5mby8ke2l0ZW1zLnJlc3VsdHNbMF0udGh1bWJuYWlsfT90b2tlbj0ke3Nlc3Npb24udG9rZW59YFxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcFRodW1iVXJsID0gYCR7cG9ydGFsVXJsfS9zaGFyaW5nL3Jlc3QvY29udGVudC9pdGVtcy8ke2l0ZW1zLnJlc3VsdHNbMF0uaWR9L2AgK1xyXG4gICAgICAgICAgICBgaW5mby8ke2l0ZW1zLnJlc3VsdHNbMF0udGh1bWJuYWlsfWBcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWFwVGh1bWJVcmw6IHRlbXBUaHVtYlVybCB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWFwVGh1bWJVcmw6IG51bGwgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLnVubW91bnQgPSB0cnVlXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubWFwVGh1bWJVcmwpIHtcclxuICAgICAgcmV0dXJuIDxJbWFnZVdpdGhQYXJhbSBpbWFnZVBhcmFtPXt7IHVybDogdGhpcy5zdGF0ZS5tYXBUaHVtYlVybCB9fSAvPlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgcGFsZXR0ZSA9IHRoaXMucHJvcHMudGhlbWUuY29sb3JzLnBhbGV0dGVcclxuICAgICAgcmV0dXJuICg8ZGl2IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogcGFsZXR0ZS5saWdodFsyMDBdLCBoZWlnaHQ6ICcxMDAlJyB9fSA+XHJcbiAgICAgICAgICA8UGxhY2Vob2xkZXJNYXBGaWxsZWQgY29sb3I9e3BhbGV0dGUubGlnaHRbNjAwXX0gc2l6ZT17JzEwMCUnfSAvPlxyXG4gICAgICAgIDwvZGl2PilcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7XHJcbiAgUmVhY3QsIERhdGFTb3VyY2VNYW5hZ2VyLCBFeHRlbnRDaGFuZ2VNZXNzYWdlLCBEYXRhU291cmNlQ29tcG9uZW50LCBwb3J0YWxVcmxVdGlscywgdHlwZSBTcWxRdWVyeVBhcmFtcywgdHlwZSBEYXRhU291cmNlSnNvbixcclxuICBnZXRBcHBTdG9yZSwgTXV0YWJsZVN0b3JlTWFuYWdlciwgdHlwZSBJbW11dGFibGVPYmplY3QsIGRhdGFTb3VyY2VVdGlscywgdHlwZSBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCB0eXBlIFVzZURhdGFTb3VyY2UsXHJcbiAgdHlwZSBJbW11dGFibGVBcnJheSwgdHlwZSBKU0FQSUxheWVyTWl4aW4sIGNzcywganN4LCBsb2Rhc2gsIHNlcnZpY2VVcmxVdGlscywgb2JzZXJ2ZVN0b3JlLCB0eXBlIFJlc291cmNlU2Vzc2lvbnMsXHJcbiAgU2VydmljZU1hbmFnZXIsIFNlc3Npb25NYW5hZ2VyXHJcbn0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFVuc3Vic2NyaWJlIH0gZnJvbSAncmVkdXgnXHJcbmltcG9ydCB7IHR5cGUgSU1Db25maWcsIFNjZW5lUXVhbGl0eU1vZGUgfSBmcm9tICcuLi8uLi9jb25maWcnXHJcbmltcG9ydCB7IHR5cGUgTWFwRGF0YVNvdXJjZSwgRGF0YVNvdXJjZVR5cGVzLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBNYXBWaWV3TWFuYWdlciwgdHlwZSBKaW11TWFwVmlldywgem9vbVRvVXRpbHMsIHR5cGUgRGVmYXVsdE1hcEluZm8gfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgdHlwZSBJbml0aWFsTWFwU3RhdGUgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL21hcCdcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzLCBJY29uIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHtcclxuICBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIsIHVwZGF0ZUZlYXR1cmVsYXllciwgZ2V0TWFwQmFzZVJlc3RvcmVEYXRhLCByZXN0b3JlTWFwQmFzZSwgc2VsZWN0RmVhdHVyZSxcclxuICBtYXBQYW50bywgZmxhc2hGZWF0dXJlc0J5UXVlcnksIHByb2plY3RHZW9tZXRyaWVzLCBmaWx0ZXJGZWF0dXJlc0J5UXVlcnksIHByb2Nlc3Nab29tVG9GZWF0dXJlcyxcclxuICBnZXRMYXllcnNGcm9tRGF0YVNvdXJjZUlkcywgZ2V0SmltdU1hcFZpZXdJZCwgaXNOZWVkUHJvamVjdFZpZXdwb2ludCwgcHJvamVjdFZpZXdwb2ludCwgaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2UsXHJcbiAgaXNUd29XaWRnZXRzTXV0dWFsbHlFeHRlbnRDaGFuZ2UsIGlzU2FtZWxpa2VWaWV3cG9pbnRzLCBnZXRWaWV3cG9pbnRJbnN0YW5jZUZyb21IaXN0b3J5LCB1cGRhdGVVcmxIYXNoUGFyYW1zRm9yQWN0aXZlSmltdU1hcFZpZXcsXHJcbiAgdHlwZSBVcmxQYXJhbXNNYXBPcHRpb25zLCBnZXRNYXBPcHRpb25zQnlVcmxIYXNoUGFyYW1zLCBnZXRDaGFuZ2VkVmlld3BvaW50QnlWaWV3QW5kVXJsSGFzaFBhcmFtc1xyXG59IGZyb20gJy4uL3V0aWxzJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IHR5cGUgTWFwV2lkZ2V0UHJvcHMsIHR5cGUgQWN0aW9uUmVsYXRlZFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xyXG5pbXBvcnQgdHlwZSB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vbGF5b3V0L2xheW91dCdcclxuXHJcbmNvbnN0IEV4Y2hhbmdlID0gcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2ZycpXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhblxyXG4gIHdpZHRoQnJlYWtwb2ludDogc3RyaW5nXHJcbiAgaXNEZWZhdWx0TWFwPzogYm9vbGVhblxyXG4gIGJhc2VXaWRnZXRQcm9wczogTWFwV2lkZ2V0UHJvcHNcclxuICBzdGFydExvYWRNb2R1bGVzOiBib29sZWFuXHJcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICBkZWZhdWx0TWFwSW5mbz86IERlZmF1bHRNYXBJbmZvXHJcbiAgbXVsdGlTb3VyY2VNYXBEb206IEhUTUxEaXZFbGVtZW50XHJcbiAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHZvaWRcclxuXHJcbiAgb25FeHRlbnRDaGFuZ2VkPzogKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB2b2lkXHJcbiAgb25NYXBMb2FkZWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMpID0+IHZvaWRcclxuICBvbkppbXVNYXBWaWV3Q3JlYXRlZDogKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykgPT4gdm9pZFxyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcbiAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD86IChzaG93T25NYXBEYXRhc0tleTogc3RyaW5nW10pID0+IHZvaWRcclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfSElHSExJR0hUX0NPTE9SID0gJyMwMEZGRkYnXHJcbmNvbnN0IERFRkFVTFRfSElHSExJR0hUX0hBTE9fQ09MT1IgPSAnIzAwRkZGRidcclxuXHJcbmV4cG9ydCBlbnVtIE1hcExvYWRTdGF0dXMge1xyXG4gIExvYWRpbmcgPSAnTE9BRElORycsXHJcbiAgTG9hZG9rID0gJ0xPQURPSycsXHJcbiAgTG9hZEVycm9yID0gJ0xPQURFUlJPUidcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIaWdoTGlnaHRIYW5kbGUge1xyXG4gIGxheWVySWQ6IHN0cmluZ1xyXG4gIGhhbmRsZTogX19lc3JpLkhhbmRsZVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlIHtcclxuICBkYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gIGlzQmFzaWNNb2R1bGVzTG9hZGVkOiBib29sZWFuIC8vIHRydWUgbWVhbnMgY29tbW9uIG1vZHVsZXMgbG9hZGVkLCBub3QgbWVhbnMgYWxsIG5lZWQgbW9kdWxlcyBsb2FkZWRcclxuICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE1hcGJhc2VWaWV3ID0gKF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldykgJiB7XHJcbiAgbWFwYmFzZTogTWFwQmFzZVxyXG4gIGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm9cclxuICBpc0luQ2FjaGluZzogYm9vbGVhblxyXG4gIHZpZXdXaGVuSW5pdGlhbFZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludFxyXG4gIGxhc3RWaWV3cG9pbnRUb1VwZGF0ZVVybFBhcmFtczogX19lc3JpLlZpZXdwb2ludFxyXG4gIGxhc3RWaWV3cG9pbnRVcmxQYXJhbVVwZGF0ZVRpbWVzdGFtcDogbnVtYmVyXHJcbiAgdmlld1doZW5UaW1lc3RhbXA6IG51bWJlclxyXG4gIC8vIHRydWUgbWVhbnMgdmlldy5pbnRlcmFjdGluZyBzZXQgdG8gdHJ1ZSBhdCBsZWFzdCBvbmUgdGltZVxyXG4gIHdhdGNoSW50ZXJhY3RpbmdIYW5kbGU6IF9fZXNyaS5XYXRjaEhhbmRsZVxyXG4gIGV4dGVudFdhdGNoSGFuZGxlOiBfX2VzcmkuV2F0Y2hIYW5kbGVcclxuICBmYXRhbEVycm9yV2F0Y2hIYW5kbGU6IF9fZXNyaS5XYXRjaEhhbmRsZVxyXG4gIGhpZ2hMaWdodEhhbmRsZXM6IHsgW2xheWVySWQ6IHN0cmluZ106IF9fZXNyaS5IYW5kbGUgfVxyXG4gIG1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzOiB7IFtldmVudE5hbWU6IHN0cmluZ106IF9fZXNyaS5IYW5kbGUgfVxyXG4gIHN0YXRpb25hcnlUaW1lcklkOiBOb2RlSlMuVGltZW91dFxyXG4gIC8vIFVzZSBleHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzIHRvIGF2b2lkIHR3byBtYXAgd2lkZ2V0IHR3by13YXkgZXh0ZW50IHN5bmNcclxuICBleHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzOiBzdHJpbmdbXVxyXG4gIGZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWU6IG51bWJlclxyXG4gIC8vIHZpZXdwb2ludEhpc3RvcnkgdXNlZCB0byBzdG9yZSBhbGwgc3RhdGljIHZpZXdwb2ludHMsIHVzZWQgZm9yIEV4dGVudE5hdmlnYXRpb25cclxuICB2aWV3cG9pbnRIaXN0b3J5OiBfX2VzcmkuVmlld3BvaW50W11cclxuICB2aWV3cG9pbnRJbmRleDogbnVtYmVyXHJcbiAgc3RhdGlvbmFyeUNhbGxiYWNrPzogKCkgPT4gdm9pZFxyXG4gIGxhc3Rab29tVG9FeHRlbnRUaW1lOiBudW1iZXJcclxuICAvKipcclxuICAgKiBtZXNzYWdlIHdvcmtmbG93OiByZWNlaXZlIG1lc3NhZ2UgKHRpbWUxKSAtPiBtYXliZSBhc3luYyAtPiB1cGRhdGUgdmlldyAodGltZTIpLCB0aW1lMSBhbmQgdGltZTIgbWF5YmUgZGlmZmVyZW50XHJcbiAgICogcmVjZWl2ZU1lc3NhZ2VUaW1lT2ZMYXN0Vmlld1VwZGF0ZSBpcyB0aW1lMSBvZiBsYXN0IHVwZGF0ZSB2aWV3XHJcbiAgICovXHJcbiAgcmVjZWl2ZU1lc3NhZ2VUaW1lT2ZMYXN0Vmlld1VwZGF0ZTogbnVtYmVyXHJcbiAgaXNNYXBUb29sc0hpZGRlbjogYm9vbGVhblxyXG4gIHB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlOiAoc3RhdGlvbmFyeTogYm9vbGVhbiwgaW50ZXJhY2l2ZTogYm9vbGVhbikgPT4gdm9pZFxyXG4gIGhpZGVNYXBUb29sczogKCkgPT4gdm9pZFxyXG4gIHNob3dNYXBUb29sczogKCkgPT4gdm9pZFxyXG4gIGluaXRVcmxIYXNoTWFwT3B0aW9ucz86IFVybFBhcmFtc01hcE9wdGlvbnNcclxuXHJcbiAgaXNWaWV3V2hlblJlYWR5PzogYm9vbGVhblxyXG59XHJcblxyXG4vKipcclxuICogQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gKiBXZSBhcmUgY3JlYXRpbmcgbWFwVmlldzEgZm9yIGRhdGFTb3VyY2UxLCB0aGUgY3JlYXRpb24gcHJvY2VzcyBpcyBhc3luYyBhbmQgd2UgZ2V0IHRoZSBwcm9taXNlMS5cclxuICogRHVyaW5nIHRoZSBjcmVhdGlvbiBwcm9jZXNzLCB0aGUgcHJvcHMuZGF0YVNvdXJjZUlkIGNoYW5nZWQsIHRoZW4gcHJvbWlzZTEgaXMgcmVzb2x2ZWQuXHJcbiAqIFdlIHNob3VsZCBub3QgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgbG9naWMgb2YgcHJvbWlzZTEudGhlbihjYWxsYmFjaykgYmVjYXVzZSB0aGUgbGF0ZXN0IGV4cGVjdGVkIG1hcFZpZXcgaXMgbWFwVmlldzIsIG5vdCBtYXBWaWV3MS5cclxuICogU28gd2UgbmVlZCBhIHdheSB0byBpZGVudGlmeSBpZiB3ZSBzaG91bGQgZXhlY3V0ZSBjYWxsYmFjayBpbiBldmVyeSBwcm9taXNlLnRoZW4oY2FsbGJhY2spLiBXZSBjYW4gdXNlIE1hcGJhc2VEYXRhU291cmNlSW5mbyB0byBzb2x2ZSBpdC5cclxuICpcclxuICogTWFwYmFzZURhdGFTb3VyY2VJbmZvIGlzIHVzZWQgdG8gY3JlYXRlIG1hcCB2aWV3IG9yIHNjZW5lIHZpZXcuIEVhY2ggTWFwYmFzZURhdGFTb3VyY2VJbmZvIGhhcyBhIHVuaXF1ZSBpZCwgdGhlIHVuaXF1ZUlkIGlzIGNhbGN1bGF0ZWQgYnkgZGF0YSBzb3VyY2UgdHlwZSwgZGF0YSBzb3VyY2VJZCBhbmQgaXRlbUlkLlxyXG4gKiBXaGVuIHdlIG5lZWQgdG8gY3JlYXRlIG1hcFZpZXcxLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8uIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbyBhbHdheXMgYmluZCB0byB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZC5cclxuICogV2UgcGFzcyB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gYXMgZm9ybWFsIHBhcmFtZXRlciB0byBtYXAgY3JlYXRpb24gcmVsYXRlZCBmdW5jdGlvbnMgd2hlbiB3ZSBjcmVhdGUgYSBtYXBWaWV3LlxyXG4gKiBBbmQgaW4gdGhlIG1hcCBjcmVhdGlvbiBwcm9taXNlLnRoZW4oY2FsbGJhY2spLCB3ZSBjaGVjayB0aGUgZGF0YVNvdXJjZUluZm8udW5pcXVlSWQgaXMgY2hhbmdlZCBvciBub3QuIElmIGNoYW5nZWQsIHdlIHN0b3AgdGhlIGNhbGxiYWNrIGxvZ2ljLiBJZiBub3QgY2hhbmdlZCwgZ28gaGVhZC5cclxuICpcclxuICogQWxsIGRhdGEgc291cmNlIGNhc2VzOlxyXG4gKiAxLiB1c2UgZGVmYXVsdCB3ZWJtYXBcclxuICogMi4gdXNlciBzZWxlY3QgYSB3ZWJtYXAgZGF0YSBzb3VyY2VcclxuICogMy4gdXNlciBzZWxlY3QgYSB3ZWJzY2VuZSBkYXRhIHNvdXJjZVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNYXBiYXNlRGF0YVNvdXJjZUluZm8ge1xyXG4gIC8vIHRydWUgZm9yIGRhdGEgc291cmNlIGNhc2UxLCBmYWxzZSBmb3IgZGF0YSBzb3VyY2UgY2FzZTIgYW5kIGNhc2UzXHJcbiAgaXNEZWZhdWx0TWFwOiBib29sZWFuXHJcblxyXG4gIC8vIHRydWUgZm9yIGRhdGEgc291cmNlIGNhc2UxIGFuZCBjYXNlMiwgZmFsc2UgZm9yIGRhdGEgc291cmNlIGNhc2UzXHJcbiAgaXNXZWJNYXA6IGJvb2xlYW5cclxuXHJcbiAgLy8gZm9ybWF0IGlzIDx3ZWJtYXAgb3Igd2Vic2NlbmU+LWRhdGFTb3VyY2VJZC1pdGVtSWRcclxuICAvLyBleGFtcGxlczpcclxuICAvLyB1c2UgZGVmYXVsdCB3ZWJtYXA6ICd3ZWJtYXAtZGVmYXVsdCdcclxuICAvLyB1c2VyIHNlbGVjdCBhIHdlYm1hcCBkYXRhIHNvdXJjZTogJ3dlYm1hcC1kYXRhU291cmNlXzEtMmM4ZDlhNzcyYWEwNGU1OTg1YWMzMDMwZGJlY2IyMzInXHJcbiAgLy8gdXNlciBzZWxlY3QgYSB3ZWJzY2VuZSBkYXRhIHNvdXJjZTogJ3dlYnNjZW5lLWRhdGFTb3VyY2VfMS0yYzhkOWE3NzJhYTA0ZTU5ODVhYzMwMzBkYmVjYjIzMidcclxuICB1bmlxdWVJZDogc3RyaW5nXHJcblxyXG4gIC8vIG51bGwgZm9yIGRhdGEgc291cmNlIGNhc2UxLCBub3QgbnVsbCBmb3IgZGF0YSBzb3VyY2UgY2FzZTIgYW5kIGNhc2UzXHJcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuXHJcbiAgamltdU1hcFZpZXdJZDogc3RyaW5nXHJcblxyXG4gIGRhdGFTb3VyY2VKc29uOiBJbW11dGFibGVPYmplY3Q8RGF0YVNvdXJjZUpzb24+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBtYXBiYXNlLm1hcENyZWF0aW5nSW5mbyBpcyBub3QgbnVsbCBkdXJpbmcgdGhlIGFzeW5jIG1hcChNYXBWaWV3L0ppbXVNYXBWaWV3KSBjcmVhdGlvbiBwZXJpb2QuXHJcbiAqIFdoZW4gbWFwIGNyZWF0ZWQsIG1hcGJhc2UubWFwQ3JlYXRpbmdJbmZvIGlzIHNldCB0byBudWxsLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNYXBDcmVhdGluZ0luZm8ge1xyXG4gIGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm9cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNYXBiYXNlUmVzdG9yZURhdGEge1xyXG4gIG1hcENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuICBzdGF0ZTogU3RhdGVcclxuXHJcbiAgR2VvbWV0cnk6IHR5cGVvZiBfX2VzcmkuR2VvbWV0cnlcclxuICBJbml0aWFsVmlld1Byb3BlcnRpZXM6IHR5cGVvZiBfX2VzcmkuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzXHJcbiAgVGlsZUxheWVyOiB0eXBlb2YgX19lc3JpLlRpbGVMYXllclxyXG4gIEJhc2VtYXA6IHR5cGVvZiBfX2VzcmkuQmFzZW1hcFxyXG4gIE1hcFZpZXc6IHR5cGVvZiBfX2VzcmkuTWFwVmlld1xyXG4gIFNjZW5lVmlldzogdHlwZW9mIF9fZXNyaS5TY2VuZVZpZXdcclxuICBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnkuRXh0ZW50XHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludFxyXG4gIFBvcnRhbEl0ZW06IHR5cGVvZiBfX2VzcmkuUG9ydGFsSXRlbVxyXG4gIFBvcnRhbDogdHlwZW9mIF9fZXNyaS5Qb3J0YWxcclxuICBXZWJNYXA6IHR5cGVvZiBfX2VzcmkuV2ViTWFwXHJcbiAgV2ViU2NlbmU6IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmVcclxuICBDb2xvcjogdHlwZW9mIF9fZXNyaS5Db2xvclxyXG4gIFNwYXRpYWxSZWZlcmVuY2U6IHR5cGVvZiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZVxyXG4gIFBvaW50OiB0eXBlb2YgX19lc3JpLlBvaW50XHJcblxyXG4gIGV4cGVjdGVkRGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mb1xyXG4gIG1hcENyZWF0aW5nSW5mbzogTWFwQ3JlYXRpbmdJbmZvXHJcbiAgdmlldzogTWFwYmFzZVZpZXdcclxuICBsYXN0VXBkYXRlVmlld0NvbmZpZzogSU1Db25maWdcclxuICBtYXBEczogTWFwRGF0YVNvdXJjZVxyXG5cclxuICBkc01hbmFnZXI6IERhdGFTb3VyY2VNYW5hZ2VyXHJcbiAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlOiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcEJhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG4gIG1hcENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuICB3aWRnZXRDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcblxyXG4gIEdlb21ldHJ5OiB0eXBlb2YgX19lc3JpLkdlb21ldHJ5XHJcbiAgSW5pdGlhbFZpZXdQcm9wZXJ0aWVzOiB0eXBlb2YgX19lc3JpLkluaXRpYWxWaWV3UHJvcGVydGllc1xyXG4gIFRpbGVMYXllcjogdHlwZW9mIF9fZXNyaS5UaWxlTGF5ZXJcclxuICBCYXNlbWFwOiB0eXBlb2YgX19lc3JpLkJhc2VtYXBcclxuICBNYXBWaWV3OiB0eXBlb2YgX19lc3JpLk1hcFZpZXdcclxuICBTY2VuZVZpZXc6IHR5cGVvZiBfX2VzcmkuU2NlbmVWaWV3XHJcbiAgRXh0ZW50OiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5LkV4dGVudFxyXG4gIFZpZXdwb2ludDogdHlwZW9mIF9fZXNyaS5WaWV3cG9pbnRcclxuICBQb3J0YWxJdGVtOiB0eXBlb2YgX19lc3JpLlBvcnRhbEl0ZW1cclxuICBQb3J0YWw6IHR5cGVvZiBfX2VzcmkuUG9ydGFsXHJcbiAgV2ViTWFwOiB0eXBlb2YgX19lc3JpLldlYk1hcFxyXG4gIFdlYlNjZW5lOiB0eXBlb2YgX19lc3JpLldlYlNjZW5lXHJcbiAgQ29sb3I6IHR5cGVvZiBfX2VzcmkuQ29sb3JcclxuICBTcGF0aWFsUmVmZXJlbmNlOiB0eXBlb2YgX19lc3JpLlNwYXRpYWxSZWZlcmVuY2VcclxuICBQb2ludDogdHlwZW9mIF9fZXNyaS5Qb2ludFxyXG5cclxuICBleHBlY3RlZERhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm9cclxuICBtYXBDcmVhdGluZ0luZm86IE1hcENyZWF0aW5nSW5mbyAvLyBtYXBDcmVhdGluZ0luZm8gYW5kIHZpZXcgYXJlIG11dHVhbGx5LWV4Y2x1c2l2ZVxyXG4gIHZpZXc6IE1hcGJhc2VWaWV3XHJcbiAgbGFzdFVwZGF0ZVZpZXdDb25maWc6IElNQ29uZmlnXHJcbiAgbWFwRHM6IE1hcERhdGFTb3VyY2VcclxuXHJcbiAgZHNNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gIGlzRmlyc3RSZWNlaXZlTWVzc2FnZSA9IHRydWVcclxuXHJcbiAgX191bm1vdW50ID0gZmFsc2VcclxuICAvLyB0cnVlIG1lYW5zIG1hcGJhc2UudmlldyBpcyByZXN0b3JlZCBmcm9tIE11dGFibGVTdG9yZVxyXG4gIHJlc3RvcmVkOiBib29sZWFuXHJcblxyXG4gIGNyZWF0ZUZhaWxlZERhdGFTb3VyY2VJZHM6IHsgW2RzSWQ6IHN0cmluZ106IGJvb2xlYW4gfVxyXG5cclxuICByZXNvdXJjZVNlc3Npb25zVW5zdWJzY3JpYmU/OiBVbnN1YnNjcmliZVxyXG5cclxuICAvLyBsYXN0IHVzZXIgaW50ZXJhY3RpdmUgdmlld1xyXG4gIHN0YXRpYyBsYXN0SW50ZXJhY2l2ZVZpZXc6IE1hcGJhc2VWaWV3XHJcblxyXG4gIC8vIFJlY29yZCB0aGUgSmltdU1hcFZpZXcvTWFwYmFzZSBpbml0ZWQgY291bnQgZm9yIHRoZSBzcGVjaWZpYyBqaW11TWFwVmlld0lkIChtYXBXaWRnZXRJZCArIGRhdGFTb3VyY2VJZCkgYXQgcnVudGltZSwgdGhlIGtleSBpcyBqaW11TWFwVmlld0lkLCB0aGUgdmFsdWUgaXMgdGhlIEppbXVNYXBWaWV3L01hcGJhc2UgaW5pdGVkIGNvdW50LlxyXG4gIC8vIFdlIHVzZSBydW50aW1lSW5pdGVkSmltdU1hcFZpZXdzIHRvIGlkZW50aWZ5IHdoZXRoZXIgdGhlIEppbXVNYXBWaWV3L01hcGJhc2UgaXMgaW5pdGlhbGl6ZWQgZm9yIHRoZSBmaXJzdCB0aW1lLFxyXG4gIC8vIGFuZCByZXBsYWNlIGNvbmZpZy5pbml0aWFsTWFwU3RhdGUgd2l0aCBtYXBfc3RhdGUgaW4gdGhlIHVybCBoYXNoIGR1cmluZyB0aGUgZmlyc3QgaW5pdGlhbGl6YXRpb24uXHJcbiAgc3RhdGljIHJ1bnRpbWVJbml0ZWRKaW11TWFwVmlld3M6IHsgW2ppbXVNYXBWaWV3SWQ6IHN0cmluZ106IG51bWJlciB9ID0ge31cclxuXHJcbiAgLy8gdW5pcXVlSWQgY29tZXMgZnJvbSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8udW5pcXVlSWRcclxuICBtYXBWaWV3Q3JlYXRlRmFpbGVkVW5pcXVlSWRzSW5mbzogeyBbdW5pcXVlSWQ6IHN0cmluZ106IGJvb2xlYW4gfVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuZGVib3VuY2VVcGRhdGVVcmxIYXNoUGFyYW1zID0gbG9kYXNoLmRlYm91bmNlKCgpID0+IHtcclxuICAgICAgdGhpcy51cGRhdGVVcmxIYXNoUGFyYW1zKClcclxuICAgIH0sIDUwMClcclxuXHJcbiAgICB0aGlzLnJlc3RvcmVkID0gZmFsc2VcclxuICAgIHRoaXMuY3JlYXRlRmFpbGVkRGF0YVNvdXJjZUlkcyA9IHt9XHJcbiAgICB0aGlzLm1hcFZpZXdDcmVhdGVGYWlsZWRVbmlxdWVJZHNJbmZvID0ge31cclxuXHJcbiAgICB0aGlzLnVwZGF0ZUV4cGVjdGVkRGF0YVNvdXJjZUluZm8oKVxyXG5cclxuICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gdGhpcy5nZXRSZXN0b3JlRGF0YUZyb21NUygpXHJcblxyXG4gICAgaWYgKHJlc3RvcmVEYXRhICYmIHJlc3RvcmVEYXRhLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8udW5pcXVlSWQgPT09IHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mby51bmlxdWVJZCkge1xyXG4gICAgICByZXN0b3JlTWFwQmFzZSh0aGlzLCByZXN0b3JlRGF0YSlcclxuICAgICAgdGhpcy51cGRhdGVSZXN0b3JlRGF0YVRvTVMobnVsbClcclxuICAgICAgdGhpcy5iaW5kTWFwQmFzZVZpZXdFdmVudCh0aGlzLnZpZXcpXHJcblxyXG4gICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmlzSW5DYWNoaW5nID0gZmFsc2VcclxuICAgICAgICB0aGlzLnZpZXcubWFwYmFzZSA9IHRoaXNcclxuICAgICAgICB0aGlzLnJlc3RvcmVkID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMudHJ5RmF0YWxFcnJvclJlY292ZXJ5KHRoaXMudmlldylcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudmlldy5pc01hcFRvb2xzSGlkZGVuKSB7XHJcbiAgICAgICAgICB0aGlzLnZpZXcuaGlkZU1hcFRvb2xzKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy52aWV3LnNob3dNYXBUb29scygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogbnVsbCxcclxuICAgICAgICBpc0Jhc2ljTW9kdWxlc0xvYWRlZDogZmFsc2UsXHJcbiAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVuc3Vic2NyaWJlUmVzb3VyY2VTZXNzaW9ucygpXHJcblxyXG4gICAgLy8gT2JzZXJ2ZSBubyBwZXJtaXNzaW9uIHJlc291cmNlIGNoYW5nZXMuXHJcbiAgICB0aGlzLnJlc291cmNlU2Vzc2lvbnNVbnN1YnNjcmliZSA9IG9ic2VydmVTdG9yZSh0aGlzLm9uU3RvcmVSZXNvdXJjZVNlc3Npb25zQ2hhbmdlLmJpbmQodGhpcyksIFsncmVzb3VyY2VTZXNzaW9ucyddKVxyXG4gIH1cclxuXHJcbiAgdW5zdWJzY3JpYmVSZXNvdXJjZVNlc3Npb25zICgpIHtcclxuICAgIGlmICh0aGlzLnJlc291cmNlU2Vzc2lvbnNVbnN1YnNjcmliZSkge1xyXG4gICAgICB0aGlzLnJlc291cmNlU2Vzc2lvbnNVbnN1YnNjcmliZSgpXHJcbiAgICAgIHRoaXMucmVzb3VyY2VTZXNzaW9uc1Vuc3Vic2NyaWJlID0gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAobmV4dFByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xyXG4gICAgaWYgKG5leHRQcm9wcy5kYXRhU291cmNlSWQgIT09IHByZXZTdGF0ZS5kYXRhU291cmNlSWQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhU291cmNlSWQ6IG5leHRQcm9wcy5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAuZXNyaS12aWV3IC5lc3JpLXZpZXctc3VyZmFjZTpmb2N1czo6YWZ0ZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBsZXQgdXNlRGF0YVNvdXJjZSA9IG51bGxcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgdXNlRGF0YVNvdXJjZSA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uZGF0YVNvdXJjZUlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgbWFwLWJhc2UnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IGNzcz17dGhpcy5nZXRTdHlsZSgpfSByZWY9e3JlZiA9PiB7IHRoaXMud2lkZ2V0Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgIHsodGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzID09PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpICYmXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgd2lkZ2V0LW1hcC1iYWNrZ3JvdW5kJz5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfX0gY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxyXG4gICAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHsodGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzID09PSBNYXBMb2FkU3RhdHVzLkxvYWRFcnJvcikgJiZcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCB3aWRnZXQtbWFwLWJhY2tncm91bmQnPlxyXG4gICAgICAgICAgICB7dGhpcy5nZXRNYXBTd2l0Y2hGb3JFcnJvck1hcCgpfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyJz57dGhpcy5mb3JtYXRNZXNzYWdlKCdtYXBGYWlsdXJlJyl9PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCAmJiA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBkaXNwbGF5OiAnbm9uZScgfX0+PERhdGFTb3VyY2VDb21wb25lbnRcclxuICAgICAgICAgIHVzZURhdGFTb3VyY2U9e3VzZURhdGFTb3VyY2V9XHJcbiAgICAgICAgICBvbkRhdGFTb3VyY2VDcmVhdGVkPXt0aGlzLm9uRGF0YVNvdXJjZUNyZWF0ZWR9IG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZD17dGhpcy5vbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWR9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxyXG5cclxuICAgIGlmICh0aGlzLndpZGdldENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3aWRnZXQtbWFwJykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlmICghdGhpcy5tYXBDb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLm1hcENvbnRhaW5lciA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgdGhpcy5tYXBDb250YWluZXIuY2xhc3NOYW1lID0gJ3ctMTAwIGgtMTAwIHdpZGdldC1tYXAgbWFwdmlldy1jb250YWluZXInXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubWFwQ29udGFpbmVyKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXMpIHtcclxuICAgICAgdGhpcy5sb2FkQ29tbW9uTW9kdWxlcygpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucmVzdG9yZWQpIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgIGlmIChqaW11TWFwVmlldyAmJiAhamltdU1hcFZpZXcuaXNDYWNoZWQoKSkge1xyXG4gICAgICAgIGppbXVNYXBWaWV3Lm9uUmVzdG9yZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcykge1xyXG4gICAgdGhpcy50cnlDcmVhdGVNYXBWaWV3V2hlbkRpZFVwZGF0ZShwcmV2UHJvcHMpXHJcbiAgICB0aGlzLnRyeUhhbmRsZVVybFBhcmFtc0NoYW5nZVdoZW5EaWRVcGRhdGUocHJldlByb3BzKVxyXG4gIH1cclxuXHJcbiAgdHJ5Q3JlYXRlTWFwVmlld1doZW5EaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMpIHtcclxuICAgIC8vIHVwZGF0ZSB0aGUgdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvIGJ5IHRoZSBjdXJyZW50IHByb3BzXHJcbiAgICB0aGlzLnVwZGF0ZUV4cGVjdGVkRGF0YVNvdXJjZUluZm8oKVxyXG5cclxuICAgIGlmICghdGhpcy5zdGF0ZS5pc0Jhc2ljTW9kdWxlc0xvYWRlZCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBzaG91bGQgd2UgY2hlY2sgaXNNYXBJblZpc2libGVBcmVhIGJlZm9yZSB0aGlzLmNoZWNrQW5kSGFuZGxlSWZEYXRhU291cmNlSWRQcm9wQ2hhbmdlKCkgP1xyXG4gICAgLy8gcHJvcHMuaXNNYXBJblZpc2libGVBcmVhIGNoYW5nZWRcclxuICAgIGlmICh0aGlzLnZpZXcgJiYgcHJldlByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAhPT0gdGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgJiYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA9PT0gMikpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmlzSW5DYWNoaW5nID0gZmFsc2VcclxuICAgICAgICB0aGlzLnRyeUZhdGFsRXJyb3JSZWNvdmVyeSh0aGlzLnZpZXcpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmlzSW5DYWNoaW5nID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhlIGZvbGxvd2luZyBjb2RlIGlzIG1haW5seSB1c2VkIHRvIGNoZWNrIGFuZCBoYW5kbGUgaWYgZGF0YVNvdXJjZUlkIHByb3AgY2hhbmdlXHJcbiAgICBsZXQgbmVlZENyZWF0ZU5ld1ZpZXcgPSBmYWxzZVxyXG5cclxuICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgLy8gdGhpcy52aWV3IGNyZWF0ZWQsIG5vdyBuZWVkIHRvIGNoZWNrIGlmIHRoaXMudmlldyBtYXRjaCB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCBvciBub3RcclxuICAgICAgaWYgKHRoaXMuaXNWaWV3RXhwZWN0ZWQodGhpcy52aWV3KSkge1xyXG4gICAgICAgIC8vIGRhdGEgc291cmNlIG1hdGNoIHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBkbyBub3RoaW5nXHJcbiAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSBmYWxzZVxyXG4gICAgICAgIC8vIHRoaXMudmlldyBpcyB0aGUgZXhwZWN0ZWQgdmlld1xyXG4gICAgICAgIC8vIFdlIGNhbGwgdGhpcy50cnlVcGRhdGVDdXJyZW50Vmlld0J5Q29uZmlnUHJvcHMoKSB0byBjb25zdW1lIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZyBjaGFuZ2VcclxuICAgICAgICB0aGlzLnRyeVVwZGF0ZUN1cnJlbnRWaWV3QnlDb25maWdQcm9wcyhmYWxzZSlcclxuICAgICAgICAvLyBXZSBjYWxsIHRoaXMuY2hlY2tBbmRIYW5kbGVNdXRhYmxlU3RhdGVQcm9wcygpIHRvIGNvbnN1bWUgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMgY2hhbmdlXHJcbiAgICAgICAgdGhpcy5jaGVja0FuZEhhbmRsZU11dGFibGVTdGF0ZVByb3BzKClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBkYXRhIHNvdXJjZSBjaGFuZ2VkLCB3ZSBuZWVkIHRvIGRlc3Ryb3kgdGhpcy52aWV3XHJcbiAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHRoaXMudmlldyBub3QgY3JlYXRlZCwgd2UgbmVlZCB0byBjaGVjayBpZiB3ZSBhcmUgY3JlYXRpbmcgdGhlIGV4cGVjdGVkIHZpZXdcclxuICAgICAgaWYgKHRoaXMuaXNDcmVhdGluZ0V4cGVjdGVkVmlldygpKSB7XHJcbiAgICAgICAgLy8gV2UgYXJlIGNyZWF0aW5nIHRoZSBleHBlY3RlZCB2aWV3LCBkbyBub3RoaW5nXHJcbiAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSBmYWxzZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHVuaXF1ZUlkID0gdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvPy51bmlxdWVJZFxyXG5cclxuICAgICAgICBpZiAodW5pcXVlSWQgJiYgdGhpcy5tYXBWaWV3Q3JlYXRlRmFpbGVkVW5pcXVlSWRzSW5mb1t1bmlxdWVJZF0pIHtcclxuICAgICAgICAgIC8vIG1hcCB2aWV3IGNyZWF0ZSBmYWlsZWQgYmVmb3JlLCBkb24ndCBuZWVkIHRvIHJlY3JlYXRlIHZpZXdcclxuICAgICAgICAgIG5lZWRDcmVhdGVOZXdWaWV3ID0gZmFsc2VcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gbmVlZCB0byBjcmVhdGUgbmV3IHZpZXdcclxuICAgICAgICAgIG5lZWRDcmVhdGVOZXdWaWV3ID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZWVkQ3JlYXRlTmV3Vmlldykge1xyXG4gICAgICB0aGlzLmRlc3Ryb3lDdXJyZW50TWFwYmFzZVZpZXcoKVxyXG4gICAgICB0aGlzLmNhY2hlTG9hZE1vZHVsZXNBbmRDcmVhdGVNYXBiYXNlVmlldyh0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBXaGVuIHVzZXIgdXBkYXRlcyBtYXAgdXJsIHBhcmFtcyBtYW51YWxseSwgd2UgbmVlZCB0byB1cGRhdGUgdmlldy52aWV3cG9pbnQuXHJcbiAgdHJ5SGFuZGxlVXJsUGFyYW1zQ2hhbmdlV2hlbkRpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKCF0aGlzLnZpZXcpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcHJlUnVudGltZVVybEhhc2hQYXJhbXMgPSBwcmV2UHJvcHM/LmJhc2VXaWRnZXRQcm9wcz8ucnVudGltZVVybEhhc2hQYXJhbXNcclxuICAgICAgY29uc3QgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zID0gdGhpcy5wcm9wcz8uYmFzZVdpZGdldFByb3BzPy5ydW50aW1lVXJsSGFzaFBhcmFtc1xyXG5cclxuICAgICAgaWYgKGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcyAmJiBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMgIT09IHByZVJ1bnRpbWVVcmxIYXNoUGFyYW1zICYmIGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy5hY3RpdmVfZGF0YXNvdXJjZV9pZCkge1xyXG4gICAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5nZXRKaW11TWFwVmlld0ZvVmlldyh0aGlzLnZpZXcpXHJcblxyXG4gICAgICAgIGlmIChqaW11TWFwVmlldyAmJiBqaW11TWFwVmlldy5pc0FjdGl2ZSAmJiBqaW11TWFwVmlldy5kYXRhU291cmNlSWQgPT09IGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy5hY3RpdmVfZGF0YXNvdXJjZV9pZCkge1xyXG4gICAgICAgICAgLy8gV2hlbiB1c2VyIG1vdmUgbWFwLCBpdCB3aWxsIHRyaWdnZXIgZXh0ZW50IGNoYW5nZSBldmVudCwgYW5kIHVwZGF0ZVVybEhhc2hQYXJhbXNGb3JBY3RpdmVKaW11TWFwVmlldygpIG1ldGhvZCB3aWxsIGNhbGwgdXJsTWFuYWdlci5zZXRXaWRnZXRVcmxQYXJhbXMoKSB0byBjaGFuZ2UgdXJsIHBhcmFtcy5cclxuICAgICAgICAgIC8vIFRoZW4gaXQgd2lsbCB0cmlnZ2VyIGNvbXBvbmVudERpZFVwZGF0ZSgpIGJlY2F1c2UgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucnVudGltZVVybEhhc2hQYXJhbXMgY2hhbmdlZC4gRm9yIHRoaXMgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byBoYW5kbGUgaXQgdG8gYXZvaWQgZGVhZCBsb29wLlxyXG4gICAgICAgICAgLy8gU28gd2UgbmVlZCB0byBkZXRlcm1pbmUgdGhlIHVybCBpcyBjaGFuZ2VkIGJ5IHVzZXIgb3IgbWFwIHNlbGYuXHJcbiAgICAgICAgICAvLyBCeSB0ZXN0LCB0aGUgZHVyYXRpb24gYmV0d2VlbiB1cmxNYW5hZ2VyLnNldFdpZGdldFVybFBhcmFtcygpIGFuZCBjb21wb25lbnREaWRVcGRhdGUoKSBpcyBhYm91dCAzfjRtcywgd2UgdXNlIDEwMG1zIGhlcmUgZm9yIHNhZmUuXHJcbiAgICAgICAgICBjb25zdCBpc1VybFBhcmFtc0NoYW5nZUJ5TWFwU2VsZiA9IHRoaXMudmlldy5sYXN0Vmlld3BvaW50VXJsUGFyYW1VcGRhdGVUaW1lc3RhbXAgPiAwICYmIChEYXRlLm5vdygpIC0gdGhpcy52aWV3Lmxhc3RWaWV3cG9pbnRVcmxQYXJhbVVwZGF0ZVRpbWVzdGFtcCkgPD0gMTAwXHJcbiAgICAgICAgICBjb25zdCBpc1VybFBhcmFtc0NoYW5nZWRCeVVzZXIgPSAhaXNVcmxQYXJhbXNDaGFuZ2VCeU1hcFNlbGZcclxuXHJcbiAgICAgICAgICBpZiAoaXNVcmxQYXJhbXNDaGFuZ2VkQnlVc2VyKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1cmwgaGFzaCBwcmFtcyBjaGFuZ2VkJywgRGF0ZS5ub3coKSlcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHVybFBhcmFtVmlld3BvaW50Q2hhbmdlZCA9IGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy52aWV3cG9pbnQgJiYgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLnZpZXdwb2ludCAhPT0gcHJlUnVudGltZVVybEhhc2hQYXJhbXM/LnZpZXdwb2ludFxyXG4gICAgICAgICAgICBjb25zdCB1cmxQYXJhbUNlbnRlckNoYW5nZWQgPSBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMuY2VudGVyICYmIGN1cnJSdW50aW1lVXJsSGFzaFBhcmFtcy5jZW50ZXIgIT09IHByZVJ1bnRpbWVVcmxIYXNoUGFyYW1zPy5jZW50ZXJcclxuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1TY2FsZUNoYW5nZWQgPSBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMuc2NhbGUgJiYgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLnNjYWxlICE9PSBwcmVSdW50aW1lVXJsSGFzaFBhcmFtcz8uc2NhbGVcclxuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1Sb3RhdGlvbkNoYW5nZWQgPSBjdXJyUnVudGltZVVybEhhc2hQYXJhbXMucm90YXRpb24gJiYgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLnJvdGF0aW9uICE9PSBwcmVSdW50aW1lVXJsSGFzaFBhcmFtcz8ucm90YXRpb25cclxuXHJcbiAgICAgICAgICAgIGlmICh1cmxQYXJhbVZpZXdwb2ludENoYW5nZWQgfHwgdXJsUGFyYW1DZW50ZXJDaGFuZ2VkIHx8IHVybFBhcmFtU2NhbGVDaGFuZ2VkIHx8IHVybFBhcmFtUm90YXRpb25DaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2hhbmdlZFZpZXdwb2ludCA9IGdldENoYW5nZWRWaWV3cG9pbnRCeVZpZXdBbmRVcmxIYXNoUGFyYW1zKFxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LFxyXG4gICAgICAgICAgICAgICAgY3VyclJ1bnRpbWVVcmxIYXNoUGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgdXJsUGFyYW1WaWV3cG9pbnRDaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgdXJsUGFyYW1DZW50ZXJDaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgdXJsUGFyYW1TY2FsZUNoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICB1cmxQYXJhbVJvdGF0aW9uQ2hhbmdlZCxcclxuICAgICAgICAgICAgICAgIHRoaXMuVmlld3BvaW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5Qb2ludCxcclxuICAgICAgICAgICAgICAgIHRoaXMuU3BhdGlhbFJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgICAgY29uc3QgY3VyclZpZXdwb2ludCA9IHRoaXMudmlldy52aWV3cG9pbnQ/LmNsb25lKClcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGNoYW5nZWRWaWV3cG9pbnQgJiYgIWlzU2FtZWxpa2VWaWV3cG9pbnRzKHRoaXMudmlldywgY2hhbmdlZFZpZXdwb2ludCwgY3VyclZpZXdwb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1cGRhdGUgdmlld3BvaW50IGJ5IHVybCcsIERhdGUubm93KCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudmlld3BvaW50ID0gY2hhbmdlZFZpZXdwb2ludFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdoYW5kbGVVcmxQYXJhbXNDaGFuZ2UgZXJyb3InLCBlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSB0cnVlXHJcblxyXG4gICAgdGhpcy51bnN1YnNjcmliZVJlc291cmNlU2Vzc2lvbnMoKVxyXG5cclxuICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgdGhpcy52aWV3Lm1hcGJhc2UgPSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xyXG5cclxuICAgIGlmICh3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSAmJiB3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXS51c2VEYXRhU291cmNlcyA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiZcclxuICAgICAgdGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzICE9PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpIHtcclxuICAgICAgLy8gSlMgQVBJIGxpbWl0cyBvbmx5IDE2IGNhbnZhcyB3aXRoIFdlYkdMIGNvbnRleHQgb24gYSBodG1sIHBhZ2UuIENhY2hpbmcgdGhlIG1hcCB3aWRnZXQgKHVubW91bnQgdGhlIGNhbnZhcyBmcm9tIHRoZSBodG1sIHRyZWUgYnV0IGRvbid0IGRlc3Ryb3kgdGhlIHZpZXcpIGlzIGEgd29ya3JvdW5kLlxyXG4gICAgICAvLyBXZSBzY3JvbGwgdGhlIHBhZ2UgYW5kIHRoZSBtYXAgd2lkZ2V0IGlzIG5vdCBpbiB0aGUgdmlzaWJsZSBhcmVhLCB3ZSBuZWVkIHRvIGNhY2hlIGl0IHNvIHdlIGNhbiByZXN0b3JlIGl0IHF1aWNrbHkuXHJcbiAgICAgIC8vIFdlIGRvbid0IGRlc3Ryb3kgdGhlIG1hcCB2aWV3IGhlcmUsIGp1c3QgY2FjaGUgaXQgdG8gbXV0YWJsZSBzdG9yZS5cclxuICAgICAgY29uc3QgcmVzdG9yZURhdGEgPSBnZXRNYXBCYXNlUmVzdG9yZURhdGEodGhpcylcclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSB0cnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudXBkYXRlUmVzdG9yZURhdGFUb01TKHJlc3RvcmVEYXRhKVxyXG5cclxuICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5nZXRKaW11TWFwVmlld0ZvVmlldyh0aGlzLnZpZXcpXHJcblxyXG4gICAgICAgIGlmIChqaW11TWFwVmlldykge1xyXG4gICAgICAgICAgamltdU1hcFZpZXcub25DYWNoZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBEZXN0cm95IHRoZSBtYXAgdmlld1xyXG4gICAgICB0aGlzLmRlc3Ryb3lDdXJyZW50TWFwYmFzZVZpZXcoKVxyXG4gICAgICB0aGlzLm1hcENyZWF0aW5nSW5mbyA9IG51bGxcclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZXcgJiYgIXRoaXMudmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgICB0aGlzLnZpZXcuY29udGFpbmVyID0gbnVsbFxyXG4gICAgICAgIHRoaXMudmlldyA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5tYXBEcyA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNyZWF0ZURhdGFTb3VyY2VJbmZvIChkYXRhU291cmNlSWQ6IHN0cmluZyk6IE1hcGJhc2VEYXRhU291cmNlSW5mbyB7XHJcbiAgICBsZXQgcmVzdWx0OiBNYXBiYXNlRGF0YVNvdXJjZUluZm8gPSBudWxsXHJcblxyXG4gICAgY29uc3QgZGF0YVNvdXJjZUpzb24gPSB0aGlzLmdldERzSnNvbkZyb21Ec0lkKGRhdGFTb3VyY2VJZClcclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZUpzb24gJiYgZGF0YVNvdXJjZUpzb24uaWQpIHtcclxuICAgICAgLy8gZGF0YSBzb3VyY2UgY2FzZTIgb3IgZGF0YSBzb3VyY2UgY2FzZTNcclxuICAgICAgY29uc3QgdHlwZSA9IGRhdGFTb3VyY2VKc29uLnR5cGUgfHwgJydcclxuICAgICAgY29uc3QgaXRlbUlkID0gZGF0YVNvdXJjZUpzb24uaXRlbUlkIHx8ICcnXHJcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9IGRhdGFTb3VyY2VKc29uLmlkXHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSB0aGlzLmdldEppbXVNYXBWaWV3SWQoZGF0YVNvdXJjZUlkKVxyXG5cclxuICAgICAgaWYgKHR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSkge1xyXG4gICAgICAgIC8vIHVzZXIgc2VsZWN0IGEgd2ViIHNjZW5lXHJcbiAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgaXNEZWZhdWx0TWFwOiBmYWxzZSxcclxuICAgICAgICAgIGlzV2ViTWFwOiBmYWxzZSxcclxuICAgICAgICAgIHVuaXF1ZUlkOiBgd2Vic2NlbmUtJHtkYXRhU291cmNlSWR9LSR7aXRlbUlkfWAsXHJcbiAgICAgICAgICBkYXRhU291cmNlSWQsXHJcbiAgICAgICAgICBqaW11TWFwVmlld0lkLFxyXG4gICAgICAgICAgZGF0YVNvdXJjZUpzb25cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gdXNlciBzZWxlY3QgYSB3ZWIgbWFwXHJcbiAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgaXNEZWZhdWx0TWFwOiBmYWxzZSxcclxuICAgICAgICAgIGlzV2ViTWFwOiB0cnVlLFxyXG4gICAgICAgICAgdW5pcXVlSWQ6IGB3ZWJtYXAtJHtkYXRhU291cmNlSWR9LSR7aXRlbUlkfWAsXHJcbiAgICAgICAgICBkYXRhU291cmNlSWQsXHJcbiAgICAgICAgICBqaW11TWFwVmlld0lkLFxyXG4gICAgICAgICAgZGF0YVNvdXJjZUpzb25cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGRhdGEgc291cmNlIGNhc2UxOiB1c2UgZGVmYXVsdCB3ZWIgbWFwXHJcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9ICcnXHJcbiAgICAgIC8vIFRPRE86IGNvdWxkIHdlIHVzZSB0aGlzLmdldEppbXVNYXBWaWV3SWQoJ2RlZmF1bHRtYXAnKSBoZXJlID9cclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHRoaXMuZ2V0SmltdU1hcFZpZXdJZChkYXRhU291cmNlSWQpXHJcbiAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICBpc0RlZmF1bHRNYXA6IHRydWUsXHJcbiAgICAgICAgaXNXZWJNYXA6IHRydWUsXHJcbiAgICAgICAgdW5pcXVlSWQ6ICd3ZWJtYXAtZGVmYXVsdCcsXHJcbiAgICAgICAgZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgIGppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgZGF0YVNvdXJjZUpzb25cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcblxyXG4gIGdldEppbXVNYXBWaWV3SWQgKGRhdGFTb3VyY2VJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBnZXRKaW11TWFwVmlld0lkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBkYXRhU291cmNlSWQpXHJcbiAgfVxyXG5cclxuICBnZXREc0pzb25Gcm9tRHNJZCAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpOiBJbW11dGFibGVPYmplY3Q8RGF0YVNvdXJjZUpzb24+IHtcclxuICAgIGxldCByZXN1bHQ6IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj4gPSBudWxsXHJcblxyXG4gICAgaWYgKGRhdGFTb3VyY2VJZCkge1xyXG4gICAgICByZXN1bHQgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLmRhdGFTb3VyY2VzW2RhdGFTb3VyY2VJZF1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICByZXN1bHQgPSB7fSBhcyBJbW11dGFibGVPYmplY3Q8RGF0YVNvdXJjZUpzb24+XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgZ2V0Q3VycmVudERhdGFTb3VyY2VKc29uICgpOiBJbW11dGFibGVPYmplY3Q8RGF0YVNvdXJjZUpzb24+IHtcclxuICAgIC8vIHdoZW4gc2VsZWN0IGEgd2ViIG1hcCBvciB3ZWIgc2NlbmUgaW4gYnVpbGRlciwgdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgaXMgbm90IG51bGwsIHRoZSByZXN1bHQgaXMgbGlrZSB0aGlzXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgIGlkOiBcImRhdGFTb3VyY2VfNVwiLFxyXG4gICAgLy8gICB0eXBlOiBcIldFQl9NQVBcIixcclxuICAgIC8vICAgc291cmNlTGFiZWw6IFwiQ2hpbmEgVmVyc2lvbiAxXzJcIixcclxuICAgIC8vICAgaXRlbUlkOiBcImEyYzU0NDljNGM2MjQ0NDdiZjQ1ZDQ4NDc4YjI1ODM4XCIsXHJcbiAgICAvLyAgIHBvcnRhbFVybDogXCJodHRwczovL2VzcmlkZXZiZWlqaW5nLm1hcHMuYXJjZ2lzLmNvbVwiLFxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHdoZW4gdXNlIHRoZSBkZWZhdWx0IHdlYiBtYXAgaW4gYnVpbGRlciwgdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgaXMgbnVsbCwgdGhlIHJlc3VsdCBpcyBlbXB0eSBvYmplY3Qge31cclxuICAgIHJldHVybiB0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlRXhwZWN0ZWREYXRhU291cmNlSW5mbyAoKSB7XHJcbiAgICB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gPSB0aGlzLmNyZWF0ZURhdGFTb3VyY2VJbmZvKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKVxyXG4gIH1cclxuXHJcbiAgaXNDdXJyZW50Vmlld0V4cGVjdGVkICgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmlzVmlld0V4cGVjdGVkKHRoaXMudmlldylcclxuICB9XHJcblxyXG4gIGlzVmlld0V4cGVjdGVkICh2aWV3OiBNYXBiYXNlVmlldyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZpZXcgJiYgdmlldy5kYXRhU291cmNlSW5mby51bmlxdWVJZCA9PT0gdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvLnVuaXF1ZUlkXHJcbiAgfVxyXG5cclxuICBpc0NyZWF0aW5nRXhwZWN0ZWRWaWV3ICgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLm1hcENyZWF0aW5nSW5mbyAmJiB0aGlzLmlzRGF0YVNvdXJjZUluZm9FeHBlY3RlZCh0aGlzLm1hcENyZWF0aW5nSW5mby5kYXRhU291cmNlSW5mbylcclxuICB9XHJcblxyXG4gIGlzRGF0YVNvdXJjZUluZm9FeHBlY3RlZCAoZGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mbyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGRhdGFTb3VyY2VJbmZvICYmIGRhdGFTb3VyY2VJbmZvLnVuaXF1ZUlkID09PSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8udW5pcXVlSWRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN1bWUgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnIGNoYW5nZVxyXG4gICAqIEBwYXJhbSBjYWxsZWRXaGVuVmlld0NyZWF0ZSB0cnVlIG1lYW5zIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHZpZXcganVzdCBjcmVhdGVkLCBmYWxzZSBtZWFucyB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiBjb25maWcgcHJvcHMgY2hhbmdlXHJcbiAgICovXHJcbiAgdHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzIChjYWxsZWRXaGVuVmlld0NyZWF0ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnZpZXcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29uZmlnOiBJTUNvbmZpZyA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZ1xyXG4gICAgY29uc3QgcHJlQ29uZmlnOiBJTUNvbmZpZyA9IHRoaXMubGFzdFVwZGF0ZVZpZXdDb25maWdcclxuICAgIHRoaXMubGFzdFVwZGF0ZVZpZXdDb25maWcgPSBjb25maWdcclxuXHJcbiAgICAvLyB1cGRhdGUgcG9wdXAgb3B0aW9uc1xyXG4gICAgY29uc3QgY3VyclBvcHVwRW5hYmxlZCA9ICFjb25maWcuZGlzYWJsZVBvcFVwXHJcblxyXG4gICAgaWYgKGNhbGxlZFdoZW5WaWV3Q3JlYXRlKSB7XHJcbiAgICAgIC8vIGNhbGxlZFdoZW5WaWV3Q3JlYXRlIGlzIHRydWUsIG1lYW5zIHRyeVVwZGF0ZUN1cnJlbnRWaWV3QnlDb25maWdQcm9wcyBpcyBjYWxsZWQgd2hlbiB2aWV3IGp1c3QgY3JlYXRlZCwgd2UganVzdCBzZXQgdmlldy5wb3B1cEVuYWJsZWQgdG8gIWNvbmZpZy5kaXNhYmxlUG9wVXAuXHJcbiAgICAgIHRoaXMudmlldy5wb3B1cEVuYWJsZWQgPSBjdXJyUG9wdXBFbmFibGVkXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBjYWxsZWRXaGVuVmlld0NyZWF0ZSBpcyBmYWxzZSwgbWVhbnMgdHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzIGlzIGNhbGxlZCB3aGVuIGNvbmZpZyBwcm9wcyBjaGFuZ2UsIHdlIG5lZWQgdG8gaGFuZGxlIGNvbmZpZy5kaXNhYmxlUG9wVXAgY2hhbmdlLlxyXG5cclxuICAgICAgY29uc3QgcHJlUG9wdXBFbmFibGVkID0gIXByZUNvbmZpZz8uZGlzYWJsZVBvcFVwXHJcbiAgICAgIGNvbnN0IHBvcHVwRW5hYmxlZCA9ICFjb25maWcuZGlzYWJsZVBvcFVwXHJcblxyXG4gICAgICAvLyBCb3RoIE1hcCB3aWRnZXQgJ2Rpc2FibGVQb3BVcCcgb3B0aW9uIGFuZCBKaW11TWFwVmlldy5lbmFibGVDbGlja09wZW5Qb3B1cCgpIGNhbiBjb250cm9sICd2aWV3LnBvcHVwRW5hYmxlZCcuXHJcbiAgICAgIC8vIFdlIHNob3VsZCBub3QgdXNlIGB0aGlzLnZpZXcucG9wdXBFbmFibGVkICE9PSBjdXJyUG9wdXBFbmFibGVkYCBoZXJlIGJlY2F1c2Ugd2Ugb25seSB3YW50IHRvIGNoZWNrIGlmIE1hcCB3aWRnZXQgJ2Rpc2FibGVQb3BVcCcgb3B0aW9uIGNoYW5nZWQsXHJcbiAgICAgIC8vIHNvIHdlIHNob3VsZCB1c2UgYHByZVBvcHVwRW5hYmxlZCAhPT0gY3VyclBvcHVwRW5hYmxlZGAgaGVyZS5cclxuICAgICAgaWYgKHByZVBvcHVwRW5hYmxlZCAhPT0gcG9wdXBFbmFibGVkKSB7XHJcbiAgICAgICAgLy8gY29uZmlnLmRpc2FibGVQb3BVcCByZWFsbHkgY2hhbmdlZFxyXG4gICAgICAgIHRoaXMudmlldy5wb3B1cEVuYWJsZWQgPSBwb3B1cEVuYWJsZWRcclxuXHJcbiAgICAgICAgaWYgKCFwb3B1cEVuYWJsZWQpIHtcclxuICAgICAgICAgIHRoaXMudmlldy5jbG9zZVBvcHVwKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoKGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciAhPT0gcHJlQ29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvcikgfHwgKGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IgIT09IHByZUNvbmZpZz8uc2VsZWN0aW9uSGlnaGxpZ2h0SGFsb0NvbG9yKSkge1xyXG4gICAgICAvLyBoaWdobGlnaHQgaW5mbyBjaGFuZ2VzXHJcbiAgICAgIGNvbnN0IGhpZ2hsaWdodENvbG9yID0gY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yIHx8IERFRkFVTFRfSElHSExJR0hUX0NPTE9SXHJcbiAgICAgIGNvbnN0IGhpZ2hsaWdodEhhbG9Db2xvciA9IGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IgfHwgREVGQVVMVF9ISUdITElHSFRfSEFMT19DT0xPUlxyXG4gICAgICBjb25zdCBoaWdobGlnaHRPcHRpb25zID0ge1xyXG4gICAgICAgIC4uLnRoaXMudmlldy5oaWdobGlnaHRPcHRpb25zLFxyXG4gICAgICAgIGNvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRDb2xvciksXHJcbiAgICAgICAgaGFsb0NvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRIYWxvQ29sb3IpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSBoaWdobGlnaHRPcHRpb25zXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZW5hYmxlU2Nyb2xsID0gIWNvbmZpZy5kaXNhYmxlU2Nyb2xsXHJcblxyXG4gICAgLy8gdGhpcy52aWV3Lm5hdmlnYXRpb24gaXMgZW1wdHkgc29tZXRpbWVzLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGl0IGhlcmUuXHJcbiAgICBpZiAodGhpcy52aWV3Lm5hdmlnYXRpb24pIHtcclxuICAgICAgaWYgKHRoaXMudmlldy5uYXZpZ2F0aW9uLm1vdXNlV2hlZWxab29tRW5hYmxlZCAhPT0gZW5hYmxlU2Nyb2xsKSB7XHJcbiAgICAgICAgdGhpcy52aWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkID0gZW5hYmxlU2Nyb2xsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZXcubmF2aWdhdGlvbi5icm93c2VyVG91Y2hQYW5FbmFibGVkICE9PSBlbmFibGVTY3JvbGwpIHtcclxuICAgICAgICB0aGlzLnZpZXcubmF2aWdhdGlvbi5icm93c2VyVG91Y2hQYW5FbmFibGVkID0gZW5hYmxlU2Nyb2xsXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy52aWV3LnVpKSB7XHJcbiAgICAgIHRoaXMudmlldy51aS5jb21wb25lbnRzID0gW11cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzY2VuZVF1YWxpdHlNb2RlID0gY29uZmlnLnNjZW5lUXVhbGl0eU1vZGVcclxuXHJcbiAgICBpZiAodGhpcy5pc1NjZW5lVmlldyh0aGlzLnZpZXcpKSB7XHJcbiAgICAgIGNvbnN0IHNjZW5lVmlldyA9IHRoaXMudmlldyBhcyBfX2VzcmkuU2NlbmVWaWV3XHJcblxyXG4gICAgICBpZiAoc2NlbmVRdWFsaXR5TW9kZSAmJiBzY2VuZVF1YWxpdHlNb2RlICE9PSBzY2VuZVZpZXcucXVhbGl0eVByb2ZpbGUpIHtcclxuICAgICAgICBzY2VuZVZpZXcucXVhbGl0eVByb2ZpbGUgPSBzY2VuZVF1YWxpdHlNb2RlIGFzICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCdcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRyeSB0byB1cGRhdGUgbWFwVmlldy50aW1lWm9uZVxyXG4gICAgaWYgKHRoaXMudmlldy50eXBlID09PSAnMmQnKSB7XHJcbiAgICAgIGNvbnN0IG5ld1RpbWVab25lID0gdGhpcy5jYWxNYXBWaWV3VGltZVpvbmUodGhpcy52aWV3Lm1hcCBhcyBfX2VzcmkuV2ViTWFwKVxyXG4gICAgICBjb25zdCBtYXBWaWV3ID0gdGhpcy52aWV3IGFzIF9fZXNyaS5NYXBWaWV3XHJcblxyXG4gICAgICBpZiAobWFwVmlldy50aW1lWm9uZSAhPT0gbmV3VGltZVpvbmUpIHtcclxuICAgICAgICBtYXBWaWV3LnRpbWVab25lID0gbmV3VGltZVpvbmVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3VtZSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcyBjaGFuZ2VcclxuICAgKi9cclxuICBjaGVja0FuZEhhbmRsZU11dGFibGVTdGF0ZVByb3BzICgpIHtcclxuICAgIGlmICh0aGlzLnZpZXcgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHRoaXMudmlldy5kYXRhU291cmNlSW5mby5qaW11TWFwVmlld0lkXHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZClcclxuXHJcbiAgICAgIGlmIChqaW11TWFwVmlldykge1xyXG4gICAgICAgIGppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gY2hlY2sgdGhpcy52aWV3IGlmIG51bGwgb3IgZGVzdHJveWVkIGhlcmUsIHdlIGRvIGl0IGluIHRoaXMuaGFuZGxlQWN0aW9uKClcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24odGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMsIHRoaXMudmlldywgamltdU1hcFZpZXcpXHJcbiAgICAgICAgICAgIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gZmFsc2VcclxuICAgICAgICAgIH0sIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID8gNTAwIDogMClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc01hcFZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdmlldyAmJiB2aWV3LmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLnZpZXdzLk1hcFZpZXcnXHJcbiAgfVxyXG5cclxuICBpc1NjZW5lVmlldyAodmlldzogTWFwYmFzZVZpZXcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB2aWV3ICYmIHZpZXcuZGVjbGFyZWRDbGFzcyA9PT0gJ2Vzcmkudmlld3MuU2NlbmVWaWV3J1xyXG4gIH1cclxuXHJcbiAgZGlmZlByb3BzIChwcmV2UHJvcHM6IFByb3BzKSB7XHJcbiAgICBjb25zdCBhZGRlZEtleXM6IHN0cmluZ1tdID0gW11cclxuICAgIGNvbnN0IHJlbW92ZUtleXM6IHN0cmluZ1tdID0gW11cclxuICAgIGNvbnN0IHVwZGF0ZWRLZXlzOiBzdHJpbmdbXSA9IFtdXHJcblxyXG4gICAgY29uc3QgY3VycktleXMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzKVxyXG4gICAgY29uc3QgcHJldktleXMgPSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpXHJcblxyXG4gICAgY29uc3QgcHJldktleXNNYXA6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge31cclxuICAgIHByZXZLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgcHJldktleXNNYXBba2V5XSA9IHRydWVcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgY3VycktleXNNYXA6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge31cclxuICAgIGN1cnJLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgY3VycktleXNNYXBba2V5XSA9IHRydWVcclxuICAgIH0pXHJcblxyXG4gICAgY3VycktleXMuZm9yRWFjaChjdXJyS2V5ID0+IHtcclxuICAgICAgaWYgKHByZXZLZXlzTWFwW2N1cnJLZXldKSB7XHJcbiAgICAgICAgaWYgKHByZXZQcm9wc1tjdXJyS2V5XSAhPT0gdGhpcy5wcm9wc1tjdXJyS2V5XSkge1xyXG4gICAgICAgICAgdXBkYXRlZEtleXMucHVzaChjdXJyS2V5KVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhZGRlZEtleXMucHVzaChjdXJyS2V5KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHByZXZLZXlzLmZvckVhY2gocHJldktleSA9PiB7XHJcbiAgICAgIGlmICghY3VycktleXNNYXBbcHJldktleV0pIHtcclxuICAgICAgICByZW1vdmVLZXlzLnB1c2gocHJldktleSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhZGRlZEtleXMsXHJcbiAgICAgIHJlbW92ZUtleXMsXHJcbiAgICAgIHVwZGF0ZWRLZXlzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkQ29tbW9uTW9kdWxlcyAoKSB7XHJcbiAgICBjb25zdCBtb2R1bGVzID0gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL2dlb21ldHJ5L0V4dGVudCcsXHJcbiAgICAgICdlc3JpL1ZpZXdwb2ludCcsXHJcbiAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWwnLFxyXG4gICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsSXRlbScsXHJcbiAgICAgICdlc3JpL0NvbG9yJyxcclxuICAgICAgJ2VzcmkvZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZScsXHJcbiAgICAgICdlc3JpL2dlb21ldHJ5L1BvaW50J1xyXG4gICAgXSk7XHJcblxyXG4gICAgW1xyXG4gICAgICB0aGlzLkV4dGVudCwgdGhpcy5WaWV3cG9pbnQsIHRoaXMuUG9ydGFsLCB0aGlzLlBvcnRhbEl0ZW0sIHRoaXMuQ29sb3IsIHRoaXMuU3BhdGlhbFJlZmVyZW5jZSwgdGhpcy5Qb2ludFxyXG4gICAgXSA9IG1vZHVsZXNcclxuXHJcbiAgICBpZiAodGhpcy5fX3VubW91bnQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzQmFzaWNNb2R1bGVzTG9hZGVkOiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgY2FjaGVMb2FkTW9kdWxlc0FuZENyZWF0ZU1hcGJhc2VWaWV3IChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAodGhpcy5fX3VubW91bnQgfHwgdGhpcy5pc0N1cnJlbnRWaWV3RXhwZWN0ZWQoKSB8fCB0aGlzLmlzQ3JlYXRpbmdFeHBlY3RlZFZpZXcoKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1bmlxdWVJZCA9IGRhdGFTb3VyY2VJbmZvPy51bmlxdWVJZFxyXG5cclxuICAgIGlmICh1bmlxdWVJZCkge1xyXG4gICAgICBkZWxldGUgdGhpcy5tYXBWaWV3Q3JlYXRlRmFpbGVkVW5pcXVlSWRzSW5mb1t1bmlxdWVJZF1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IG1hcENyZWF0aW5nSW5mbzogTWFwQ3JlYXRpbmdJbmZvID0ge1xyXG4gICAgICBkYXRhU291cmNlSW5mb1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubWFwQ3JlYXRpbmdJbmZvID0gbWFwQ3JlYXRpbmdJbmZvXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGRhdGFTb3VyY2VJbmZvLmlzV2ViTWFwKSB7XHJcbiAgICAgICAgLy8gbG9hZCBtb2R1bGVzIHRvIGNyZWF0ZSBNYXBWaWV3XHJcbiAgICAgICAgaWYgKCF0aGlzLk1hcFZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IG1vZHVsZXMgPSBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvR2VvbWV0cnknLFxyXG4gICAgICAgICAgICAnZXNyaS93ZWJtYXAvSW5pdGlhbFZpZXdQcm9wZXJ0aWVzJyxcclxuICAgICAgICAgICAgJ2VzcmkvQmFzZW1hcCcsXHJcbiAgICAgICAgICAgICdlc3JpL2xheWVycy9UaWxlTGF5ZXInLFxyXG4gICAgICAgICAgICAnZXNyaS92aWV3cy9NYXBWaWV3JyxcclxuICAgICAgICAgICAgJ2VzcmkvV2ViTWFwJ1xyXG4gICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgW1xyXG4gICAgICAgICAgICB0aGlzLkdlb21ldHJ5LCB0aGlzLkluaXRpYWxWaWV3UHJvcGVydGllcywgdGhpcy5CYXNlbWFwLCB0aGlzLlRpbGVMYXllciwgdGhpcy5NYXBWaWV3LCB0aGlzLldlYk1hcFxyXG4gICAgICAgICAgXSA9IG1vZHVsZXNcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gbG9hZCBtb2R1bGVzIGZvciBjcmVhdGUgU2NlbmVWaWV3XHJcbiAgICAgICAgaWYgKCF0aGlzLlNjZW5lVmlldykge1xyXG4gICAgICAgICAgY29uc3QgbW9kdWxlcyA9IGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAgICAgICAnZXNyaS92aWV3cy9TY2VuZVZpZXcnLFxyXG4gICAgICAgICAgICAnZXNyaS9XZWJTY2VuZSdcclxuICAgICAgICAgIF0pO1xyXG5cclxuICAgICAgICAgIFtcclxuICAgICAgICAgICAgdGhpcy5TY2VuZVZpZXcsIHRoaXMuV2ViU2NlbmVcclxuICAgICAgICAgIF0gPSBtb2R1bGVzXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fX3VubW91bnQgfHwgdGhpcy5pc0N1cnJlbnRWaWV3RXhwZWN0ZWQoKSB8fCAhdGhpcy5pc0RhdGFTb3VyY2VJbmZvRXhwZWN0ZWQobWFwQ3JlYXRpbmdJbmZvLmRhdGFTb3VyY2VJbmZvKSkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLmNyZWF0ZU1hcGJhc2VWaWV3KG1hcENyZWF0aW5nSW5mbylcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignY2FjaGVMb2FkTW9kdWxlc0FuZENyZWF0ZU1hcGJhc2VWaWV3IGVycm9yJywgZSlcclxuXHJcbiAgICAgIGlmICh1bmlxdWVJZCkge1xyXG4gICAgICAgIHRoaXMubWFwVmlld0NyZWF0ZUZhaWxlZFVuaXF1ZUlkc0luZm9bdW5pcXVlSWRdID0gdHJ1ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5tYXBDcmVhdGluZ0luZm8gPT09IG1hcENyZWF0aW5nSW5mbykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3JcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubWFwQ3JlYXRpbmdJbmZvID09PSBtYXBDcmVhdGluZ0luZm8pIHtcclxuICAgICAgdGhpcy5tYXBDcmVhdGluZ0luZm8gPSBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBjcmVhdGVNYXBiYXNlVmlldyAobWFwQ3JlYXRpbmdJbmZvOiBNYXBDcmVhdGluZ0luZm8pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VJbmZvID0gbWFwQ3JlYXRpbmdJbmZvLmRhdGFTb3VyY2VJbmZvXHJcblxyXG4gICAgaWYgKHRoaXMuX191bm1vdW50IHx8IHRoaXMuaXNDdXJyZW50Vmlld0V4cGVjdGVkKCkgfHwgIXRoaXMuaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkKGRhdGFTb3VyY2VJbmZvKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXQgbWFwVmlld09wdGlvbiBvciBzY2VuZVZpZXdPcHRpb25cclxuICAgIGxldCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuTWFwVmlld1Byb3BlcnRpZXMgPSBudWxsXHJcbiAgICBsZXQgc2NlbmVWaWV3T3B0aW9uOiBfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcyA9IG51bGxcclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZUluZm8uaXNXZWJNYXApIHtcclxuICAgICAgLy8gZ2V0IG1hcCB2aWV3IG9wdGlvblxyXG4gICAgICBtYXBWaWV3T3B0aW9uID0gYXdhaXQgdGhpcy5nZXRNYXBWaWV3T3B0aW9uVG9DcmVhdGVNYXBWaWV3KGRhdGFTb3VyY2VJbmZvKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZ2V0IHNjZW5lIHZpZXcgb3B0aW9uXHJcbiAgICAgIHNjZW5lVmlld09wdGlvbiA9IGF3YWl0IHRoaXMuZ2V0U2NlbmVWaWV3T3B0aW9uVG9DcmVhdGVTY2VuZVZpZXcoZGF0YVNvdXJjZUluZm8pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcG9wdXBPcHRpb25zOiBfX2VzcmkuUG9wdXBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICBkZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQ6IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWFwVmlld09wdGlvbikge1xyXG4gICAgICBtYXBWaWV3T3B0aW9uLnBvcHVwID0gcG9wdXBPcHRpb25zXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNjZW5lVmlld09wdGlvbikge1xyXG4gICAgICBzY2VuZVZpZXdPcHRpb24ucG9wdXAgPSBwb3B1cE9wdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICAvLyBuZWVkIHRvIGNoZWNrIHZpZXcgYWdhaW4gdG8gYXZvaWQgbmV3IE1hcFZpZXcoKSB0d2ljZSwgYmVjYXVzZSB3ZSB1c2UgYXN5bmMgZnVuY3Rpb24gdG8gZ2V0IG1hcFZpZXdPcHRpb25cclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCB8fCB0aGlzLmlzQ3VycmVudFZpZXdFeHBlY3RlZCgpIHx8ICF0aGlzLmlzRGF0YVNvdXJjZUluZm9FeHBlY3RlZChkYXRhU291cmNlSW5mbykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGluaXRVcmxIYXNoTWFwT3B0aW9uczogVXJsUGFyYW1zTWFwT3B0aW9ucyA9IG51bGxcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaXNSdW5BcHBNb2RlKSB7XHJcbiAgICAgIGluaXRVcmxIYXNoTWFwT3B0aW9ucyA9IHRoaXMuZ2V0TWFwT3B0aW9uc0J5VXJsSGFzaFBhcmFtcyhkYXRhU291cmNlSW5mby5pc1dlYk1hcClcclxuXHJcbiAgICAgIGlmIChpbml0VXJsSGFzaE1hcE9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBoYXNoVmlld3BvaW50ID0gaW5pdFVybEhhc2hNYXBPcHRpb25zLnZpZXdwb2ludFxyXG5cclxuICAgICAgICBpZiAobWFwVmlld09wdGlvbikge1xyXG4gICAgICAgICAgbGV0IHpvb21NYXliZUZsb2F0ID0gZmFsc2VcclxuXHJcbiAgICAgICAgICBpZiAoaGFzaFZpZXdwb2ludCkge1xyXG4gICAgICAgICAgICBtYXBWaWV3T3B0aW9uLnZpZXdwb2ludCA9IGhhc2hWaWV3cG9pbnRcclxuICAgICAgICAgICAgem9vbU1heWJlRmxvYXQgPSB0cnVlXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGluaXRVcmxIYXNoTWFwT3B0aW9ucy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgbWFwVmlld09wdGlvbi5jZW50ZXIgPSBpbml0VXJsSGFzaE1hcE9wdGlvbnMuY2VudGVyXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCdzY2FsZScgaW4gaW5pdFVybEhhc2hNYXBPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIG1hcFZpZXdPcHRpb24uc2NhbGUgPSBpbml0VXJsSGFzaE1hcE9wdGlvbnMuc2NhbGVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoJ3JvdGF0aW9uJyBpbiBpbml0VXJsSGFzaE1hcE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgbWFwVmlld09wdGlvbi5yb3RhdGlvbiA9IGluaXRVcmxIYXNoTWFwT3B0aW9ucy5yb3RhdGlvblxyXG4gICAgICAgICAgICB6b29tTWF5YmVGbG9hdCA9IHRydWVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoem9vbU1heWJlRmxvYXQpIHtcclxuICAgICAgICAgICAgLy8gTm90ZSwgd2UgbXVzdCBzZXQgc25hcFRvWm9vbSB0byBmYWxzZSBpZiB3ZSBjYW4gZ2V0IGhhc2hWaWV3cG9pbnQsIG90aGVyd2lzZSB0aGUgZmluYWwgdmlldy5zY2FsZSBpcyBkaWZmZXJlbnQgd2l0aCBoYXNoVmlld3BvaW50LnNjYWxlLFxyXG4gICAgICAgICAgICAvLyBiZWNhdXNlIGhhc2hWaWV3cG9pbnQuc2NhbGUgY29tZXMgZnJvbSBhIGZsb2F0LXpvb20gbWFwIGFuZCB2aWV3LnNjYWxlIGNvbWVzIGZyb20gYSBpbnQtem9vbSBtYXAuXHJcbiAgICAgICAgICAgIG1hcFZpZXdPcHRpb24uY29uc3RyYWludHMuc25hcFRvWm9vbSA9IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2NlbmVWaWV3T3B0aW9uKSB7XHJcbiAgICAgICAgICBpZiAoaGFzaFZpZXdwb2ludCkge1xyXG4gICAgICAgICAgICBzY2VuZVZpZXdPcHRpb24udmlld3BvaW50ID0gaGFzaFZpZXdwb2ludFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCB2aWV3OiBNYXBiYXNlVmlldyA9IG51bGxcclxuXHJcbiAgICAvLyBjcmVhdGUgbWFwIHZpZXcgb3Igc2NlbmUgdmlld1xyXG4gICAgaWYgKGRhdGFTb3VyY2VJbmZvLmlzV2ViTWFwKSB7XHJcbiAgICAgIHZpZXcgPSBuZXcgdGhpcy5NYXBWaWV3KG1hcFZpZXdPcHRpb24pIGFzIE1hcGJhc2VWaWV3XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2aWV3ID0gbmV3IHRoaXMuU2NlbmVWaWV3KHNjZW5lVmlld09wdGlvbikgYXMgTWFwYmFzZVZpZXdcclxuICAgIH1cclxuXHJcbiAgICB2aWV3LmluaXRVcmxIYXNoTWFwT3B0aW9ucyA9IGluaXRVcmxIYXNoTWFwT3B0aW9uc1xyXG5cclxuICAgIGNvbnN0IG1hcCA9IHZpZXcubWFwIGFzIF9fZXNyaS5NYXAgJiB7IHRodW1ibmFpbFVybDogc3RyaW5nLCBvcmlnaW5hbEJhc2VtYXA6IF9fZXNyaS5CYXNlbWFwIH1cclxuXHJcbiAgICAvLyBzZXQgdmlldy5tYXAub3JpZ2luYWxCYXNlbWFwXHJcbiAgICBjb25zdCBzZXRPcmlnaW5hbEJhc2VtYXAgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChtYXAub3JpZ2luYWxCYXNlbWFwKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsQmFzZW1hcCA9IG1hcC5iYXNlbWFwXHJcblxyXG4gICAgICAvLyBvcmlnaW5hbEJhc2VtYXAgbWF5YmUgbnVsbCwgd2UgbmVlZCB0byBjaGVjayBvcmlnaW5hbEJhc2VtYXAgaXMgbnVsbCBvciBub3RcclxuICAgICAgaWYgKCFvcmlnaW5hbEJhc2VtYXApIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFvcmlnaW5hbEJhc2VtYXAudGh1bWJuYWlsVXJsKSB7XHJcbiAgICAgICAgY29uc3QgbWFwVGh1bWJuYWlsVXJsID0gbWFwLnRodW1ibmFpbFVybFxyXG5cclxuICAgICAgICAvLyB1c2UgbWFwLnRodW1ibmFpbFVybCBhcyBvcmlnaW5hbEJhc2VtYXAudGh1bWJuYWlsVXJsIGlmIG9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwgaXMgZW1wdHlcclxuICAgICAgICBpZiAobWFwVGh1bWJuYWlsVXJsKSB7XHJcbiAgICAgICAgICBvcmlnaW5hbEJhc2VtYXAudGh1bWJuYWlsVXJsID0gbWFwVGh1bWJuYWlsVXJsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXAub3JpZ2luYWxCYXNlbWFwID0gb3JpZ2luYWxCYXNlbWFwXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hcC5iYXNlbWFwKSB7XHJcbiAgICAgIHNldE9yaWdpbmFsQmFzZW1hcCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgd2F0Y2hCYXNlbWFwSGFuZGxlOiBfX2VzcmkuSGFuZGxlID0gbnVsbFxyXG5cclxuICAgICAgd2F0Y2hCYXNlbWFwSGFuZGxlID0gbWFwLndhdGNoKCdiYXNlbWFwJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIG9ubHkgd2F0Y2ggb25jZVxyXG4gICAgICAgIGlmICh3YXRjaEJhc2VtYXBIYW5kbGUpIHtcclxuICAgICAgICAgIHdhdGNoQmFzZW1hcEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2F0Y2hCYXNlbWFwSGFuZGxlID0gbnVsbFxyXG5cclxuICAgICAgICBpZiAobWFwLmJhc2VtYXApIHtcclxuICAgICAgICAgIHNldE9yaWdpbmFsQmFzZW1hcCgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHZpZXcubWFwYmFzZSA9IHRoaXNcclxuICAgIHZpZXcuaGlnaExpZ2h0SGFuZGxlcyA9IHt9XHJcbiAgICB2aWV3Lm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzID0ge31cclxuICAgIHZpZXcuZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkcyA9IFtdXHJcbiAgICB2aWV3LnB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlID0gZnVuY3Rpb24gKHN0YXRpb25hcnk6IGJvb2xlYW4sIGludGVyYWNpdmU6IGJvb2xlYW4pIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAodmlldyAmJiAhdmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IG1hcGJhc2UgPSB2aWV3Lm1hcGJhc2VcclxuXHJcbiAgICAgICAgICBpZiAobWFwYmFzZSAmJiAhbWFwYmFzZS5fX3VubW91bnQgJiYgbWFwYmFzZS5wcm9wcyAmJiBtYXBiYXNlLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCkge1xyXG4gICAgICAgICAgICBtYXBiYXNlLnB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlKHZpZXcsIHN0YXRpb25hcnksIGludGVyYWNpdmUpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcigndmlldyBwdWJsaXNoIGV4dGVudCBjaGFuZ2UgbWVzc2FnZSBlcnJvcicsIGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2aWV3LmhpZGVNYXBUb29scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB2aWV3LmlzTWFwVG9vbHNIaWRkZW4gPSB0cnVlXHJcblxyXG4gICAgICAgIGlmICh2aWV3ICYmICF2aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgY29uc3QgbWFwYmFzZSA9IHZpZXcubWFwYmFzZVxyXG5cclxuICAgICAgICAgIGlmIChtYXBiYXNlICYmICFtYXBiYXNlLl9fdW5tb3VudCAmJiBtYXBiYXNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXBiYXNlLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAvLyBzZXQgbm8gYWN0aXZlIHRvb2xcclxuICAgICAgICAgICAgICBtYXBiYXNlLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbXVsdGlTb3VyY2VNYXBEb20gPSBtYXBiYXNlLnByb3BzLm11bHRpU291cmNlTWFwRG9tXHJcblxyXG4gICAgICAgICAgICBpZiAobXVsdGlTb3VyY2VNYXBEb20pIHtcclxuICAgICAgICAgICAgICBtdWx0aVNvdXJjZU1hcERvbS5jbGFzc0xpc3QuYWRkKCdoaWRlLW1hcC10b29scy1sYXlvdXQnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcigndmlldyBoaWRlIG1hcCB0b29scyBlcnJvcicsIGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHZpZXcudmlld3BvaW50SGlzdG9yeSA9IFtdXHJcbiAgICB2aWV3LnZpZXdwb2ludEluZGV4ID0gLTFcclxuXHJcbiAgICB2aWV3LnNob3dNYXBUb29scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB2aWV3LmlzTWFwVG9vbHNIaWRkZW4gPSBmYWxzZVxyXG5cclxuICAgICAgICBpZiAodmlldyAmJiAhdmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IG1hcGJhc2UgPSB2aWV3Lm1hcGJhc2VcclxuXHJcbiAgICAgICAgICBpZiAobWFwYmFzZSAmJiAhbWFwYmFzZS5fX3VubW91bnQgJiYgbWFwYmFzZS5wcm9wcykge1xyXG4gICAgICAgICAgICBjb25zdCBtdWx0aVNvdXJjZU1hcERvbSA9IG1hcGJhc2UucHJvcHMubXVsdGlTb3VyY2VNYXBEb21cclxuXHJcbiAgICAgICAgICAgIGlmIChtdWx0aVNvdXJjZU1hcERvbSkge1xyXG4gICAgICAgICAgICAgIG11bHRpU291cmNlTWFwRG9tLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtbWFwLXRvb2xzLWxheW91dCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCd2aWV3IHNob3cgbWFwIHRvb2xzIGVycm9yJywgZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZpZXcuZGF0YVNvdXJjZUluZm8gPSBkYXRhU291cmNlSW5mb1xyXG5cclxuICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgdGhpcy5kZXN0cm95Q3VycmVudE1hcGJhc2VWaWV3KClcclxuICAgICAgdGhpcy52aWV3ID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSB0aGlzLnZpZXdcclxuICAgIHRoaXMudmlldyA9IHZpZXdcclxuICAgIHRoaXMubWFwQ3JlYXRpbmdJbmZvID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLmlzUmVhZHlUb0NyZWF0ZUppbXVNYXBWaWV3KCkpIHtcclxuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhlIGZvbGxvd2luZyBjb2RlIGFyZSBzYW1lIGZvciBib3RoIG1hcCB2aWV3IGFuZCBzY2VuZSB2aWV3XHJcblxyXG4gICAgdmlldy53aGVuKCgpID0+IHtcclxuICAgICAgdmlldy5pc1ZpZXdXaGVuUmVhZHkgPSB0cnVlXHJcblxyXG4gICAgICBpZiAodmlldy52aWV3cG9pbnQpIHtcclxuICAgICAgICB2aWV3LnZpZXdXaGVuSW5pdGlhbFZpZXdwb2ludCA9IHZpZXcudmlld3BvaW50LmNsb25lKClcclxuICAgICAgICB2aWV3Lmxhc3RWaWV3cG9pbnRUb1VwZGF0ZVVybFBhcmFtcyA9IHZpZXcudmlld3BvaW50LmNsb25lKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2aWV3LnZpZXdXaGVuSW5pdGlhbFZpZXdwb2ludCA9IG51bGxcclxuICAgICAgICB2aWV3Lmxhc3RWaWV3cG9pbnRUb1VwZGF0ZVVybFBhcmFtcyA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgdmlldy52aWV3V2hlblRpbWVzdGFtcCA9IERhdGUubm93KClcclxuXHJcbiAgICAgIC8vIHZpZXcud2hlbigpIGlzIGFzeW5jLCB3ZSBuZWVkIHRvIGNoZWNrIHRoZSB2aWV3IGlzIGV4cGVjdGVkIG9yIG5vdFxyXG4gICAgICAvLyBpZiB0aGUgdmlldyBpcyBub3QgZXhwZWN0ZWQgYWdhaW4sIHdlIGRvbid0IGV4ZWN1dGUgdGhlIGZvbGxvd2luZyBsb2dpY1xyXG4gICAgICBjb25zdCBpc1ZpZXdPayA9ICF2aWV3LmRlc3Ryb3llZCAmJiB0aGlzLnZpZXcgPT09IHZpZXcgJiYgdGhpcy5pc1ZpZXdFeHBlY3RlZCh2aWV3KVxyXG5cclxuICAgICAgaWYgKCFpc1ZpZXdPaykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoIXZpZXcuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAvLyBtYWtlIHN1cmUgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UgYXQgbGVhc3Qgb25jZVxyXG4gICAgICAgICAgdGhpcy5wdWJsaXNoRXh0ZW50Q2hhbmdlTWVzc2FnZSh2aWV3LCB0cnVlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTAwMClcclxuXHJcbiAgICAgIHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZSA9IHZpZXcud2F0Y2goJ2ludGVyYWN0aW5nJywgKCkgPT4ge1xyXG4gICAgICAgIGlmICh2aWV3LmludGVyYWN0aW5nKSB7XHJcbiAgICAgICAgICBNYXBCYXNlLmxhc3RJbnRlcmFjaXZlVmlldyA9IHZpZXdcclxuICAgICAgICAgIC8vIFdlIG11c3Qgc2V0IHZpZXcuZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkcyB0byBlbXB0eSBhcnJheSwgYmVjdWFzZSBjdXJyZW50IHZpZXcgaXMgdGhlIGV4dGVudC1jaGFuZ2Ugc291cmNlci5cclxuICAgICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcodmlldywgW10pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gTWFwVmlldyBhbHdheXMgdHJpZ2dlciB0d2ljZSBleHRlbnQgY2hhbmdlIGV2ZW50IGFmdGVyIHZpZXcgd2hlbiwgYWJvdXQgM21zIC0gODBtcyBhZnRlciB2aWV3IHdoZW4uXHJcbiAgICAgIC8vIFNjZW5lVmlldyBhbHdheXMgdHJpZ2dlciAyLTUgdGltZXMgZXh0ZW50IGNoYW5nZSBldmVudCBhZnRlciB2aWV3IHdoZW4sIGFib3V0IDMgLSA1MDAwIG1zLCBkZXBlbmRzIG9uIGRhdGEuXHJcbiAgICAgIHZpZXcuZXh0ZW50V2F0Y2hIYW5kbGUgPSB2aWV3LndhdGNoKCdleHRlbnQnLCAoZXh0ZW50OiBfX2VzcmkuRXh0ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFleHRlbnQpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wdWJsaXNoRXh0ZW50Q2hhbmdlTWVzc2FnZSh2aWV3LCBmYWxzZSlcclxuXHJcbiAgICAgICAgaWYgKHZpZXcuc3RhdGlvbmFyeVRpbWVySWQpIHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dCh2aWV3LnN0YXRpb25hcnlUaW1lcklkKVxyXG4gICAgICAgICAgdmlldy5zdGF0aW9uYXJ5VGltZXJJZCA9IG51bGxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdlIGRvbid0IHVzZSB2aWV3LndhdGNoKCdzdGF0aW9uYXJ5JywgY2IpIHRvIGNoZWNrIGlmIHZpZXcgaXMgc3RhdGljIG9yIG5vdCwgYmVjYXVzZSB0aGUgYmVoYXZpb3Igb2Ygdmlldy5zdGF0aW9uYXJ5IGlzIHN0cmFuZ2UuXHJcbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgdXNlIGEgdGltZW91dCB0byBjaGVjayBpZiB2aWV3IGlzIHN0YXRpYyBvciBub3QuXHJcbiAgICAgICAgdmlldy5zdGF0aW9uYXJ5VGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdmlldy5zdGF0aW9uYXJ5VGltZXJJZCA9IG51bGxcclxuICAgICAgICAgIC8vIHZpZXcgaXMgc3RhdGljIG5vd1xyXG5cclxuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UgYWdhaW4gd2hlbiB2aWV3IGlzIHN0YXRpYy5cclxuICAgICAgICAgIHRoaXMucHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2UodmlldywgdHJ1ZSlcclxuXHJcbiAgICAgICAgICAvLyBOb3RlLCBtYWtlIHN1cmUgd2UgY2FsbCBzZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldygpIGFmdGVyIHB1Ymxpc2ggZXh0ZW50LWNoYW5nZSBtZXNzYWdlLlxyXG4gICAgICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyh2aWV3LCBbXSlcclxuXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZpZXcgPT09IE1hcEJhc2UubGFzdEludGVyYWNpdmVWaWV3ICYmICF2aWV3LmludGVyYWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgTWFwQmFzZS5sYXN0SW50ZXJhY2l2ZVZpZXcgPSBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIDEwMDApXHJcbiAgICAgICAgfSwgMjAwKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCF2aWV3LmZhdGFsRXJyb3JXYXRjaEhhbmRsZSkge1xyXG4gICAgICAgIHZpZXcuZmF0YWxFcnJvcldhdGNoSGFuZGxlID0gdmlldy53YXRjaCgnZmF0YWxFcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IHVzZSB0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSB0byBjaGVjayBpcyBtYXAgdmlzaWJsZSBvciBub3QsIGJlY2F1c2UgbWFwYmFzZSBtYXliZSB1bm1vdW50ZWQgYW5kIHRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhIGlzIHN0aWxsIHRydWUuXHJcbiAgICAgICAgICAgIC8vIEl0IGlzIG1vcmUgc2FmZSB0b1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZWNvdmVyeSA9ICF2aWV3LmlzSW5DYWNoaW5nICYmIHZpZXcuY29udGFpbmVyICYmIHZpZXcuY29udGFpbmVyLmNsaWVudFdpZHRoID4gMCAmJiB2aWV3LmNvbnRhaW5lci5jbGllbnRIZWlnaHQgPiAwXHJcbiAgICAgICAgICAgIGNvbnN0IHdpZGdldElkID0gdGhpcy5wcm9wcz8uYmFzZVdpZGdldFByb3BzPy5pZCB8fCAnJ1xyXG5cclxuICAgICAgICAgICAgaWYgKHNob3VsZFJlY292ZXJ5KSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt3aWRnZXRJZH0gRmF0YWwgRXJyb3IhIFZpZXcgaGFzIGxvc3QgaXRzIFdlYkdMIGNvbnRleHQuIEF0dGVtcHRpbmcgdG8gcmVjb3ZlciBpdCBiZWNhdXNlIHRoZSB2aWV3IGlzIHZpc2libGUuYClcclxuICAgICAgICAgICAgICB0aGlzLnRyeUZhdGFsRXJyb3JSZWNvdmVyeSh2aWV3KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7d2lkZ2V0SWR9IEZhdGFsIEVycm9yISBWaWV3IGhhcyBsb3N0IGl0cyBXZWJHTCBjb250ZXh0LiBEb24ndCByZWNvdmVyIGl0IGJlY2F1c2UgdGhlIHZpZXcgaXMgbm90IHZpc2libGUuYClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGFmdGVyIHZpZXcgaXMgbG9hZGVkLCBzZW5kIGV4dGVudCBjaGFuZ2UgbWVzc2FnZVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2Fkb2sgfSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZG9rKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXh0ZW50IGlzIHBhc3NlZCBmcm9tIGV4dGVudE1lc3NhZ2UgYmVmb3JlLCBkb24ndCBpbml0IGV4dGVudCBoZXJlIGFzIHRoaXMgd2lsbCBwdWJsaXNoXHJcbiAgICAgIC8vIGV4dGVudE1lc3NhZ2UgYW5kIGNoYW5nZSBvdGhlciBtYXBXaWRnZXQncyBleHRlbnQuXHJcbiAgICAgIGlmICghdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHM/Lm11dGFibGVTdGF0ZVByb3BzPy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWU/LnZhbHVlKSB7XHJcbiAgICAgICAgLy8gSW4gMjAyMy5SMDIsIGl0IGFsd2F5cyBjYWxscyB0aGlzLmdvSG9tZShmYWxzZSkgaGVyZS4gV2Uga2VlcCBpdCBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgICAgICAvLyBJbiB0aGUgbmV4dCByZWxlYXNlLCBpZiB3ZSBjYW4gZ2V0IHZpZXdwb2ludCBmcm9tIHVybCBoYXNoLCB3ZSB3aWxsIHVzZSBpdCBhcyBtYXAgaW5pdGlhbCB2aWV3cG9pbnQuXHJcbiAgICAgICAgLy8gRm9yIHRoaXMgY2FzZSAodmlldy5pbml0VXJsSGFzaFZpZXdwb2ludCBub3QgZW1wdHkpLCB3ZSBkb24ndCBjYWxsIHRoaXMuZ29Ib21lKGZhbHNlKSwgYmVjYXVzZSBnb0hvbWUgd2lsbCBsZXQgdGhlIG1hcCBnb3RvIGNvbmZpZy5pbml0aWFsTWFwU3RhdGUuXHJcbiAgICAgICAgaWYgKCF2aWV3LmluaXRVcmxIYXNoTWFwT3B0aW9ucykge1xyXG4gICAgICAgICAgdGhpcy5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5pc01hcFZpZXcodmlldykpIHtcclxuICAgICAgICAvLyBzbmFwVG9ab29tOiB0cnVlIG1lYW5zIGludGVnZXIgem9vbSwgZmFsc2UgbWVhbnMgZmxvYXQgem9vbVxyXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBpbml0aWFsIHZhbHVlIHRvIHRydWUgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYW5kIGtlZXAgdGhlIHNhbWUgYmVoYXZpb3Igd2l0aCBNYXBWaWV3ZXJcclxuICAgICAgICAvLyBBZnRlciBtYXAgaW5pdGVkLCB3ZSB3aWxsIHNldCBzbmFwVG9ab29tIHRvIGZhbHNlIHRvIGdldCB0aGUgYmVzdCBzeW5jaHJvbml6YXRpb24gYmV0d2VlbiB0d28gbWFwIHdpZGdldHNcclxuXHJcbiAgICAgICAgLy8gV2UgdXNlIHNldFRpbWVvdXQgaGVyZSB0byBtYWtlIHN1cmUgdGhlIGFib3ZlIHRoaXMuZ29Ib21lKGZhbHNlKSBpcyBkb25lLlxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgKHZpZXcgYXMgX19lc3JpLk1hcFZpZXcpLmNvbnN0cmFpbnRzLnNuYXBUb1pvb20gPSBmYWxzZVxyXG4gICAgICAgIH0sIDApXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5iaW5kTWFwQmFzZVZpZXdFdmVudCh2aWV3KVxyXG5cclxuICAgIHRoaXMudHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzKHRydWUpXHJcbiAgICB0aGlzLmNoZWNrQW5kSGFuZGxlTXV0YWJsZVN0YXRlUHJvcHMoKVxyXG4gIH1cclxuXHJcbiAgcHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2UgKHZpZXc6IE1hcGJhc2VWaWV3LCBzdGF0aW9uYXJ5OiBib29sZWFuLCBpbnRlcmFjaXZlPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgaWYgKCF2aWV3KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5vd1RpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgaWYgKCF2aWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIHtcclxuICAgICAgdmlldy5maXJzdFB1Ymxpc2hFeHRlbnRDaGFuZ2VUaW1lID0gbm93VGltZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4dGVudCA9IHZpZXcuZXh0ZW50LmNsb25lKClcclxuICAgIGNvbnN0IHZpZXdwb2ludCA9IHZpZXcudmlld3BvaW50LmNsb25lKClcclxuICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZXh0ZW50LCB2aWV3cG9pbnQsIHN0YXRpb25hcnkpXHJcbiAgICBleHRlbnRNZXNzYWdlLnB1Ymxpc2hUaW1lID0gbm93VGltZVxyXG4gICAgZXh0ZW50TWVzc2FnZS5pbnRlcmFjaXZlID0gaW50ZXJhY2l2ZSB8fCB2aWV3LmludGVyYWN0aW5nXHJcbiAgICBjb25zdCBleHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzT2ZWaWV3ID0gdGhpcy5nZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzT2ZWaWV3KHZpZXcpXHJcblxyXG4gICAgZXh0ZW50TWVzc2FnZS5zZXRSZWxhdGVkV2lkZ2V0SWRzKGV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNPZlZpZXcpXHJcbiAgICBleHRlbnRNZXNzYWdlLmFkZFJlbGF0ZWRXaWRnZXRJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZClcclxuICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxyXG5cclxuICAgIGlmIChzdGF0aW9uYXJ5KSB7XHJcbiAgICAgIC8vIGhhbmRsZSB2aWV3cG9pbnRIaXN0b3J5XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRWaWV3cG9pbnQgPSB2aWV3LnZpZXdwb2ludC5jbG9uZSgpXHJcblxyXG4gICAgICBpZiAodmlldy52aWV3cG9pbnRIaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBpbmRleGVzOiBudW1iZXJbXSA9IFt2aWV3LnZpZXdwb2ludEluZGV4LCB2aWV3LnZpZXdwb2ludEluZGV4IC0gMSwgdmlldy52aWV3cG9pbnRJbmRleCArIDFdXHJcbiAgICAgICAgbGV0IGlzU2FtZWxpa2VWaWV3cG9pbnQ6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgICAgIGNvbnN0IGxhc3RWaWV3cG9pbnRJbmRleCA9IHZpZXcudmlld3BvaW50SGlzdG9yeS5sZW5ndGggLSAxXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3Qgdmlld3BvaW50SW5kZXggPSBpbmRleGVzW2ldXHJcblxyXG4gICAgICAgICAgaWYgKHZpZXdwb2ludEluZGV4ID49IDAgJiYgdmlld3BvaW50SW5kZXggPD0gbGFzdFZpZXdwb2ludEluZGV4KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb2ludCA9IGdldFZpZXdwb2ludEluc3RhbmNlRnJvbUhpc3Rvcnkodmlldywgdmlld3BvaW50SW5kZXgpXHJcblxyXG4gICAgICAgICAgICBpZiAodmlld3BvaW50ICYmIGlzU2FtZWxpa2VWaWV3cG9pbnRzKHZpZXcsIGN1cnJlbnRWaWV3cG9pbnQsIHZpZXdwb2ludCkpIHtcclxuICAgICAgICAgICAgICBpc1NhbWVsaWtlVmlld3BvaW50ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNTYW1lbGlrZVZpZXdwb2ludCkge1xyXG4gICAgICAgICAgLy8gY3VycmVudCB2aWV3cG9pbnRIaXN0b3J5OiB2aWV3LnZpZXdwb2ludEluZGV4IHBvaW50IHRvIENcclxuICAgICAgICAgIC8vIEEgLT4gQiAtPiBbQ10gLT4gRCAtPiBFXHJcblxyXG4gICAgICAgICAgLy8gdGVtcCB2aWV3cG9pbnRIaXN0b3J5XHJcbiAgICAgICAgICAvLyBBIC0+IEIgLT4gW0NdXHJcbiAgICAgICAgICB2aWV3LnZpZXdwb2ludEhpc3Rvcnkuc3BsaWNlKHZpZXcudmlld3BvaW50SW5kZXggKyAxKVxyXG5cclxuICAgICAgICAgIC8vIG5ldyB2aWV3cG9pbnRIaXN0b3J5XHJcbiAgICAgICAgICAvLyBBIC0+IEIgLT4gQyAtPiBbRl1cclxuICAgICAgICAgIHZpZXcudmlld3BvaW50SGlzdG9yeS5wdXNoKGN1cnJlbnRWaWV3cG9pbnQpXHJcbiAgICAgICAgICB2aWV3LnZpZXdwb2ludEluZGV4ICs9IDFcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gZmlyc3Qgdmlld3BvaW50XHJcbiAgICAgICAgdmlldy52aWV3cG9pbnRIaXN0b3J5LnB1c2goY3VycmVudFZpZXdwb2ludClcclxuICAgICAgICB2aWV3LnZpZXdwb2ludEluZGV4ID0gMFxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodmlldy5zdGF0aW9uYXJ5Q2FsbGJhY2spIHtcclxuICAgICAgICB2aWV3LnN0YXRpb25hcnlDYWxsYmFjaygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlYm91bmNlVXBkYXRlVXJsSGFzaFBhcmFtcygpXHJcbiAgfVxyXG5cclxuICBkZWJvdW5jZVVwZGF0ZVVybEhhc2hQYXJhbXMgPSAoKSA9PiB7fVxyXG5cclxuICB1cGRhdGVVcmxIYXNoUGFyYW1zICgpIHtcclxuICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgIGlmIChqaW11TWFwVmlldyAmJiBqaW11TWFwVmlldy5pc0FjdGl2ZSkge1xyXG4gICAgICAgIC8vIE1hcFZpZXcgYWx3YXlzIHRyaWdnZXIgdHdpY2UgZXh0ZW50IGNoYW5nZSBldmVudCBhZnRlciB2aWV3IHdoZW4sIGFib3V0IDNtcyAtIDgwbXMgYWZ0ZXIgdmlldyB3aGVuLlxyXG4gICAgICAgIC8vIFNjZW5lVmlldyBhbHdheXMgdHJpZ2dlciAyLTUgdGltZXMgZXh0ZW50IGNoYW5nZSBldmVudCBhZnRlciB2aWV3IHdoZW4sIGFib3V0IDMgLSA1MDAwIG1zLCBkZXBlbmRzIG9uIGRhdGEuXHJcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byB1cGRhdGUgbWFwIHVybCBwYXJhbWV0ZXJzIGR1cmluZyBtYXAgaW5pdGlhbGl6aW5nLCBzbyBuZWVkIHRvIGNoZWNrIHZpZXdwb2ludCByZWFsbHkgY2hhbmdlZCBvciBub3QuXHJcbiAgICAgICAgY29uc3QgaXNWaWV3cG9pbnRDaGFuZ2UgPSAhaXNTYW1lbGlrZVZpZXdwb2ludHModGhpcy52aWV3LCB0aGlzLnZpZXcudmlld3BvaW50LCB0aGlzLnZpZXcubGFzdFZpZXdwb2ludFRvVXBkYXRlVXJsUGFyYW1zKVxyXG5cclxuICAgICAgICBpZiAoaXNWaWV3cG9pbnRDaGFuZ2UpIHtcclxuICAgICAgICAgIC8vIHZpZXdwb2ludCByZWFsbHkgY2hhbmdlZFxyXG4gICAgICAgICAgdXBkYXRlVXJsSGFzaFBhcmFtc0ZvckFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlIChpbml0aWFsTWFwU3RhdGU6IEltbXV0YWJsZU9iamVjdDxJbml0aWFsTWFwU3RhdGU+KTogX19lc3JpLlZpZXdwb2ludCB7XHJcbiAgICAvLyBGb3IgMmQsIGluaXRpYWxNYXBTdGF0ZS5leHRlbnQgYW5kIGluaXRpYWxNYXBTdGF0ZS52aWV3UG9pbnQgaGF2ZSBzb21lIGRpZmZlcmVuY2UuXHJcbiAgICAvLyBUaGUgbG9naWMgaGFzIHJ1biBsb25nIHRpbWUsIGZvciBub3cgd2UgZG9uJ3QgY2hhbmdlIGl0cyBsb2dpYyBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgIGlmIChpbml0aWFsTWFwU3RhdGUudmlld1R5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogdGhpcy5FeHRlbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLmV4dGVudCksXHJcbiAgICAgICAgICByb3RhdGlvbjogaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5WaWV3cG9pbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1hcE9wdGlvbnNCeVVybEhhc2hQYXJhbXMgKGlzMmQpOiBVcmxQYXJhbXNNYXBPcHRpb25zIHtcclxuICAgIGxldCByZXN1bHQ6IFVybFBhcmFtc01hcE9wdGlvbnMgPSBudWxsXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaXNSdW5BcHBNb2RlID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaXNSdW5BcHBNb2RlXHJcbiAgICAgIGNvbnN0IHJ1bnRpbWVVcmxIYXNoUGFyYW1zID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucnVudGltZVVybEhhc2hQYXJhbXNcclxuXHJcbiAgICAgIGlmIChpc1J1bkFwcE1vZGUgJiYgcnVudGltZVVybEhhc2hQYXJhbXMpIHtcclxuICAgICAgICByZXN1bHQgPSBnZXRNYXBPcHRpb25zQnlVcmxIYXNoUGFyYW1zKHJ1bnRpbWVVcmxIYXNoUGFyYW1zLCBpczJkLCB0aGlzLlZpZXdwb2ludCwgdGhpcy5Qb2ludCwgdGhpcy5TcGF0aWFsUmVmZXJlbmNlKVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3BhcnNlIG1hcCBvcHRpb25zIGZyb20gdXJsIGhhc2ggcGFyYW1zIGVycm9yJywgZSlcclxuICAgICAgcmVzdWx0ID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcblxyXG4gIGNhbE1hcFZpZXdUaW1lWm9uZSAod2ViTWFwT3JXZWJTY2VuZTogX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSk6IHN0cmluZyB7XHJcbiAgICBsZXQgZmluYWxUaW1lWm9uZTogc3RyaW5nID0gJydcclxuXHJcbiAgICBjb25zdCB0aW1lWm9uZVByb3AgPSB0aGlzLnByb3BzPy5iYXNlV2lkZ2V0UHJvcHM/Lm1hcFRpbWVab25lXHJcbiAgICBjb25zdCBvcmlnaW5hbEl0ZW1UaW1lWm9uZSA9ICh3ZWJNYXBPcldlYlNjZW5lIGFzIGFueSk/Lm9yaWdpbmFsSXRlbVRpbWVab25lXHJcblxyXG4gICAgaWYgKHRpbWVab25lUHJvcCkge1xyXG4gICAgICAvLyBjYXNlMTogdXNlciBzZXRzICdEZXZpY2UgdGltZSB6b25lJyBhcyB0aW1lWm9uZSBpbiBFeEJcclxuICAgICAgLy8gY2FzZTI6IHVzZXIgc2V0cyAnU3BlY2lmaWMgdGltZSB6b25lJyBhcyB0aW1lWm9uZSBpbiBFeEJcclxuICAgICAgZmluYWxUaW1lWm9uZSA9IHRpbWVab25lUHJvcFxyXG4gICAgfSBlbHNlIGlmIChvcmlnaW5hbEl0ZW1UaW1lWm9uZSkge1xyXG4gICAgICAvLyB1c2VyIHNldHMgJ0RhdGEgdGltZSB6b25lJyBhcyB0aW1lWm9uZSBpbiBFeEJcclxuICAgICAgLy8gVGhlIHdlYm1hcCBpcyBhIG5ldyBvbmUgd2l0aCB0aW1lWm9uZS5cclxuICAgICAgZmluYWxUaW1lWm9uZSA9IG9yaWdpbmFsSXRlbVRpbWVab25lXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB1c2VyIGRvZXNuJ3Qgc2V0IHRpbWVab25lIGluIEV4QlxyXG4gICAgICAvLyBUaGUgd2VibWFwIGlzIGFuIG9sZCBvbmUgd2l0aG91dCB0aW1lWm9uZS5cclxuICAgICAgZmluYWxUaW1lWm9uZSA9ICdzeXN0ZW0nXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsVGltZVpvbmVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNyZWF0ZSB3ZWIgbWFwIG9yIHdlYiBzY2VuZSBieSBkYXRhIHNvdXJjZS4gVGhpcyBtZXRob2QgZG9lc24ndCBjb25zaWRlciBkZWZhdWx0IHdlYiBtYXAgY2FzZS5cclxuICAgKiBAcGFyYW0gZGF0YVNvdXJjZUluZm9cclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGFzeW5jIGNyZWF0ZVdlYk1hcE9yV2ViU2NlbmVCeURhdGFTb3VyY2UgKGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm8pOiBQcm9taXNlPF9fZXNyaS5XZWJNYXAgfCBfX2VzcmkuV2ViU2NlbmU+IHtcclxuICAgIGxldCB3ZWJNYXBPcldlYlNjZW5lOiBfX2VzcmkuV2ViTWFwIHwgX19lc3JpLldlYlNjZW5lID0gbnVsbFxyXG4gICAgY29uc3QgTWFwQ2xhc3M6IHR5cGVvZiBfX2VzcmkuV2ViTWFwIHwgdHlwZW9mIF9fZXNyaS5XZWJTY2VuZSA9IGRhdGFTb3VyY2VJbmZvLmlzV2ViTWFwID8gdGhpcy5XZWJNYXAgOiB0aGlzLldlYlNjZW5lXHJcblxyXG4gICAgY29uc3QgZGF0YVNvdXJjZUpzb24gPSBkYXRhU291cmNlSW5mby5kYXRhU291cmNlSnNvblxyXG5cclxuICAgIGlmIChkYXRhU291cmNlSnNvbi5wb3J0YWxVcmwpIHtcclxuICAgICAgLy8gY3JlYXRlIHdlYiBtYXAgb3Igd2ViIHNjZW5lIGZvciBwb3J0YWxcclxuICAgICAgY29uc3QgcG9ydGFsID0gbmV3IHRoaXMuUG9ydGFsKHtcclxuICAgICAgICB1cmw6IHBvcnRhbFVybFV0aWxzLmdldFBsYXRmb3JtVXJsQnlPcmdVcmwoZGF0YVNvdXJjZUpzb24ucG9ydGFsVXJsKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgd2ViTWFwT3JXZWJTY2VuZSA9IG5ldyBNYXBDbGFzcyh7XHJcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZUpzb24uaXRlbUlkLFxyXG4gICAgICAgICAgcG9ydGFsOiBwb3J0YWxcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gY3JlYXRlIHdlYiBtYXAgb3Igd2ViIHNjZW5lIGZvciBhcmNnaXMgb25saW5lXHJcbiAgICAgIHdlYk1hcE9yV2ViU2NlbmUgPSBuZXcgTWFwQ2xhc3Moe1xyXG4gICAgICAgIHBvcnRhbEl0ZW06IG5ldyB0aGlzLlBvcnRhbEl0ZW0oe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VKc29uLml0ZW1JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGFTb3VyY2VVdGlscy5nZXRXaGV0aGVyVXNlUHJveHkoKSkge1xyXG4gICAgICBhd2FpdCB3ZWJNYXBPcldlYlNjZW5lLmxvYWQoKVxyXG4gICAgICBhd2FpdCB3ZWJNYXBPcldlYlNjZW5lLndoZW4oKVxyXG5cclxuICAgICAgLy8gc2V0IHByb3h5IHVybCBmb3IgbGF5ZXJzIGFuZCB0YWJsZXNcclxuICAgICAgY29uc3QgYWxsTGF5ZXJzID0gd2ViTWFwT3JXZWJTY2VuZS5hbGxMYXllcnMudG9BcnJheSgpXHJcbiAgICAgIGNvbnN0IHRhYmxlcyA9IHdlYk1hcE9yV2ViU2NlbmUudGFibGVzID8gd2ViTWFwT3JXZWJTY2VuZS50YWJsZXMudG9BcnJheSgpIDogW11cclxuICAgICAgY29uc3QgbGF5ZXJzQW5kVGFibGVzID0gYWxsTGF5ZXJzLmNvbmNhdCh0YWJsZXMpIGFzIEFycmF5PF9fZXNyaS5MYXllciAmIHsgdXJsOiBzdHJpbmcsIHBvcnRhbEl0ZW0/OiBfX2VzcmkuUG9ydGFsSXRlbSB9PlxyXG4gICAgICBsYXllcnNBbmRUYWJsZXMuZm9yRWFjaChsYXllciA9PiB7XHJcbiAgICAgICAgY29uc3Qgc291cmNlVXJsID0gZGF0YVNvdXJjZVV0aWxzLmdldFVybEJ5TGF5ZXIobGF5ZXIpXHJcblxyXG4gICAgICAgIGlmICghc291cmNlVXJsKSB7XHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByb3h5VXJsOiBzdHJpbmcgPSBkYXRhU291cmNlVXRpbHMuZ2V0RGF0YVNvdXJjZVByb3h5VXJsKHNvdXJjZVVybClcclxuXHJcbiAgICAgICAgaWYgKHByb3h5VXJsKSB7XHJcbiAgICAgICAgICBsYXllci51cmwgPSBwcm94eVVybFxyXG5cclxuICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBpcyB0aGUgd29ya2Fyb3VuZCB0byBmaXggSlMgQVBJIDQuMjggaXNzdWUuIE5lZWQgdG8gYmUgcmVwbGFjZWQgd2l0aCByZXF1ZXN0IGludGVyY2VwdG9yIGluIG5leHQgcmVsZWFzZS5cclxuICAgICAgICAgIGNvbnN0IHBvcnRhbEl0ZW0gPSBsYXllci5wb3J0YWxJdGVtXHJcblxyXG4gICAgICAgICAgaWYgKHBvcnRhbEl0ZW0gJiYgcG9ydGFsSXRlbS53aGVuKSB7XHJcbiAgICAgICAgICAgIHBvcnRhbEl0ZW0ud2hlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gQWZ0ZXIgZXhlY3V0ZSAnbGF5ZXIudXJsID0gcHJveHlVcmwnLCBsYXllci51cmwgbWF5YmUgc3RpbGwgZGlmZmVyZW50IHdpdGggcHJveHlVcmwsIGUuZy4gcHJveHlVcmwgaXMgJ3h4eC9mZWF0dXJlc2VydmVyLzAnLCBidXQgdGhlIGZpbmFsIGxheWVyLnVybCBpcyAneHh4L2ZlYXR1cmVzZXJ2ZXInLlxyXG4gICAgICAgICAgICAgIC8vIHNvIHdlIHVzZSBsYXllci51cmwgaGVyZSwgbm90IHByb3h5VXJsLlxyXG4gICAgICAgICAgICAgIHBvcnRhbEl0ZW0udXJsID0gbGF5ZXIudXJsXHJcblxyXG4gICAgICAgICAgICAgIGlmIChwb3J0YWxJdGVtLnNvdXJjZUpTT04pIHtcclxuICAgICAgICAgICAgICAgIHBvcnRhbEl0ZW0uc291cmNlSlNPTi51cmwgPSBsYXllci51cmxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB3ZWJNYXBPcldlYlNjZW5lXHJcbiAgfVxyXG5cclxuICBnZXRJbml0Vmlld1BvaW50Rm9yRGVmYXVsdFdlYk1hcCA9ICgpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcclxuICAgIGNvbnN0IGRlZmF1bHRFeHRlbnQgPSB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvICYmIHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdEV4dGVudFxyXG4gICAgbGV0IHRlbXBWaWV3UG9pbnQgPSBudWxsXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludCkge1xyXG4gICAgICB0ZW1wVmlld1BvaW50ID0gdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBWaWV3UG9pbnQgPSBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IG5ldyB0aGlzLkV4dGVudCh7XHJcbiAgICAgICAgICAgIHhtaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWluLFxyXG4gICAgICAgICAgICB5bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1pbixcclxuICAgICAgICAgICAgeG1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtYXgsXHJcbiAgICAgICAgICAgIHltYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWF4LFxyXG4gICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IGRlZmF1bHRFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZS53a2lkIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGVtcFZpZXdQb2ludFxyXG4gIH1cclxuXHJcbiAgZ2V0RGVmYXVsdFdlYk1hcCAoKTogX19lc3JpLldlYk1hcCB7XHJcbiAgICBjb25zdCBkZWZhdWx0RXh0ZW50ID0gdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mbyAmJiB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvLmRlZmF1bHRFeHRlbnRcclxuXHJcbiAgICBjb25zdCB0ZW1wVmlld1BvaW50ID0gbmV3IHRoaXMuVmlld3BvaW50KFxyXG4gICAgICB7XHJcbiAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IG5ldyB0aGlzLkV4dGVudCh7XHJcbiAgICAgICAgICB4bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1pbixcclxuICAgICAgICAgIHltaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWluLFxyXG4gICAgICAgICAgeG1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtYXgsXHJcbiAgICAgICAgICB5bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1heCxcclxuICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLndraWQgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0V2VibWFwID0gbmV3IHRoaXMuV2ViTWFwKHtcclxuICAgICAgcG9ydGFsSXRlbToge1xyXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvLmRlZmF1bHRNYXBJZCxcclxuICAgICAgICBwb3J0YWw6IHtcclxuICAgICAgICAgIHVybDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucG9ydGFsVXJsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBpbml0aWFsVmlld1Byb3BlcnRpZXM6IG5ldyB0aGlzLkluaXRpYWxWaWV3UHJvcGVydGllcyh7XHJcbiAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnNwYXRpYWxSZWZlcmVuY2UsXHJcbiAgICAgICAgdmlld3BvaW50OiB0ZW1wVmlld1BvaW50XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBkZWZhdWx0V2VibWFwXHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRNYXBWaWV3T3B0aW9uVG9DcmVhdGVNYXBWaWV3IChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogUHJvbWlzZTxfX2VzcmkuTWFwVmlld1Byb3BlcnRpZXM+IHtcclxuICAgIGxldCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuTWFwVmlld1Byb3BlcnRpZXNcclxuXHJcbiAgICBjb25zdCBpbml0aWFsTWFwU3RhdGUgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlXHJcbiAgICBsZXQgd2ViTWFwOiBfX2VzcmkuV2ViTWFwID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICB3ZWJNYXAgPSB0aGlzLmdldERlZmF1bHRXZWJNYXAoKVxyXG4gICAgICBtYXBWaWV3T3B0aW9uID0ge1xyXG4gICAgICAgIG1hcDogd2ViTWFwLFxyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIsXHJcbiAgICAgICAgdmlld3BvaW50OiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2ViTWFwID0gYXdhaXQgdGhpcy5jcmVhdGVXZWJNYXBPcldlYlNjZW5lQnlEYXRhU291cmNlKGRhdGFTb3VyY2VJbmZvKSBhcyBfX2VzcmkuV2ViTWFwXHJcblxyXG4gICAgICBpZiAoaW5pdGlhbE1hcFN0YXRlKSB7XHJcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICAgIG1hcDogd2ViTWFwLFxyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXdwb2ludDogaW5pdGlhbE1hcFN0YXRlICYmIHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKGluaXRpYWxNYXBTdGF0ZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICAgIG1hcDogd2ViTWFwLFxyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lclxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldCB0aGUgaW5pdGlhbCB0aW1lWm9uZSBvZiBNYXBWaWV3ZXJcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHdlYk1hcC5sb2FkKClcclxuICAgICAgYXdhaXQgd2ViTWFwLndoZW4oKVxyXG5cclxuICAgICAgY29uc3Qgd2VibWFwQ29uZmlnID0gYXdhaXQgKHdlYk1hcCBhcyBhbnkpLnJlc291cmNlSW5mb1xyXG5cclxuICAgICAgaWYgKHdlYm1hcENvbmZpZykge1xyXG4gICAgICAgICh3ZWJNYXAgYXMgYW55KS5vcmlnaW5hbEl0ZW1UaW1lWm9uZSA9IHdlYm1hcENvbmZpZy50aW1lWm9uZVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2NhbiBub3QgZ2V0IE1hcFZpZXdlciB0aW1lWm9uZScsIGUpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5wcm9wcz8uYmFzZVdpZGdldFByb3BzPy5jb25maWdcclxuICAgIGNvbnN0IGhpZ2hsaWdodENvbG9yID0gY29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9DT0xPUlxyXG4gICAgY29uc3QgaGlnaGxpZ2h0SGFsb0NvbG9yID0gY29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IgfHwgREVGQVVMVF9ISUdITElHSFRfSEFMT19DT0xPUlxyXG4gICAgbWFwVmlld09wdGlvbi5oaWdobGlnaHRPcHRpb25zID0ge1xyXG4gICAgICBjb2xvcjogbmV3IHRoaXMuQ29sb3IoaGlnaGxpZ2h0Q29sb3IpLFxyXG4gICAgICBoYWxvQ29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodEhhbG9Db2xvcilcclxuICAgIH1cclxuXHJcbiAgICBtYXBWaWV3T3B0aW9uLmNvbnN0cmFpbnRzID0ge1xyXG4gICAgICAvLyBzbmFwVG9ab29tOiB0cnVlIG1lYW5zIGludGVnZXIgem9vbSwgZmFsc2UgbWVhbnMgZmxvYXQgem9vbVxyXG4gICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGUgaW5pdGlhbCB2YWx1ZSB0byB0cnVlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFuZCBrZWVwIHRoZSBzYW1lIGJlaGF2aW9yIHdpdGggTWFwVmlld2VyXHJcbiAgICAgIC8vIEFmdGVyIG1hcCBpbml0ZWQsIHdlIHdpbGwgc2V0IHNuYXBUb1pvb20gdG8gZmFsc2UgdG8gZ2V0IHRoZSBiZXN0IHN5bmNocm9uaXphdGlvbiBiZXR3ZWVuIHR3byBtYXAgd2lkZ2V0c1xyXG4gICAgICBzbmFwVG9ab29tOiB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmluYWxUaW1lWm9uZSA9IHRoaXMuY2FsTWFwVmlld1RpbWVab25lKHdlYk1hcClcclxuICAgIG1hcFZpZXdPcHRpb24udGltZVpvbmUgPSBmaW5hbFRpbWVab25lXHJcblxyXG4gICAgaWYgKCF3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucXVlcnlPYmplY3RbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW50U3RyID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucXVlcnlPYmplY3RbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdLnN1YnN0cignZXh0ZW50PScubGVuZ3RoKVxyXG4gICAgICAgIGxldCBleHRlbnRcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGV4dGVudCA9IG5ldyB0aGlzLkV4dGVudChKU09OLnBhcnNlKGV4dGVudFN0cikpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdCYWQgZXh0ZW50IFVSTCBwYXJhbWV0ZXIuJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChleHRlbnQpIHtcclxuICAgICAgICAgIG1hcFZpZXdPcHRpb24uZXh0ZW50ID0gZXh0ZW50XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1hcFZpZXdPcHRpb25cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFNjZW5lVmlld09wdGlvblRvQ3JlYXRlU2NlbmVWaWV3IChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogUHJvbWlzZTxfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcz4ge1xyXG4gICAgY29uc3Qgd2ViU2NlbmUgPSBhd2FpdCB0aGlzLmNyZWF0ZVdlYk1hcE9yV2ViU2NlbmVCeURhdGFTb3VyY2UoZGF0YVNvdXJjZUluZm8pXHJcblxyXG4gICAgY29uc3QgbWFwVmlld09wdGlvbjogX19lc3JpLlNjZW5lVmlld1Byb3BlcnRpZXMgPSB7XHJcbiAgICAgIG1hcDogd2ViU2NlbmUsXHJcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXJcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3aWRnZXRDb25maWcgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWdcclxuICAgIGNvbnN0IGluaXRpYWxNYXBTdGF0ZSA9IHdpZGdldENvbmZpZy5pbml0aWFsTWFwU3RhdGVcclxuXHJcbiAgICBpZiAoaW5pdGlhbE1hcFN0YXRlKSB7XHJcbiAgICAgIG1hcFZpZXdPcHRpb24udmlld3BvaW50ID0gaW5pdGlhbE1hcFN0YXRlICYmIHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKGluaXRpYWxNYXBTdGF0ZSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoaWdobGlnaHRDb2xvciA9IHdpZGdldENvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9DT0xPUlxyXG4gICAgY29uc3QgaGlnaGxpZ2h0SGFsb0NvbG9yID0gd2lkZ2V0Q29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9IQUxPX0NPTE9SXHJcbiAgICBtYXBWaWV3T3B0aW9uLmhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcbiAgICAgIGNvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRDb2xvciksXHJcbiAgICAgIGhhbG9Db2xvcjogbmV3IHRoaXMuQ29sb3IoaGlnaGxpZ2h0SGFsb0NvbG9yKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNjZW5lUXVhbGl0eU1vZGUgPSB3aWRnZXRDb25maWcuc2NlbmVRdWFsaXR5TW9kZVxyXG5cclxuICAgIGlmIChzY2VuZVF1YWxpdHlNb2RlICYmIHNjZW5lUXVhbGl0eU1vZGUgIT09IFNjZW5lUXVhbGl0eU1vZGUuYXV0bykge1xyXG4gICAgICBtYXBWaWV3T3B0aW9uLnF1YWxpdHlQcm9maWxlID0gc2NlbmVRdWFsaXR5TW9kZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdXNlICdsb3cnIGFzIGRlZmF1bHQgdmFsdWVcclxuICAgICAgbWFwVmlld09wdGlvbi5xdWFsaXR5UHJvZmlsZSA9IFNjZW5lUXVhbGl0eU1vZGUubG93XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1hcFZpZXdPcHRpb25cclxuICB9XHJcblxyXG4gIGJpbmRNYXBCYXNlVmlld0V2ZW50ICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgdGhpcy5yZWxlYXNlTWFwYmFzZVZpZXdFdmVudEhhbmRsZXModmlldylcclxuXHJcbiAgICAgIHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuY2xpY2sgPSB2aWV3Lm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLnJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzKHZpZXcpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldyAoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICAgIC8vIERvbid0IG5lZWQgZGF0YSBzb3VyY2UgaWYgdXNlIGRlZmF1bHQgbWFwLlxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwRHMgJiYgdGhpcy5tYXBEcy5pZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWRcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZ2V0SmltdU1hcFZpZXdGb1ZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KTogSmltdU1hcFZpZXcge1xyXG4gICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHZpZXc/LmRhdGFTb3VyY2VJbmZvPy5qaW11TWFwVmlld0lkXHJcblxyXG4gICAgaWYgKGppbXVNYXBWaWV3SWQpIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgcmV0dXJuIGppbXVNYXBWaWV3XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGNyZWF0ZUppbXVNYXBWaWV3ICgpIHtcclxuICAgIGlmICghdGhpcy5pc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldygpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdcclxuXHJcbiAgICAvLyBJZiBkYXRhU291cmNlSWQgaXMgbnVsbCwgbWFrZSBzdXJlIGl0IGNvbnZlcnRzIHRvIGVtcHR5IHN0cmluZy5cclxuICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkIHx8ICcnXHJcblxyXG4gICAgY29uc3QgdXNlVXJsSGFzaExheWVyc1Zpc2liaWxpdHkgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pc1J1bkFwcE1vZGVcclxuXHJcbiAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZUppbXVNYXBWaWV3KHtcclxuICAgICAgbWFwV2lkZ2V0SWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxyXG4gICAgICBkYXRhU291cmNlSWQsXHJcbiAgICAgIHZpZXcsXHJcbiAgICAgIGlzRW5hYmxlUG9wdXA6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZyAmJiAhdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmRpc2FibGVQb3BVcCxcclxuICAgICAgbWFwVmlld01hbmFnZXI6IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCksXHJcbiAgICAgIHVzZVVybEhhc2hMYXllcnNWaXNpYmlsaXR5XHJcbiAgICB9KVxyXG5cclxuICAgIHZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSB2aWV3LmRhdGFTb3VyY2VJbmZvLmppbXVNYXBWaWV3SWRcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgaWYgKGppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgIGppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhqaW11TWFwVmlld0lkKVxyXG4gICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZpZXdFeHBlY3RlZCh2aWV3KSkge1xyXG4gICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkKGppbXVNYXBWaWV3KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95SmltdU1hcFZpZXcoamltdU1hcFZpZXdJZClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBkZXN0cm95Q3VycmVudE1hcGJhc2VWaWV3ICgpIHtcclxuICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgdGhpcy5kZXN0cm95TWFwYmFzZVZpZXcodGhpcy52aWV3KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vdGUsIGRvbid0IHNldCB0aGlzLm1hcERzIHRvIG51bGwgaGVyZS5cclxuICAgIC8vIENvbnNpZGVyIHRoaXMgY2FzZTpcclxuICAgIC8vIFdlIGNyZWF0ZSBhIG5ldyBNYXBiYXNlIGluc3RhbmNlLCBvbkRhdGFTb3VyY2VDcmVhdGVkIGNhbGxiYWNrIGlzIHF1aWNrbHksIHRoZW4gd2UgZ2V0IHRoaXMubWFwRHMuXHJcbiAgICAvLyBUaGVuIGNvbXBvbmVudERpZE1vdW50IGlzIGludm9rZWQgZm9yIHNvbWUgcmVhc29uIChlLmcuIHRoaXMuaXNCYXNpY01vZHVsZXNMb2FkZWQgY2hhbmdlZCBmcm9tIGZhbHNlIHRvIHRydWUpLFxyXG4gICAgLy8gYW5kIHdlIG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZCB0byBkZXN0cm95IHRoaXMudmlldy5cclxuICAgIC8vIFNvLCBpZiB3ZSBzZXQgdGhpcy5tYXBEcyB0byBudWxsLCB3ZSB3aWxsIG5ldmVyIGdldCB0aGlzLm1hcERzLFxyXG4gICAgLy8gYW5kIHRoaXMuaXNSZWFkeVRvQ3JlYXRlSmltdU1hcFZpZXcoKSBhbHdheXMgcmV0dXJuIGZhbHNlLCB0aGVuIHdlIGNhbid0IGNyZWF0ZSBqaW11IG1hcCB2aWV3LlxyXG4gICAgdGhpcy52aWV3ID0gbnVsbFxyXG4gIH1cclxuXHJcbiAgZGVzdHJveU1hcGJhc2VWaWV3ICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgLy8gcmVsZWFzZSBoYW5kbGVzXHJcbiAgICAgIGlmICh2aWV3LndhdGNoSW50ZXJhY3RpbmdIYW5kbGUpIHtcclxuICAgICAgICB2aWV3LndhdGNoSW50ZXJhY3RpbmdIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICB2aWV3LndhdGNoSW50ZXJhY3RpbmdIYW5kbGUgPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2aWV3LmV4dGVudFdhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgdmlldy5leHRlbnRXYXRjaEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgIHZpZXcuZXh0ZW50V2F0Y2hIYW5kbGUgPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2aWV3LmZhdGFsRXJyb3JXYXRjaEhhbmRsZSkge1xyXG4gICAgICAgIHZpZXcuZmF0YWxFcnJvcldhdGNoSGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgdmlldy5mYXRhbEVycm9yV2F0Y2hIYW5kbGUgPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2aWV3LnN0YXRpb25hcnlUaW1lcklkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHZpZXcuc3RhdGlvbmFyeVRpbWVySWQpXHJcbiAgICAgICAgdmlldy5zdGF0aW9uYXJ5VGltZXJJZCA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5yZWxlYXNlSGlnaExpZ2h0SGFuZGxlcyh2aWV3KVxyXG5cclxuICAgICAgdGhpcy5yZWxlYXNlTWFwYmFzZVZpZXdFdmVudEhhbmRsZXModmlldylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gdmlldy5kYXRhU291cmNlSW5mby5qaW11TWFwVmlld0lkXHJcblxyXG4gICAgaWYgKGppbXVNYXBWaWV3SWQpIHtcclxuICAgICAgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95SmltdU1hcFZpZXcoamltdU1hcFZpZXdJZClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXZpZXcuZGVzdHJveWVkKSB7XHJcbiAgICAgIHZpZXcuZGVzdHJveSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWxlYXNlSGlnaExpZ2h0SGFuZGxlcyAodmlldzogTWFwYmFzZVZpZXcpIHtcclxuICAgIGlmICh2aWV3LmhpZ2hMaWdodEhhbmRsZXMpIHtcclxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZpZXcuaGlnaExpZ2h0SGFuZGxlcylcclxuXHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgICAgICB2aWV3LmhpZ2hMaWdodEhhbmRsZXNba2V5XS5yZW1vdmUoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5oaWdoTGlnaHRIYW5kbGVzID0ge31cclxuICB9XHJcblxyXG4gIHJlbGVhc2VNYXBiYXNlVmlld0V2ZW50SGFuZGxlcyAodmlldzogTWFwYmFzZVZpZXcpIHtcclxuICAgIGlmICh2aWV3Lm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzKSB7XHJcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2aWV3Lm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzKVxyXG5cclxuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgIHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNba2V5XS5yZW1vdmUoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcyA9IHt9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uU3RvcmVSZXNvdXJjZVNlc3Npb25zQ2hhbmdlIChwcmV2UmVzb3VyY2VTZXNzaW9uczogSW1tdXRhYmxlT2JqZWN0PFJlc291cmNlU2Vzc2lvbnM+LCByZXNvdXJjZVNlc3Npb25zOiBJbW11dGFibGVPYmplY3Q8UmVzb3VyY2VTZXNzaW9ucz4pIHtcclxuICAgIC8vIFdoZW4gdXNlciBsb2dpbnMsIGl0IHdpbGwgdHJpZ2dlciBvblN0b3JlUmVzb3VyY2VTZXNzaW9uc0NoYW5nZSB0d2ljZSwgdGhlIGR1cmF0aW9uIGlzIGFib3V0IDEwbXMuIFNvIHVzZSB0aGUgZGVmZXIgdG8gb25seSBoYW5kbGUgdGhlIGxhc3Qgb25TdG9yZVJlc291cmNlU2Vzc2lvbnNDaGFuZ2UuXHJcbiAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xyXG4gICAgICBjb25zdCBpc01hcERzQ3JlYXRlRmFpbGVkID0gdGhpcy5jcmVhdGVGYWlsZWREYXRhU291cmNlSWRzW3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkXVxyXG5cclxuICAgICAgaWYgKGlzTWFwRHNDcmVhdGVGYWlsZWQpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMubWFwQ3JlYXRpbmdJbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy52aWV3KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy52aWV3LmlzVmlld1doZW5SZWFkeSkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy52aWV3LmlzSW5DYWNoaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5nZXRKaW11TWFwVmlld0ZvVmlldyh0aGlzLnZpZXcpXHJcblxyXG4gICAgICBpZiAoIWppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGFsbExheWVycyA9IHRoaXMudmlldy5tYXA/LmxheWVycz8udG9BcnJheSgpIHx8IFtdXHJcbiAgICAgIGNvbnN0IGxvYWRFcnJMYXllcnMgPSBhbGxMYXllcnMuZmlsdGVyKGxheWVyID0+IHtcclxuICAgICAgICByZXR1cm4gbGF5ZXIubG9hZFN0YXR1cyA9PT0gJ2ZhaWxlZCcgJiYgbGF5ZXIubG9hZEVycm9yICYmIChsYXllciBhcyBhbnkpLnVybFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKGxvYWRFcnJMYXllcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNlcnZpY2VNYW5hZ2VyID0gU2VydmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gICAgICBjb25zdCBub1Blcm1pc3Npb25SZXNvdXJjZUluZm9MaXN0ID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROb1Blcm1pc3Npb25SZXNvdXJjZUluZm9MaXN0KCkgfHwge31cclxuXHJcbiAgICAgIGNvbnN0IGlzU29tZUxheWVyUmVMb2dpbiA9IGxvYWRFcnJMYXllcnMuc29tZShsYXllciA9PiB7XHJcbiAgICAgICAgY29uc3QgbGF5ZXJVcmwgPSAobGF5ZXIgYXMgYW55KS51cmxcclxuICAgICAgICBjb25zdCBzZXJ2aWNlT3duaW5nU3lzdGVtVXJsID0gc2VydmljZU1hbmFnZXIuZ2V0U2VydmVySW5mb0J5U2VydmljZVVybChsYXllclVybCk/Lm93bmluZ1N5c3RlbVVybFxyXG4gICAgICAgIGNvbnN0IHNlcnZlclJvb3RVcmwgPSBzZXJ2aWNlVXJsVXRpbHMuZ2V0U2VydmVyUm9vdFVybChsYXllclVybClcclxuICAgICAgICBjb25zdCBzZXJ2aWNlU3RhbmRhcmRQbGF0Zm9ybVVybCA9IHBvcnRhbFVybFV0aWxzLmdldFN0YW5kYXJkUG9ydGFsVXJsKHNlcnZpY2VPd25pbmdTeXN0ZW1VcmwgfHwgc2VydmVyUm9vdFVybClcclxuXHJcbiAgICAgICAgaWYgKCFzZXJ2aWNlU3RhbmRhcmRQbGF0Zm9ybVVybCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcmVVc2VyID0gcHJldlJlc291cmNlU2Vzc2lvbnM/LltzZXJ2aWNlU3RhbmRhcmRQbGF0Zm9ybVVybF0gfHwgJydcclxuICAgICAgICBjb25zdCBjdXJyVXNlciA9IHJlc291cmNlU2Vzc2lvbnM/LltzZXJ2aWNlU3RhbmRhcmRQbGF0Zm9ybVVybF0gfHwgJydcclxuXHJcbiAgICAgICAgaWYgKHByZVVzZXIgIT09IGN1cnJVc2VyICYmIGN1cnJVc2VyICYmICFub1Blcm1pc3Npb25SZXNvdXJjZUluZm9MaXN0W2xheWVyVXJsXSkge1xyXG4gICAgICAgICAgLy8gdXNlciBjYW4gYWNjZXNzIGxheWVyVXJsIG5vd1xyXG4gICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKGlzU29tZUxheWVyUmVMb2dpbiAmJiB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gJiYgdGhpcy5pc1ZpZXdFeHBlY3RlZCh0aGlzLnZpZXcpKSB7XHJcbiAgICAgICAgY29uc3QgbWFwV2lkZ2V0SWQgPSB0aGlzLnByb3BzPy5iYXNlV2lkZ2V0UHJvcHM/LndpZGdldElkXHJcbiAgICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IGppbXVNYXBWaWV3LmlkXHJcbiAgICAgICAgY29uc29sZS5sb2coYHJlY3JlYXRlIG1hcGJhc2V2aWV3IGJlY2F1c2UgbGF5ZXJzIHRoYXQgcHJldmlvdXNseSBmYWlsZWQgdG8gbG9hZCBhcmUgbm93IGFjY2Vzc2libGUsIG1hcFdpZGdldElkOiAke21hcFdpZGdldElkfSwgamltdU1hcFZpZXdJZDogJHtqaW11TWFwVmlld0lkfWApXHJcbiAgICAgICAgdGhpcy5kZXN0cm95Q3VycmVudE1hcGJhc2VWaWV3KClcclxuICAgICAgICB0aGlzLmNhY2hlTG9hZE1vZHVsZXNBbmRDcmVhdGVNYXBiYXNlVmlldyh0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8pXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbkRhdGFTb3VyY2VDcmVhdGVkIGFuZCBvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQgd2lsbCBub3QgaW52b2tlZCB3aGVuIHRoaXMucHJvcHMuaXNXZWJNYXAgaXMgdHJ1ZVxyXG4gICAqIEBwYXJhbSBkYXRhU291cmNlXHJcbiAgICovXHJcbiAgb25EYXRhU291cmNlQ3JlYXRlZCA9IChkYXRhU291cmNlOiBNYXBEYXRhU291cmNlKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZGF0YVNvdXJjZS5pZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpIHtcclxuICAgICAgY29uc3QgaXNNYXBEc0NyZWF0ZUZhaWxlZEJlZm9yZSA9IHRoaXMuY3JlYXRlRmFpbGVkRGF0YVNvdXJjZUlkc1t0aGlzLnByb3BzLmRhdGFTb3VyY2VJZF1cclxuICAgICAgZGVsZXRlIHRoaXMuY3JlYXRlRmFpbGVkRGF0YVNvdXJjZUlkc1t0aGlzLnByb3BzLmRhdGFTb3VyY2VJZF1cclxuICAgICAgdGhpcy5tYXBEcyA9IGRhdGFTb3VyY2VcclxuXHJcbiAgICAgIGlmICh0aGlzLmlzUmVhZHlUb0NyZWF0ZUppbXVNYXBWaWV3KCkpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUppbXVNYXBWaWV3KClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzTWFwRHNDcmVhdGVGYWlsZWRCZWZvcmUgJiYgIXRoaXMudmlldyAmJiAhdGhpcy5tYXBDcmVhdGluZ0luZm8gJiYgdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvICYmIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mby5kYXRhU291cmNlSWQgPT09IGRhdGFTb3VyY2UuaWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgcmVjcmVhdGUgbWFwIGJlY2F1c2UgZGF0YSBzb3VyY2UgJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH0gaXMgcmVjcmVhdGVkYClcclxuICAgICAgICB0aGlzLmNhY2hlTG9hZE1vZHVsZXNBbmRDcmVhdGVNYXBiYXNlVmlldyh0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCA9IChlcnIpOiB2b2lkID0+IHtcclxuICAgIGNvbnNvbGUud2Fybignb25DcmVhdGVEYXRhU291cmNlRmFpbGVkJywgZXJyKVxyXG4gICAgdGhpcy5tYXBEcyA9IG51bGxcclxuICAgIGNvbnN0IGRzSWQgPSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZFxyXG4gICAgdGhpcy5jcmVhdGVGYWlsZWREYXRhU291cmNlSWRzW2RzSWRdID0gdHJ1ZVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRFcnJvclxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnByb3BzLm9uTWFwTG9hZGVkKGRzSWQsIE1hcExvYWRTdGF0dXMuTG9hZEVycm9yKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldFJlc3RvcmVEYXRhRnJvbU1TICgpOiBNYXBiYXNlUmVzdG9yZURhdGEge1xyXG4gICAgY29uc3QgYmFzaWNLZXkgPSB0aGlzLmdldFJlc3RvcmVEYXRhS2V5KClcclxuICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCAncmVzdG9yZURhdGEnLCBiYXNpY0tleV0pIGFzIE1hcGJhc2VSZXN0b3JlRGF0YVxyXG4gICAgcmV0dXJuIHJlc3RvcmVEYXRhXHJcbiAgfVxyXG5cclxuICB1cGRhdGVSZXN0b3JlRGF0YVRvTVMgKHJlc3RvcmVEYXRhOiBNYXBiYXNlUmVzdG9yZURhdGEpIHtcclxuICAgIGNvbnN0IGJhc2ljS2V5ID0gdGhpcy5nZXRSZXN0b3JlRGF0YUtleSgpXHJcbiAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgYHJlc3RvcmVEYXRhLiR7YmFzaWNLZXl9YCwgcmVzdG9yZURhdGEpXHJcbiAgfVxyXG5cclxuICBnZXRSZXN0b3JlRGF0YUtleSAoKSB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxyXG4gIH1cclxuXHJcbiAgLy8gVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzeW5jIHZpZXdwb2ludCBiZXR3ZWVuIHR3byBtYXBiYXNlIG9mIHNhbWUgbWFwIHdpZGdldC5cclxuICBzZXRWaWV3UG9pbnQgPSAodmlld1BvaW50OiBfX2VzcmkuVmlld3BvaW50KTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy52aWV3ICYmIHZpZXdQb2ludCkge1xyXG4gICAgICB0aGlzLnZpZXcudmlld3BvaW50ID0gdmlld1BvaW50LmNsb25lKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc3luYyB2aWV3cG9pbnQgYmV0d2VlbiB0d28gbWFwYmFzZSBvZiBzYW1lIG1hcCB3aWRnZXQuXHJcbiAgZ2V0Vmlld1BvaW50ID0gKCk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldyAmJiB0aGlzLnZpZXcudmlld3BvaW50ID8gdGhpcy52aWV3LnZpZXdwb2ludC5jbG9uZSgpIDogbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwTG9hZFN0YXR1cyA9ICgpOiBNYXBMb2FkU3RhdHVzID0+IHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXNcclxuICB9XHJcblxyXG4gIGdldFZpZXdUeXBlID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdXNlciBjbGlja3MgdGhlIG1hcCB0aHVibmFpbCBpbiBtYXAgc2V0dGluZyBwYWdlIGFuZCBjaGFuZ2UgdGhlIGNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlELlxyXG4gICAqIEBwYXJhbSB1c2VBbWluYXRpb25cclxuICAgKi9cclxuICBhc3luYyBnb0hvbWUgKHVzZUFtaW5hdGlvbj86IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xyXG5cclxuICAgIGlmICh0aGlzLnZpZXcgJiYgd2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIHtcclxuICAgICAgY29uc3QgaW5pdFZpZXdQb2ludCA9IHRoaXMuZ2V0TWFwQmFzZUluaXRWaWV3UG9pbnQoKVxyXG5cclxuICAgICAgaWYgKGluaXRWaWV3UG9pbnQpIHtcclxuICAgICAgICAvLyBUT0RPOiBtYXliZSBuZWVkIHRvIHNldCB2aWV3LmNvbnN0cmFpbnRzLnNuYXBUb1pvb20gdG8gdHJ1ZSBiZWZvcmUgY2FsbCB2aWV3LmdvVG8oKSBhbmQgcmVzZXQgaXQgdG8gZmFsc2UgYWZ0ZXIgdmlldy5nb1RvKCkgaXMgZG9uZS5cclxuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdvVG8oaW5pdFZpZXdQb2ludCwge1xyXG4gICAgICAgICAgYW5pbWF0ZTogdXNlQW1pbmF0aW9uXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwQmFzZUluaXRWaWV3UG9pbnQgKCk6IF9fZXNyaS5WaWV3cG9pbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxNYXBTdGF0ZSA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGVcclxuXHJcbiAgICAgIGlmIChpbml0aWFsTWFwU3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUoaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IG1hcCA9IHRoaXMudmlldy5tYXAgYXMgX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZVxyXG4gICAgICAgICAgcmV0dXJuIG1hcD8uaW5pdGlhbFZpZXdQcm9wZXJ0aWVzPy52aWV3cG9pbnQ/LmNsb25lKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvcm1hdE1lc3NhZ2UgKGlkOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbaWRdIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVEaXNhYmxlV2hlZWwgKCkge1xyXG4gICAgdGhpcy53aWRnZXRDb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0bydcclxuICAgIH0sIDUwKVxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwU3dpdGNoRm9yRXJyb3JNYXAgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCB9KSA9PiAoXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nbWFwc3dpdGNoLWNvbnRhaW5lcicgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBkaXNwbGF5OiBpc1Nob3dNYXBTd2l0Y2hCdG4gPyAnYmxvY2snIDogJ25vbmUnLFxyXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogdGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnID8gMTAgOiAwXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgb25DbGljaz17KGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzd2l0Y2hNYXAoKSB9fSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIGVzcmktd2lkZ2V0LS1idXR0b24nPlxyXG4gICAgICAgICAgICAgIDxJY29uIGljb249e0V4Y2hhbmdlfSB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nbWFwc3dpdGNoLWljb24nIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBxdWVyeUV4dGVudEZyb21TaW5nbGVMYXllclF1ZXJ5UGFyYW1zID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2VcclxuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgIGxldCBsYXllck9iamVjdFByb21pc2VcclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZT8ubGF5ZXIpIHtcclxuICAgICAgbGF5ZXJPYmplY3RQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGRhdGFTb3VyY2UubGF5ZXIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsYXllck9iamVjdFByb21pc2UgPSBkYXRhU291cmNlLmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKS50aGVuKChsYXllck9iamVjdCkgPT4gUHJvbWlzZS5yZXNvbHZlKGxheWVyT2JqZWN0KSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeScsXHJcbiAgICAgICdlc3JpL0dyYXBoaWMnLFxyXG4gICAgICAnZXNyaS9nZW9tZXRyeS9Qb2ludCdcclxuICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgIGNvbnN0IFtRdWVyeSwgR3JhcGhpYywgUG9pbnRdID0gbW9kdWxlc1xyXG4gICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXHJcbiAgICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlQYXJhbXM/LndoZXJlXHJcblxyXG4gICAgICByZXR1cm4gbGF5ZXJPYmplY3RQcm9taXNlLnRoZW4obGF5ZXJPYmplY3QgPT4ge1xyXG4gICAgICAgIHJldHVybiBsYXllck9iamVjdC5xdWVyeUV4dGVudChxdWVyeSkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZXh0ZW50Q2VudGVyID0gcmVzdWx0Py5leHRlbnQ/LmNlbnRlclxyXG4gICAgICAgICAgY29uc3QgZXh0ZW50ID0gcmVzdWx0Py5leHRlbnRcclxuICAgICAgICAgIGxldCBzaW5nbGVQb2ludEdyYXBoaWNcclxuICAgICAgICAgIGlmIChyZXN1bHQ/LmNvdW50ID09PSAxICYmIChsYXllck9iamVjdC5nZW9tZXRyeVR5cGUgPT09ICdwb2ludCcpICYmIGV4dGVudENlbnRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludCh7XHJcbiAgICAgICAgICAgICAgeDogZXh0ZW50Q2VudGVyLngsXHJcbiAgICAgICAgICAgICAgeTogZXh0ZW50Q2VudGVyLnksXHJcbiAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHNpbmdsZVBvaW50R3JhcGhpYyA9IG5ldyBHcmFwaGljKHsgZ2VvbWV0cnk6IHBvaW50IH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBleHRlbnQ6IGV4dGVudCxcclxuICAgICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBzaW5nbGVQb2ludEdyYXBoaWMsXHJcbiAgICAgICAgICAgIGNvdW50OiByZXN1bHQ/LmNvdW50LFxyXG4gICAgICAgICAgICBsYXllcjogbGF5ZXJPYmplY3RcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHF1ZXJ5RXh0ZW50RnJvbVF1ZXJ5UGFyYW1zID0gKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGRhdGFTb3VyY2VJZHM6IHN0cmluZ1tdLCB1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4pID0+IHtcclxuICAgIC8vY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UoZGF0YVNvdXJjZUlkKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAvL2NvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgIGNvbnN0IHVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3ID0gIXVzZURhdGFTb3VyY2VzLnNvbWUodXNlRGF0YVNvdXJjZSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKHVzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0UnVudGltZVF1ZXJ5UGFyYW1zKClcclxuICAgICAgLy8gdXNlIGRlZmF1bHQgZXh0ZW50IGlmIGFsbCBtZXJnZWQgU1FMcyBvbiBkYXRhIHNvdXJjZSBpcyByZW12b3ZlZC5cclxuICAgICAgY29uc3QgaGFzUXVlcnlXaGVyZSA9IHF1ZXJ5UGFyYW1zPy53aGVyZSAmJiBxdWVyeVBhcmFtcy53aGVyZSAhPT0gJzE9MSdcclxuXHJcbiAgICAgIGlmIChoYXNRdWVyeVdoZXJlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAodXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXcpIHtcclxuICAgICAgY29uc3QgaW5pdFZpZXdQb2ludCA9IHRoaXMuZ2V0TWFwQmFzZUluaXRWaWV3UG9pbnQoKVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICB2aWV3cG9pbnQ6IGluaXRWaWV3UG9pbnQsXHJcbiAgICAgICAgdXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXc6IHRydWUsXHJcbiAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBudWxsLFxyXG4gICAgICAgIGNvdW50OiAyLFxyXG4gICAgICAgIGxheWVyOiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXh0ZW50UmVzdWx0UHJvbWlzZXMgPSBbXVxyXG4gICAgZGF0YVNvdXJjZUlkcy5mb3JFYWNoKGRhdGFTb3VyY2VJZCA9PiB7XHJcbiAgICAgIGV4dGVudFJlc3VsdFByb21pc2VzLnB1c2godGhpcy5xdWVyeUV4dGVudEZyb21TaW5nbGVMYXllclF1ZXJ5UGFyYW1zKGRhdGFTb3VyY2VJZCkpXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChleHRlbnRSZXN1bHRQcm9taXNlcykudGhlbihyZXN1bHRzID0+IHtcclxuICAgICAgbGV0IGZ1bGxFeHRlbnQgPSBudWxsXHJcbiAgICAgIGxldCBjb3VudCA9IDBcclxuICAgICAgaWYgKHJlc3VsdHM/Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiByZXN1bHRzWzBdXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzdWx0LmV4dGVudCkge1xyXG4gICAgICAgICAgICBmdWxsRXh0ZW50ID0gZnVsbEV4dGVudCA/IGZ1bGxFeHRlbnQudW5pb24ocmVzdWx0LmV4dGVudCkgOiByZXN1bHQuZXh0ZW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb3VudCA9IGNvdW50ICsgcmVzdWx0LmNvdW50XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZXh0ZW50OiBmdWxsRXh0ZW50LFxyXG4gICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBudWxsLFxyXG4gICAgICAgICAgY291bnQ6IGNvdW50LFxyXG4gICAgICAgICAgbGF5ZXI6IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBoYW5kbGUgbWVzc2FnZS9hY3Rpb24uXHJcbiAgICovXHJcbiAgaGFuZGxlQWN0aW9uIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcsIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykge1xyXG4gICAgaWYgKCFtYXBCYXNlVmlldyB8fCBtYXBCYXNlVmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc3VtZSBtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yWm9vbVRvRmVhdHVyZUFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yUGFuVG9BY3Rpb25WYWx1ZShtdXRhYmxlU3RhdGVQcm9wcywgbWFwQmFzZVZpZXcpXHJcblxyXG4gICAgLy8gY29uc3VtZSBtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yTmV3RmVhdHVyZVNldEFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yQ2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZShtdXRhYmxlU3RhdGVQcm9wcywgbWFwQmFzZVZpZXcpXHJcblxyXG4gICAgLy8gY29uc3VtZSBtdXRhYmxlU3RhdGVQcm9wcy5zZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yU2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIGZsYXNoQWN0aW9uVmFsdWUgYW5kIGZpbHRlckFjdGlvblZhbHVlXHJcbiAgICB0aGlzLmhhbmRsZUFjdGlvbkZvckZsYXNoQWN0aW9uVmFsdWVBbmRGaWx0ZXJBY3Rpb25WYWx1ZShtdXRhYmxlU3RhdGVQcm9wcywgbWFwQmFzZVZpZXcpXHJcblxyXG4gICAgLy8gaGFuZGxlIHNob3cgZGF0YSBvbiBtYXAgYWN0aW9uXHJcbiAgICB0aGlzLmhhbmRsZUFjdGlvbkZvclNob3dPbk1hcERhdGFzKG11dGFibGVTdGF0ZVByb3BzLCBqaW11TWFwVmlldylcclxuXHJcbiAgICAvLyBoYW5kbGUgYWRkIGRhdGEgdG8gbWFwIGFjdGlvblxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3JBZGRUb01hcERhdGFzKG11dGFibGVTdGF0ZVByb3BzLCBqaW11TWFwVmlldylcclxuICB9XHJcblxyXG4gIGdldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNPZlZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KTogc3RyaW5nW10ge1xyXG4gICAgbGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRJZHMgPSB2aWV3LmV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHMgfHwgW11cclxuICAgICAgLy8gV2UgbmVlZCB0byBjbG9uZSB0aGUgcmVsYXRlZFdpZGdldElkcy5cclxuICAgICAgcmVzdWx0ID0gcmVsYXRlZFdpZGdldElkcy5zbGljZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3LCBfcmVsYXRlZFdpZGdldElkczogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRJZHMgPSBfcmVsYXRlZFdpZGdldElkcyB8fCBbXVxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGNsb25lIHRoZSByZWxhdGVkV2lkZ2V0SWRzLlxyXG4gICAgICB2aWV3LmV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHMgPSByZWxhdGVkV2lkZ2V0SWRzLnNsaWNlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRyeUZhdGFsRXJyb3JSZWNvdmVyeSAodmlldzogTWFwYmFzZVZpZXcpIHtcclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIHZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvclpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAoIW11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlaXZlTWVzc2FnZVRpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgY29uc3Qgem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlXHJcblxyXG4gICAgY29uc3QgcmVsYXRlZFdpZGdldElkczogc3RyaW5nW10gPSBtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHMgfHwgW11cclxuXHJcbiAgICBpZiAocmVsYXRlZFdpZGdldElkcyAmJiByZWxhdGVkV2lkZ2V0SWRzLmluY2x1ZGVzKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSkge1xyXG4gICAgICAvLyBhdm9pZCBlbmRsZXNzIGxvb3BcclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3pvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZSA9IHpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS52YWx1ZVxyXG5cclxuICAgICAgaWYgKHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnR5cGUgPT09ICd6b29tLXRvLWV4dGVudCcpIHtcclxuICAgICAgICAvLyBab29tVG9FeHRlbnRJbnRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgIGNvbnN0IG5vd1RpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgICAgIG1hcEJhc2VWaWV3Lmxhc3Rab29tVG9FeHRlbnRUaW1lID0gbm93VGltZVxyXG5cclxuICAgICAgICAvLyBtYXAgd2lkZ2V0MSBleHRlbnQgY2hhZ25lcyBhbmQgbWFwIHdpZGdldDIgbmVlZHMgdG8gc3luYyB0aGUgZXh0ZW50IGJ5IG1lc3NhZ2UgYWN0aW9uLlxyXG4gICAgICAgIC8vIEZpbmFsbHksIGl0IGNhbGxzIHZpZXcuZ29UbyhleHRlbnQpXHJcblxyXG4gICAgICAgIC8vIENvbnNpZGVyIHRoaXMgY2FzZTpcclxuICAgICAgICAvLyBPbiBhcHAgbG9hZDpcclxuICAgICAgICAvLyAxLiBCb3RoIG1hcCB3aWRnZXQxIGFuZCBtYXAgd2lkZ2V0MiBzZXQgem9vbS10byBhY3Rpb24gZm9yIGVhY2ggb3RoZXIuXHJcbiAgICAgICAgLy8gMi4gVGhlIGluaXRpYWwgZXh0ZW50IG9mIG1hcCB3aWRnZXQxIGlzIGV4dGVudDEgYW5kIHRoZSBpbml0aWFsIGV4dGVudCBvZiBtYXAgd2lkZ2V0MiBpcyBleHRlbnQyLlxyXG4gICAgICAgIC8vIDMuIG1hcCB3aWRnZXQxIGZpcnN0IHB1Ymxpc2ggZXh0ZW50LWNoYW5nZSBtZXNzYWdlIGFmdGVyIHRoZSB2aWV3IGlzIHJlYWR5LlxyXG4gICAgICAgIC8vIDQuIFRoZW4gbWFwIHdpZGdldDIgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UuXHJcbiAgICAgICAgLy8gNS4gVGhlbiBtYXAgd2lkZ2V0MiByZWNlaXZlIG1lc3NhZ2UgZnJvbSBtYXAgd2lkZ2V0MSBhbmQgY2FsbCBoYW5kbGVBY3Rpb24uXHJcbiAgICAgICAgLy8gNi4gVGhlbiBtYXAgd2lkZ2V0MSByZWNlaXZlIG1lc3NhZ2UgZnJvbSBtYXAgd2lkZ2V0MiBhbmQgY2FsbCBoYW5kbGVBY3Rpb24uXHJcbiAgICAgICAgLy8gQXQgbGFzdCwgdGhlIGV4dGVudCBvZiBtYXAgd2lkZ2V0MSBpcyBleHRlbnQyIGFuZCB0aGUgZXh0ZW50IG9mIG1hcCB3aWRnZXQyIGlzIGV4dGVudDEuIFRoaXMgaXMgbm90IHRoZSBleHBlY3RlZCByZXN1bHQuXHJcbiAgICAgICAgLy8gVG8gYXZvaWQgdGhlIGFib3ZlIGNhc2UsIHdlIG5lZWQgdG8gc3RvcCB0aGUgc3RlcDYgYmVjYXVzZSBtYXAgd2lkZ2V0MSBmaXJzdCBwdWJsaXNoIG1lc3NhZ2UuXHJcbiAgICAgICAgbGV0IGlzQWJvdmVDYXNlID0gZmFsc2VcclxuXHJcbiAgICAgICAgaWYgKG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIHtcclxuICAgICAgICAgIGlmICgobm93VGltZSAtIG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIDw9IDIwMDApIHtcclxuICAgICAgICAgICAgaWYgKG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUgPD0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUucHVibGlzaFRpbWUpIHtcclxuICAgICAgICAgICAgICBpZiAoIXpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmludGVyYWNpdmUpIHtcclxuICAgICAgICAgICAgICAgIC8vICMxNDM5MSwgaWYgZXh0ZW50TWVzc2FnZS5pbnRlcmFjaXZlIGlzIHRydWUsIG1lYW5zIHRoZSBleHRlbnQgY29tZXMgZnJvbSBhIGludGVyYWN0aXZpbmcgbWFwIGFuZCBuZWVkcyB0byBzeW5jIHZpZXdwb2ludCB3aXRoIHRoZSBpbnRlcmFjdGl2aW5nIG1hcFxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVHdvV2lkZ2V0c011dHVhbGx5RXh0ZW50Q2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5wdWJsaXNoV2lkZ2V0SWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlzQWJvdmVDYXNlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbWFwQmFzZVZpZXcgaXMgdGhlIGxhc3QgaW50ZXJhY3RpdmUgdmlldywgaXQgbWVhbnMgbWFwQmFzZVZpZXcgaXMgdGhlIGV4dGVudC1jaGFuZ2Ugc291cmNlLCB3ZSBzaG91bGQgaWdub3JlIHRoZSB6b29tLXRvLWV4dGVudCBtZXNzYWdlLlxyXG4gICAgICAgIGlmICghaXNBYm92ZUNhc2UgJiYgbWFwQmFzZVZpZXcgIT09IE1hcEJhc2UubGFzdEludGVyYWNpdmVWaWV3KSB7XHJcbiAgICAgICAgICBjb25zdCB2aWV3cG9pbnQgPSB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS52aWV3cG9pbnRcclxuICAgICAgICAgIGNvbnN0IGV4dGVudCA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmV4dGVudFxyXG4gICAgICAgICAgY29uc3Qgc3RhdGlvbmFyeSA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnN0YXRpb25hcnlcclxuXHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG5cclxuICAgICAgICAgIGNvbnN0IHZpZXdTUiA9IG1hcEJhc2VWaWV3LnNwYXRpYWxSZWZlcmVuY2VcclxuXHJcbiAgICAgICAgICAvLyB2aWV3cG9pbnQgaGFzIGhpZ2ggcHJpb3JpdHkgdGhhbiBleGVudCwgYmVjYXVzZSBpdCBjb250YWlucyBtb3JlIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICBpZiAodmlld3BvaW50KSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3IGJ5IHZpZXdwb2ludFxyXG4gICAgICAgICAgICBpZiAoaXNOZWVkUHJvamVjdFZpZXdwb2ludCh2aWV3cG9pbnQsIHZpZXdTUikpIHtcclxuICAgICAgICAgICAgICBpZiAoc3RhdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgLy8gb25seSBwcm9qZWN0IHRoZSB2aWV3cG9pbnQgd2hlbiBtYXAgaXMgc3RhdGljXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0Vmlld3BvaW50KHZpZXdwb2ludCwgdmlld1NSKS50aGVuKChwcm9qZWN0ZWRWaWV3cG9pbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlKCMxNjQyMyk6XHJcbiAgICAgICAgICAgICAgICAgIC8vIDEuIGhhbmRsZUFjdGlvbkZvclpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSByZWNlaXZlIG1lc3NhZ2UgYXQgdGltZTEsIHRoZSBtZXNzYWdlIHZpZXdwb2ludCBpcyB2aWV3cG9pbnQxXHJcbiAgICAgICAgICAgICAgICAgIC8vIDIuIHRoZSB2aWV3cG9pbnQgbmVlZHMgdG8gYmUgcHJvamVjdCwgdGhlbiBzZW5kIGh0dHAgcmVxdWVzdCB0byBwcm9qZWN0IHRoZSB2aWV3cG9pbnQxLCB0aGlzIGFzeW5jIHN0ZXAgbWF5YmUgdGFrZSBsb25nIHRpbWVcclxuICAgICAgICAgICAgICAgICAgLy8gMy4gdGhlbiBKaW11TWFwVmlldyBuZWVkcyB0byB1cGRhdGUgdmlld3BvaW50IHRvIHZpZXdwb2ludDIgYnkgdXJsIGRhdGFfaWQgKHN5bmMgc3RlcCkgaW4gSmltdU1hcFZpZXcubW92ZUZlYXR1cmVUb0NlbnRlcigpIGF0IHRpbWUyXHJcbiAgICAgICAgICAgICAgICAgIC8vIDQuIHRoZW4gdGhlIGFzeW5jIHN0ZXAyIGlzIGRvbmUgYXQgdGltZTMsIGFuZCB1ZHBhdGUgdmlld3BvaW50IGJ5IHRoZSBwcm9qZWN0ZWQgdmlld3BvaW50MSwgZmluYWxseSB0aGUgdmlld3BvaW50IGlzIHRoZSBwcm9qZWN0ZWQgdmlld3BvaW50MVxyXG4gICAgICAgICAgICAgICAgICAvLyBUaGUgc3RlcDQgaXMgd3JvbmcsIGJlY2F1c2Ugdmlld3BvaW50MiBvZiBzdGVwMyBpcyB0aGUgbmV3IG9uZSwgYW5kIHRoZSBwcm9qZWN0ZWQgdmlld3BvaW50MSBpcyBzdGFsZS5cclxuICAgICAgICAgICAgICAgICAgLy8gVG8gYXZvaWQgdGhpcyBjYXNlLCB3ZSBzaG91bGQgY2hlY2sgcHJvamVjdGVkVmlld3BvaW50IGlzIGZyZXNoIG9yIHN0YWxlLlxyXG5cclxuICAgICAgICAgICAgICAgICAgY29uc3QgaXNQcm9qZWN0ZWRWaWV3cG9pbnRTdGFsZSA9IG1hcEJhc2VWaWV3LnJlY2VpdmVNZXNzYWdlVGltZU9mTGFzdFZpZXdVcGRhdGUgJiYgbWFwQmFzZVZpZXcucmVjZWl2ZU1lc3NhZ2VUaW1lT2ZMYXN0Vmlld1VwZGF0ZSA+IHJlY2VpdmVNZXNzYWdlVGltZVxyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2plY3RlZFZpZXdwb2ludFN0YWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQmFzZVZpZXcudmlld3BvaW50ID0gcHJvamVjdGVkVmlld3BvaW50XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG1hcEJhc2VWaWV3LnZpZXdwb2ludCA9IHZpZXdwb2ludFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIHJlbW92ZSB0aGUgZm9sbG93aW5nIGV4dGVudCBsb2dpY1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdmlldyBieSBleHRlbnRcclxuICAgICAgICAgICAgaWYgKGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKGV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLCB2aWV3U1IpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXRpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgIC8vIG9ubHkgcHJvamVjdCB0aGUgZXh0ZW50IHdoZW4gbWFwIGlzIHN0YXRpY1xyXG4gICAgICAgICAgICAgICAgcHJvamVjdEdlb21ldHJpZXMoW2V4dGVudF0sIHZpZXdTUikudGhlbigocHJvamVjdGVkR2VvbWV0cmllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRFeHRlbnQgPSBwcm9qZWN0ZWRHZW9tZXRyaWVzWzBdXHJcbiAgICAgICAgICAgICAgICAgIG1hcEJhc2VWaWV3LmdvVG8ocHJvamVjdGVkRXh0ZW50KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbWFwQmFzZVZpZXcuZ29UbyhleHRlbnQsIHsgYW5pbWF0ZTogZmFsc2UgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS50eXBlID09PSAnem9vbS10by1xdWVyeS1wYXJhbXMnKSB7XHJcbiAgICAgICAgLy8gWm9vbVRvUXVlcnlQYXJhbXNJbnRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgIHRoaXMucXVlcnlFeHRlbnRGcm9tUXVlcnlQYXJhbXMobWFwQmFzZVZpZXcsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmRhdGFTb3VyY2VJZHMsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnVzZURhdGFTb3VyY2VzKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgIGxldCB0YXJnZXRcclxuICAgICAgICAgIGlmIChyZXN1bHQuY291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5jb3VudCA9PT0gMSAmJiByZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpYykge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB7XHJcbiAgICAgICAgICAgICAgZ3JhcGhpY3M6IFtyZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpY10sXHJcbiAgICAgICAgICAgICAgbGF5ZXI6IHJlc3VsdD8ubGF5ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gcmVzdWx0Py5leHRlbnRcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG5cclxuICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgJ3pvb21Ub1V0aWxzJyBkb2VzIG5vdCBzdXBwb3J0ICd2aWV3cG9pbnQnLCB0ZW1wb3JhcnkgY29kZSBmb3IgdXNpbmcgZGVmYXVsdCB2aWV3cG9pbnQgb2Ygc2NlbmVWaWV3LlxyXG4gICAgICAgICAgaWYgKHJlc3VsdC51c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xyXG4gICAgICAgICAgICBtYXBCYXNlVmlldy5nb1RvKHJlc3VsdC52aWV3cG9pbnQpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8obWFwQmFzZVZpZXcsIHRhcmdldCwgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSBpZiAoem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tYXJyYXktZ3JhcGhpY3MnKSB7XHJcbiAgICAgICAgLy8gWm9vbVRvQXJyYXlHcmFwaGljc0ludGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyhtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuXHJcbiAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKG1hcEJhc2VWaWV3LCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5hcnJheUZlYXR1cmVzLCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS56b29tVG9PcHRpb24pXHJcbiAgICAgIH0gZWxzZSBpZiAoem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tbGF5ZXJzJykge1xyXG4gICAgICAgIC8vIFpvb21Ub0xheWVyc0ludGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YVNvdXJjZUlkcyA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmRhdGFTb3VyY2VJZHNcclxuICAgICAgICBnZXRMYXllcnNGcm9tRGF0YVNvdXJjZUlkcyhkYXRhU291cmNlSWRzKS50aGVuKGxheWVycyA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKG1hcEJhc2VWaWV3LCBsYXllcnMsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbilcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHpvb20tdG8tZ3JhcGhpY3NcclxuICAgICAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZSh6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5kYXRhU291cmNlSWQpIGFzIHVua25vd24gYXMgSlNBUElMYXllck1peGluICYgRmVhdHVyZUxheWVyRGF0YVNvdXJjZVxyXG4gICAgICAgIGxldCBsYXllclByb21pc2VcclxuXHJcbiAgICAgICAgaWYgKGRhdGFTb3VyY2U/LmxheWVyKSB7XHJcbiAgICAgICAgICBsYXllclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2U/LmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UpIHtcclxuICAgICAgICAgIGxheWVyUHJvbWlzZSA9IGRhdGFTb3VyY2UuY3JlYXRlSlNBUElMYXllckJ5RGF0YVNvdXJjZSgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGF5ZXJQcm9taXNlLnRoZW4obGF5ZXIgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljcyA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmZlYXR1cmVzIHx8IFtdXHJcblxyXG4gICAgICAgICAgcHJvY2Vzc1pvb21Ub0ZlYXR1cmVzKG1hcEJhc2VWaWV3LCBsYXllciwgb3JpZ2luYWxHcmFwaGljcykudGhlbihoYW5kbGVkR3JhcGhpY3MgPT4ge1xyXG4gICAgICAgICAgICBsZXQgem9vbVRvVGFyZ2V0ID0gbnVsbFxyXG5cclxuICAgICAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgem9vbVRvVGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIsXHJcbiAgICAgICAgICAgICAgICBncmFwaGljczogaGFuZGxlZEdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHpvb21Ub1RhcmdldCA9IGhhbmRsZWRHcmFwaGljc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbikge1xyXG4gICAgICAgICAgICAgIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbiA9IHt9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcobWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICAgICAgICAgIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbi5xdWVyeVBhcmFtcyA9IChkYXRhU291cmNlPy5nZXRDdXJyZW50UXVlcnlQYXJhbXMgJiYgZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKSkgfHwgJydcclxuICAgICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKG1hcEJhc2VWaWV3LCB6b29tVG9UYXJnZXQsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbilcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3pvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JQYW5Ub0FjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGlmICghbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWxhdGVkV2lkZ2V0SWRzOiBzdHJpbmdbXSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHMgfHwgW11cclxuICAgIGNvbnN0IHBhblRvVHlwZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWU/LnR5cGVcclxuXHJcbiAgICBpZiAocmVsYXRlZFdpZGdldElkcyAmJiByZWxhdGVkV2lkZ2V0SWRzLmluY2x1ZGVzKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSkge1xyXG4gICAgICAvLyBhdm9pZCBlbmRsZXNzIGxvb3BcclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3BhblRvQWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgfSBlbHNlIGlmIChwYW5Ub1R5cGUgPT09ICdwYW4tdG8tcXVlcnktcGFyYW1zJykge1xyXG4gICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZVxyXG4gICAgICB0aGlzLnF1ZXJ5RXh0ZW50RnJvbVF1ZXJ5UGFyYW1zKG1hcEJhc2VWaWV3LCBwYW5Ub1ZhbHVlLmRhdGFTb3VyY2VJZHMsIHBhblRvVmFsdWUudXNlRGF0YVNvdXJjZXMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgJ3BhblRvR2VvbWV0cnknIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICd2aWV3cG9pbnQnLCB0ZW1wb3JhcnkgY29kZSBmb3IgdXNpbmcgZGVmYXVsdCB2aWV3cG9pbnQgb2Ygc2NlbmVWaWV3LlxyXG4gICAgICAgIGlmIChyZXN1bHQudXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldEdlb21ldHJ5ID0gcmVzdWx0Py52aWV3cG9pbnQ/LmNhbWVyYT8ucG9zaXRpb24gfHwgcmVzdWx0Py52aWV3cG9pbnQ/LnRhcmdldEdlb21ldHJ5XHJcbiAgICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkoW3RhcmdldEdlb21ldHJ5XSwgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShbcmVzdWx0Py5leHRlbnRdLCBtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHBhblRvVHlwZSA9PT0gJ3Bhbi10by1sYXllcicpIHtcclxuICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWVcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UocGFuVG9WYWx1ZS5kYXRhU291cmNlSWQpIGFzIHVua25vd24gYXMgSlNBUElMYXllck1peGluICYgRmVhdHVyZUxheWVyRGF0YVNvdXJjZVxyXG4gICAgICBsZXQgbGF5ZXJQcm9taXNlXHJcblxyXG4gICAgICBpZiAoZGF0YVNvdXJjZT8ubGF5ZXIpIHtcclxuICAgICAgICBsYXllclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcclxuICAgICAgfSBlbHNlIGlmIChkYXRhU291cmNlPy5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKSB7XHJcbiAgICAgICAgbGF5ZXJQcm9taXNlID0gZGF0YVNvdXJjZS5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYXllclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUobnVsbClcclxuICAgICAgfVxyXG5cclxuICAgICAgbGF5ZXJQcm9taXNlLnRoZW4obGF5ZXIgPT4ge1xyXG4gICAgICAgIGxldCBxdWVyeVBhcmFtcyA9IG51bGxcclxuXHJcbiAgICAgICAgaWYgKGRhdGFTb3VyY2UpIHtcclxuICAgICAgICAgIGlmIChkYXRhU291cmNlLmdldEN1cnJlbnRRdWVyeVBhcmFtcykge1xyXG4gICAgICAgICAgICBxdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHpvb21Ub1V0aWxzLmxheWVyRXh0ZW50KG1hcEJhc2VWaWV3LCBsYXllciwgcXVlcnlQYXJhbXMpLnRoZW4obGF5ZXJFeHRlbnQgPT4ge1xyXG4gICAgICAgICAgaWYgKGxheWVyRXh0ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShbbGF5ZXJFeHRlbnRdLCBtYXBCYXNlVmlldywgW10pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAocGFuVG9UeXBlID09PSAncGFuLXRvLWxheWVycycpIHtcclxuICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWVcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZUlkcyA9IHBhblRvVmFsdWUuZGF0YVNvdXJjZUlkc1xyXG4gICAgICBnZXRMYXllcnNGcm9tRGF0YVNvdXJjZUlkcyhkYXRhU291cmNlSWRzKS50aGVuKGxheWVycyA9PiB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW50UHJvbWlzZXMgPSBbXVxyXG4gICAgICAgIGxheWVycy5mb3JFYWNoKGxheWVyID0+IHtcclxuICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICBleHRlbnRQcm9taXNlcy5wdXNoKHpvb21Ub1V0aWxzLmxheWVyRXh0ZW50KG1hcEJhc2VWaWV3LCBsYXllcikpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IGZ1bGxFeHRlbnQgPSBudWxsXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGV4dGVudFByb21pc2VzKS50aGVuKGV4dGVudHMgPT4ge1xyXG4gICAgICAgICAgZXh0ZW50cy5mb3JFYWNoKGV4dGVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChleHRlbnQpIHtcclxuICAgICAgICAgICAgICBmdWxsRXh0ZW50ID0gZnVsbEV4dGVudCA/IGZ1bGxFeHRlbnQudW5pb24oZXh0ZW50KSA6IGV4dGVudFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgaWYgKGZ1bGxFeHRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5Ub0dlb21ldHJ5KFtmdWxsRXh0ZW50XSwgbWFwQmFzZVZpZXcsIFtdKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHBhblRvVHlwZSA9PT0gJ3Bhbi10by1nZW9tZXRyaWVzJykge1xyXG4gICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZVxyXG4gICAgICB0aGlzLnBhblRvR2VvbWV0cnkocGFuVG9WYWx1ZS5nZW9tZXRyaWVzLCBtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgIH0gZWxzZSBpZiAocGFuVG9UeXBlID09PSAncGFuLXRvLWV4dGVudCcpIHtcclxuICAgICAgLy8gbWFwIHdpZGdldDEgZXh0ZW50IGNoYW5nZXMgYW5kIG1hcCB3aWRnZXQyIG5lZWRzIHRvIHN5bmMgdGhlIGV4dGVudCBieSBtZXNzYWdlIGFjdGlvbi5cclxuICAgICAgLy8gRmluYWxseSwgaXQgY2FsbHMgdmlldy5nb1RvKGV4dGVudC5jZW50ZXIpLlxyXG5cclxuICAgICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gICAgICAvLyAxLiBCb3RoIG1hcCB3aWRnZXQxIGFuZCBtYXAgd2lkZ2V0MiBzZXQgcGFuLXRvIGFjdGlvbiBmb3IgZWFjaCBvdGhlci5cclxuICAgICAgLy8gMi4gVGhlIGluaXRpYWwgZXh0ZW50IG9mIG1hcCB3aWRnZXQxIGlzIGV4dGVudDEgYW5kIHRoZSBpbml0aWFsIGV4dGVudCBvZiBtYXAgd2lkZ2V0MiBpcyBleHRlbnQyLlxyXG4gICAgICAvLyAzLiBtYXAgd2lkZ2V0MSBmaXJzdCBwdWJsaXNoIGV4dGVudC1jaGFuZ2UgbWVzc2FnZSBhZnRlciB0aGUgdmlldyBpcyByZWFkeS5cclxuICAgICAgLy8gNC4gVGhlbiBtYXAgd2lkZ2V0MiBwdWJsaXNoIGV4dGVudC1jaGFuZ2UgbWVzc2FnZS5cclxuICAgICAgLy8gNS4gVGhlbiBtYXAgd2lkZ2V0MiByZWNlaXZlIG1lc3NhZ2UgZnJvbSBtYXAgd2lkZ2V0MSBhbmQgY2FsbCBoYW5kbGVBY3Rpb24uXHJcbiAgICAgIC8vIDYuIFRoZW4gbWFwIHdpZGdldDEgcmVjZWl2ZSBtZXNzYWdlIGZyb20gbWFwIHdpZGdldDIgYW5kIGNhbGwgaGFuZGxlQWN0aW9uLlxyXG4gICAgICAvLyBBdCBsYXN0LCB0aGUgZXh0ZW50IG9mIG1hcCB3aWRnZXQxIGlzIGV4dGVudDIgYW5kIHRoZSBleHRlbnQgb2YgbWFwIHdpZGdldDIgaXMgZXh0ZW50MS4gVGhpcyBpcyBub3QgdGhlIGV4cGVjdGVkIHJlc3VsdC5cclxuICAgICAgLy8gVG8gYXZvaWQgdGhlIGFib3ZlIGNhc2UsIHdlIG5lZWQgdG8gc3RvcCB0aGUgc3RlcDYgYmVjYXVzZSBtYXAgd2lkZ2V0MSBmaXJzdCBwdWJsaXNoIG1lc3NhZ2UuXHJcbiAgICAgIGxldCBpc0Fib3ZlQ2FzZSA9IGZhbHNlXHJcbiAgICAgIGNvbnN0IG5vd1RpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgICBpZiAobWFwQmFzZVZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSkge1xyXG4gICAgICAgIGlmICgobm93VGltZSAtIG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIDw9IDIwMDApIHtcclxuICAgICAgICAgIGlmIChtYXBCYXNlVmlldy5maXJzdFB1Ymxpc2hFeHRlbnRDaGFuZ2VUaW1lIDw9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWUucHVibGlzaFRpbWUpIHtcclxuICAgICAgICAgICAgaWYgKGlzVHdvV2lkZ2V0c011dHVhbGx5RXh0ZW50Q2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlLnB1Ymxpc2hXaWRnZXRJZCkpIHtcclxuICAgICAgICAgICAgICBpc0Fib3ZlQ2FzZSA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gICAgICAvLyAxLiBXZSBoYXZlIDQgbWFwIHdpZGdldHMuIEhlcmUgYXJlIHRoZSBhY3Rpb25zLlxyXG4gICAgICAvLyAyLiBXaWRnZXQxIC0+IHpvb20gdG8gLT4gV2lkZ2V0MiAtPiB6b29tIHRvIC0+IFdpZGdldDRcclxuICAgICAgLy8gMy4gV2lkZ2V0MSAtPiB6b29tIHRvIC0+IFdpZGdldDMgLT4gcGFuIHRvIC0+IFdpZGdldDRcclxuICAgICAgLy8gNC4gV2UgbW92ZSB0aGUgbWFwIG9mIHdpZGdldDEsIGZpbmFsbHkgd2lkZ2V0NCB3aWxsIHJlY2VpdmUgem9vbVRvIGFuZCBwYW5UbyBhY3Rpb25zIHNlcmlhbGx5LCBsaWtlIHpvb21UbywgcGFuVG8sIHpvb21UbywgcGFuVG8sIC4uLlxyXG4gICAgICAvLyA1LiBTdGVwNCB3aWxsIHJlc3VsdCBpbiB3aWRnZXQ0J3MgbWFwIHZpZXcganVtcGluZy5cclxuICAgICAgLy8gNi4gVG8gYXZvaWQgdGhpcyBjYXNlLCB3ZSBuZWVkIHRvIHN0b3AgZXhlY3V0aW5nIHBhblRvIGFjdGlvbiBpZiB6b29tVG8gYWN0aW9uIGlzIGV4ZWN1dGVkIHJlY2VudGx5LlxyXG4gICAgICBsZXQgaXNQYW5ab29tQ29uZmxpY3RDYXNlID0gZmFsc2VcclxuXHJcbiAgICAgIGlmIChtYXBCYXNlVmlldy5sYXN0Wm9vbVRvRXh0ZW50VGltZSkge1xyXG4gICAgICAgIC8vIEJ5IHRlc3QsIHRoZSBiaWdnZXN0IGRlbHRhIHRpbWUgaXMgYWJvdXQgMjAwbXMgaW4gbW9zdCBjYXNlcywgYnV0IGl0IGlzIHNhZmUgdG8gdXNlIGEgYmlnZ2VyIG9uZS5cclxuICAgICAgICBpZiAoKG5vd1RpbWUgLSBtYXBCYXNlVmlldy5sYXN0Wm9vbVRvRXh0ZW50VGltZSkgPD0gNTAwKSB7XHJcbiAgICAgICAgICBpc1Bhblpvb21Db25mbGljdENhc2UgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBtYXBCYXNlVmlldyBpcyB0aGUgbGFzdCBpbnRlcmFjdGl2ZSB2aWV3LCBpdCBtZWFucyBtYXBCYXNlVmlldyBpcyB0aGUgZXh0ZW50LWNoYW5nZSBzb3VyY2UsIHdlIHNob3VsZCBpZ25vcmUgdGhlIHBhbi10by1leHRlbnQgbWVzc2FnZS5cclxuICAgICAgaWYgKCFpc0Fib3ZlQ2FzZSAmJiAhaXNQYW5ab29tQ29uZmxpY3RDYXNlICYmIG1hcEJhc2VWaWV3ICE9PSBNYXBCYXNlLmxhc3RJbnRlcmFjaXZlVmlldykge1xyXG4gICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcobWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWVcclxuICAgICAgICBjb25zdCBleHRlbnQgPSBwYW5Ub1ZhbHVlLmdlb21ldHJpZXNbMF1cclxuICAgICAgICBjb25zdCBleHRlbnRDZW50ZXIgPSBleHRlbnQuY2VudGVyXHJcbiAgICAgICAgY29uc3Qgc3RhdGlvbmFyeSA9IHBhblRvVmFsdWUuc3RhdGlvbmFyeVxyXG4gICAgICAgIGNvbnN0IHZpZXdTUiA9IG1hcEJhc2VWaWV3LnNwYXRpYWxSZWZlcmVuY2VcclxuXHJcbiAgICAgICAgaWYgKGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKGV4dGVudENlbnRlci5zcGF0aWFsUmVmZXJlbmNlLCB2aWV3U1IpKSB7XHJcbiAgICAgICAgICBpZiAoc3RhdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHByb2plY3QgdGhlIGV4dGVudCB3aGVuIG1hcCBpcyBzdGF0aWNcclxuICAgICAgICAgICAgcHJvamVjdEdlb21ldHJpZXMoW2V4dGVudENlbnRlcl0sIHZpZXdTUikudGhlbigocHJvamVjdGVkR2VvbWV0cmllcykgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZENlbnRlciA9IHByb2plY3RlZEdlb21ldHJpZXNbMF1cclxuICAgICAgICAgICAgICBtYXBCYXNlVmlldy5nb1RvKHByb2plY3RlZENlbnRlcilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gbWFwQmFzZVZpZXcuZ29UbyhleHRlbnRDZW50ZXIsIHsgYW5pbWF0ZTogZmFsc2UgfSlcclxuICAgICAgICAgIG1hcEJhc2VWaWV3LmNlbnRlciA9IGV4dGVudENlbnRlclxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdwYW5Ub0FjdGlvblZhbHVlJywgbnVsbClcclxuICB9XHJcblxyXG4gIHBhblRvR2VvbWV0cnkgKG9yaWdpbmFsR2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10sIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldywgcmVsYXRlZFdpZGdldElkczogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgIHByb2plY3RHZW9tZXRyaWVzKG9yaWdpbmFsR2VvbWV0cmllcywgbWFwQmFzZVZpZXcuc3BhdGlhbFJlZmVyZW5jZSkudGhlbigocHJvamVjdGVkR2VvbWV0cmllcykgPT4ge1xyXG4gICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgICBtYXBQYW50byhtYXBCYXNlVmlldywgcHJvamVjdGVkR2VvbWV0cmllcylcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JOZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBNYXBiYXNlVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZSAmJiAhbXV0YWJsZVN0YXRlUHJvcHMubmV3RmVhdHVyZVNldEFjdGlvblZhbHVlLnByb21pc2UpIHtcclxuICAgICAgY29uc3QgY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZSA9IGNyZWF0ZU5ld0ZlYXR1cmVsYXllcihtYXBCYXNlVmlldywgbXV0YWJsZVN0YXRlUHJvcHMubmV3RmVhdHVyZVNldEFjdGlvblZhbHVlLnZhbHVlKVxyXG4gICAgICBpZiAoY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICduZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUucHJvbWlzZScsIGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UpXHJcblxyXG4gICAgICAgIGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnbmV3RmVhdHVyZVNldEFjdGlvblZhbHVlJywgbnVsbClcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICduZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JDaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5jaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlKSB7XHJcbiAgICAgIHVwZGF0ZUZlYXR1cmVsYXllcihtYXBCYXNlVmlldywgbXV0YWJsZVN0YXRlUHJvcHMuY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZSlcclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ2NoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yU2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5zZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUpIHtcclxuICAgICAgbWFwQmFzZVZpZXcuY2xvc2VQb3B1cCgpXHJcblxyXG4gICAgICB0aGlzLnJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzKG1hcEJhc2VWaWV3KVxyXG5cclxuICAgICAgY29uc3Qgc2VsZWN0RmVhdHVyZUhhbmRsZSA9IHNlbGVjdEZlYXR1cmUobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLnNlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZSlcclxuICAgICAgaWYgKHNlbGVjdEZlYXR1cmVIYW5kbGUpIHtcclxuICAgICAgICBtYXBCYXNlVmlldy5oaWdoTGlnaHRIYW5kbGVzW3NlbGVjdEZlYXR1cmVIYW5kbGUubGF5ZXJJZF0gPSBzZWxlY3RGZWF0dXJlSGFuZGxlLmhhbmRsZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcclxuICAgICAgfSwgNTAwKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yRmxhc2hBY3Rpb25WYWx1ZUFuZEZpbHRlckFjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGNvbnN0IG11dGFibGVTdGF0ZVByb3BzS2V5cyA9IE9iamVjdC5rZXlzKG11dGFibGVTdGF0ZVByb3BzKVxyXG4gICAgLy8gV0hZOiB3aHkgdXNlIGFycmF5LnNvbWUoKSBoZXJlID8gdGhlIGNhbGxiYWNrIGFsd2F5cyByZXR1cm4gZmFsc2VcclxuICAgIG11dGFibGVTdGF0ZVByb3BzS2V5cy5zb21lKGFjdGlvbktleSA9PiB7XHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSBtYXBCYXNlVmlldy5kYXRhU291cmNlSW5mby5qaW11TWFwVmlld0lkXHJcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXHJcblxyXG4gICAgICAvLyBoYW5kbGUgZmxhc2ggYWN0aW9uXHJcbiAgICAgIGlmIChhY3Rpb25LZXkuaW5kZXhPZignZmxhc2hBY3Rpb25WYWx1ZS0nKSA9PT0gMCAmJiBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldKSB7XHJcbiAgICAgICAgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTCAmJiBmbGFzaEZlYXR1cmVzQnlRdWVyeSh0ZW1wSmltdU1hcFZpZXcsIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ubGF5ZXJEYXRhU291cmNlSWQsIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUwpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgYWN0aW9uS2V5LCBudWxsKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBoYW5kbGUgZmlsdGVyIGFjdGlvblxyXG4gICAgICBpZiAoYWN0aW9uS2V5LmluZGV4T2YoJ2ZpbHRlckFjdGlvblZhbHVlLScpID09PSAwICYmIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0pIHtcclxuICAgICAgICBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLnF1ZXJ5U1FMPy5sZW5ndGggPj0gMCAmJiBmaWx0ZXJGZWF0dXJlc0J5UXVlcnkodGVtcEppbXVNYXBWaWV3LCBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLmxheWVyRGF0YVNvdXJjZUlkLCBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLnF1ZXJ5U1FMKVxyXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGFjdGlvbktleSwgbnVsbClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yU2hvd09uTWFwRGF0YXMgKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLnNob3dPbk1hcERhdGFzKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LmRyYXdEYXRhT25NYXAobXV0YWJsZVN0YXRlUHJvcHMuc2hvd09uTWFwRGF0YXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JBZGRUb01hcERhdGFzIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBqaW11TWFwVmlldzogSmltdU1hcFZpZXcpOiB2b2lkIHtcclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5hZGRUb01hcERhdGFzKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LmFkZE9yUmVtb3ZlRGF0YU9uTWFwKG11dGFibGVTdGF0ZVByb3BzLmFkZFRvTWFwRGF0YXMpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCB0eXBlIElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgTXVsdGlTb3VyY2VNYXBDb250ZXh0VHlwZSB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIG1hcFdpZGdldEhlaWdodDogbnVtYmVyXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuXHJcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXHJcbiAgZGF0YVNvdXJjZUlkczogc3RyaW5nW11cclxuICBhY3RpdmVEYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gIHN3aXRjaE1hcDogKCkgPT4gdm9pZFxyXG4gIGZ1bGxTY3JlZW5NYXA6ICgpID0+IHZvaWRcclxuICBpbml0aWFsTWFwU3RhdGU6IGFueVxyXG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG4gIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiAoTW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudCkgPT4gdm9pZFxyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBNdWx0aVNvdXJjZU1hcENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PE11bHRpU291cmNlTWFwQ29udGV4dFR5cGU+KHtcclxuICBtYXBXaWRnZXRJZDogbnVsbCxcclxuICBtYXBXaWRnZXRIZWlnaHQ6IG51bGwsXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuOiBmYWxzZSxcclxuICBpc0Z1bGxTY3JlZW46IGZhbHNlLFxyXG4gIGRhdGFTb3VyY2VJZHM6IFtdLFxyXG4gIGFjdGl2ZURhdGFTb3VyY2VJZDogbnVsbCxcclxuICBzd2l0Y2hNYXA6ICgpID0+IHt9LFxyXG4gIGZ1bGxTY3JlZW5NYXA6ICgpID0+IHt9LFxyXG4gIGluaXRpYWxNYXBTdGF0ZTogbnVsbCxcclxuICBtb2JpbGVQYW5lbENvbnRhaW5lcjogbnVsbCxcclxuICBvbk1vYmlsZVBhbmVsQ29udGVudENoYW5nZTogKE1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQpID0+IHt9LFxyXG4gIHRoZW1lOiBudWxsXHJcbn0pXHJcbiIsImltcG9ydCB7XHJcbiAgUmVhY3QsIGNsYXNzTmFtZXMsIE1lc3NhZ2VNYW5hZ2VyLCB0eXBlIEltbXV0YWJsZUFycmF5LCBJbW11dGFibGUsIG9ic2VydmVTdG9yZSwgUmVhY3RSZXNpemVEZXRlY3RvcixcclxuICBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucywgTXV0YWJsZVN0b3JlTWFuYWdlciwgdHlwZSBFeHRlbnRDaGFuZ2VNZXNzYWdlLCB0eXBlIFVzZURhdGFTb3VyY2VcclxufSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCBNYXBCYXNlLCB7IE1hcExvYWRTdGF0dXMgfSBmcm9tICcuL21hcGJhc2UnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4vbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuaW1wb3J0IHsgdHlwZSBNYXBXaWRnZXRQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcclxuaW1wb3J0IHsgTWFwVmlld01hbmFnZXIsIHR5cGUgSmltdU1hcFZpZXcsIHR5cGUgSmltdU1hcFZpZXdHcm91cCwgSmltdU1hcFZpZXdDb21wb25lbnQsIHR5cGUgRGVmYXVsdE1hcEluZm8gfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IE1hcEZpeGVkTGF5b3V0IGZyb20gJy4uL2xheW91dC9tYXAtZml4ZWQtbGF5b3V0J1xyXG5pbXBvcnQgTWFwVG9vbExheW91dCwgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vbGF5b3V0L2xheW91dCdcclxuaW1wb3J0IHBjTGF5b3V0SnNvbnMgZnJvbSAnLi4vbGF5b3V0L3BjLWxheW91dC1qc29uJ1xyXG5pbXBvcnQgbW9iaWxlTGF5b3V0SnNvbnMgZnJvbSAnLi4vbGF5b3V0L21vYmlsZS1sYXlvdXQtanNvbidcclxuaW1wb3J0IHsgZ2V0SmltdU1hcFZpZXdJZCwgdXBkYXRlVXJsSGFzaFBhcmFtc0ZvckFjdGl2ZUppbXVNYXBWaWV3IH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiB9IGZyb20gJy4uL2xheW91dC9jb25maWcnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGJhc2VXaWRnZXRQcm9wczogTWFwV2lkZ2V0UHJvcHNcclxuICBzdGFydExvYWRNb2R1bGVzOiBib29sZWFuXHJcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4gdm9pZFxyXG5cclxuICBpc0RlZmF1bHRNYXA/OiBib29sZWFuXHJcbiAgb25WaWV3R3JvdXBDcmVhdGU6ICh2aWV3R3JvdXA6IEppbXVNYXBWaWV3R3JvdXApID0+IHZvaWRcclxuICBvbkppbXVNYXBWaWV3Q3JlYXRlZDogKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykgPT4gdm9pZFxyXG4gIG9uQWN0aXZlSmltdU1hcFZpZXdDaGFuZ2U6IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcpID0+IHZvaWRcclxuXHJcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcclxuICB3aWRnZXRIZWlnaHQ6IG51bWJlclxyXG5cclxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cclxuICBpc01hcEluVmlzaWJsZUFyZWE6IGJvb2xlYW5cclxuICBkZWZhdWx0TWFwSW5mbz86IERlZmF1bHRNYXBJbmZvXHJcblxyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcblxyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWFwQ29udGFpbmVyU3R5bGUge1xyXG4gIG9wYWNpdHk6IG51bWJlclxyXG4gIHpJbmRleDogbnVtYmVyIHwgc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgY3VycmVudE1hcEluZGV4PzogMCB8IDFcclxuICBtdWx0aU1hcFN0eWxlPzogTWFwQ29udGFpbmVyU3R5bGVbXVxyXG4gIC8vIHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFsd2F5cyBiaW5kcyB0byBmaXJzdE1hcERzSWQgYW5kIHJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYWx3YXlzIGJpbmRzIHRvIHNlY29uZE1hcERzSWRcclxuICAvLyBmaXJzdE1hcERzSWQgYW5kIHNlY29uZE1hcERzSWQgYXJlIGRlY2lkZWQgb25jZSBpbiBjb21wb25lbnREaWRNb3VudCgpLCBmaXJzdE1hcERzSWQgaXMgaW5pdGlhbGl6ZWQgYXMgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCxcclxuICAvLyBhbmQgc2Vjb25kTWFwRHNJZCBpcyBpbml0aWFsaXplZCBub3QgdGhlIGluaXRpYWxNYXBEYXRhU291cmNlSUQuXHJcbiAgLy8gQ2FsbGluZyBzd2l0Y2hNYXAoKSBtZXRob2Qgd2lsbCBub3QgY2hhbmdlIGZpcnN0TWFwRHNJZCBhbmQgc2Vjb25kTWFwRHNJZC5cclxuICBmaXJzdE1hcERzSWQ/OiBzdHJpbmdcclxuICBzZWNvbmRNYXBEc0lkPzogc3RyaW5nXHJcbiAgLy8gSWYgdXNlQW5pbWF0aW9uIGlzIHRydWUsIG1lYW5zIHdlIGVuYWJsZSBzd2l0Y2hpbmcgb3BhY2l0eSBhbmltYXRpb24gd2hlbiBjYWxsIHN3aXRjaE1hcCgpIG1ldGhvZFxyXG4gIC8vIGJ5IGFkZGluZyBjbGFzc05hbWVzIG11bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyIGFuZCBtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci5cclxuICB1c2VBbmltYXRpb246IGJvb2xlYW5cclxuXHJcbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPlxyXG4gIGN1cnJlbnRKaW11TWFwVmlld0lkPzogc3RyaW5nXHJcbiAgbW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudFxyXG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG4gIC8vIHNob3dPbk1hcERhdGFzS2V5OiBzdHJpbmdbXVxyXG59XHJcblxyXG5jb25zdCBWaXNpYmxlU3R5bGVzID0ge1xyXG4gIGZpcnN0TWFwVmlzaWJsZTogW3tcclxuICAgIHpJbmRleDogJ3Vuc2V0JyxcclxuICAgIG9wYWNpdHk6IDFcclxuICB9LCB7XHJcbiAgICB6SW5kZXg6IC0xLFxyXG4gICAgb3BhY2l0eTogMFxyXG4gIH1dLFxyXG4gIHNlY29uZE1hcFZpc2libGU6IFt7XHJcbiAgICB6SW5kZXg6IC0xLFxyXG4gICAgb3BhY2l0eTogMFxyXG4gIH0sIHtcclxuICAgIHpJbmRleDogJ3Vuc2V0JyxcclxuICAgIG9wYWNpdHk6IDFcclxuICB9XVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aVNvdXJjZU1hcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcbiAgaXNSZUluaXRpbmc6IGJvb2xlYW5cclxuICBtdXRhYmxlU3RhdGVQcm9wc01hcDogeyBbcHJvcEtleTogc3RyaW5nXTogc3RyaW5nW10gfSA9IHt9XHJcbiAgdXNlTWFwV2lkZ2V0SWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+XHJcbiAgX191bm1vdW50ID0gZmFsc2VcclxuICBkb21SZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD5cclxuICAvLyBSZWNvcmQgdGhlIE11bHRpU291cmNlTWFwIGluaXRlZCBjb3VudCBmb3IgdGhlIHNwZWNpZmljIG1hcFdpZGdldElkIGF0IHJ1bnRpbWUsIHRoZSBrZXkgaXMgbWFwIHdpZGdldCBpZCwgdGhlIHZhbHVlIGlzIHRoZSBNdWx0aVNvdXJjZU1hcCBpbml0ZWQgY291bnQuXHJcbiAgLy8gV2UgdXNlIHJ1bnRpbWVJbml0ZWRNYXBXaWRnZXRzIHRvIGlkZW50aWZ5IHdoZXRoZXIgdGhlIE11bHRpU291cmNlTWFwIGlzIGluaXRpYWxpemVkIGZvciB0aGUgZmlyc3QgdGltZSxcclxuICAvLyBhbmQgcmVwbGFjZSBjb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCB3aXRoIGFjdGl2ZURhdGFTb3VyY2VJZCBpbiB0aGUgdXJsIGhhc2ggZHVyaW5nIHRoZSBmaXJzdCBpbml0aWFsaXphdGlvbi5cclxuICBzdGF0aWMgcnVudGltZUluaXRlZE1hcFdpZGdldHM6IHsgW21hcFdpZGdldElkOiBzdHJpbmddOiBudW1iZXIgfSA9IHt9XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5kb21SZWYgPSBSZWFjdC5jcmVhdGVSZWY8SFRNTERpdkVsZW1lbnQ+KClcclxuXHJcbiAgICBjb25zdCBtYXBXaWRnZXRJZCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXHJcblxyXG4gICAgaWYgKHR5cGVvZiBNdWx0aVNvdXJjZU1hcC5ydW50aW1lSW5pdGVkTWFwV2lkZ2V0c1ttYXBXaWRnZXRJZF0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgIC8vIE11bHRpU291cmNlTWFwIGlzIGluaXRlZCBtdWx0aXBsZSB0aW1lcyBmb3IgbWFwV2lkZ2V0SWRcclxuICAgICAgTXVsdGlTb3VyY2VNYXAucnVudGltZUluaXRlZE1hcFdpZGdldHNbbWFwV2lkZ2V0SWRdICs9IDFcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE11bHRpU291cmNlTWFwIGlzIGluaXRlZCBmaXJzdGx5IGZvciBtYXBXaWRnZXRJZFxyXG4gICAgICBNdWx0aVNvdXJjZU1hcC5ydW50aW1lSW5pdGVkTWFwV2lkZ2V0c1ttYXBXaWRnZXRJZF0gPSAxXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsICdyZXN0b3JlRGF0YScsXHJcbiAgICAgIGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS1tdWx0aW1hcGBdKVxyXG4gICAgaWYgKHJlc3RvcmVEYXRhKSB7XHJcbiAgICAgIGNvbnN0IG1vYmlsZVBhbmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuaWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tYm90dG9tLXBhbmVsYFxyXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5jbGFzc05hbWUgPSAndy0xMDAgaC0xMDAnXHJcbiAgICAgIHJlc3RvcmVEYXRhLm1vYmlsZVBhbmVsQ29udGFpbmVyID0gbW9iaWxlUGFuZWxDb250YWluZXJcclxuXHJcbiAgICAgIHRoaXMucmVJbml0V2lkZ2V0SW5zdGFuY2UocmVzdG9yZURhdGEpXHJcblxyXG4gICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgLCBudWxsKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbW9iaWxlUGFuZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5pZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1ib3R0b20tcGFuZWxgXHJcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCdcclxuXHJcbiAgICAgIC8vIFRoZSB3b3JrZmxvdyB0byBzaG93IHRvcCBtYXAgYW5kIGJvdHRvbSBtYXA6XHJcbiAgICAgIC8vIDEuIHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZSBpcyBzZXQgdG8gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGUsIHRoaXMgbGVhZHMgdG8gZ2V0Q3VycmVudFZpc2libGVEc0lkKCkgcmV0dXJuaW5nIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkLlxyXG4gICAgICAvLyAyLiBJbiBjb21wb25lbnREaWRNb3VudCwgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgaXMgc2V0IHRvIGluaXRpYWxNYXBEYXRhU291cmNlSUQuXHJcbiAgICAgIC8vIDMuIFdoZW4gSmltdU1hcFZpZXcgY3JlYXRlZCwgaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkIGlzIGNhbGxlZCwgdGhlbiBoYW5kbGVKaW11TWFwVmlld0NyZWF0ZWQgY2FsbHMgY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUuXHJcbiAgICAgIC8vIDQuIEluIGNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlLCBpdCBjYWxscyB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpIGFzIGN1cnJlbnREYXRhU291cmNlSWQsIGN1cnJlbnREYXRhU291cmNlSWQgaXMgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgZHVlIHRvIHN0ZXAxLlxyXG4gICAgICAvLyAgICBBbmQgYmVjYXVzZSBvZiBzdGVwMiwgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgaXMgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCwgc28gdGhlIGN1cnJlbnREYXRhU291cmNlSWQgaXMgaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgICAgLy8gICAgVGhlbiBjYWxsIEppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKSwgaXNBY3RpdmUgaXMgdHJ1ZSBpZiBqaW11TWFwVmlldy5kYXRhU291cmNlSWQgZXF1YWxzIGN1cnJlbnREYXRhU291cmNlSWQsIG90aGVyd2lzZSBpc0FjdGl2ZSBpcyBmYWxzZS5cclxuXHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgLy8gc2hvdyB1c2VEYXRhU291cmNlc1swXSBvbiB0aGUgdG9wIGJ5IGRlZmF1bHRcclxuICAgICAgICBjdXJyZW50TWFwSW5kZXg6IDAsXHJcbiAgICAgICAgbXVsdGlNYXBTdHlsZTogVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGUsXHJcbiAgICAgICAgZmlyc3RNYXBEc0lkOiBudWxsLFxyXG4gICAgICAgIHNlY29uZE1hcERzSWQ6IG51bGwsXHJcbiAgICAgICAgdXNlQW5pbWF0aW9uOiBmYWxzZSxcclxuICAgICAgICB1c2VEYXRhU291cmNlczogbnVsbCxcclxuICAgICAgICAvLyBOb3RlLCB0aGUgaW5pdGlhbCBjdXJyZW50SmltdU1hcFZpZXdJZCBpcyBlbXB0eSwgaXQgaXMgbm90IGVtcHR5IGFmdGVyIGNhbGxlZCB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKCkgbWV0aG9kLlxyXG4gICAgICAgIGN1cnJlbnRKaW11TWFwVmlld0lkOiBudWxsLFxyXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGVudDogbnVsbCxcclxuICAgICAgICBtb2JpbGVQYW5lbENvbnRhaW5lcjogbW9iaWxlUGFuZWxDb250YWluZXIsXHJcbiAgICAgICAgYWN0aXZlVG9vbEluZm86IG51bGxcclxuICAgICAgICAvLyBzaG93T25NYXBEYXRhc0tleTogbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcCA9IHt9XHJcbiAgICB0aGlzLnVzZU1hcFdpZGdldElkcyA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkID8gSW1tdXRhYmxlKFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIDogSW1tdXRhYmxlKFtdKVxyXG5cclxuICAgIG9ic2VydmVTdG9yZSh0aGlzLm9uUGFnZUNoYW5nZSwgWydhcHBSdW50aW1lSW5mbycsICdjdXJyZW50UGFnZUlkJ10pXHJcbiAgfVxyXG5cclxuICBvblBhZ2VDaGFuZ2UgPSAocHJlUGFnZUlkLCBjdXJyZW50UGFnZUlkKSA9PiB7XHJcbiAgICAvLyBjbG9zZSBhY3RpdmUgdG9vbFxyXG4gICAgaWYgKHByZVBhZ2VJZCAmJiBjdXJyZW50UGFnZUlkICYmIHByZVBhZ2VJZCAhPT0gY3VycmVudFBhZ2VJZCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgLy8gY2xvc2UgYWN0aXZlIHRvb2xcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlSW5pdFdpZGdldEluc3RhbmNlID0gKHJlc3RvcmVEYXRhKSA9PiB7XHJcbiAgICB0aGlzLnN0YXRlID0gcmVzdG9yZURhdGEgYXMgU3RhdGVcclxuICAgIHRoaXMuaXNSZUluaXRpbmcgPSB0cnVlXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLm1hcFdpZGdldHNJbmZvKSB7XHJcbiAgICAgIGlmICghZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLm1hcFdpZGdldHNJbmZvW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkge1xyXG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5NYXBXaWRnZXRJbmZvQWRkZWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIEltbXV0YWJsZSh7IG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCB9KSkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9fdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMuaXNSZUluaXRpbmcpIHtcclxuICAgICAgLy8gdGhpcy5pc1JlSW5pdGluZyBpcyB0cnVlIG1lYW5zIE11bHRpU291cmNlTWFwIGlzIHJlc3RvcmVkLlxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VEYXRhU291cmNlcyA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzXHJcblxyXG4gICAgaWYgKHVzZURhdGFTb3VyY2VzKSB7XHJcbiAgICAgIC8vIGluaXRpYWxNYXBEYXRhU291cmNlSUQgbWF5YmUgY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQgb3IgdXJsIGhhc2ggcGFyYW0gYWN0aXZlX2RhdGFzb3VyY2VfaWRcclxuICAgICAgbGV0IGluaXRpYWxNYXBEYXRhU291cmNlSUQgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRFxyXG5cclxuICAgICAgLy8gSWYgdXJsIGhhc2ggcGFyYW0gYWN0aXZlX2RhdGFzb3VyY2VfaWQgaXMgc2V0IGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIE11bHRpU291cmNlTWFwIGluaXRlZCxcclxuICAgICAgLy8gdGhlbiB3ZSB1c2UgYWN0aXZlX2RhdGFzb3VyY2VfaWQgb3ZlcnJpZGUgY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pc1J1bkFwcE1vZGUpIHtcclxuICAgICAgICBjb25zdCBtYXBXaWRnZXRJZCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXHJcbiAgICAgICAgY29uc3QgZmlyc3RUaW1lSW5pdGVkID0gTXVsdGlTb3VyY2VNYXAucnVudGltZUluaXRlZE1hcFdpZGdldHNbbWFwV2lkZ2V0SWRdID09PSAxXHJcblxyXG4gICAgICAgIGlmIChmaXJzdFRpbWVJbml0ZWQpIHtcclxuICAgICAgICAgIC8vIE11bHRpU291cmNlTWFwIGlzIGluaXRlZCBmaXJzdGx5IGZvciBtYXBXaWRnZXRJZC5cclxuICAgICAgICAgIGNvbnN0IHJ1bnRpbWVVcmxIYXNoUGFyYW1zID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucnVudGltZVVybEhhc2hQYXJhbXNcclxuXHJcbiAgICAgICAgICBpZiAocnVudGltZVVybEhhc2hQYXJhbXMgJiYgcnVudGltZVVybEhhc2hQYXJhbXMuYWN0aXZlX2RhdGFzb3VyY2VfaWQpIHtcclxuICAgICAgICAgICAgY29uc3QgYWxsRGF0YVNvdXJjZUlkcyA9IHVzZURhdGFTb3VyY2VzLm1hcChpdGVtID0+IGl0ZW0uZGF0YVNvdXJjZUlkKVxyXG5cclxuICAgICAgICAgICAgaWYgKGFsbERhdGFTb3VyY2VJZHMuaW5jbHVkZXMocnVudGltZVVybEhhc2hQYXJhbXMuYWN0aXZlX2RhdGFzb3VyY2VfaWQpKSB7XHJcbiAgICAgICAgICAgICAgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHJ1bnRpbWVVcmxIYXNoUGFyYW1zLmFjdGl2ZV9kYXRhc291cmNlX2lkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHRoZSBmb2xsb3dpbmcgY29kZSBtYWtlIHN1cmUgZmlyc3RNYXBEc0lkIHBvaW50cyB0byB0aGUgYWJvdmUgaW5pdGlhbE1hcERhdGFTb3VyY2VJRFxyXG5cclxuICAgICAgaWYgKCFpbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBmaXJzdE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzBdICYmIHVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzFdICYmIHVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGluaXRpYWxNYXBEYXRhU291cmNlSUQgPT09ICh1c2VEYXRhU291cmNlc1swXSAmJiB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQpKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB1c2VEYXRhU291cmNlc1swXSAmJiB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzFdICYmIHVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxNYXBEYXRhU291cmNlSUQgPT09ICh1c2VEYXRhU291cmNlc1sxXSAmJiB1c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWQpKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB1c2VEYXRhU291cmNlc1sxXSAmJiB1c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHVzZURhdGFTb3VyY2VzWzBdICYmIHVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGZpcnN0TWFwRHNJZDogdXNlRGF0YVNvdXJjZXNbMF0gJiYgdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB1c2VEYXRhU291cmNlc1sxXSAmJiB1c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLl9fdW5tb3VudCA9IHRydWVcclxuICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNcclxuXHJcbiAgICBpZiAod2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0gJiYgd2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0udXNlRGF0YVNvdXJjZXMgPT09IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XHJcbiAgICAgIGNvbnN0IHJlc3RvcmVEYXRhID0ge1xyXG4gICAgICAgIGN1cnJlbnRNYXBJbmRleDogdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgsXHJcbiAgICAgICAgbXVsdGlNYXBTdHlsZTogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlLFxyXG4gICAgICAgIGZpcnN0TWFwRHNJZDogdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQsXHJcbiAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkLFxyXG4gICAgICAgIHVzZUFuaW1hdGlvbjogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24sXHJcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3SWQ6IHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWRcclxuICAgICAgfVxyXG4gICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgLCByZXN0b3JlRGF0YSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XHJcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5NYXBXaWRnZXRJbmZvUmVtb3ZlZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0Q2hhbmdlZFN0YXRlID0gKGZpcnN0TWFwRHNJZCwgc2Vjb25kTWFwRHNJZCwgdXNlRGF0YVNvdXJjZXMpOiBTdGF0ZSA9PiB7XHJcbiAgICBjb25zdCBjaGFuZ2VkU3RhdGUgPSB7fSBhcyBTdGF0ZVxyXG5cclxuICAgIGlmICh1c2VEYXRhU291cmNlcyAmJiB1c2VEYXRhU291cmNlc1swXSkge1xyXG4gICAgICBjb25zdCBuZXdEYXRhU291cmNlQXJyID0gW11cclxuICAgICAgY29uc3QgcmVwZWF0RGF0YVNvdXJjZUFyciA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlRGF0YVNvdXJjZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZmlyc3RNYXBEc0lkICE9PSB1c2VEYXRhU291cmNlc1tpXS5kYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIG5ld0RhdGFTb3VyY2VBcnIucHVzaCh1c2VEYXRhU291cmNlc1tpXS5kYXRhU291cmNlSWQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlcGVhdERhdGFTb3VyY2VBcnIucHVzaCh1c2VEYXRhU291cmNlc1tpXS5kYXRhU291cmNlSWQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChyZXBlYXREYXRhU291cmNlQXJyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gZmlyc3RNYXBEc0lkXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzBdXHJcbiAgICAgIH0gZWxzZSBpZiAocmVwZWF0RGF0YVNvdXJjZUFyci5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBpZiAobmV3RGF0YVNvdXJjZUFyci5pbmNsdWRlcyhzZWNvbmRNYXBEc0lkKSkge1xyXG4gICAgICAgICAgbmV3RGF0YVNvdXJjZUFyci5zcGxpY2UobmV3RGF0YVNvdXJjZUFyci5pbmRleE9mKHNlY29uZE1hcERzSWQpLCAxKVxyXG4gICAgICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMF1cclxuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gc2Vjb25kTWFwRHNJZFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclswXVxyXG4gICAgICAgICAgY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzFdXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gbnVsbFxyXG4gICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCAhPT0gZmlyc3RNYXBEc0lkKSB7XHJcbiAgICAgIGlmIChjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkKSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXHJcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQpIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuc2Vjb25kTWFwVmlzaWJsZVxyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAxXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQpIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCAhPT0gc2Vjb25kTWFwRHNJZCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoYW5nZWRTdGF0ZVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAobmV3UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKSB7XHJcbiAgICBpZiAobmV3UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICE9PSBwcmV2U3RhdGUudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgY29uc3QgbmV3U3RhdGUgPSBNdWx0aVNvdXJjZU1hcC5nZXRDaGFuZ2VkU3RhdGUocHJldlN0YXRlLmZpcnN0TWFwRHNJZCwgcHJldlN0YXRlLnNlY29uZE1hcERzSWQsIG5ld1Byb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcylcclxuICAgICAgcmV0dXJuIG5ld1N0YXRlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5zdGF0ZVByb3BzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xyXG4gICAgICAvLyBtYXBXaWRnZXQucHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEIGlzIGEgdGVtcG9yYXJ5IHZhcmlhYmxlIHRvIGxldCBtYXAgc2V0dGluZyBhbmQgbWFwIHJ1bnRpbWUgY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyLlxyXG4gICAgICAvLyBJZiB3ZSBjaGFuZ2UgdGhlIGluaXRpYWxNYXBEYXRhU291cmNlSUQgYnkgY2xpY2tpbmcgZHMgdGh1bWJuYWlsIGluIG1hcCBzZXR0aW5nLFxyXG4gICAgICAvLyB0aGVuIG1hcCBzZXR0aW5nIHdpbGwgY2FsbCBidWlsZGVyQXBwU3luYy5wdWJsaXNoQ2hhbmdlV2lkZ2V0U3RhdGVQcm9wVG9BcHAoKSB0byB1cGRhdGUgbWFwV2lkZ2V0LnByb3BzLnN0YXRlUHJvcHMuaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgICAgLy8gT25jZSB3ZSBjaGVjayBtYXBXaWRnZXQucHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEIGlzIG5vdCBlbXB0eSBpbiBNdWx0aVNvdXJjZU1hcCwgbWVhbnMgd2UgY2hhbmdlZCB0aGUgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCxcclxuICAgICAgLy8gdGhlbiB3ZSBtYWtlIHN1cmUgdGhlIGluaXRpYWxNYXBiYXNlIGdvIHRvIHRoZSBpbml0aWFsIGV4dGVudC5cclxuICAgICAgLy8gQXQgbGFzdCwgd2Ugd2lsbCByZXNldCBtYXBXaWRnZXQucHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEIHRvIGVtcHR5LlxyXG5cclxuICAgICAgY29uc3QgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMuaW5pdGlhbE1hcERhdGFTb3VyY2VJRFxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkID09PSBpbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICAgICAgaWYgKGZpcnN0TWFwSW5zdGFuY2UpIHtcclxuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xyXG4gICAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICAgICAgaWYgKHNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5kaXNwYXRjaChhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgJ2luaXRpYWxNYXBEYXRhU291cmNlSUQnLCBudWxsKSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1JlSW5pdGluZykge1xyXG4gICAgICB0aGlzLmlzUmVJbml0aW5nID0gZmFsc2VcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEICE9PSBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgIC8vIFVzZXIgY2xpY2tzIHRoZSBtYXAgdGh1Ym5haWwgaW4gbWFwIHNldHRpbmcgcGFnZSBhbmQgY2hhbmdlIHRoZSBjb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgICAgdGhpcy5jaGFuZ2VJbml0aWFsTWFwRGF0YVNvdXJjZUlEKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlELCB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAhPT0gcHJldlByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcykge1xyXG4gICAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHVzZXIgY2xpY2tzIHRoZSBtYXAgdGh1Ym5haWwgaW4gbWFwIHNldHRpbmcgcGFnZSBhbmQgY2hhbmdlIHRoZSBjb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgKiBAcGFyYW0gZGF0YVNvdXJjZUlkXHJcbiAgICogQHBhcmFtIGNhbGxCYWNrXHJcbiAgICovXHJcbiAgY2hhbmdlSW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgY2FsbEJhY2s/OiBhbnkpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICAgIGlmICghZmlyc3RNYXBJbnN0YW5jZSB8fCAhc2Vjb25kTWFwSW5zdGFuY2UpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgYm90aCBmaXJzdE1hcEluc3RhbmNlIGFuZCBzZWNvbmRNYXBJbnN0YW5jZSBleGlzdCwgb3RoZXJ3aXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cclxuICAgICAgICBpZiAoY2FsbEJhY2spIHtcclxuICAgICAgICAgIGNhbGxCYWNrKClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbihjYWxsQmFjaylcclxuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbihjYWxsQmFjaylcclxuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGFydENoYW5nZUluaXRpYWxNYXBBbmltYXRpb24gPSAoY2FsbEJhY2s/OiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcblxyXG4gICAgaWYgKCFmaXJzdE1hcEluc3RhbmNlIHx8ICFzZWNvbmRNYXBJbnN0YW5jZSkge1xyXG4gICAgICAvLyBNYWtlIHN1cmUgYm90aCBmaXJzdE1hcEluc3RhbmNlIGFuZCBzZWNvbmRNYXBJbnN0YW5jZSBleGlzdCwgb3RoZXJ3aXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cclxuICAgICAgaWYgKGNhbGxCYWNrKSB7XHJcbiAgICAgICAgY2FsbEJhY2soKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRlbXBTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUpIGFzIFN0YXRlXHJcblxyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xyXG4gICAgICAvLyBjdXJyZW50TWFwSW5kZXg6IDAgLT4gMVxyXG4gICAgICAvLyBmaXJzdCBtYXAgdmlzaWJsZSAtPiBzZWNvbmQgbWFwIHZpc2libGVcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuXHJcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcclxuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKHRlbXBTdGF0ZSwgKCkgPT4geyBjYWxsQmFjayAmJiBjYWxsQmFjaygpIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBjdXJyZW50TWFwSW5kZXg6IDEgLT4gMFxyXG4gICAgICAvLyBzZWNvbmQgbWFwIHZpc2libGUgLT4gZmlyc3QgbWFwIHZpc2libGVcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxyXG5cclxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuXHJcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcclxuICAgICAgICBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUodGVtcFN0YXRlLCAoKSA9PiB7IGNhbGxCYWNrICYmIGNhbGxCYWNrKCkgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHVzZXIgY2xpY2tzIHRoZSBzd2l0Y2ggdG9vbCBhdCB0aGUgbGVmdCBib3R0b20gb2YgbWFwIHdpZGdldC5cclxuICAgKi9cclxuICBzd2l0Y2hNYXAgPSBhc3luYyAoaWdub3JlU3dpdGNoQW5pbWF0aW9uID0gZmFsc2UpOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgaWYgKCF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyB8fCB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggPCAyKSB7XHJcbiAgICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcblxyXG4gICAgaWYgKCFmaXJzdE1hcEluc3RhbmNlIHx8ICFzZWNvbmRNYXBJbnN0YW5jZSkge1xyXG4gICAgICAvLyBNYWtlIHN1cmUgYm90aCBmaXJzdE1hcEluc3RhbmNlIGFuZCBzZWNvbmRNYXBJbnN0YW5jZSBleGlzdCwgb3RoZXJ3aXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGVtcFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSkgYXMgU3RhdGVcclxuICAgIC8vIEJ5IGRlZmF1bHQsIHdlIGVuYWJsZSBzd2l0Y2hpbmcgb3BhY2l0eSBhbmltYXRpb24uXHJcbiAgICB0ZW1wU3RhdGUudXNlQW5pbWF0aW9uID0gIWlnbm9yZVN3aXRjaEFuaW1hdGlvblxyXG5cclxuICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcclxuICAgICAgLy8gY3VycmVudE1hcEluZGV4OiAwIC0+IDFcclxuICAgICAgLy8gZmlyc3QgbWFwIHZpc2libGUgLT4gc2Vjb25kIG1hcCB2aXNpYmxlXHJcbiAgICAgIHRlbXBTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAxXHJcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXHJcblxyXG4gICAgICBjb25zdCB2aWV3UG9pbnQgPSBmaXJzdE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCgpXHJcblxyXG4gICAgICBpZiAodmlld1BvaW50KSB7XHJcbiAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHZpZXdQb2ludClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gY3VycmVudE1hcEluZGV4OiAxIC0+IDBcclxuICAgICAgLy8gc2Vjb25kIG1hcCB2aXNpYmxlIC0+IGZpcnN0IG1hcCB2aXNpYmxlXHJcbiAgICAgIHRlbXBTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXHJcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCgpXHJcblxyXG4gICAgICBpZiAodmlld1BvaW50KSB7XHJcbiAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKClcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdXNlQW5pbWF0aW9uOiBmYWxzZVxyXG4gICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDUwMClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHtcclxuICAgIGlmICghdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XSkge1xyXG4gICAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldID0gW2RhdGFTb3VyY2VJZF1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5pbmNsdWRlcyhkYXRhU291cmNlSWQpKSB7XHJcbiAgICAgICAgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5wdXNoKGRhdGFTb3VyY2VJZClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG11bHRpTWFwRHNJZHMgPSBbXVxyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZSAmJiBmaXJzdE1hcEluc3RhbmNlLmdldFZpZXdUeXBlKCkpIHtcclxuICAgICAgbXVsdGlNYXBEc0lkcy5wdXNoKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpKSB7XHJcbiAgICAgIG11bHRpTWFwRHNJZHMucHVzaCh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQWxsTWF0Y2hlZCA9IHRydWVcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXVsdGlNYXBEc0lkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0uaW5jbHVkZXMobXVsdGlNYXBEc0lkc1tpXSkpIHtcclxuICAgICAgICBpc0FsbE1hdGNoZWQgPSBmYWxzZVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNBbGxNYXRjaGVkKSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldXHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBwcm9wS2V5LCB2YWx1ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGNhbGxiYWNrIG9mIHZpZXcuZXh0ZW50IGNoYW5nZVxyXG4gIG9uTWFwYmFzZUV4dGVudENoYW5nZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1lc3NhZ2U6IEV4dGVudENoYW5nZU1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWaXNpYmxlRHNJZCA9IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKClcclxuXHJcbiAgICBpZiAoY3VycmVudFZpc2libGVEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgY29uc3QgY2xvbmVkVmlld3BvaW50ID0gbWVzc2FnZS52aWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG1lc3NhZ2UpXHJcblxyXG4gICAgICAvLyBzeW5jIHZpZXdwb2ludCBvZiBoaWRkZW4gbWFwYmFzZVxyXG4gICAgICBsZXQgaGlkZGVuTWFwQmFzZTogTWFwQmFzZSA9IG51bGxcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAhPT0gZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgaGlkZGVuTWFwQmFzZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICE9PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICBoaWRkZW5NYXBCYXNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGhpZGRlbk1hcEJhc2UpIHtcclxuICAgICAgICBoaWRkZW5NYXBCYXNlLnNldFZpZXdQb2ludChjbG9uZWRWaWV3cG9pbnQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZU1hcExvYWRlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cykgPT4ge1xyXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgfVxyXG5cclxuICBoYW5kbGVKaW11TWFwVmlld0NyZWF0ZWQgPSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vbkppbXVNYXBWaWV3Q3JlYXRlZCkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkKGppbXVNYXBWaWV3KVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0SmltdU1hcFZpZXdCeURhdGFTb3VyY2VJZCAoZHNJZDogc3RyaW5nKTogSmltdU1hcFZpZXcge1xyXG4gICAgY29uc3QgamltdU1hcFZpZXdJZCA9IGdldEppbXVNYXBWaWV3SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIGRzSWQpXHJcbiAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXHJcbiAgICByZXR1cm4gamltdU1hcFZpZXdcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkIGJ5IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZSBhbmQgdXBkYXRlIEppbXVNYXBWaWV3LmlzQWN0aXZlIGJ5IGNhbGxpbmcgamltdU1hcFZpZXcuc2V0SXNBY3RpdmUoaXNBY3RpdmUpLlxyXG4gICAqL1xyXG4gIGNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5nZXRKaW11TWFwVmlld0J5RGF0YVNvdXJjZUlkKG51bGwpXHJcbiAgICAgIGlmIChqaW11TWFwVmlldykge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcsIHRydWUpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWxsRGF0YXNvdXJjZUlkcyA9IFtdXHJcbiAgICB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiBhbGxEYXRhc291cmNlSWRzLnB1c2godGhpcy5zdGF0ZS5maXJzdE1hcERzSWQpXHJcbiAgICB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgYWxsRGF0YXNvdXJjZUlkcy5wdXNoKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZClcclxuICAgIGNvbnN0IGN1cnJlbnREYXRhU291cmNlSWQgPSB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxEYXRhc291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5nZXRKaW11TWFwVmlld0J5RGF0YVNvdXJjZUlkKGFsbERhdGFzb3VyY2VJZHNbaV0pXHJcbiAgICAgIGlmIChqaW11TWFwVmlldykge1xyXG4gICAgICAgIGlmIChhbGxEYXRhc291cmNlSWRzW2ldID09PSBjdXJyZW50RGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCB0cnVlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZUppbXVNYXBWaWV3IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGlzQWN0aXZlOiBib29sZWFuKSB7XHJcbiAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgLy8gamltdU1hcFZpZXcgaXMgYWN0aXZlXHJcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBjdXJyZW50SmltdU1hcFZpZXdJZDogamltdU1hcFZpZXcuaWRcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uQWN0aXZlSmltdU1hcFZpZXdDaGFuZ2UpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZlSmltdU1hcFZpZXdDaGFuZ2UoamltdU1hcFZpZXcpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGJhc2VXaWRnZXRQcm9wcyA9IHRoaXMucHJvcHM/LmJhc2VXaWRnZXRQcm9wc1xyXG5cclxuICAgICAgaWYgKGJhc2VXaWRnZXRQcm9wcykge1xyXG4gICAgICAgIC8vIElmIGN1cnJlbnQgdXJsIGFjdGl2ZV9kYXRhc291cmNlX2lkIGlzIGVtcHR5LCB3ZSBzaG91bGQgdHJlYXQgaXQgYXMgaW5pdGlhbE1hcERhdGFTb3VyY2VJRC5cclxuICAgICAgICBsZXQgdXJsQWN0aXZlRHNJZCA9IGJhc2VXaWRnZXRQcm9wcy5ydW50aW1lVXJsSGFzaFBhcmFtcz8uYWN0aXZlX2RhdGFzb3VyY2VfaWQgfHwgYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEXHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxNYXBEYXRhU291cmNlSUQgb25seSBleGlzdHMgd2hlbiB1c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDIsIHNvIGluaXRpYWxNYXBEYXRhU291cmNlSUQgbWF5YmUgbnVsbC5cclxuICAgICAgICBpZiAoIXVybEFjdGl2ZURzSWQpIHtcclxuICAgICAgICAgIC8vIG1lYW5zIHJ1bnRpbWVVcmxIYXNoUGFyYW1zLmFjdGl2ZV9kYXRhc291cmNlX2lkIGFuZCBjb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCBhcmUgbnVsbFxyXG4gICAgICAgICAgY29uc3QgdXNlRGF0YVNvdXJjZXMgPSBiYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNcclxuXHJcbiAgICAgICAgICBpZiAodXNlRGF0YVNvdXJjZXMgJiYgdXNlRGF0YVNvdXJjZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHVybEFjdGl2ZURzSWQgPSB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdXJsQWN0aXZlRHNJZCkge1xyXG4gICAgICAgICAgdXJsQWN0aXZlRHNJZCA9ICcnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuZXdBY3RpdmVEc0lkID0gamltdU1hcFZpZXcuZGF0YVNvdXJjZUlkIHx8ICcnXHJcblxyXG4gICAgICAgIGlmIChuZXdBY3RpdmVEc0lkICE9PSB1cmxBY3RpdmVEc0lkKSB7XHJcbiAgICAgICAgICB1cGRhdGVVcmxIYXNoUGFyYW1zRm9yQWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBqaW11TWFwVmlldyBpcyBub3QgYWN0aXZlXHJcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgIGlmIChmaXJzdE1hcEluc3RhbmNlLmdldE1hcExvYWRTdGF0dXMoKSAhPT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nICYmIHNlY29uZE1hcEluc3RhbmNlLmdldE1hcExvYWRTdGF0dXMoKSAhPT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50VmlzaWJsZURzSWQgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkgPT09IDEpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZSkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uVmlld0dyb3VwQ3JlYXRlKHZpZXdHcm91cClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZU1vYmlsZVBhbmVsQ29udGVudENoYW5nZSA9IChtb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbW9iaWxlUGFuZWxDb250ZW50OiBtb2JpbGVQYW5lbENvbnRlbnRcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZSA9IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVUb29sSW5mbzogYWN0aXZlVG9vbEluZm9cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBoYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlID0gKHNob3dPbk1hcERhdGFzS2V5OiBzdHJpbmdbXSkgPT4ge1xyXG4gIC8vICB0aGlzLnNldFN0YXRlKHtcclxuICAvLyAgICBzaG93T25NYXBEYXRhc0tleTogc2hvd09uTWFwRGF0YXNLZXlcclxuICAvLyAgfSlcclxuICAvLyB9XHJcblxyXG4gIGdldExheW91dENvbmZpZyAoKTogTGF5b3V0SnNvbiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnKSB7XHJcbiAgICAgIHJldHVybiBtb2JpbGVMYXlvdXRKc29uc1swXVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5sYXlvdXRJbmRleCA/IHBjTGF5b3V0SnNvbnNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmxheW91dEluZGV4XSA6IHBjTGF5b3V0SnNvbnNbMF1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBtdXRpU291cmNlTWFwRG9tID0gdGhpcy5kb21SZWYuY3VycmVudFxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcclxuICAgICAgICBtYXBXaWRnZXRJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgICAgbWFwV2lkZ2V0SGVpZ2h0OiB0aGlzLnByb3BzLndpZGdldEhlaWdodCxcclxuICAgICAgICBpc1Nob3dNYXBTd2l0Y2hCdG46IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+IDEgJiYgdGhpcy5pc1Nob3dNYXBTd2l0Y2hCdG4oKSxcclxuICAgICAgICBkYXRhU291cmNlSWRzOiBbdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQsIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZF0sXHJcbiAgICAgICAgYWN0aXZlRGF0YVNvdXJjZUlkOiB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpLFxyXG4gICAgICAgIHN3aXRjaE1hcDogdGhpcy5zd2l0Y2hNYXAsXHJcbiAgICAgICAgZnVsbFNjcmVlbk1hcDogdGhpcy5wcm9wcy5mdWxsU2NyZWVuTWFwLFxyXG4gICAgICAgIGlzRnVsbFNjcmVlbjogdGhpcy5wcm9wcy5pc0Z1bGxTY3JlZW4sXHJcbiAgICAgICAgbW9iaWxlUGFuZWxDb250YWluZXI6IHRoaXMuc3RhdGUubW9iaWxlUGFuZWxDb250YWluZXIsXHJcbiAgICAgICAgb25Nb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2U6IHRoaXMuaGFuZGxlTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlLFxyXG4gICAgICAgIGluaXRpYWxNYXBTdGF0ZTogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUsXHJcbiAgICAgICAgdGhlbWU6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnRoZW1lXHJcbiAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IHJlZj17dGhpcy5kb21SZWZ9IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgbXVsdGktc291cmNlLW1hcCc+XHJcbiAgICAgICAgICB7IXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwICYmIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtdWx0aS1tYXAtY29udGFpbmVyJyBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAgbWFwMScsIHtcclxuICAgICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmIHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5LFxyXG4gICAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSksXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlJzogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlJzogISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSlcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0uekluZGV4IH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgJiYgdGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgJiYgPE1hcEJhc2VcclxuICAgICAgICAgICAgICAgIHJlZj0nZmlyc3RNYXBJbnN0YW5jZSdcclxuICAgICAgICAgICAgICAgIGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cclxuICAgICAgICAgICAgICAgIG9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkPXt0aGlzLmhhbmRsZU11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZH1cclxuICAgICAgICAgICAgICAgIG9uRXh0ZW50Q2hhbmdlZD17dGhpcy5vbk1hcGJhc2VFeHRlbnRDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMuaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkfVxyXG4gICAgICAgICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5oYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZX1cclxuICAgICAgICAgICAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ9e3RoaXMuaGFuZGxlU2hvd09uTWFwRGF0YUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICAgIGRhdGFTb3VyY2VJZD17dGhpcy5zdGF0ZS5maXJzdE1hcERzSWR9XHJcbiAgICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxyXG4gICAgICAgICAgICAgICAgaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICAgIG11bHRpU291cmNlTWFwRG9tPXttdXRpU291cmNlTWFwRG9tfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8L01hcEJhc2U+fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAgbWFwMicsIHtcclxuICAgICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmIHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5LFxyXG4gICAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSksXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlJzogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlJzogISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSlcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0uekluZGV4IH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIHRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhICYmIDxNYXBCYXNlXHJcbiAgICAgICAgICAgICAgICByZWY9J3NlY29uZE1hcEluc3RhbmNlJ1xyXG4gICAgICAgICAgICAgICAgYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wc30gb25NYXBMb2FkZWQ9e3RoaXMuaGFuZGxlTWFwTG9hZGVkfVxyXG4gICAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgICAgb25FeHRlbnRDaGFuZ2VkPXt0aGlzLm9uTWFwYmFzZUV4dGVudENoYW5nZWR9XHJcbiAgICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5oYW5kbGVKaW11TWFwVmlld0NyZWF0ZWR9XHJcbiAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLmhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD17dGhpcy5oYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxyXG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZUlkPXt0aGlzLnN0YXRlLnNlY29uZE1hcERzSWR9XHJcbiAgICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxyXG4gICAgICAgICAgICAgICAgaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICAgIG11bHRpU291cmNlTWFwRG9tPXttdXRpU291cmNlTWFwRG9tfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8L01hcEJhc2U+fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2Pn1cclxuXHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgJiYgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIGRlZmF1bHQtbWFwLWNvbnRhaW5lcicgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwIG11bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZSBkZWZhdWx0LW1hcC1tYXBiYXNlLWNvbnRhaW5lcicpfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6ICd1bnNldCcgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgJiYgPE1hcEJhc2VcclxuICAgICAgICAgICAgICAgIHJlZj0nZmlyc3RNYXBJbnN0YW5jZScgaXNEZWZhdWx0TWFwPXt0aGlzLnByb3BzLmlzRGVmYXVsdE1hcH1cclxuICAgICAgICAgICAgICAgIGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cclxuICAgICAgICAgICAgICAgIG9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkPXt0aGlzLmhhbmRsZU11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZH0gZGF0YVNvdXJjZUlkPXtudWxsfVxyXG4gICAgICAgICAgICAgICAgb25FeHRlbnRDaGFuZ2VkPXt0aGlzLm9uTWFwYmFzZUV4dGVudENoYW5nZWR9XHJcbiAgICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5oYW5kbGVKaW11TWFwVmlld0NyZWF0ZWR9XHJcbiAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLmhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD17dGhpcy5oYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxyXG4gICAgICAgICAgICAgICAgd2lkdGhCcmVha3BvaW50PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludH1cclxuICAgICAgICAgICAgICAgIGlzTWFwSW5WaXNpYmxlQXJlYT17dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0TWFwSW5mbz17dGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mb31cclxuICAgICAgICAgICAgICAgIG11bHRpU291cmNlTWFwRG9tPXttdXRpU291cmNlTWFwRG9tfVxyXG4gICAgICAgICAgICAgIC8+IH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj59XHJcblxyXG4gICAgICAgICAge3RoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQgJiYgPE1hcEZpeGVkTGF5b3V0XHJcbiAgICAgICAgICAgIGppbXVNYXBWaWV3PXtNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkKX1cclxuICAgICAgICAgICAgYXBwTW9kZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZX0gbGF5b3V0cz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubGF5b3V0c31cclxuICAgICAgICAgICAgTGF5b3V0RW50cnk9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMuTGF5b3V0RW50cnl9XHJcbiAgICAgICAgICAgIHdpZGdldE1hbmlmZXN0TmFtZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubWFuaWZlc3QubmFtZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgIDwvTWFwRml4ZWRMYXlvdXQ+fVxyXG5cclxuICAgICAgICAgIHt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkICYmIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQpICYmXHJcbiAgICAgICAgICAgIDxNYXBUb29sTGF5b3V0XHJcbiAgICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfSBpc01vYmlsZT17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnfVxyXG4gICAgICAgICAgICAgIGppbXVNYXBWaWV3PXtNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkKX1cclxuICAgICAgICAgICAgICBhcHBNb2RlPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5hcHBNb2RlfSBsYXlvdXRzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5sYXlvdXRzfSBpbnRsPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pbnRsfVxyXG4gICAgICAgICAgICAgIExheW91dEVudHJ5PXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLkxheW91dEVudHJ5fVxyXG4gICAgICAgICAgICAgIGxheW91dENvbmZpZz17dGhpcy5nZXRMYXlvdXRDb25maWcoKX0gdG9vbENvbmZpZz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLnRvb2xDb25maWcgPyB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcudG9vbENvbmZpZyA6IHt9fVxyXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnN0YXRlLmFjdGl2ZVRvb2xJbmZvfSBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLmhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSB0aGVtZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgd2lkZ2V0TWFuaWZlc3ROYW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tYW5pZmVzdC5uYW1lfSB3aWRnZXRIZWlnaHQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJyA/IG51bGwgOiB0aGlzLnByb3BzLndpZGdldEhlaWdodH1cclxuICAgICAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgIC8+fVxyXG5cclxuICAgICAgICAgIDxKaW11TWFwVmlld0NvbXBvbmVudCB1c2VNYXBXaWRnZXRJZD17dGhpcy51c2VNYXBXaWRnZXRJZHM/LlswXX0gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfSAvPlxyXG4gICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IGhhbmRsZVdpZHRoIG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Qcm92aWRlcj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGpzeCwgY2xhc3NOYW1lcywgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IFVJQ29tcG9uZW50LCB0eXBlIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgdHlwZSBUb29sQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vY29uZmlnJ1xyXG5pbXBvcnQgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiwgdHlwZSBUb29sSnNvbiB9IGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IFRvb2xNb2R1bGVzIGZyb20gJy4uL3Rvb2wtbW9kdWxlcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9vbFNoZWxsUHJvcHMgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXHJcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xyXG4gIHRvb2xOYW1lOiBzdHJpbmdcclxuICBpc01vYmlsZT86IGJvb2xlYW5cclxuICBpc0hpZGRlbj86IGJvb2xlYW5cclxuICBpbnRsPzogSW50bFNoYXBlXHJcbiAgaXNMYXN0RWxlbWVudD86IGJvb2xlYW5cclxuXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nXHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVG9vbFNoZWxsIGV4dGVuZHMgVUlDb21wb25lbnQ8VG9vbFNoZWxsUHJvcHMsIHVua25vd24+IHtcclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3QgVG9vbENsYXNzID0gVG9vbE1vZHVsZXNbdGhpcy5wcm9wcy50b29sTmFtZV1cclxuXHJcbiAgICBsZXQgaXNBdmFpbGFibGUgPSB0cnVlXHJcblxyXG4gICAgaWYgKFRvb2xDbGFzcykge1xyXG4gICAgICBpZiAoVG9vbENsYXNzLmlzQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgaXNBdmFpbGFibGUgPSBUb29sQ2xhc3MuaXNBdmFpbGFibGUodGhpcy5wcm9wcylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpc0F2YWlsYWJsZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXNBdmFpbGFibGUgPSBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0F2YWlsYWJsZSkge1xyXG4gICAgICBjb25zdCBjbGFzc05hbWUgPSBgZXhibWFwLXVpIGV4Ym1hcC11aS10b29sLXNoZWxsIGRpdml0ZW0gZXhibWFwLXVpLXRvb2wtc2hlbGwtJHt0aGlzLnByb3BzLnRvb2xOYW1lfWBcclxuICAgICAgY29uc3Qgc3R5bGVPYmogPSB0aGlzLnByb3BzLmxheW91dENvbmZpZy5lbGVtZW50c1t0aGlzLnByb3BzLnRvb2xOYW1lXS5zdHlsZSB8fCB7fVxyXG5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXModGhpcy5wcm9wcy5jbGFzc05hbWUsIGNsYXNzTmFtZSwgKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMudG9vbE5hbWVdIGFzIFRvb2xKc29uKS5jbGFzc05hbWUsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAnZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50JzogdGhpcy5wcm9wcy5pc0hpZGRlbixcclxuICAgICAgICAgICAgICAncm91bmRlZC1waWxsJzogWydDb21wYXNzJ10uaW5jbHVkZXModGhpcy5wcm9wcy50b29sTmFtZSlcclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICBzdHlsZT17c3R5bGVPYmp9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPFRvb2xDbGFzc1xyXG4gICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH1cclxuICAgICAgICAgICAgcmVmPSdiYXNlVG9vbEluc3RhbmNlJyB0b29sSnNvbj17dGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV19IHRvb2xOYW1lPXt0aGlzLnByb3BzLnRvb2xOYW1lfSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX1cclxuICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfSBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICAgIGludGw9e3RoaXMucHJvcHMuaW50bH0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIDxzcGFuIC8+XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgUmVhY3QsIGNzcywganN4LCBwb2xpc2hlZCwgY2xhc3NOYW1lcywgUmVhY3RET00sIEVycm9yQm91bmRhcnksIFJlYWN0UmVzaXplRGV0ZWN0b3IsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBQb3BwZXIsIE1vYmlsZVBhbmVsTWFuYWdlciwgdHlwZSBNb2RpZmllcnMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBVSUNvbXBvbmVudCwgdHlwZSBVSUNvbXBvbmVudFByb3BzIH0gZnJvbSAnLi91aS1jb21wb25lbnQnXHJcbmltcG9ydCB7IHR5cGUgVG9vbEpzb24gfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBTY3JvbGxDb250YWluZXIgZnJvbSAnLi9zY3JvbGwtY29udGFpbmVyJ1xyXG5pbXBvcnQgUGFuZWxTaGVsbCBmcm9tICcuL3BhbmVsLXNoZWxsJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IHR5cGUgVG9vbFNoZWxsUHJvcHMgfSBmcm9tICcuL2Jhc2UtdG9vbC1zaGVsbCdcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZlVG9vbEluZm8ge1xyXG4gIGFjdGl2ZVRvb2xOYW1lOiBzdHJpbmdcclxuICBhY3RpdmVUb29sVGl0bGU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VUb29sUHJvcHMgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgdG9vbEpzb246IFRvb2xKc29uXHJcbiAgdG9vbE5hbWU6IHN0cmluZ1xyXG4gIGlzTW9iaWxlPzogYm9vbGVhblxyXG4gIGludGw/OiBJbnRsU2hhcGVcclxuXHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEljb25UeXBlIHtcclxuICBpY29uOiBSZWFjdC5Db21wb25lbnRDbGFzczxSZWFjdC5TVkdBdHRyaWJ1dGVzPFNWR0VsZW1lbnQ+PlxyXG4gIG9uSWNvbkNsaWNrPzogKGV2dD86IFJlYWN0Lk1vdXNlRXZlbnQ8YW55PikgPT4gdm9pZFxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0SWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3dpZGdldHMuc3ZnJylcclxuY29uc3QgY2xvc2VJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL2Nsb3NlLTEyLnN2ZycpXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVRvb2w8UCBleHRlbmRzIEJhc2VUb29sUHJvcHMsIFM+IGV4dGVuZHMgVUlDb21wb25lbnQ8UCwgUz4ge1xyXG4gIGljb25Db250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgdG9vbE5hbWU6IHN0cmluZyA9IG51bGxcclxuICBpc0NvbnRhaW5lZFRvTW9iaWxlUGFuZWwgPSBmYWxzZVxyXG4gIC8vIHRoaXMgcGFyYW0gaXMgdXNlZCB0byB1cGRhdGUgcG9wIHBvc2l0aW9uIHdoZW4gcGMgY29udGVudCBoYXMgY2hhbmdlZFxyXG4gIGdlbmVyYXRpb24/OiBudW1iZXIgPSAwXHJcbiAgbW9kaWZpZXJzOiBNb2RpZmllcnNcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICBjb25zdCBtYXBDb250YWluZXIgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuY29udGFpbmVyXHJcbiAgICBpZiAoTW9iaWxlUGFuZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hlY2tEb21Jc0NvbnRhaW5lZChtYXBDb250YWluZXIpKSB7XHJcbiAgICAgIHRoaXMuaXNDb250YWluZWRUb01vYmlsZVBhbmVsID0gdHJ1ZVxyXG4gICAgfVxyXG4gICAgdGhpcy5tb2RpZmllcnMgPSBbe1xyXG4gICAgICBuYW1lOiAnZmxpcCcsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBwYWRkaW5nOiAwXHJcbiAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogJ3ByZXZlbnRPdmVyZmxvdycsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBib3VuZGFyeTogbWFwQ29udGFpbmVyXHJcbiAgICAgIH1cclxuICAgIH1dXHJcblxyXG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcylcclxuICAgIHRoaXMub25Qb3BwZXJUb2dnbGUgPSB0aGlzLm9uUG9wcGVyVG9nZ2xlLmJpbmQodGhpcylcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2Nzc1N0eWxlICgpIHtcclxuICAgIGNvbnN0IGV4dGVuZENzc1N0eWxlID0gdGhpcy5nZXRFeHRlbmRDc3NTdHlsZSgpXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNmU2ZTtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHtleHRlbmRDc3NTdHlsZX1cclxuXHJcbiAgICAgIC8qIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xyXG4gICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLDAsMCwwLjMpO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAuZXhibWFwLXVpLXRvb2wtaWNvbiB7XHJcbiAgICAgICAgZmlsbDogYmxhY2s7XHJcbiAgICAgICAgbGVmdDogOHB4O1xyXG4gICAgICAgIHRvcDogOHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC11aS1leHBhbmQtY29udGVudCB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAyNTBtcyBlYXNlLWluLW91dCwgbWFyZ2luIDI1MG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDEwcHg7XHJcbiAgICAgICAgbWluLXdpZHRoOiAxMHB4O1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogJHtwb2xpc2hlZC5yZW0oMjApfTtcclxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xyXG5cclxuICAgICAgICAuZXhibWFwLXVpLWV4cGFuZC1jb250ZW50LWhlYWRlciB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnBhbmVsLXRpdGxlIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTYpfTtcclxuICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtYm90dG9tIHtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMC4yNXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLXBsYWNlbWVudC1sZWZ0IHtcclxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjI1cmVtICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LXJpZ2h0IHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuMjVyZW0gIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtdG9wIHtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC4yNXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjpiZWZvcmUge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTEwLDExMCwxMTAsMC4zKTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU2ZTZlO1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBhbmltYXRpb246IGxvb3BpbmctcHJvZ3Jlc3NzLWJhci1hbmkgMTUwMG1zIGxpbmVhciBpbmZpbml0ZTtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9ICovXHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBhYnN0cmFjdCBnZXRUaXRsZSAoKTogc3RyaW5nXHJcblxyXG4gIGFic3RyYWN0IGdldEljb24gKCk6IEljb25UeXBlXHJcblxyXG4gIGFic3RyYWN0IGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudFxyXG5cclxuICBnZXRFeHRlbmRDc3NTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gJydcclxuICB9XHJcblxyXG4gIGZvY3VzRGVmYXVsdEVsZW1lbnQgKCkge31cclxuXHJcbiAgb25TaG93UGFuZWwgKCkge31cclxuXHJcbiAgb25DbG9zZVBhbmVsICgpIHt9XHJcblxyXG4gIGRlc3Ryb3kgKCkge31cclxuXHJcbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJ1biB0cnVlIGlmIHRoZSB0b29sIHNob3VsZCBiZSByZW5kZXJlZCBvbiB0aGUgbWFwLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqIGUuZy4gU2NhbGVCYXIgb25seSBzdXBwb3J0cyBtYXAgdmlldywgc28gU2NhbGVCYXJUb29sLmlzQXZhaWxhYmxlKCkgd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIG1hcCBpcyBzY2VuZSB2aWV3LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0F2YWlsYWJsZSAodG9vbFNoZWxsUHJvcHM6IFRvb2xTaGVsbFByb3BzKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHBlclRvZ2dsZSAoZTogYW55KSB7XHJcbiAgICBpZiAoZSkge1xyXG4gICAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicgJiYgZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgdGhpcy5fb25JY29uQ2xpY2soKVxyXG4gICAgICAgIHRoaXMuaWNvbkNvbnRhaW5lci5mb2N1cygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uS2V5RG93biAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+KSB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbz8uYWN0aXZlVG9vbE5hbWUgIT09IHRoaXMudG9vbE5hbWUpIHtcclxuICAgICAgICB0aGlzLl9vbkljb25DbGljaygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5mb2N1c0RlZmF1bHRFbGVtZW50KClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gdG9nZ2xlIHByb3BzLmFjdGl2ZVRvb2xOYW1lXHJcbiAgcHJpdmF0ZSBfb25JY29uQ2xpY2sgKGU/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pIHtcclxuICAgIGNvbnN0IG9uSWNvbkNsaWNrID0gdGhpcy5nZXRJY29uKCkgJiYgdGhpcy5nZXRJY29uKCkub25JY29uQ2xpY2tcclxuICAgIGlmIChvbkljb25DbGljaykge1xyXG4gICAgICBvbkljb25DbGljayhlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5nZXRFeHBhbmRQYW5lbCgpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lID09PSB0aGlzLnRvb2xOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKHtcclxuICAgICAgICAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxyXG4gICAgICAgICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLmdldFRpdGxlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub25TaG93UGFuZWwoKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xyXG4gICAgICAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxyXG4gICAgICAgIGFjdGl2ZVRvb2xUaXRsZTogdGhpcy5nZXRUaXRsZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIHRoaXMub25TaG93UGFuZWwoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBfZ2V0Q29udGVudCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9IGNsYXNzTmFtZT0nZXhibWFwLXVpIGV4Ym1hcC11aS10b29sLXBhbmVsJz5cclxuICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICB7dGhpcy5nZXRFeHBhbmRQYW5lbCgpfVxyXG4gICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJNb2JpbGVUb29sKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUENUb29sKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaW5pdEljb25Db250YWluZXIgKHJlZjogSFRNTEVsZW1lbnQpIHtcclxuICAgIGlmIChyZWYgJiYgIXRoaXMuaWNvbkNvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmljb25Db250YWluZXIgPSByZWZcclxuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IG9uUmVzaXplID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcclxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdlbmVyYXRpb24gPSBoZWlnaHRcclxuICAgIHRoaXMuZm9yY2VVcGRhdGUoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfcmVuZGVyUENUb29sICgpIHtcclxuICAgIGxldCB0b29sSWNvbiA9IHRoaXMuZ2V0SWNvbigpXHJcbiAgICBpZiAoIXRvb2xJY29uKSB7XHJcbiAgICAgIHRvb2xJY29uID0ge1xyXG4gICAgICAgIGljb246IGRlZmF1bHRJY29uLFxyXG4gICAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7fVxyXG4gICAgICB9IGFzIEljb25UeXBlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXhwYW5kUGFuZWwgPSB0aGlzLmdldEV4cGFuZFBhbmVsKClcclxuICAgIGNvbnN0IGFjdGl2ZVRvb2xOYW1lID0gdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lXHJcbiAgICB0aGlzLmdlbmVyYXRpb24gPSB0aGlzLmdlbmVyYXRpb24gKyAxXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aSBleGJtYXAtdWktdG9vbCcgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfSBzdHlsZT17eyB3aWR0aDogJzMycHgnLCBoZWlnaHQ6ICczMnB4JyB9fT5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBzdHlsZT17e319IHJlZj17cmVmID0+IHsgdGhpcy5faW5pdEljb25Db250YWluZXIocmVmKSB9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b24nLCB7XHJcbiAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudG9vbEpzb24uaXNTaG93SWNvblRpdGxlID8gdGhpcy5nZXRUaXRsZSgpIDogJyd9IG9uQ2xpY2s9e2UgPT4geyB0aGlzLl9vbkljb25DbGljayhlKSB9fSBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZSA9PT0gdGhpcy50b29sTmFtZX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH0gb25LZXlEb3duPXt0aGlzLl9vbktleURvd259XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3Rvb2xJY29uLmljb259IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge3RoaXMuaWNvbkNvbnRhaW5lciAmJiAodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpICYmIDxQYW5lbFNoZWxsIG9uRGVzdHJveWVkPXsoKSA9PiB7IHRoaXMub25DbG9zZVBhbmVsKCkgfX0+XHJcbiAgICAgICAgICA8UG9wcGVyXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nZXhibWFwLXVpLXBvcHBlcicgcmVmZXJlbmNlPXt0aGlzLmljb25Db250YWluZXJ9IG9wZW49eyEhKHRoaXMudG9vbE5hbWUgPT09IGFjdGl2ZVRvb2xOYW1lICYmIGV4cGFuZFBhbmVsKX0gcGxhY2VtZW50PXt0aGlzLnByb3BzLnRvb2xKc29uLnBhbmVsUGxhY2VtZW50fVxyXG4gICAgICAgICAgICBtb2RpZmllcnM9e3RoaXMubW9kaWZpZXJzfSB2ZXJzaW9uPXt0aGlzLmdlbmVyYXRpb259IG9mZnNldD17WzAsIDRdfSB0b2dnbGU9e3RoaXMub25Qb3BwZXJUb2dnbGV9IGZvcmNlTGF0ZXN0Rm9jdXNFbGVtZW50cz17dHJ1ZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgICAgICB7KHsgbWFwV2lkZ2V0SGVpZ2h0IH0pID0+ICg8ZGl2IGNzcz17dGhpcy5fY3NzU3R5bGUoKX0gY2xhc3NOYW1lPXt0aGlzLmdldEV4cGFuZFBhbmVsUGxhY2VtZW50Q2xhc3NOYW1lKCl9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aS1leHBhbmQtY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBkLWZsZXggZXhibWFwLXVpLWV4cGFuZC1jb250ZW50LWhlYWRlcic+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLXRpdGxlIHRleHQtdHJ1bmNhdGUnIHN0eWxlPXt7IG1heFdpZHRoOiAnMjEwcHgnIH19IHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VGl0bGUoKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpIH19IHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IHRhYkluZGV4PXswfSByb2xlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Nsb3NlJywgZGVmYXVsdE1lc3NhZ2U6ICdjbG9zZScgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezIwfSBoZWlnaHQ9ezIwfSBpY29uPXtjbG9zZUljb259Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWF4SGVpZ2h0OiBgJHttYXBXaWRnZXRIZWlnaHQgLSA1NX1weGAsIG92ZXJmbG93WTogdGhpcy50b29sTmFtZSAhPT0gJ1NlYXJjaCcgPyAnYXV0bycgOiAnaW5oZXJpdCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kUGFuZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPlxyXG4gICAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj4pfVxyXG4gICAgICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgIDwvUG9wcGVyPlxyXG4gICAgICAgIDwvUGFuZWxTaGVsbD59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVG9nZ2xlTW9iaWxlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3JlbmRlck1vYmlsZVRvb2wgKCkge1xyXG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKClcclxuICAgIGlmICghdG9vbEljb24pIHtcclxuICAgICAgdG9vbEljb24gPSB7XHJcbiAgICAgICAgaWNvbjogZGVmYXVsdEljb24sXHJcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XHJcbiAgICAgIH0gYXMgSWNvblR5cGVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleHBhbmRQYW5lbCA9IHRoaXMuZ2V0RXhwYW5kUGFuZWwoKVxyXG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IG1vYmlsZVBhbmVsQ29udGFpbmVyIH0pID0+IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wnIGNzcz17dGhpcy5fY3NzU3R5bGUoKX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBzdHlsZT17e319IHJlZj17cmVmID0+IHsgdGhpcy5pY29uQ29udGFpbmVyID0gcmVmIH19IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcclxuICAgICAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWxcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfSBvbktleURvd249e3RoaXMuX29uS2V5RG93bn1cclxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50b29sSnNvbi5pc1Nob3dJY29uVGl0bGUgPyB0aGlzLmdldFRpdGxlKCkgOiAnJ30gb25DbGljaz17ZSA9PiB7IHRoaXMuX29uSWNvbkNsaWNrKGUpIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dG9vbEljb24uaWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHt0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbCAmJlxyXG4gICAgICAgICAgICBSZWFjdERPTS5jcmVhdGVQb3J0YWwoPFBhbmVsU2hlbGwgb25EZXN0cm95ZWQ9eygpID0+IHsgdGhpcy5vbkNsb3NlUGFuZWwoKSB9fT48ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9PlxyXG4gICAgICAgICAgICAgIDxTY3JvbGxDb250YWluZXIgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XHJcbiAgICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwYW5kUGFuZWwoKX1cclxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICA8L1Njcm9sbENvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUGFuZWxTaGVsbD4sIG1vYmlsZVBhbmVsQ29udGFpbmVyKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRFeHBhbmRQYW5lbFBsYWNlbWVudENsYXNzTmFtZSAoKSB7XHJcbiAgICBpZiAoIXRoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBgZXhwYW5kLXBsYWNlbWVudC0ke3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQuc3BsaXQoJy0nKVswXX1gXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRlbnQoKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIGNsYXNzTmFtZXMsIFJlYWN0UmVzaXplRGV0ZWN0b3IsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBVSUNvbXBvbmVudCwgdHlwZSBVSUNvbXBvbmVudFByb3BzIH0gZnJvbSAnLi91aS1jb21wb25lbnQnXHJcbmltcG9ydCB7IHR5cGUgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgdHlwZSBMYXlvdXRKc29uLCB0eXBlIEdyb3VwSnNvbiwgdHlwZSBIaWRkZW5FbGVtZW50TmFtZXMsIHR5cGUgVG9vbEpzb24gfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBCYXNlVG9vbFNoZWxsIGZyb20gJy4vYmFzZS10b29sLXNoZWxsJ1xyXG5pbXBvcnQgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi9iYXNlLXRvb2wnXHJcbmltcG9ydCBUb29sTW9kdWxlcyBmcm9tICcuLi90b29sLW1vZHVsZXMnXHJcbmltcG9ydCB7IE1vYmlsZVBhbmVsIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5cclxuaW50ZXJmYWNlIEdyb3VwUHJvcHMgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXHJcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xyXG4gIGdyb3VwTmFtZTogc3RyaW5nXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmdcclxuICBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllc1xyXG4gIGlzTW9iaWxlPzogYm9vbGVhblxyXG4gIGlzTWFpbkdyb3VwPzogYm9vbGVhblxyXG4gIC8vIGNoZWNrUmVzcG9uc2l2ZSgpIHdpbGwgY2hlY2sgaGVpZ2h0IGFuZCB1c2UgcHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoKSB0byBzZXQgZWxlbWVudCBuYW1lcyB0aGF0IG5lZWQgdG8gaGlkZVxyXG4gIGhpZGRlbkVsZW1lbnROYW1lcz86IEhpZGRlbkVsZW1lbnROYW1lc1xyXG4gIC8vIHRydWUgbWVhbnMgd2Ugc2hvdWxkIGhpZGUgdGhlIEdyb3VwIGRpdiB3aXRoIGNsYXNzIC5leGJtYXAtdWktaGlkZGVuLWVsZW1lbnQgYmVjYXVzZSBjaGVja1Jlc3BvbnNpdmUoKSBtZXRob2QgdGhpbmsgdGhlIGhlaWdodCBpcyBzbWFsbC5cclxuICBpc0hpZGRlbj86IGJvb2xlYW5cclxuICBpc1RodW1iTWFwPzogYm9vbGVhblxyXG4gIGludGw/OiBJbnRsU2hhcGVcclxuICBpc1JUTDogYm9vbGVhblxyXG5cclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgb25TZXRIaWRkZW5FbGVtZW50TmFtZXM/OiAoaGlkZGVuRWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXMpID0+IHZvaWRcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIEdyb3VwU3RhdGVzIHtcclxuICBib3R0b21QYW5lbEhlaWdodD86IG51bWJlclxyXG4gIHdpZGdldFdpZHRoPzogbnVtYmVyXHJcbiAgd2lkZ2V0SGVpZ2h0PzogbnVtYmVyXHJcbiAgaXNUaHVtYk1hcD86IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JvdXAgZXh0ZW5kcyBVSUNvbXBvbmVudDxHcm91cFByb3BzLCBHcm91cFN0YXRlcz4ge1xyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIGNvbnN0IGdyb3VwSnNvbiA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMuZ3JvdXBOYW1lXSBhcyBHcm91cEpzb25cclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGdyb3VwSnNvbi5kaXJlY3Rpb25cclxuICAgIGNvbnN0IGlzUlRMID0gdGhpcy5wcm9wcy5pc1JUTFxyXG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJ1xyXG5cclxuICAgIGxldCBmbGV4RmxvdyA9ICcnXHJcblxyXG4gICAgaWYgKGlzVmVydGljYWwpIHtcclxuICAgICAgZmxleEZsb3cgPSAnY29sdW1uJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGlzUlRMKSB7XHJcbiAgICAgICAgZmxleEZsb3cgPSAncm93LXJldmVyc2UnXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmxleEZsb3cgPSAncm93J1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGFsaWduSXRlbXMgPSAnZmxleC1zdGFydCdcclxuXHJcbiAgICBpZiAoaXNWZXJ0aWNhbCkge1xyXG4gICAgICBpZiAoZ3JvdXBKc29uLmlzVmVydGljYWxScmxBbGlnbkl0ZW1zU3RhcnQpIHtcclxuICAgICAgICBpZiAoaXNSVEwpIHtcclxuICAgICAgICAgIGFsaWduSXRlbXMgPSAnZmxleC1lbmQnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFsaWduSXRlbXMgPSAnZmxleC1zdGFydCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChncm91cEpzb24uaXNWZXJ0aWNhbFJybEFsaWduSXRlbXNFbmQpIHtcclxuICAgICAgICBpZiAoaXNSVEwpIHtcclxuICAgICAgICAgIGFsaWduSXRlbXMgPSAnZmxleC1zdGFydCdcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWxpZ25JdGVtcyA9ICdmbGV4LWVuZCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3NzYFxyXG5cclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1mbG93OiAke2ZsZXhGbG93fTtcclxuICAgICAgYWxpZ24taXRlbXM6ICR7YWxpZ25JdGVtc307XHJcblxyXG4gICAgICAuZXhibWFwLXVpLWdyb3VwLWV4cGFuZC1pY29uIHtcclxuICAgICAgICBmaWxsOiBibGFjaztcclxuICAgICAgICBsZWZ0OiA4cHg7XHJcbiAgICAgICAgdG9wOiA4cHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbCB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjMpIDBweCAwcHggMnB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwcHggMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC10cmFuc2l0aW9uIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC4zcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1tb2JpbGUtcGFuZWwtdG91Y2gtY29udGFpbmVyIHtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGhlaWdodDogMzFweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1tb2JpbGUtcGFuZWwtYmFyIHtcclxuICAgICAgICB3aWR0aDogMzZweDtcclxuICAgICAgICBoZWlnaHQ6IDRweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDM0MzQzO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgICAgfVxyXG4gICAgICBgXHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiAwLFxyXG4gICAgICBpc1RodW1iTWFwOiAhIXRoaXMucHJvcHMuaXNNb2JpbGVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKClcclxuICB9XHJcblxyXG4gIGNoZWNrSXNIaWRkZW5FbGVtZW50ID0gKGVsZW1lbnROYW1lKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXMpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuRWxlbWVudE5hbWVzLmluY2x1ZGVzKGVsZW1lbnROYW1lKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGlkZSBzb21lIHRvb2xzIGlmIHdpZGdldCBoZWdpdGggaXMgdG9vIHNtYWxsLlxyXG4gICAqIFRoaXMgbWV0aG9kIG9ubHkgaGlkZSBjaGlsZCBlbGVtZW50IG5hbWVzIGlmIGN1cnJlbnQgZ3JvdXAgaXMgbWFpbiBncm91cCBhbmQgaW4gbW9iaWxlIHNpemUuXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBjaGVja1Jlc3BvbnNpdmUgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnByb3BzLmlzTWFpbkdyb3VwIHx8ICF0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoW10pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneSA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneVxyXG4gICAgY29uc3QgYWJvdmVIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodFxyXG5cclxuICAgIC8vIHNlZSBpc3N1ZSAjMjg2MiBmb3IgbW9yZSBkZXRhaWxzXHJcbiAgICBsZXQgaGlkZGVuRWxlbWVudE5hbWVzOiBzdHJpbmdbXSA9IFtdXHJcblxyXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID49IDQ2NSkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA+PSA0MDAgJiYgYWJvdmVIZWlnaHQgPCA0NjUpIHtcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzID0gbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5Py5zdGFnZTEgfHwgW11cclxuICAgIH0gZWxzZSBpZiAoYWJvdmVIZWlnaHQgPj0gMzIwICYmIGFib3ZlSGVpZ2h0IDwgNDAwKSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneT8uc3RhZ2UyIHx8IFtdXHJcbiAgICB9IGVsc2UgaWYgKGFib3ZlSGVpZ2h0ID49IDI1MCAmJiBhYm92ZUhlaWdodCA8IDMyMCkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlMyB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA+PSAxNjAgJiYgYWJvdmVIZWlnaHQgPCAyNTApIHtcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzID0gbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5Py5zdGFnZTQgfHwgW11cclxuICAgIH0gZWxzZSBpZiAoYWJvdmVIZWlnaHQgPj0gNTQgJiYgYWJvdmVIZWlnaHQgPCAxNjApIHtcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzID0gbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5Py5zdGFnZTUgfHwgW11cclxuICAgIH0gZWxzZSBpZiAoYWJvdmVIZWlnaHQgPCA1NCkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlNiB8fCBbXVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoaGlkZGVuRWxlbWVudE5hbWVzKVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICB3aWRnZXRXaWR0aDogd2lkdGgsXHJcbiAgICAgIHdpZGdldEhlaWdodDogaGVpZ2h0XHJcbiAgICAgIC8vIGlzVGh1bWJNYXA6IGZhbHNlXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXR1cm5OdWxsTm9kZSA9IChrZXk/KSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gPHNwYW4ga2V5PXtrZXl9IC8+XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0xhc3RFbGVtZW50ID0gKHBhcmVudEdyb3VwSnNvbjogR3JvdXBKc29uLCB0b29sSnNvbjogVG9vbEpzb24pID0+IHtcclxuICAgIGNvbnN0IHRvb2xOYW1lID0gdG9vbEpzb24udG9vbE5hbWVcclxuICAgIGNvbnN0IGxheW91dEpzb24gPSB0aGlzLnByb3BzLmxheW91dENvbmZpZ1xyXG4gICAgY29uc3QgY2hpbGRyZW4gPSBsYXlvdXRKc29uLmxheW91dFtwYXJlbnRHcm91cEpzb24uZ3JvdXBOYW1lXS5jaGlsZHJlblxyXG4gICAgY29uc3QgaW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKHRvb2xOYW1lKVxyXG4gICAgaWYgKGluZGV4ID09PSBjaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluZGV4IDwgY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xyXG4gICAgICBsZXQgaXNMYXN0RWxlbWVudDogYm9vbGVhbiA9IHRydWVcclxuICAgICAgZm9yIChsZXQgaSA9IChpbmRleCArIDEpOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50TmFtZSA9IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNbY2hpbGRyZW5baV1dLnR5cGUgPT09ICdHUk9VUCcpIHtcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfSBlbHNlIGlmICgoIVRvb2xNb2R1bGVzW2VsZW1lbnROYW1lXS5nZXRJc05lZWRTZXR0aW5nKCkgfHwgKHRoaXMucHJvcHMudG9vbENvbmZpZyAmJiB0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7ZWxlbWVudE5hbWV9YF0pIHx8XHJcbiAgICAgICAgICAobGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzICYmIGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcy5pbmNsdWRlcyhlbGVtZW50TmFtZSkpKSkge1xyXG4gICAgICAgICAgaXNMYXN0RWxlbWVudCA9IGZhbHNlXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNMYXN0RWxlbWVudFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVG9nZ2xlTW9iaWxlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICB9XHJcblxyXG4gIGhhbmRsZVBhbmVsSGVpZ2h0Q2hhbmdlID0gKHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0KSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYm90dG9tUGFuZWxIZWlnaHQ6IHBhbmVsSGVpZ2h0IH0sICgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldE1vYmlsZVBhbmVsSW5Db250ZXh0ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgbW9iaWxlUGFuZWxDb250YWluZXIsIG1hcFdpZGdldElkIH0pID0+IChcclxuICAgICAgICAgIDxNb2JpbGVQYW5lbFxyXG4gICAgICAgICAgICBtYXBXaWRnZXRJZD17bWFwV2lkZ2V0SWR9IHRpdGxlPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbFRpdGxlfVxyXG4gICAgICAgICAgICBvcGVuPXshIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IG9uQ2xvc2U9eygpID0+IHsgdGhpcy5oYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCgpIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgcmVmPXsoY29udGFpbmVyKSA9PiB7IGlmIChtb2JpbGVQYW5lbENvbnRhaW5lciAmJiBjb250YWluZXIpIHsgY29udGFpbmVyLmFwcGVuZENoaWxkKG1vYmlsZVBhbmVsQ29udGFpbmVyKSB9IH19IC8+XHJcbiAgICAgICAgICA8L01vYmlsZVBhbmVsPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgZ2V0R3JvdXBDb250ZW50ID0gKGxheW91dEpzb246IExheW91dEpzb24pID0+IHtcclxuICAgIGlmICghbGF5b3V0SnNvbikge1xyXG4gICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZSgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGxheW91dEpzb24ubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXSAmJiBsYXlvdXRKc29uLmxheW91dFt0aGlzLnByb3BzLmdyb3VwTmFtZV0uY2hpbGRyZW5cclxuICAgICAgaWYgKHRoaXMuY2hlY2tJc1Nob3dHcm91cChsYXlvdXRKc29uLCBjaGlsZHJlbikpIHtcclxuICAgICAgICBjb25zdCBncm91cENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoXHJcbiAgICAgICAgICBgZXhibWFwLXVpIGV4Ym1hcC11aS1ncm91cCBleGJtYXAtdWktZ3JvdXAtJHt0aGlzLnByb3BzLmdyb3VwTmFtZX1gLFxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5jbGFzc05hbWUsXHJcbiAgICAgICAgICB7ICdleGJtYXAtdWktaGlkZGVuLWVsZW1lbnQnOiB0aGlzLnByb3BzLmlzSGlkZGVuIH1cclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGNvbnN0IHN0eWxlT2JqID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy5ncm91cE5hbWVdLnN0eWxlIHx8IHt9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGlkPXsodGhpcy5wcm9wcy5pc01haW5Hcm91cCA/IHRoaXMucHJvcHMubWFwV2lkZ2V0SWQgOiB1bmRlZmluZWQpfVxyXG4gICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXtncm91cENsYXNzTmFtZX0gc3R5bGU9e3N0eWxlT2JqfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7Y2hpbGRyZW4ubWFwKChrZXksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKGluZGV4KVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlID09PSAnR1JPVVAnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8R3JvdXBcclxuICAgICAgICAgICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0gaXNIaWRkZW49e3RoaXMuY2hlY2tJc0hpZGRlbkVsZW1lbnQoa2V5KX0gY2xhc3NOYW1lPXsobGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIEdyb3VwSnNvbikuY2xhc3NOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0uc3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH0gbGF5b3V0Q29uZmlnPXtsYXlvdXRKc29ufSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLnRvb2xDb25maWd9IGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XHJcbiAgICAgICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGdyb3VwTmFtZT17a2V5fSBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb31cclxuICAgICAgICAgICAgICAgICAgICBoaWRkZW5FbGVtZW50TmFtZXM9e3RoaXMucHJvcHMuaGlkZGVuRWxlbWVudE5hbWVzfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUaHVtYk1hcD17dGhpcy5wcm9wcy5pc01haW5Hcm91cCA/IHRoaXMuc3RhdGUuaXNUaHVtYk1hcCA6IHRoaXMucHJvcHMuaXNUaHVtYk1hcH1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNSVEw9e3RoaXMucHJvcHMuaXNSVEx9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0udHlwZSA9PT0gJ1RPT0wnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pLnRvb2xOYW1lXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3VHlwZSA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnR5cGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIDJEIE1hcFZpZXcuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRvb2xOYW1lID09PSAnTmF2aWdhdGlvbicgJiYgdmlld1R5cGUgPT09ICcyZCcpIHx8ICh0b29sTmFtZSA9PT0gJ1NjYWxlQmFyJyAmJiB2aWV3VHlwZSA9PT0gJzNkJykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFUb29sTW9kdWxlc1trZXldLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtrZXl9YF0pIHx8IChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluY2x1ZGVzKGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEJhc2VUb29sU2hlbGxcclxuICAgICAgICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW49e3RoaXMuY2hlY2tJc0hpZGRlbkVsZW1lbnQoa2V5KX0ga2V5PXtpbmRleH0gbGF5b3V0Q29uZmlnPXtsYXlvdXRKc29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ31cclxuICAgICAgICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSB0b29sTmFtZT17a2V5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTGFzdEVsZW1lbnQ9e3RoaXMuY2hlY2tJc0xhc3RFbGVtZW50KGxheW91dEpzb24uZWxlbWVudHNbdGhpcy5wcm9wcy5ncm91cE5hbWVdIGFzIEdyb3VwSnNvbiwgbGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIFRvb2xKc29uKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+fVxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiB0aGlzLnByb3BzLmlzTW9iaWxlICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSAhPT0gJ1NlbGVjdCcgJiYgdGhpcy5nZXRNb2JpbGVQYW5lbEluQ29udGV4dCgpfVxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWkgdy0xMDAnXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxyXG4gICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgdG91Y2hBY3Rpb246ICdub25lJyxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgISh0aGlzLnN0YXRlLmlzVGh1bWJNYXAgfHwgdGhpcy5wcm9wcy5pc1RodW1iTWFwKSA/ICdibG9jaycgOiAnbm9uZSdcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS1ib3R0b20tcGFuZWwgZXhibWFwLXVpIHctMTAwIGV4cGFuZC1tb2JpbGUtcGFuZWxgfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgb3ZlcmZsb3c6ICdoaWRkZW4nLCBwb2ludGVyRXZlbnRzOiAnYXV0bycsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCB0b3VjaEFjdGlvbjogJ25vbmUnIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLmhhbmRsZVBhbmVsSGVpZ2h0Q2hhbmdlfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrSXNTaG93R3JvdXAgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbiwgY2hpbGRyZW46IHN0cmluZ1tdKSA9PiB7XHJcbiAgICBpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHRvb2xOYW1lcyA9IFtdXHJcbiAgICAgIHRoaXMuZmluZEFsbFRvb2xOYW1lcyhsYXlvdXRKc29uLCBjaGlsZHJlbiwgdG9vbE5hbWVzKVxyXG4gICAgICBsZXQgaXNTaG93R3JvdXAgPSBmYWxzZVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2xOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7dG9vbE5hbWVzW2ldfWBdIHx8ICFUb29sTW9kdWxlc1t0b29sTmFtZXNbaV1dLmdldElzTmVlZFNldHRpbmcoKSB8fFxyXG4gICAgICAgICAgKGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcyAmJiBsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMuaW5jbHVkZXModG9vbE5hbWVzW2ldKSkpIHtcclxuICAgICAgICAgIGlzU2hvd0dyb3VwID0gdHJ1ZVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGlzU2hvd0dyb3VwXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaW5kQWxsVG9vbE5hbWVzID0gKGxheW91dEpzb246IExheW91dEpzb24sIGNoaWxkcmVuOiBzdHJpbmdbXSwgdG9vbE5hbWVzOiBzdHJpbmdbXSkgPT4ge1xyXG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkTmFtZSA9IGNoaWxkcmVuW2ldXHJcbiAgICAgIGNvbnN0IGVsZW1lbnRJbmZvID0gbGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZE5hbWVdXHJcblxyXG4gICAgICBpZiAoZWxlbWVudEluZm8udHlwZSA9PT0gJ0dST1VQJykge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IGVsZW1lbnRJbmZvLmdyb3VwTmFtZVxyXG4gICAgICAgIHRoaXMuZmluZEFsbFRvb2xOYW1lcyhsYXlvdXRKc29uLCBsYXlvdXRKc29uLmxheW91dFtncm91cE5hbWVdICYmIGxheW91dEpzb24ubGF5b3V0W2dyb3VwTmFtZV0uY2hpbGRyZW4sIHRvb2xOYW1lcylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b29sTmFtZXMucHVzaChjaGlsZHJlbltpXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZy5jYW5TZWxlY3QpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAgfX0+XHJcbiAgICAgICAgICA8ZGl2IGlkPXtgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS13aXRoLXNlbGVjdC1jb250YWluZXJgfSBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwIH19PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgICAgIHt0aGlzLmdldEdyb3VwQ29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZyl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEdyb3VwQ29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZylcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIG9uRGVzdHJveWVkPzogKCkgPT4gdm9pZFxyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmVsU2hlbGwgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCB1bmtub3duPiB7XHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub25EZXN0cm95ZWQpIHtcclxuICAgICAgdGhpcy5wcm9wcy5vbkRlc3Ryb3llZCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgPC8+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgU2Nyb2xsQ29udGFpbmVyUHJvcHMge1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllc1xyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbENvbnRhaW5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2Nyb2xsQ29udGFpbmVyUHJvcHMsIHVua25vd24+IHtcclxuICBtb3ZlWSA9IDBcclxuICBzdGFydFkgPSAwXHJcbiAgaXNSZWdpc3RlZCA9IGZhbHNlXHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJUb3VjaEV2ZW50ID0gKHJlZjogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGlmIChyZWYgJiYgIXRoaXMuaXNSZWdpc3RlZCkge1xyXG4gICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMubW92ZVkgPSAwXHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSB0b3VjaC5jbGllbnRZXHJcbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuXHJcbiAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cclxuICAgICAgICB0aGlzLm1vdmVZID0gKHRvdWNoLmNsaWVudFkgLSB0aGlzLnN0YXJ0WSkgKiAtMVxyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WVxyXG5cclxuICAgICAgICByZWYuc2Nyb2xsVG9wID0gcmVmLnNjcm9sbFRvcCArIHRoaXMubW92ZVlcclxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxyXG5cclxuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5tb3ZlWSA9IDBcclxuICAgICAgICB0aGlzLnN0YXJ0WSA9IDBcclxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxyXG5cclxuICAgICAgdGhpcy5pc1JlZ2lzdGVkID0gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XHJcbiAgICAgICAgcmVmPXtyZWYgPT4ge1xyXG4gICAgICAgICAgdGhpcy5yZWdpc3RlclRvdWNoRXZlbnQocmVmKVxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCB0eXBlIElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVUlDb21wb25lbnRQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVJQ29tcG9uZW50PFAgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzLCBTPiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UCwgUz4ge1xyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIEFwcE1vZGUsIHR5cGUgU2l6ZU1vZGVMYXlvdXRKc29uLCB0eXBlIEludGxTaGFwZSwgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBnZXRBcHBTdG9yZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBUb29sQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnJ1xyXG5pbXBvcnQgeyB0eXBlIExheW91dEpzb24sIHR5cGUgR3JvdXBKc29uLCB0eXBlIExheW91dEl0ZW1Kc29uLCB0eXBlIEhpZGRlbkVsZW1lbnROYW1lcyB9IGZyb20gJy4vY29uZmlnJ1xyXG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9iYXNlL2dyb3VwJ1xyXG5pbXBvcnQgdHlwZSB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXHJcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xyXG5cclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBpc01vYmlsZTogYm9vbGVhblxyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcblxyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBsYXlvdXRzOiB7IFtuYW1lOiBzdHJpbmddOiBTaXplTW9kZUxheW91dEpzb24gfVxyXG4gIExheW91dEVudHJ5PzogYW55XHJcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmdcclxuXHJcbiAgd2lkZ2V0SGVpZ2h0PzogbnVtYmVyXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBMYXlvdXRTdGF0ZSB7XHJcbiAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbD86IEpTWC5FbGVtZW50XHJcbiAgaGlkZGVuRWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXNcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgeyBBY3RpdmVUb29sSW5mbyB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBUb29sTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRQcm9wcywgTGF5b3V0U3RhdGU+IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHRvb2xzQ29udGVudEluTW9iaWxlRXhwYW5kUGFuZWw6IG51bGwsXHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lczogW11cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIHotaW5kZXg6IDg7XHJcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG5cclxuICAgICAgLmV4cGFuZC1wYW5lbC10cmFuc2l0aW9uIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIHJpZ2h0IDAuM3M7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zY2FsZS1hdHRyaWJ1dGlvbi14eS1ncm91cCB7XHJcbiAgICAgICAgPiBkaXY6Zmlyc3Qtb2YtdHlwZTpudGgtbGFzdC1vZi10eXBlKDEpIHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50IHtcclxuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCB7XHJcbiAgICAgICAgbWF4LWhlaWdodDogJHt0aGlzLmdldE1heEhlaWdodEZvclBjRXhwYW5kKHRoaXMucHJvcHMud2lkZ2V0SGVpZ2h0KX1weDtcclxuICAgICAgICBvdmVyZmxvdzogYXV0b1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG4gIGdldE1heEhlaWdodEZvclBjRXhwYW5kID0gKHdpZGdldEhlaWdodDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGlmICghd2lkZ2V0SGVpZ2h0KSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAod2lkZ2V0SGVpZ2h0IDwgNjUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdEhlaWdodCA9IHdpZGdldEhlaWdodCAtIDY1XHJcbiAgICAgICAgaWYgKHJlc3VsdEhlaWdodCA8IDMwMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdEhlaWdodFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gMzAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kU2V0SGlkZGVuRWxlbWVudE5hbWVzID0gKGVsZW1lbnROYW1lczogSGlkZGVuRWxlbWVudE5hbWVzKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzOiBlbGVtZW50TmFtZXNcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRMYXlvdXRDb250ZW50IChsYXlvdXRKc29uOiBMYXlvdXRKc29uKSB7XHJcbiAgICBpZiAoIWxheW91dEpzb24gfHwgIXRoaXMucHJvcHMudG9vbENvbmZpZykge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpIGVzcmktdWktaW5uZXItY29udGFpbmVyIG1hcC10b29sLWxheW91dCcgY3NzPXt0aGlzLmdldFN0eWxlKCl9PlxyXG4gICAgICAgICAge09iamVjdC5rZXlzKGxheW91dEpzb24ubGF5b3V0KS5tYXAoKGtleSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudEl0ZW0gPSBsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uXHJcbiAgICAgICAgICAgIGNvbnN0IGxheW91dEl0ZW06IExheW91dEl0ZW1Kc29uID0gbGF5b3V0SnNvbi5sYXlvdXRba2V5XVxyXG5cclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50SXRlbSB8fCBlbGVtZW50SXRlbS50eXBlICE9PSAnR1JPVVAnIHx8ICFsYXlvdXRJdGVtLmlzTWFpbkdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNSVEwgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29udGV4dC5pc1JUTFxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8R3JvdXBcclxuICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSBjbGFzc05hbWU9e2VsZW1lbnRJdGVtLmNsYXNzTmFtZX0gc3R5bGU9e2VsZW1lbnRJdGVtLnN0eWxlfVxyXG4gICAgICAgICAgICAgICAgaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTWFpbkdyb3VwXHJcbiAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ30gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99XHJcbiAgICAgICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gZ3JvdXBOYW1lPXtrZXl9IG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX1cclxuICAgICAgICAgICAgICAgIGhpZGRlbkVsZW1lbnROYW1lcz17bGF5b3V0SnNvbi5tb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3kgJiYgdGhpcy5zdGF0ZS5oaWRkZW5FbGVtZW50TmFtZXN9IGludGw9e3RoaXMucHJvcHMuaW50bH1cclxuICAgICAgICAgICAgICAgIG9uU2V0SGlkZGVuRWxlbWVudE5hbWVzPXt0aGlzLmhhbmRTZXRIaWRkZW5FbGVtZW50TmFtZXN9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxyXG4gICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgaXNSVEw9e2lzUlRMfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogTGF5b3V0UHJvcHMpIHtcclxuICAgIGlmIChwcmV2UHJvcHMuYXBwTW9kZSAhPT0gdGhpcy5wcm9wcy5hcHBNb2RlICYmIHRoaXMucHJvcHMuYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ24pIHtcclxuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0TGF5b3V0Q29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZylcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IFJlYWN0LCBqc3gsIHR5cGUgQXBwTW9kZSwgdHlwZSBTaXplTW9kZUxheW91dEpzb24sIEltbXV0YWJsZSwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBMYXlvdXRFbnRyeSB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcclxuaW1wb3J0IHsgY2hlY2tJc0xpdmUgfSBmcm9tICcuLi91dGlscydcclxuXHJcbmludGVyZmFjZSBMYXlvdXRQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc/OiBKaW11TWFwVmlld1xyXG5cclxuICBhcHBNb2RlOiBBcHBNb2RlXHJcbiAgbGF5b3V0czogeyBbbmFtZTogc3RyaW5nXTogU2l6ZU1vZGVMYXlvdXRKc29uIH1cclxuICBMYXlvdXRFbnRyeT86IGFueVxyXG4gIHdpZGdldE1hbmlmZXN0TmFtZTogc3RyaW5nXHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcclxufVxyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbmludGVyZmFjZSBMYXlvdXRTdGF0ZSB7fVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRQcm9wcywgTGF5b3V0U3RhdGU+IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7fVxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwRml4ZWRMYXlvdXQgPSAoKSA9PiB7XHJcbiAgICAvLyAjMTE5NywgIzI5NjBcclxuICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xyXG4gICAgICBjb25zdCBMYXlvdXRFbnRyeSA9IHRoaXMucHJvcHMuTGF5b3V0RW50cnlcclxuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5wcm9wcy5sYXlvdXRzICYmIHRoaXMucHJvcHMubGF5b3V0cy5NYXBGaXhlZExheW91dFxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxMYXlvdXRFbnRyeVxyXG4gICAgICAgICAgbGF5b3V0cz17bGF5b3V0IHx8IG51bGx9IGlzSW5XaWRnZXQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCBtYXAtZml4LWxheW91dCcsXHJcbiAgICAgICAgICAgIHsgJ3dpZGdldC1tYXAtdXNlbWFzayc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpLCAnbWFwLWlzLWxpdmUtbW9kZSc6IGNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9XHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5wcm9wcy5sYXlvdXRzICYmIHRoaXMucHJvcHMubGF5b3V0cy5NYXBGaXhlZExheW91dFxyXG4gICAgICByZXR1cm4gPExheW91dEVudHJ5IGxheW91dHM9e2xheW91dCA/IEltbXV0YWJsZShsYXlvdXQpIDogbnVsbH0gY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtYXAtaXMtbGl2ZS1tb2RlIG1hcC1maXgtbGF5b3V0JyAvPlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldE1hcEZpeGVkTGF5b3V0KClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdHlwZSBMYXlvdXRKc29uIH0gZnJvbSAnLi9jb25maWcnXHJcblxyXG5jb25zdCBtb2JpbGVMYXlvdXRKc29uOiBMYXlvdXRKc29uID0ge1xyXG4gIGVsZW1lbnRzOiB7XHJcbiAgICBtYWluR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWFpbkdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggZmxleC1jb2x1bW4nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzBweCcsXHJcbiAgICAgICAgbGVmdDogJzBweCcsXHJcbiAgICAgICAgYm90dG9tOiAnMHB4JyxcclxuICAgICAgICByaWdodDogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRvcEdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ3RvcEdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCB3LTEwMCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBhZGRpbmc6ICcxMHB4IDEwcHggMCAxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWlkR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZmxleC1ncm93LTEgZC1mbGV4IHctMTAwIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYm90dG9tR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IHctMTAwIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbidcclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtbGVmdC10b3AnOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwLWxlZnQtdG9wJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGxlZnQ6ICcwcHgnLFxyXG4gICAgICAgIHRvcDogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1sZWZ0LWJvdHRvbSc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtbGVmdC1ib3R0b20nLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBmbGV4LWNvbHVtbicsXHJcbiAgICAgIGlzVmVydGljYWxScmxBbGlnbkl0ZW1zU3RhcnQ6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgbGVmdDogJzBweCcsXHJcbiAgICAgICAgYm90dG9tOiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6ICcwcHgnLFxyXG4gICAgICAgIHJpZ2h0OiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgYm90dG9tOiAnMTBweCcsXHJcbiAgICAgICAgcmlnaHQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VhcmNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAnZmxleC1ncm93LTEnXHJcbiAgICB9LFxyXG4gICAgRnVsbFNjcmVlbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnRnVsbFNjcmVlbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkxlZnQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTG9jYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgQ2xlYXJBY3Rpb25EYXRhOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDbGVhckFjdGlvbkRhdGEnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIENvbXBhc3M6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NvbXBhc3MnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAnbWItMCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luTGVmdDogJzEwcHgnLFxyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNYXBTd2l0Y2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luTGVmdDogJzEwcHgnLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBab29tOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBIb21lOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEV4dGVudE5hdmlnYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdFeHRlbnROYXZpZ2F0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luTGVmdDogJzEwcHgnLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMYXllcnM6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xheWVycycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBCYXNlTWFwOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdCYXNlTWFwJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNlbGVjdDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNlbGVjdFN0YXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHdpZHRoOiAnMTAwJSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1lYXN1cmU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01lYXN1cmUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0JyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2NhbGVCYXI6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH1cclxuICB9LFxyXG4gIGxheW91dDoge1xyXG4gICAgbWFpbkdyb3VwOiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWyd0b3BHcm91cCcsICdtaWRHcm91cCcsICdib3R0b21Hcm91cCddXHJcbiAgICB9LFxyXG4gICAgdG9wR3JvdXA6IHtcclxuICAgICAgY2hpbGRyZW46IFsnU2VhcmNoJywgJ0Z1bGxTY3JlZW4nXVxyXG4gICAgfSxcclxuICAgIG1pZEdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ21pZEdyb3VwLWxlZnQtdG9wJywgJ21pZEdyb3VwLWxlZnQtYm90dG9tJywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJ11cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtbGVmdC10b3AnOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ0NvbXBhc3MnXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1sZWZ0LWJvdHRvbSc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnRXh0ZW50TmF2aWdhdGUnLCAnTWFwU3dpdGNoJywgJ1NjYWxlQmFyJ11cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ0xheWVycycsICdCYXNlTWFwJywgJ01lYXN1cmUnLCAnU2VsZWN0J11cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1pvb20nLCAnSG9tZScsICdMb2NhdGUnLCAnQ2xlYXJBY3Rpb25EYXRhJ11cclxuICAgIH0sXHJcbiAgICBib3R0b21Hcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydTZWxlY3RTdGF0ZSddXHJcbiAgICB9XHJcbiAgfSxcclxuICBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k6IHtcclxuICAgIC8vIGhlaWdodDogNDAwLTQ2NVxyXG4gICAgc3RhZ2UxOiBbJ01lYXN1cmUnLCAnTG9jYXRlJ10sXHJcblxyXG4gICAgLy8gaGVpZ2h0OiAzMjAtNDAwXHJcbiAgICBzdGFnZTI6IFsnTWVhc3VyZScsICdTZWxlY3QnLCAnTG9jYXRlJywgJ2JvdHRvbUdyb3VwJ10sXHJcblxyXG4gICAgLy8gaGVpZ2h0OiAyNTAtMzIwXHJcbiAgICBzdGFnZTM6IFsnRXh0ZW50TmF2aWdhdGUnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnTG9jYXRlJywgJ2JvdHRvbUdyb3VwJ10sXHJcblxyXG4gICAgLy8gaGVpZ2h0OiAxNjAtMjUwXHJcbiAgICBzdGFnZTQ6IFsnTWFwU3dpdGNoJywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJywgJ0hvbWUnLCAnTG9jYXRlJywgJ0NsZWFyQWN0aW9uRGF0YScsICdib3R0b21Hcm91cCddLFxyXG5cclxuICAgIC8vIGhlaWdodDogNTQtMTYwXHJcbiAgICBzdGFnZTU6IFsnbWlkR3JvdXAnLCAnYm90dG9tR3JvdXAnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDAtNTRcclxuICAgIHN0YWdlNjogWyd0b3BHcm91cCcsICdtaWRHcm91cCcsICdib3R0b21Hcm91cCddXHJcbiAgfSxcclxuICBsb2NrVG9vbE5hbWVzOiBbXVxyXG59XHJcblxyXG5jb25zdCBtb2JpbGVMYXlvdXRKc29uczogTGF5b3V0SnNvbltdID0gW21vYmlsZUxheW91dEpzb25dXHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb2JpbGVMYXlvdXRKc29uc1xyXG4iLCJpbXBvcnQgeyB0eXBlIExheW91dEpzb24gfSBmcm9tICcuL2NvbmZpZydcclxuXHJcbmNvbnN0IGxheW91dEpzb24xOiBMYXlvdXRKc29uID0ge1xyXG4gIGVsZW1lbnRzOiB7XHJcbiAgICBsZWZ0VG9wQ29udGFpbmVyOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2xlZnRUb3BDb250YWluZXInLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6ICcxNXB4JyxcclxuICAgICAgICBsZWZ0OiAnMTVweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG5hdmlnYXRvcjoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICduYXZpZ2F0b3InLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnaW50ZXJhY3QnLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGlzUmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6ICcxNXB4JyxcclxuICAgICAgICByaWdodDogJzE1cHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBib3R0b206IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICd3LTEwMCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgYm90dG9tOiAnMHB4JyxcclxuICAgICAgICBsZWZ0OiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUxJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgc2NhbGUtYXR0cmlidXRpb24teHktZ3JvdXAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzBweCcsXHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMic6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUyJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1lbmQganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAnMTVweCcsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMTVweCcsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcic6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnU2VsZWN0U3RhdGUtRnVsbFNjcmVlbi1Db250YWluZXInLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGlzVmVydGljYWxScmxBbGlnbkl0ZW1zRW5kOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdhdHRyaWJ1dGlvbkdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWF4V2lkdGg6ICc2MCUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBab29tOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEhvbWU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0hvbWUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgQ29tcGFzczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ29tcGFzcycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgTmF2aWdhdGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTmF2aWdhdGlvbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMb2NhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMYXllcnM6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xheWVycycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBCYXNlTWFwOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdCYXNlTWFwJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNlbGVjdDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIFNlbGVjdFN0YXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnLFxyXG4gICAgICAgIGJveFNoYWRvdzogJzAgMXB4IDJweCAwIHJnYmEoMCwwLDAsMCknXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBFeHRlbnROYXZpZ2F0ZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnRXh0ZW50TmF2aWdhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNZWFzdXJlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNZWFzdXJlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcclxuICAgIH0sXHJcbiAgICBNYXBTd2l0Y2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBGdWxsU2NyZWVuOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBDbGVhckFjdGlvbkRhdGE6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgU2NhbGVCYXI6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBBdHRyaWJ1dGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXHJcbiAgICB9LFxyXG4gICAgU2VhcmNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0JyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBsYXlvdXQ6IHtcclxuICAgIGxlZnRUb3BDb250YWluZXI6IHtcclxuICAgICAgaXNNYWluR3JvdXA6IHRydWUsXHJcbiAgICAgIGNoaWxkcmVuOiBbJ25hdmlnYXRvcicsICdTZWxlY3QnXVxyXG4gICAgfSxcclxuICAgIG5hdmlnYXRvcjoge1xyXG4gICAgICBjaGlsZHJlbjogWydab29tJywgJ0hvbWUnLCAnTmF2aWdhdGlvbicsICdFeHRlbnROYXZpZ2F0ZScsICdMb2NhdGUnLCAnQ29tcGFzcyddXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHtcclxuICAgICAgaXNNYWluR3JvdXA6IHRydWUsXHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJ11cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUxJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydTY2FsZUJhcicsICdhdHRyaWJ1dGlvbkdyb3VwJ11cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUyJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydNYXBTd2l0Y2gnLCAnU2VsZWN0U3RhdGUtRnVsbFNjcmVlbi1Db250YWluZXInXVxyXG4gICAgfSxcclxuICAgICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcic6IHtcclxuICAgICAgY2hpbGRyZW46IFsnRnVsbFNjcmVlbicsICdDbGVhckFjdGlvbkRhdGEnLCAnU2VsZWN0U3RhdGUnXVxyXG4gICAgfSxcclxuICAgIGJvdHRvbToge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnYm90dG9tLWxpbmUyJywgJ2JvdHRvbS1saW5lMSddXHJcbiAgICB9LFxyXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydBdHRyaWJ1dGlvbiddXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBsYXlvdXRKc29uMjogTGF5b3V0SnNvbiA9IHtcclxuICBlbGVtZW50czoge1xyXG4gICAgbmF2aWdhdG9yOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ25hdmlnYXRvcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgaXNWZXJ0aWNhbFJybEFsaWduSXRlbXNFbmQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdpbnRlcmFjdCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBpc1Jlc3BvbnNpdmU6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnMTVweCcsXHJcbiAgICAgICAgbGVmdDogJzE1cHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmdWxsU2NyZWVuR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnZnVsbFNjcmVlbkdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnMTVweCcsXHJcbiAgICAgICAgcmlnaHQ6ICcxNXB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGJvdHRvbTogJzBweCcsXHJcbiAgICAgICAgbGVmdDogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTEnOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwIHNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Cb3R0b206ICcwcHgnLFxyXG4gICAgICAgIG1hcmdpblRvcDogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtZW5kIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwYWRkaW5nTGVmdDogJzE1cHgnLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogJzE1cHgnLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2F0dHJpYnV0aW9uR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXhXaWR0aDogJzYwJSdcclxuICAgICAgfSxcclxuICAgICAgY2xhc3NOYW1lOiAnYXR0aWJ1dGUtZ3JvdXAnXHJcbiAgICB9LFxyXG4gICAgWm9vbToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBIb21lOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIENvbXBhc3M6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NvbXBhc3MnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIE5hdmlnYXRpb246IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ05hdmlnYXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTG9jYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgRXh0ZW50TmF2aWdhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0V4dGVudE5hdmlnYXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTGF5ZXJzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNlbGVjdDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIFNlbGVjdFN0YXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogJzEwcHgnLFxyXG4gICAgICAgIGJveFNoYWRvdzogJzAgMXB4IDJweCAwIHJnYmEoMCwwLDAsMCknXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNZWFzdXJlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNZWFzdXJlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXJnaW5SaWdodDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNYXBTd2l0Y2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBGdWxsU2NyZWVuOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBDbGVhckFjdGlvbkRhdGE6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgU2NhbGVCYXI6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBBdHRyaWJ1dGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXHJcbiAgICB9LFxyXG4gICAgU2VhcmNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcycsICdMb2NhdGUnLCAnRXh0ZW50TmF2aWdhdGUnLCAnTmF2aWdhdGlvbicsICdab29tJywgJ0hvbWUnLCAnU2VsZWN0U3RhdGUnXVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZScsICdTZWxlY3QnXVxyXG4gICAgfSxcclxuICAgIGZ1bGxTY3JlZW5Hcm91cDoge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnRnVsbFNjcmVlbicsICdDbGVhckFjdGlvbkRhdGEnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTEnOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NjYWxlQmFyJywgJ2F0dHJpYnV0aW9uR3JvdXAnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ01hcFN3aXRjaCcsICduYXZpZ2F0b3InXVxyXG4gICAgfSxcclxuICAgIGJvdHRvbToge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnYm90dG9tLWxpbmUyJywgJ2JvdHRvbS1saW5lMSddXHJcbiAgICB9LFxyXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydBdHRyaWJ1dGlvbiddXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBsYXlvdXRKc29uczogTGF5b3V0SnNvbltdID0gW2xheW91dEpzb24xLCBsYXlvdXRKc29uMl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxheW91dEpzb25zXHJcbiIsImltcG9ydCBab29tIGZyb20gJy4uL3Rvb2xzL3pvb20nXHJcbmltcG9ydCBIb21lIGZyb20gJy4uL3Rvb2xzL2hvbWUnXHJcbmltcG9ydCBDb21wYXNzIGZyb20gJy4uL3Rvb2xzL2NvbXBhc3MnXHJcbmltcG9ydCBMb2NhdGUgZnJvbSAnLi4vdG9vbHMvbG9jYXRlJ1xyXG5pbXBvcnQgQ2xlYXJBY3Rpb25EYXRhIGZyb20gJy4uL3Rvb2xzL2NsZWFyLWFjdGlvbi1kYXRhJ1xyXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuLi90b29scy9uYXZpZ2F0aW9uJ1xyXG5pbXBvcnQgU2VhcmNoIGZyb20gJy4uL3Rvb2xzL3NlYXJjaCdcclxuaW1wb3J0IExheWVycyBmcm9tICcuLi90b29scy9sYXllcnMnXHJcbmltcG9ydCBCYXNlTWFwIGZyb20gJy4uL3Rvb2xzL2Jhc2VtYXAnXHJcbmltcG9ydCBNYXBTd2l0Y2ggZnJvbSAnLi4vdG9vbHMvbWFwc3dpdGNoJ1xyXG5pbXBvcnQgRnVsbFNjcmVlbiBmcm9tICcuLi90b29scy9mdWxsc2NyZWVuJ1xyXG5pbXBvcnQgU2NhbGVCYXIgZnJvbSAnLi4vdG9vbHMvc2NhbGViYXInXHJcbmltcG9ydCBBdHRyaWJ1dGlvbiBmcm9tICcuLi90b29scy9hdHRyaWJ1dGlvbidcclxuaW1wb3J0IE1lYXN1cmUgZnJvbSAnLi4vdG9vbHMvbWVhc3VyZSdcclxuaW1wb3J0IFNlbGVjdCBmcm9tICcuLi90b29scy9zZWxlY3QnXHJcbmltcG9ydCBTZWxlY3RTdGF0ZSBmcm9tICcuLi90b29scy9zZWxlY3RzdGF0ZSdcclxuaW1wb3J0IEV4dGVudE5hdmlnYXRlIGZyb20gJy4uL3Rvb2xzL2V4dGVudC1uYXZpZ2F0ZSdcclxuXHJcbmNvbnN0IFRvb2xNb2R1bGVzOiB7IFtNb2R1bGVOYW1lOiBzdHJpbmddOiBhbnkgfSA9IHtcclxuICBab29tOiBab29tLFxyXG4gIEhvbWU6IEhvbWUsXHJcbiAgTmF2aWdhdGlvbjogTmF2aWdhdGlvbixcclxuICBMb2NhdGU6IExvY2F0ZSxcclxuICBDbGVhckFjdGlvbkRhdGE6IENsZWFyQWN0aW9uRGF0YSxcclxuICBDb21wYXNzOiBDb21wYXNzLFxyXG4gIFNlYXJjaDogU2VhcmNoLFxyXG4gIExheWVyczogTGF5ZXJzLFxyXG4gIEJhc2VNYXA6IEJhc2VNYXAsXHJcbiAgTWVhc3VyZTogTWVhc3VyZSxcclxuICBNYXBTd2l0Y2g6IE1hcFN3aXRjaCxcclxuICBGdWxsU2NyZWVuOiBGdWxsU2NyZWVuLFxyXG4gIFNjYWxlQmFyOiBTY2FsZUJhcixcclxuICBBdHRyaWJ1dGlvbjogQXR0cmlidXRpb24sXHJcbiAgU2VsZWN0OiBTZWxlY3QsXHJcbiAgU2VsZWN0U3RhdGU6IFNlbGVjdFN0YXRlLFxyXG4gIEV4dGVudE5hdmlnYXRlOiBFeHRlbnROYXZpZ2F0ZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sTW9kdWxlc1xyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXR0cmlidXRpb24gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnQXR0cmlidXRpb24nXHJcblxyXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdBdHRyaWJ1dGlvbidcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxBdHRyaWJ1dGlvbklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEF0dHJpYnV0aW9uSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBBdHRyaWJ1dGlvbklubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBBdHRyaWJ1dGlvbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxBdHRyaWJ1dGlvbklubmVyUHJvcHMsIEF0dHJpYnV0aW9uSW5uZXJTdGF0ZT4ge1xyXG4gIEF0dHJpYnV0aW9uOiB0eXBlb2YgX19lc3JpLkF0dHJpYnV0aW9uID0gbnVsbFxyXG4gIEF0dHJpYnV0aW9uQnRuOiBfX2VzcmkuQXR0cmlidXRpb25cclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0F0dHJpYnV0aW9uJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuQXR0cmlidXRpb25dID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBBdHRyaWJ1dGlvbklubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcclxuICAgICAgICBpZiAodGhpcy5BdHRyaWJ1dGlvbkJ0biAmJiAhdGhpcy5BdHRyaWJ1dGlvbkJ0bi5kZXN0cm95KSB7XHJcbiAgICAgICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4ucmVuZGVyTm93KClcclxuXHJcbiAgICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgICAgbmFtZTogJ0F0dHJpYnV0aW9uJyxcclxuICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuQXR0cmlidXRpb25CdG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4gPSBuZXcgdGhpcy5BdHRyaWJ1dGlvbih7XHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQXR0cmlidXRpb24nKVxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgbmFtZTogJ0F0dHJpYnV0aW9uJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkF0dHJpYnV0aW9uQnRuXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuQXR0cmlidXRpb25CdG4pIHtcclxuICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQXR0cmlidXRpb24nKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nYXR0cmlidXRpb24tbWFwLXRvb2wnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgYmFzZW1hcFV0aWxzIH0gZnJvbSAnamltdS1hcmNnaXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlTWFwIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0Jhc2VNYXAnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnQmFzZU1hcExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5CYXNlTWFwTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9iYXNlbWFwLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxCYXNlTWFwSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEJhc2VNYXBJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBpc01vYmlsZTogYm9vbGVhblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQmFzZU1hcElubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG4gIHNvdXJjZUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBCYXNlTWFwSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEJhc2VNYXBJbm5lclByb3BzLCBCYXNlTWFwSW5uZXJTdGF0ZT4ge1xyXG4gIEJhc2VtYXBHYWxsZXJ5OiB0eXBlb2YgX19lc3JpLkJhc2VtYXBHYWxsZXJ5XHJcbiAgTG9jYWxCYXNlbWFwc1NvdXJjZTogdHlwZW9mIF9fZXNyaS5Mb2NhbEJhc2VtYXBzU291cmNlXHJcbiAgYmFzZW1hcEdhbGxlcnk6IF9fZXNyaS5CYXNlbWFwR2FsbGVyeVxyXG4gIG9yZ0Jhc2VtYXBzOiBfX2VzcmkuQmFzZW1hcFtdXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIF9fdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZSxcclxuICAgICAgc291cmNlTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0Jhc2VtYXBHYWxsZXJ5JywgJ2Vzcmkvd2lkZ2V0cy9CYXNlbWFwR2FsbGVyeS9zdXBwb3J0L0xvY2FsQmFzZW1hcHNTb3VyY2UnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBpZiAodGhpcy5fX3VubW91bnQpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW3RoaXMuQmFzZW1hcEdhbGxlcnksIHRoaXMuTG9jYWxCYXNlbWFwc1NvdXJjZV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5zdGF0ZS5zb3VyY2VMb2FkZWQpIHtcclxuICAgICAgYmFzZW1hcFV0aWxzLmdldE9yZ0Jhc2VtYXBzKCkudGhlbigoYmFzZW1hcHM6IF9fZXNyaS5CYXNlbWFwW10pID0+IHtcclxuICAgICAgICBpZiAodGhpcy5fX3VubW91bnQpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vcmdCYXNlbWFwcyA9IGJhc2VtYXBzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBzb3VyY2VMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGxvYWQgYmFzZW1hcCBnYWxsZXJ5IHNvdXJjZSBlcnJvcjogJHtlcnJ9YClcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBCYXNlTWFwSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuc3RhdGUuc291cmNlTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLmJhc2VtYXBHYWxsZXJ5KSB7XHJcbiAgICAgICAgLy8gYmFzZW1hcEdhbGxlcnkgYWxyZWFkeSBjcmVhdGVkXHJcbiAgICAgICAgY29uc3QgaXNWaWV3Q2hhbmdlZCA9IHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpXHJcblxyXG4gICAgICAgIGlmIChpc1ZpZXdDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAvLyB2aWV3IGNoYW5nZWRcclxuICAgICAgICAgIHRoaXMuYmFzZW1hcEdhbGxlcnkudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5iYXNlbWFwR2FsbGVyeS5zb3VyY2UgPSB0aGlzLmdldEZpbmFsQmFzZW1hcEdhbGxlcnlTb3VyY2UodGhpcy5vcmdCYXNlbWFwcywgdGhpcy5iYXNlbWFwR2FsbGVyeSlcclxuICAgICAgICAgIHRoaXMuYmFzZW1hcEdhbGxlcnkucmVuZGVyTm93KClcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gYmFzZW1hcEdhbGxlcnkgbm90IGNyZWF0ZWRcclxuICAgICAgICB0aGlzLmJhc2VtYXBHYWxsZXJ5ID0gbmV3IHRoaXMuQmFzZW1hcEdhbGxlcnkoe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuYmFzZW1hcEdhbGxlcnkuc291cmNlID0gdGhpcy5nZXRGaW5hbEJhc2VtYXBHYWxsZXJ5U291cmNlKHRoaXMub3JnQmFzZW1hcHMsIHRoaXMuYmFzZW1hcEdhbGxlcnkpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQmFzZU1hcCcpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnQmFzZU1hcCcsXHJcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcy5iYXNlbWFwR2FsbGVyeVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEZpbmFsQmFzZW1hcEdhbGxlcnlTb3VyY2UgKG9yZ0Jhc2VtYXBzOiBfX2VzcmkuQmFzZW1hcFtdLCBiYXNlbWFwR2FsbGVyeTogX19lc3JpLkJhc2VtYXBHYWxsZXJ5KTogX19lc3JpLkxvY2FsQmFzZW1hcHNTb3VyY2Uge1xyXG4gICAgY29uc3QgZmluYWxCYXNlbWFwcyA9IG9yZ0Jhc2VtYXBzLnNsaWNlKClcclxuICAgIGNvbnN0IHZpZXcgPSBiYXNlbWFwR2FsbGVyeS52aWV3XHJcblxyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgY29uc3Qgb3JpZ2luYWxCYXNlbWFwOiBfX2VzcmkuQmFzZW1hcCA9ICh2aWV3Lm1hcCBhcyBhbnkpLm9yaWdpbmFsQmFzZW1hcCB8fCB2aWV3Lm1hcC5iYXNlbWFwXHJcbiAgICAgIGNvbnN0IGJhc2VtYXBHYWxsZXJ5Vmlld01vZGVsID0gYmFzZW1hcEdhbGxlcnkudmlld01vZGVsXHJcblxyXG4gICAgICBpZiAob3JpZ2luYWxCYXNlbWFwICYmIGJhc2VtYXBHYWxsZXJ5Vmlld01vZGVsKSB7XHJcbiAgICAgICAgY29uc3QgaXNPcmlnaW5hbEJhc2VtYXBJbmNsdWRlZCA9IGZpbmFsQmFzZW1hcHMuc29tZShpdGVtID0+IGJhc2VtYXBHYWxsZXJ5Vmlld01vZGVsLmJhc2VtYXBFcXVhbHMob3JpZ2luYWxCYXNlbWFwLCBpdGVtKSlcclxuXHJcbiAgICAgICAgaWYgKCFpc09yaWdpbmFsQmFzZW1hcEluY2x1ZGVkKSB7XHJcbiAgICAgICAgICAvLyBJZiBvcmlnaW5hbEJhc2VtYXAudGh1bWJuYWlsVXJsIGlzIG51bGwsIHVzZSBtYXAudGh1bWJuYWlsVXJsIGFzIG9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwuXHJcbiAgICAgICAgICBpZiAoIW9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwpIHtcclxuICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsVXJsID0gKHZpZXcubWFwIGFzIGFueSk/LnRodW1ibmFpbFVybFxyXG5cclxuICAgICAgICAgICAgaWYgKHRodW1ibmFpbFVybCkge1xyXG4gICAgICAgICAgICAgIG9yaWdpbmFsQmFzZW1hcC50aHVtYm5haWxVcmwgPSB0aHVtYm5haWxVcmxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZpbmFsQmFzZW1hcHMudW5zaGlmdChvcmlnaW5hbEJhc2VtYXApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc291cmNlID0gbmV3IHRoaXMuTG9jYWxCYXNlbWFwc1NvdXJjZSh7XHJcbiAgICAgIGJhc2VtYXBzOiBmaW5hbEJhc2VtYXBzXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBzb3VyY2VcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxyXG5cclxuICAgIGlmICh0aGlzLmJhc2VtYXBHYWxsZXJ5KSB7XHJcbiAgICAgIHRoaXMuYmFzZW1hcEdhbGxlcnkuZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuYmFzZW1hcEdhbGxlcnkgPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0Jhc2VNYXAnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Jhc2VtYXAtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIG1heFdpZHRoOiAnbm9uZScsIG1heEhlaWdodDogJ25vbmUnLCBvdmVyZmxvd1k6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IHN0eWxlPXt7IHdpZHRoOiAnMjUwcHgnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX1cclxuICAgICAgICAgIGNsYXNzTmFtZT0nZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQgYmFzZW1hcC1tYXAtdG9vbCdcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIE11dGFibGVTdG9yZU1hbmFnZXIsIGdldEFwcFN0b3JlLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBKaW11TWFwVmlld0luZm8gfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU2hvd09uTWFwRGF0YXMsIHR5cGUgQWRkVG9NYXBEYXRhcywgdHlwZSBNYXBNdXRhYmxlU3RhdGUsIEFjdGlvblR5cGUsIERhdGFDaGFuZ2VUeXBlIH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IEljb24sIERyb3Bkb3duLCBEcm9wZG93bk1lbnUsIERyb3Bkb3duQnV0dG9uLCBEcm9wZG93bkl0ZW0sIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgaXNPcGVuOiBib29sZWFuXHJcbn1cclxuXHJcbmludGVyZmFjZSBMaXN0SXRlbSB7XHJcbiAgbGF5ZXJJZDogc3RyaW5nXHJcbiAgdGl0bGU6IHN0cmluZ1xyXG4gIGlzQWN0aW9uOiBib29sZWFuIC8vIHRydWUgbWVhbnMgdGhpcyBpdGVtIGNvbWVzIGZyb20gU2hvd09uTWFwL0FkZFRvTWFwIGFjdGlvbnMsIGZhbHNlIG1lYW5zIGl0IGNvbWVzIGZyb20gSmltdUxheWVyVmlld1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGVhckFjdGlvbkRhdGEgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZT4ge1xyXG4gIHRvb2xOYW1lID0gJ0NsZWFyQWN0aW9uRGF0YSdcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSB7IGlzT3BlbjogZmFsc2UgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAuamltdS1kcm9wZG93biB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAuaWNvbi1idG4ge1xyXG4gICAgICAgICAgcGFkZGluZzogN3B4O1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2xlYXJSZXN1bHRzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGVhclJlc3VsdHMgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmcnKSxcclxuICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICB0aGlzLm9uSWNvbkNsaWNrKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TGlzdEl0ZW1zIChtYXBXaWRnZXRJZDogc3RyaW5nKTogTGlzdEl0ZW1bXSB7XHJcbiAgICBjb25zdCBtYXBNdXRhYmxlU3RhdGU6IE1hcE11dGFibGVTdGF0ZSA9IE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdGF0ZVZhbHVlKFttYXBXaWRnZXRJZF0pIHx8IHt9XHJcbiAgICBjb25zdCBsaXN0SXRlbXMxID0gdGhpcy5nZXRMaXN0SXRlbXNCeUFkZE9yU2hvd09uTWFwRGF0YXMobWFwV2lkZ2V0SWQsIG1hcE11dGFibGVTdGF0ZSlcclxuICAgIGNvbnN0IGxheWVySWRzMSA9IGxpc3RJdGVtczEubWFwKGxpc3RJdGVtID0+IGxpc3RJdGVtLmxheWVySWQpXHJcbiAgICBsZXQgbGlzdEl0ZW1zMiA9IHRoaXMuZ2V0TGlzdEl0ZW1zQnlSZW1vdmVhYmxlTGF5ZXJJZHNJbmZvKG1hcE11dGFibGVTdGF0ZSlcclxuICAgIC8vIG9uZSBsYXllcklkIG1heWJlIGJvdGggaW4gc2hvd09uTWFwRGF0YXMvYWRkVG9NYXBEYXRhcyBhbmQgcmVtb3ZlYWJsZUxheWVySWRzSW5mbywgc28gbmVlZCB0byByZW1vdmUgcmVwZWF0IGl0ZW1zXHJcbiAgICBsaXN0SXRlbXMyID0gbGlzdEl0ZW1zMi5maWx0ZXIobGlzdEl0ZW0gPT4gIWxheWVySWRzMS5pbmNsdWRlcyhsaXN0SXRlbS5sYXllcklkKSlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGxpc3RJdGVtczEuY29uY2F0KGxpc3RJdGVtczIpXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPbmx5IHNob3cgbGF5ZXJzIHRoYXQgY3JhdGVkIGJ5IGRhdGEgYWN0aW9ucy4gVGhlIGxheWVycyBtYXliZSBjcmF0ZWQgYnkgc2hvd09uTWFwIGRhdGEgYWN0aW9uIG9yIGFkZFRvTWFwIGRhdGEgYWN0aW9uLlxyXG4gICAqIEBwYXJhbSBtYXBXaWRnZXRJZFxyXG4gICAqIEByZXR1cm5zXHJcbiAgICovXHJcbiAgZ2V0TGlzdEl0ZW1zQnlBZGRPclNob3dPbk1hcERhdGFzIChtYXBXaWRnZXRJZDogc3RyaW5nLCBtYXBNdXRhYmxlU3RhdGU6IE1hcE11dGFibGVTdGF0ZSk6IExpc3RJdGVtW10ge1xyXG4gICAgY29uc3Qgc2hvd09uTWFwRGF0YXM6IFNob3dPbk1hcERhdGFzID0gbWFwTXV0YWJsZVN0YXRlPy5zaG93T25NYXBEYXRhcyB8fCB7fVxyXG4gICAgY29uc3QgYWRkVG9NYXBEYXRhczogQWRkVG9NYXBEYXRhcyA9IG1hcE11dGFibGVTdGF0ZT8uYWRkVG9NYXBEYXRhcyB8fCB7fVxyXG5cclxuICAgIGNvbnN0IHNob3dPbk1hcERhdGFJbmZvcyA9IE9iamVjdC5lbnRyaWVzKHNob3dPbk1hcERhdGFzKS5tYXAoZW50cnkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBlbnRyeVswXSxcclxuICAgICAgICB0aXRsZTogZW50cnlbMV0udGl0bGUsXHJcbiAgICAgICAgamltdU1hcFZpZXdJZDogZW50cnlbMV0uamltdU1hcFZpZXdJZCxcclxuICAgICAgICBtYXBXaWRnZXRJZDogZW50cnlbMV0ubWFwV2lkZ2V0SWQsXHJcbiAgICAgICAgbmVlZFRvUmVtb3ZlOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IGVudHJ5WzFdLnR5cGVcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBhZGRUb01hcERhdGFJbmZvcyA9IE9iamVjdC5lbnRyaWVzKGFkZFRvTWFwRGF0YXMpLm1hcChlbnRyeSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IGVudHJ5WzBdLFxyXG4gICAgICAgIHRpdGxlOiBlbnRyeVsxXS50aXRsZSxcclxuICAgICAgICBqaW11TWFwVmlld0lkOiBlbnRyeVsxXS5qaW11TWFwVmlld0lkLFxyXG4gICAgICAgIG1hcFdpZGdldElkOiBlbnRyeVsxXS5tYXBXaWRnZXRJZCxcclxuICAgICAgICBuZWVkVG9SZW1vdmU6IGVudHJ5WzFdLmRhdGFDaGFuZ2VUeXBlID09PSBEYXRhQ2hhbmdlVHlwZS5DcmVhdGVkLFxyXG4gICAgICAgIHR5cGU6IGVudHJ5WzFdLnR5cGVcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBkYXRhQWN0aW9uSW5mb3MgPSBzaG93T25NYXBEYXRhSW5mb3MuY29uY2F0KGFkZFRvTWFwRGF0YUluZm9zKS5maWx0ZXIoZGF0YUluZm8gPT4ge1xyXG4gICAgICAvLyBUaGVyZSBpcyBubyBqaW11TWFwVmlld0lkIHdoaWxlIGdlbmVyYXRpbmcgdGhlIGFjdGlvbiBkYXRhIGlmIHRoZSBtYXAgd2lkZ2V0IGhhc24ndCBiZWVuIGxvYWRlZCBpbiB0aGUgYW5vdGhlciBwYWdlL3ZpZXcsXHJcbiAgICAgIC8vIHVzZSBhIGRlZmF1bHQgamltdU1hcFZpZXdJZCB0byBzaG93IGRhdGEuXHJcbiAgICAgIGxldCBqaW11TWFwVmlld0lkID0gZGF0YUluZm8uamltdU1hcFZpZXdJZFxyXG4gICAgICBpZiAoIWppbXVNYXBWaWV3SWQgJiYgZGF0YUluZm8ubWFwV2lkZ2V0SWQgPT09IG1hcFdpZGdldElkKSB7XHJcbiAgICAgICAgY29uc3QgamltdU1hcFZpZXdzSW5mbzogSW1tdXRhYmxlT2JqZWN0PHsgW2ppbXVNYXBWaWV3SWQ6IHN0cmluZ106IEppbXVNYXBWaWV3SW5mbyB9PiA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5qaW11TWFwVmlld3NJbmZvXHJcbiAgICAgICAgamltdU1hcFZpZXdJZCA9IE9iamVjdC5rZXlzKGppbXVNYXBWaWV3c0luZm8gfHwge30pLmZpbmQodmlld0lkID0+IGppbXVNYXBWaWV3c0luZm9bdmlld0lkXS5tYXBXaWRnZXRJZCA9PT0gbWFwV2lkZ2V0SWQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAoamltdU1hcFZpZXdJZCA9PT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCAmJiBkYXRhSW5mby50eXBlID09PSBBY3Rpb25UeXBlLkRhdGFBY3Rpb24gJiYgZGF0YUluZm8ubmVlZFRvUmVtb3ZlKVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBkYXRhQWN0aW9uTGlzdEl0ZW1zOiBMaXN0SXRlbVtdID0gZGF0YUFjdGlvbkluZm9zLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0SXRlbTogTGlzdEl0ZW0gPSB7XHJcbiAgICAgICAgbGF5ZXJJZDogaXRlbS5pZCxcclxuICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcclxuICAgICAgICBpc0FjdGlvbjogdHJ1ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbGlzdEl0ZW1cclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIGRhdGFBY3Rpb25MaXN0SXRlbXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBsaXN0IGl0ZW1zIGJ5IEppbXVMYXllclZpZXcucmVtb3ZlYWJsZUJ5TWFwVG9vbC5cclxuICAgKiBAcGFyYW0gbXV0YWJsZVN0YXRlXHJcbiAgICovXHJcbiAgZ2V0TGlzdEl0ZW1zQnlSZW1vdmVhYmxlTGF5ZXJJZHNJbmZvIChtdXRhYmxlU3RhdGU6IE1hcE11dGFibGVTdGF0ZSk6IExpc3RJdGVtW10ge1xyXG4gICAgY29uc3QgbGlzdEl0ZW1zOiBMaXN0SXRlbVtdID0gW11cclxuICAgIGNvbnN0IHJlbW92ZWFibGVMYXllcklkc0luZm8gPSBtdXRhYmxlU3RhdGU/LnJlbW92ZWFibGVMYXllcklkc0luZm8gfHwge31cclxuICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlld1xyXG5cclxuICAgIGlmIChqaW11TWFwVmlldykge1xyXG4gICAgICBjb25zdCBtYXAgPSBqaW11TWFwVmlldy52aWV3Py5tYXBcclxuXHJcbiAgICAgIGlmIChtYXApIHtcclxuICAgICAgICBjb25zdCByZW1vdmVhYmxlTGF5ZXJJZHMgPSByZW1vdmVhYmxlTGF5ZXJJZHNJbmZvW2ppbXVNYXBWaWV3LmlkXSB8fCBbXVxyXG5cclxuICAgICAgICByZW1vdmVhYmxlTGF5ZXJJZHMuZm9yRWFjaChsYXllcklkID0+IHtcclxuICAgICAgICAgIGNvbnN0IGxheWVyID0gbWFwLmZpbmRMYXllckJ5SWQobGF5ZXJJZClcclxuXHJcbiAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBsYXllci50aXRsZSB8fCBsYXllcklkXHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtOiBMaXN0SXRlbSA9IHtcclxuICAgICAgICAgICAgICBsYXllcklkLFxyXG4gICAgICAgICAgICAgIHRpdGxlLFxyXG4gICAgICAgICAgICAgIGlzQWN0aW9uOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsaXN0SXRlbXMucHVzaChsaXN0SXRlbSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpc3RJdGVtc1xyXG4gIH1cclxuXHJcbiAgb25JY29uQ2xpY2sgPSAoKSA9PiB7fVxyXG5cclxuICBvbkRyb3BEb3duVG9nZ2xlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuIH0pXHJcbiAgfVxyXG5cclxuICBjcmVhdGVEcm9wZG93bkl0ZW0gKGxpc3RJdGVtOiBMaXN0SXRlbSwgbWFwV2lkZ2V0SWQ6IHN0cmluZywgaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3Qga2V5ID0gYCR7bGlzdEl0ZW0ubGF5ZXJJZH0taW5kZXgtJHtpbmRleH1gXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPERyb3Bkb3duSXRlbVxyXG4gICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgIGhlYWRlcj17ZmFsc2V9XHJcbiAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLm9uSXRlbUNsaWNrKGxpc3RJdGVtLCBtYXBXaWRnZXRJZCkgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHtsaXN0SXRlbS50aXRsZX1cclxuICAgICAgPC9Ecm9wZG93bkl0ZW0+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBvbkl0ZW1DbGljayA9IChsaXN0SXRlbTogTGlzdEl0ZW0sIG1hcFdpZGdldElkOiBzdHJpbmcpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46IGZhbHNlIH0pXHJcblxyXG4gICAgY29uc3QgbGF5ZXJJZCA9IGxpc3RJdGVtLmxheWVySWRcclxuXHJcbiAgICBjb25zdCBtdXRhYmxlU3RhdGUgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbbWFwV2lkZ2V0SWRdKSB8fCB7fVxyXG5cclxuICAgIGlmIChsaXN0SXRlbS5pc0FjdGlvbikge1xyXG4gICAgICAvLyB0aGlzIGl0ZW0gY29tZXMgZnJvbSBTaG93T25NYXAvQWRkVG9NYXAgYWN0aW9ucywgcmVtb3ZlIGl0IGJ5IG11dGFibGVTdG9yZU1hbmFnZXIudXBkYXRlU3RhdGVWYWx1ZSgpLlxyXG4gICAgICBjb25zdCBhY3Rpb25EYXRhSWQgPSBsYXllcklkXHJcbiAgICAgIGNvbnN0IHNob3dPbk1hcERhdGFzID0gbXV0YWJsZVN0YXRlLnNob3dPbk1hcERhdGFzXHJcbiAgICAgIGNvbnN0IGFkZFRvTWFwRGF0YXMgPSBtdXRhYmxlU3RhdGUuYWRkVG9NYXBEYXRhc1xyXG5cclxuICAgICAgaWYgKHNob3dPbk1hcERhdGFzKSB7XHJcbiAgICAgICAgZGVsZXRlIHNob3dPbk1hcERhdGFzW2FjdGlvbkRhdGFJZF1cclxuICAgICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZShtYXBXaWRnZXRJZCwgJ3Nob3dPbk1hcERhdGFzJywgc2hvd09uTWFwRGF0YXMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhZGRUb01hcERhdGFzICYmIGFkZFRvTWFwRGF0YXNbYWN0aW9uRGF0YUlkXT8uZGF0YUNoYW5nZVR5cGUgPT09IERhdGFDaGFuZ2VUeXBlLkNyZWF0ZWQpIHtcclxuICAgICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZShtYXBXaWRnZXRJZCwgYGFkZFRvTWFwRGF0YXMuJHthY3Rpb25EYXRhSWR9LmRhdGFDaGFuZ2VUeXBlYCwgRGF0YUNoYW5nZVR5cGUuUmVtb3ZlKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB0aGlzIGl0ZW0gY29tZXMgZnJvbSBKaW11TGF5ZXJWaWV3LnJlbW92ZWFibGVCeU1hcFRvb2xcclxuXHJcbiAgICAgIC8vIGp1c3QgcmVtb3ZlIHRoZSBsYXllciBmcm9tIG1hcCwgZG9uJ3QgbmVlZCB0byB1cGRhdGUgcmVtb3ZlYWJsZUxheWVySWRzSW5mbyAob25seSB1cGRhdGUgcmVtb3ZlYWJsZUxheWVySWRzSW5mbyB3aGVuIGNhbGxpbmcgSmltdUxheWVyVmlldy5zZXRSZW1vdmVhYmxlQnlNYXBUb29sKCkpXHJcbiAgICAgIGNvbnN0IG1hcCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/Lm1hcFxyXG5cclxuICAgICAgaWYgKG1hcCkge1xyXG4gICAgICAgIGNvbnN0IGxheWVyID0gbWFwLmZpbmRMYXllckJ5SWQobGF5ZXJJZClcclxuXHJcbiAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICBtYXAucmVtb3ZlKGxheWVyKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IG1hcFdpZGdldElkIH0pID0+IChcclxuICAgICAgICAgIHRoaXMuZ2V0Q29udGVudChtYXBXaWRnZXRJZClcclxuICAgICAgICApfVxyXG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIGdldENvbnRlbnQgPSAobWFwV2lkZ2V0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgbGlzdEl0ZW1zID0gdGhpcy5nZXRMaXN0SXRlbXMobWFwV2lkZ2V0SWQpXHJcbiAgICBjb25zdCBkcm9wZG93bkl0ZW1zID0gbGlzdEl0ZW1zLm1hcCgobGlzdEl0ZW0sIGluZGV4KSA9PiB0aGlzLmNyZWF0ZURyb3Bkb3duSXRlbShsaXN0SXRlbSwgbWFwV2lkZ2V0SWQsIGluZGV4KSlcclxuXHJcbiAgICBpZiAoZHJvcGRvd25JdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XHJcbiAgICAgICAgICA8RHJvcGRvd25cclxuICAgICAgICAgICAgZGlyZWN0aW9uPSdkb3duJ1xyXG4gICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgdG9nZ2xlPXt0aGlzLm9uRHJvcERvd25Ub2dnbGV9XHJcbiAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5pc09wZW59XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxEcm9wZG93bkJ1dHRvbiBpY29uIGFycm93PXtmYWxzZX0gc2l6ZT0nc20nIHR5cGU9J2RlZmF1bHQnPlxyXG4gICAgICAgICAgICAgIDxJY29uIHNpemU9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0SWNvbigpLmljb259IC8+XHJcbiAgICAgICAgICAgIDwvRHJvcGRvd25CdXR0b24+XHJcbiAgICAgICAgICAgIDxEcm9wZG93bk1lbnU+XHJcbiAgICAgICAgICAgICAge2Ryb3Bkb3duSXRlbXN9XHJcbiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51PlxyXG4gICAgICAgICAgPC9Ecm9wZG93bj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wYXNzIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0NvbXBhc3MnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnQ29tcGFzc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5Db21wYXNzTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxDb21wYXNzSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGFzc0lubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGFzc0lubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBDb21wYXNzSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PENvbXBhc3NJbm5lclByb3BzLCBDb21wYXNzSW5uZXJTdGF0ZT4ge1xyXG4gIENvbXBhc3M6IHR5cGVvZiBfX2VzcmkuQ29tcGFzcyA9IG51bGxcclxuICBDb21wYXNzQnRuOiBfX2VzcmkuQ29tcGFzc1xyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQ29tcGFzcyddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkNvbXBhc3NdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuQ29tcGFzc0J0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuQ29tcGFzc0J0biA9IG5ldyB0aGlzLkNvbXBhc3Moe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdDb21wYXNzJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ0NvbXBhc3MnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLkNvbXBhc3NCdG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkNvbXBhc3NCdG4pIHtcclxuICAgICAgdGhpcy5Db21wYXNzQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkNvbXBhc3NCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0NvbXBhc3MnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nY29tcGFzcy1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHR5cGUgeyBNYXBiYXNlVmlldyB9IGZyb20gJy4uL2NvbXBvbmVudHMvbWFwYmFzZSdcclxuaW1wb3J0IHsgZ2V0Vmlld3BvaW50SW5zdGFuY2VGcm9tSGlzdG9yeSB9IGZyb20gJy4uL3V0aWxzJ1xyXG5pbXBvcnQgeyBBcnJvd0ZhdExlZnRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctZmF0LWxlZnQnXHJcbmltcG9ydCB7IEFycm93RmF0UmlnaHRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctZmF0LXJpZ2h0J1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXh0ZW50TmF2aWdhdGUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnRXh0ZW50TmF2aWdhdGUnXHJcblxyXG4gIHZpZXc6IE1hcGJhc2VWaWV3XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnRXh0ZW50TmF2aWdhdGUnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHRlbmRDc3NTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgICAuZXh0ZW50LW5hdmlnYXRlLWJ0biB7XHJcbiAgICAgICAgd2lkdGg6IDMycHg7XHJcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBsaW5lLWhlaWdodDogMzJweDtcclxuICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHRlbnQtbmF2aWdhdGUtYnRuLmV4dGVudC1uYXZpZ2F0ZS1idG4tZGlzYWJsZWQge1xyXG4gICAgICAgIGNvbG9yOiBncmV5O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXh0ZW50LW5hdmlnYXRlLXByZXYtYnRuIHtcclxuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIGNvbnN0IGlzUHJldkJ0bkRpc2FibGVkID0gIXRoaXMuaXNQcmV2QnRuRW5hYmxlZCgpXHJcbiAgICBjb25zdCBpc05leHRCdG5EaXNhYmxlZCA9ICF0aGlzLmlzTmV4dEJ0bkVuYWJsZWQoKVxyXG5cclxuICAgIGNvbnN0IHByZXZCdG5DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uIGV4dGVudC1uYXZpZ2F0ZS1idG4gZXh0ZW50LW5hdmlnYXRlLXByZXYtYnRuJywgeyAnZXh0ZW50LW5hdmlnYXRlLWJ0bi1kaXNhYmxlZCc6IGlzUHJldkJ0bkRpc2FibGVkIH0pXHJcbiAgICBjb25zdCBuZXh0QnRuQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygnZXNyaS13aWRnZXQtLWJ1dHRvbiBleHRlbnQtbmF2aWdhdGUtYnRuIGV4dGVudC1uYXZpZ2F0ZS1uZXh0LWJ0bicsIHsgJ2V4dGVudC1uYXZpZ2F0ZS1idG4tZGlzYWJsZWQnOiBpc05leHRCdG5EaXNhYmxlZCB9KVxyXG4gICAgY29uc3QgcHJldkV4dGVudFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdwcmV2RXh0ZW50JylcclxuICAgIGNvbnN0IG5leHRFeHRlbnRUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnbmV4dEV4dGVudCcpXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cHJldkJ0bkNsYXNzTmFtZX0gdGl0bGU9e3ByZXZFeHRlbnRUaXRsZX0gb25DbGljaz17dGhpcy5vbkNsaWNrUHJldkJ0bn0+XHJcbiAgICAgICAgICA8QXJyb3dGYXRMZWZ0T3V0bGluZWQgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17bmV4dEJ0bkNsYXNzTmFtZX0gdGl0bGU9e25leHRFeHRlbnRUaXRsZX0gb25DbGljaz17dGhpcy5vbkNsaWNrTmV4dEJ0bn0+XHJcbiAgICAgICAgICA8QXJyb3dGYXRSaWdodE91dGxpbmVkIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgZm9ybWF0TWVzc2FnZSAoc3RySWQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IHN0cklkLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW3N0cklkXSB9KVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5iaW5kVmlldygpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgdGhpcy5iaW5kVmlldygpXHJcbiAgfVxyXG5cclxuICBiaW5kVmlldyAoKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldyBhcyBNYXBiYXNlVmlld1xyXG5cclxuICAgIGlmICh0aGlzLnZpZXcgIT09IHZpZXcpIHtcclxuICAgICAgLy8gYWN0aXZlIHZpZXcgY2hhbmdlc1xyXG4gICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0YXRpb25hcnlDYWxsYmFjayA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy52aWV3ID0gdmlld1xyXG5cclxuICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgIHRoaXMudmlldy5zdGF0aW9uYXJ5Q2FsbGJhY2sgPSB0aGlzLm9uVmlld1N0YXRpb25hcnlcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy51cGRhdGVCeUN1cnJlbnRWaWV3KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZUJ5Q3VycmVudFZpZXcgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgfVxyXG5cclxuICBvblZpZXdTdGF0aW9uYXJ5ID0gKCkgPT4ge1xyXG4gICAgLy8gdmlldyBzdGF0aWMsIHZpZXcudmlld3BvaW50SGlzdG9yeSBtYXliZSBjaGFuZ2VkXHJcbiAgICB0aGlzLnVwZGF0ZUJ5Q3VycmVudFZpZXcoKVxyXG4gIH1cclxuXHJcbiAgaXNQcmV2QnRuRW5hYmxlZCAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aWV3ICYmIHRoaXMudmlldy52aWV3cG9pbnRIaXN0b3J5Lmxlbmd0aCA+PSAyICYmIHRoaXMudmlldy52aWV3cG9pbnRJbmRleCA+PSAxXHJcbiAgfVxyXG5cclxuICBpc05leHRCdG5FbmFibGVkICgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpZXcgJiYgdGhpcy52aWV3LnZpZXdwb2ludEhpc3RvcnkubGVuZ3RoID49IDIgJiYgdGhpcy52aWV3LnZpZXdwb2ludEluZGV4IDwgKHRoaXMudmlldy52aWV3cG9pbnRIaXN0b3J5Lmxlbmd0aCAtIDEpXHJcbiAgfVxyXG5cclxuICBvbkNsaWNrUHJldkJ0biA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5pc1ByZXZCdG5FbmFibGVkKCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52aWV3LnZpZXdwb2ludEluZGV4LS1cclxuICAgIGNvbnN0IHZpZXdwb2ludCA9IGdldFZpZXdwb2ludEluc3RhbmNlRnJvbUhpc3RvcnkodGhpcy52aWV3LCB0aGlzLnZpZXcudmlld3BvaW50SW5kZXgpXHJcblxyXG4gICAgaWYgKHZpZXdwb2ludCkge1xyXG4gICAgICB0aGlzLnZpZXcuZ29Ubyh2aWV3cG9pbnQpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVCeUN1cnJlbnRWaWV3KClcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tOZXh0QnRuID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmlzTmV4dEJ0bkVuYWJsZWQoKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnZpZXcudmlld3BvaW50SW5kZXgrK1xyXG4gICAgY29uc3Qgdmlld3BvaW50ID0gZ2V0Vmlld3BvaW50SW5zdGFuY2VGcm9tSGlzdG9yeSh0aGlzLnZpZXcsIHRoaXMudmlldy52aWV3cG9pbnRJbmRleClcclxuXHJcbiAgICBpZiAodmlld3BvaW50KSB7XHJcbiAgICAgIHRoaXMudmlldy5nb1RvKHZpZXdwb2ludClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZUJ5Q3VycmVudFZpZXcoKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnVsbHNjcmVlbiBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdGdWxsc2NyZWVuJ1xyXG4gIGlzRnVsbFNjcmVlbiA9IGZhbHNlXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnRnVsbFNjcmVlbkxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5GdWxsU2NyZWVuTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHRoaXMuaXNGdWxsU2NyZWVuID8gcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2V4aXQtZnVsbC1zY3JlZW4uc3ZnJykgOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZnVsbC1zY3JlZW4uc3ZnJyksXHJcbiAgICAgIG9uSWNvbkNsaWNrOiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB7XHJcbiAgICAgICAgdGhpcy5mdWxsU2NyZWVuTWFwKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVsbFNjcmVlbk1hcCA9ICgpID0+IHt9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0Q29udGVudCA9IChmdWxsU2NyZWVuTWFwLCBpc0Z1bGxTY3JlZW4pID0+IHtcclxuICAgIHRoaXMuZnVsbFNjcmVlbk1hcCA9IGZ1bGxTY3JlZW5NYXBcclxuICAgIHRoaXMuaXNGdWxsU2NyZWVuID0gaXNGdWxsU2NyZWVuXHJcbiAgICByZXR1cm4gc3VwZXIucmVuZGVyKClcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBmdWxsU2NyZWVuTWFwLCBpc0Z1bGxTY3JlZW4gfSkgPT4gKFxyXG4gICAgICAgICAgdGhpcy5nZXRDb250ZW50KGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbilcclxuICAgICAgICApfVxyXG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgdHlwZSBJbml0aWFsTWFwU3RhdGUgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL21hcCdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdIb21lJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0hvbWVMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuSG9tZUxhYmVsIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0SG9tZUNvbnRlbnQgPSAoaW5pdGlhbE1hcFN0YXRlOiBJbml0aWFsTWFwU3RhdGUpID0+IHtcclxuICAgIHJldHVybiA8SG9tZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBpbml0aWFsTWFwU3RhdGU9e2luaXRpYWxNYXBTdGF0ZX0gLz5cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAvLyByZXR1cm4gPEhvbWVJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9Ib21lSW5uZXI+O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgaW5pdGlhbE1hcFN0YXRlIH0pID0+IChcclxuICAgICAgICAgIHRoaXMuZ2V0SG9tZUNvbnRlbnQoaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEhvbWVJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSG9tZUlubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBIb21lSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEhvbWVJbm5lclByb3BzLCBIb21lSW5uZXJTdGF0ZT4ge1xyXG4gIEhvbWU6IHR5cGVvZiBfX2VzcmkuSG9tZSA9IG51bGxcclxuICBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnkuRXh0ZW50XHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludFxyXG5cclxuICBob21lQnRuOiBfX2VzcmkuSG9tZVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvSG9tZScsXHJcbiAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvRXh0ZW50JyxcclxuICAgICAgICAnZXNyaS9WaWV3cG9pbnQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5Ib21lLCB0aGlzLkV4dGVudCwgdGhpcy5WaWV3cG9pbnRdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBIb21lSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCB8fCAhdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY3VyclZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3IHx8IG51bGxcclxuICAgIC8vIGNoZWNrIGluaXRpYWxNYXBTdGF0ZSBjaGFuZ2Ugb3Igbm90XHJcbiAgICAvLyBzb21ldGltZXMgcHJldlByb3BzLmluaXRpYWxNYXBTdGF0ZSBpcyB1bmRlZmluZWQgYW5kIHByb3BzLmluaXRpYWxNYXBTdGF0ZSBpcyBudWxsLCBzbyB3ZSBuZWVkIHRvIGNvbnZlcnQgdW5kZWZpbmVkIHRvIG51bGxcclxuICAgIGNvbnN0IHByZUluaXRpYWxNYXBTdGF0ZSA9IHByZXZQcm9wcz8uaW5pdGlhbE1hcFN0YXRlIHx8IG51bGxcclxuICAgIGNvbnN0IGN1cnJJbml0aWFsTWFwU3RhdGUgPSB0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZSB8fCBudWxsXHJcbiAgICBjb25zdCBpc0luaXRpYWxNYXBTdGF0ZUNoYW5nZWQgPSBwcmVJbml0aWFsTWFwU3RhdGUgIT09IGN1cnJJbml0aWFsTWFwU3RhdGVcclxuXHJcbiAgICAvLyBkZXN0cm95IGN1cnJlbnQgdmlldyB3aGVuIHZpZXcgY2hhbmdlZCBvciBpbml0aWFsTWFwU3RhdGUgY2hhbmdlZFxyXG4gICAgaWYgKHRoaXMuaG9tZUJ0biAmJiAodGhpcy5ob21lQnRuLnZpZXcgIT09IGN1cnJWaWV3IHx8IGlzSW5pdGlhbE1hcFN0YXRlQ2hhbmdlZCkpIHtcclxuICAgICAgdGhpcy5kZXN0cm95SG9tZUJ0bigpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY3JlYXRlIG5ldyBob21lIGJ0biBpZiB0aGlzLmhvbWVCdG4gaXMgZW1wdHkgYW5kIGN1cnJWaWV3IGlzIG5vdCBlbXB0eVxyXG4gICAgaWYgKCF0aGlzLmhvbWVCdG4gJiYgY3VyclZpZXcpIHtcclxuICAgICAgbGV0IGluaXRWaWV3cG9pbnQgPSB0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZVxyXG4gICAgICAgID8gdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUodGhpcy5wcm9wcy5pbml0aWFsTWFwU3RhdGUpXHJcbiAgICAgICAgOiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3Lm1hcCBhcyBfX2VzcmkuV2ViTWFwIHwgX19lc3JpLldlYlNjZW5lKS5pbml0aWFsVmlld1Byb3BlcnRpZXMudmlld3BvaW50XHJcblxyXG4gICAgICBpZiAoaW5pdFZpZXdwb2ludCkge1xyXG4gICAgICAgIGluaXRWaWV3cG9pbnQgPSBpbml0Vmlld3BvaW50LmNsb25lKClcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgaG9tZUJ0bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGhvbWVCdG5Db250YWluZXIpXHJcblxyXG4gICAgICB0aGlzLmhvbWVCdG4gPSBuZXcgdGhpcy5Ib21lKHtcclxuICAgICAgICBjb250YWluZXI6IGhvbWVCdG5Db250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxyXG4gICAgICAgIHZpZXdwb2ludDogaW5pdFZpZXdwb2ludCxcclxuICAgICAgICBnb1RvT3ZlcnJpZGU6IHRoaXMuaG9tZUJ0bkdvVG9PdmVycmlkZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnSG9tZScpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdIb21lJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5ob21lQnRuXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzSW5pdGlhbE1hcFN0YXRlQ2hhbmdlZCkge1xyXG4gICAgICAvLyBpbml0aWFsTWFwU3RhdGUgY2hhbmdlXHJcblxyXG4gICAgICBpZiAoY3VyclZpZXcgJiYgdGhpcy5ob21lQnRuKSB7XHJcbiAgICAgICAgLy8gY29uc3QgY2xvbmVWaWV3cG9pbnQgPSB0aGlzLmhvbWVCdG4udmlld3BvaW50LmNsb25lKClcclxuICAgICAgICAvLyBzZXQgY3VyclZpZXcudmlld3BvaW50IHRvIGNsb25lVmlld3BvaW50IGRpcmVjdGx5IG5vdCB3b3JrIHdpdGggZXJyb3IgJ2ludmFsaWQgc2NhbGUgdmFsdWUgb2YgMCcgaWYgdGhlIGluaXQgaG9tZUJ0YW4udmlld3BvaW50LnNjYWxlIGlzIDAsIHNvIHVzZSB2aWV3LmdvVG8oKSBpbnN0ZWFkXHJcbiAgICAgICAgLy8gY3VyclZpZXcudmlld3BvaW50ID0gY2xvbmVWaWV3cG9pbnRcclxuICAgICAgICAvLyBjdXJyVmlldy5nb1RvKGNsb25lVmlld3BvaW50LCB7XHJcbiAgICAgICAgLy8gICBhbmltYXRlOiBmYWxzZVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgICAgdGhpcy5ob21lQnRuLmdvKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlID0gKGluaXRpYWxNYXBTdGF0ZTogSW5pdGlhbE1hcFN0YXRlKTogX19lc3JpLlZpZXdwb2ludCA9PiB7XHJcbiAgICBpZiAoaW5pdGlhbE1hcFN0YXRlLnZpZXdUeXBlID09PSAnMmQnKSB7XHJcbiAgICAgIHJldHVybiBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IHRoaXMuRXh0ZW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS5leHRlbnQpLFxyXG4gICAgICAgICAgcm90YXRpb246IGluaXRpYWxNYXBTdGF0ZS5yb3RhdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuVmlld3BvaW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS52aWV3UG9pbnQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBob21lQnRuR29Ub092ZXJyaWRlID0gYXN5bmMgKHZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgZ29Ub1BhcmFtczogX19lc3JpLkdvVG9UYXJnZXQyRCAmIF9fZXNyaS5Hb1RvT3B0aW9uczJEKSA9PiB7XHJcbiAgICBjb25zdCBpczJEVmlldyA9IHZpZXcudHlwZSA9PT0gJzJkJ1xyXG5cclxuICAgIC8vIHNuYXBUb1pvb206IHRydWUgbWVhbnMgaW50ZWdlciB6b29tLCBmYWxzZSBtZWFucyBmbG9hdCB6b29tXHJcbiAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSBnb1RvIHRoZSBpbnRlZ2VyIHpvb20gd2hlbiBjbGljayBob21lIGJ0bi5cclxuICAgIGxldCBuZWVkVG9SZXN0b3JlU25hcFRvWm9vbVRvRmFsc2UgPSBmYWxzZVxyXG4gICAgaWYgKGlzMkRWaWV3ICYmIHZpZXcuY29uc3RyYWludHMgJiYgIXZpZXcuY29uc3RyYWludHMuc25hcFRvWm9vbSkge1xyXG4gICAgICB2aWV3LmNvbnN0cmFpbnRzLnNuYXBUb1pvb20gPSB0cnVlXHJcbiAgICAgIG5lZWRUb1Jlc3RvcmVTbmFwVG9ab29tVG9GYWxzZSA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB2aWV3LmdvVG8oZ29Ub1BhcmFtcy50YXJnZXQsIGdvVG9QYXJhbXMub3B0aW9ucylcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignaG9tZSBidG4gZ290byBlcnJvcicsIGUpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gV2hlbiBnb1RvIGlzIGRvbmUsIHdlIG5lZWQgdG8gcmVzZXQgdG8gZmxvYXQgem9vbSB0byBnZXQgdGhlIGJlc3Qgc3luY2hyb25pemF0aW9uIGJldHdlZW4gdHdvIG1hcCB3aWRnZXRzLlxyXG4gICAgaWYgKGlzMkRWaWV3ICYmIHZpZXcuY29uc3RyYWludHMgJiYgbmVlZFRvUmVzdG9yZVNuYXBUb1pvb21Ub0ZhbHNlKSB7XHJcbiAgICAgIHZpZXcuY29uc3RyYWludHMuc25hcFRvWm9vbSA9IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95SG9tZUJ0biAoKSB7XHJcbiAgICBpZiAodGhpcy5ob21lQnRuKSB7XHJcbiAgICAgIC8vIHRoaXMuaG9tZUJ0bi5kZXN0cm95KCkgd2lsbCByZW1vdmUgdGhpcy5ob21lQnRuLmNvbnRhaW5lciBmcm9tIGRvbSB0cmVlIGFuZCBsZXQgdGhpcy5ob21lQnRuLmNvbnRhaW5lci5wYXJlbnROb2RlIGJlIG51bGxcclxuICAgICAgdGhpcy5ob21lQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLmhvbWVCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0hvbWUnKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5kZXN0cm95SG9tZUJ0bigpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdob21lLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IGlmICghdGhpcy5jb250YWluZXIpIHsgdGhpcy5jb250YWluZXIgPSByZWYgfSB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIE5hdiwgTmF2SXRlbSwgTmF2TGluayB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheWVycyBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xyXG4gIHRvb2xOYW1lID0gJ0xheWVycydcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiAwXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5MYXllcnNMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmcnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBzdHlsZT17eyB3aWR0aDogdGhpcy5wcm9wcy5pc01vYmlsZSA/ICcxMDAlJyA6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fVxyXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7ICdleGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCc6ICF0aGlzLnByb3BzLmlzTW9iaWxlIH0pfVxyXG4gICAgICA+XHJcbiAgICAgICAgPE5hdiB0YWJzPlxyXG4gICAgICAgICAgPE5hdkl0ZW0+XHJcbiAgICAgICAgICAgIDxOYXZMaW5rIGFjdGl2ZT17dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMH0gb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZVRhYkluZGV4Q2hhbmdlKDApIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAwKSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsTGF5ZXInLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkxheWVyc0xhYmVsTGF5ZXIgfSl9XHJcbiAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDF9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgxKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgMSkgfX0+XHJcbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdMYXllcnNMYWJlbExlZ2VuZCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTGF5ZXJzTGFiZWxMZWdlbmQgfSl9XHJcbiAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICA8L05hdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtMScgLz5cclxuICAgICAgICB7dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMCAmJiA8TGF5ZXJMaXN0SW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+fVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAxICYmIDxMZWdlbmRJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVGFiSW5kZXhDaGFuZ2UgPSAoYWN0aXZlVGFiSW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiBhY3RpdmVUYWJJbmRleFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICB0aGlzLmhhbmRsZVRhYkluZGV4Q2hhbmdlKGluZGV4KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIElubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIExheWVyTGlzdElubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJbm5lclByb3BzLCBJbm5lclN0YXRlPiB7XHJcbiAgTGF5ZXJMaXN0OiB0eXBlb2YgX19lc3JpLkxheWVyTGlzdCA9IG51bGxcclxuICBMYXllckxpc3RCdG46IF9fZXNyaS5MYXllckxpc3RcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xheWVyTGlzdCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkxheWVyTGlzdF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IElubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcclxuICAgICAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcclxuICAgICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuLnJlbmRlck5vdygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuID0gbmV3IHRoaXMuTGF5ZXJMaXN0KHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdMYXllckxpc3QnKVxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgbmFtZTogJ0xheWVyTGlzdCcsXHJcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcy5MYXllckxpc3RCdG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcclxuICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xheWVyTGlzdCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2xheWVycy1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgTGVnZW5kSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElubmVyUHJvcHMsIElubmVyU3RhdGU+IHtcclxuICBMZWdlbmQ6IHR5cGVvZiBfX2VzcmkuTGVnZW5kID0gbnVsbFxyXG4gIExlZ2VuZEJ0bjogX19lc3JpLkxlZ2VuZFxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTGVnZW5kJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTGVnZW5kXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xyXG4gICAgICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xyXG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4ucmVuZGVyTm93KClcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5MZWdlbmRCdG4gPSBuZXcgdGhpcy5MZWdlbmQoe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xlZ2VuZCcpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnTGVnZW5kJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkxlZ2VuZEJ0blxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xyXG4gICAgICB0aGlzLkxlZ2VuZEJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTGVnZW5kJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdMb2NhdGUnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnTG9jYXRlJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPExvY2F0ZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIExvY2F0ZUlubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTG9jYXRlSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIExvY2F0ZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMb2NhdGVJbm5lclByb3BzLCBMb2NhdGVJbm5lclN0YXRlPiB7XHJcbiAgTG9jYXRlOiB0eXBlb2YgX19lc3JpLkxvY2F0ZSA9IG51bGxcclxuICBMb2NhdGVCdG46IF9fZXNyaS5Mb2NhdGVcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xvY2F0ZSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkxvY2F0ZV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5Mb2NhdGVCdG4pIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG5ldyB0aGlzLkxvY2F0ZSh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xvY2F0ZScpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLkxvY2F0ZUJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuTG9jYXRlQnRuKSB7XHJcbiAgICAgIHRoaXMuTG9jYXRlQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTG9jYXRlJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Vzcmktd2lkZ2V0LS1idXR0b24gbG9jYXRlLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgcG9saXNoZWQsIGdldEFwcFN0b3JlLCBjbGFzc05hbWVzLCBhcHBBY3Rpb25zIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCBNYXBUaHVtYiBmcm9tICcuLi9jb21wb25lbnRzL21hcC10aHVtYidcclxuaW1wb3J0IHsgdHlwZSBUb29sU2hlbGxQcm9wcyB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbC1zaGVsbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFN3aXRjaCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdNYXBTd2l0Y2gnXHJcblxyXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzQXZhaWxhYmxlICh0b29sU2hlbGxQcm9wczogVG9vbFNoZWxsUHJvcHMpOiBib29sZWFuIHtcclxuICAgIGlmICh0b29sU2hlbGxQcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICBjb25zdCB3aWRnZXRJZCA9IHRvb2xTaGVsbFByb3BzLm1hcFdpZGdldElkXHJcblxyXG4gICAgICBpZiAod2lkZ2V0SWQpIHtcclxuICAgICAgICBjb25zdCB3aWRnZXRJbmZvID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzW3dpZGdldElkXVxyXG5cclxuICAgICAgICBpZiAod2lkZ2V0SW5mbykge1xyXG4gICAgICAgICAgcmV0dXJuIHdpZGdldEluZm8udXNlRGF0YVNvdXJjZXMgJiYgd2lkZ2V0SW5mby51c2VEYXRhU291cmNlcy5sZW5ndGggPj0gMlxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWx3YXlzIHJldHVybiB0cnVlIGZvciBwYyBsYXlvdXQgYmVjYXVzZSBmYWxzZSB3aWxsIGxldCBTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lciBpbiB3cm9pbmcgcG9zaXRpb24uXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDY4KX07XHJcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNTIpfTtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAubWFwdGh1bWItaXRlbSB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg2NCl9O1xyXG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNDgpfTtcclxuICAgICAgICB0cmFuc2l0aW9uOiBib3R0b20gMC41cywgbGVmdCAwLjVzLCB0b3AgMC41cywgcmlnaHQgMC41cywgei1pbmRleCAwLjVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZnJvbnQge1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5iYWNrIHtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdNYXBTd2l0Y2gnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJyksXHJcbiAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hNYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzd2l0Y2hNYXAgPSAoKSA9PiB7fVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgeyh7IGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSB9KSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29udGVudChpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwLCBtYXBXaWRnZXRJZCwgdGhlbWUpXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIG9uQ2xpY2spID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIGU/LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgb25DbGljaygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb250ZW50ID0gKGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhbiwgZGF0YVNvdXJjZUlkczogc3RyaW5nW10sIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSkgPT4ge1xyXG4gICAgY29uc3Qgb25DbGljayA9ICgpID0+IHtcclxuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnJlcXVlc3RBdXRvQ29udHJvbE1hcFdpZGdldChtYXBXaWRnZXRJZCwgbWFwV2lkZ2V0SWQpKVxyXG4gICAgICBzd2l0Y2hNYXAoKVxyXG4gICAgfVxyXG4gICAgaWYgKGlzU2hvd01hcFN3aXRjaEJ0bikge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicgb25DbGljaz17b25DbGlja30gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIG9uQ2xpY2spIH19IGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTd2l0Y2hNYXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlN3aXRjaE1hcCB9KX0+XHJcbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGRzSnNvbnMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLmRhdGFTb3VyY2VzXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFwc3dpdGNoLW1hcC10b29sJyBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gb25DbGljaz17b25DbGlja30gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIG9uQ2xpY2spIH19IGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTd2l0Y2hNYXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlN3aXRjaE1hcCB9KX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICB0aXRsZT17ZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0ubGFiZWwgOiBudWxsfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ21hcHRodW1iLWl0ZW0nLCB7IGZyb250OiBkYXRhU291cmNlSWRzWzBdICE9PSBhY3RpdmVEYXRhU291cmNlSWQgfSxcclxuICAgICAgICAgICAgICAgIHsgYmFjazogZGF0YVNvdXJjZUlkc1swXSA9PT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0pfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPE1hcFRodW1iXHJcbiAgICAgICAgICAgICAgICBtYXBJdGVtSWQ9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dLml0ZW1JZCA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICBwb3J0VXJsPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5wb3J0YWxVcmwgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgdGl0bGU9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dLmxhYmVsIDogbnVsbH0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdtYXB0aHVtYi1pdGVtJywgeyBmcm9udDogZGF0YVNvdXJjZUlkc1sxXSAhPT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0sXHJcbiAgICAgICAgICAgICAgICB7IGJhY2s6IGRhdGFTb3VyY2VJZHNbMV0gPT09IGFjdGl2ZURhdGFTb3VyY2VJZCB9KX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxNYXBUaHVtYlxyXG4gICAgICAgICAgICAgICAgbWFwSXRlbUlkPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXS5pdGVtSWQgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgcG9ydFVybD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0ucG9ydGFsVXJsIDogbnVsbH1cclxuICAgICAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEljb25Db250ZW50ID0gKGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhbiwgZGF0YVNvdXJjZUlkczogc3RyaW5nW10sIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nLCBzd2l0Y2hNYXApID0+IHtcclxuICAgIGlmIChpc1Nob3dNYXBTd2l0Y2hCdG4pIHtcclxuICAgICAgdGhpcy5zd2l0Y2hNYXAgPSBzd2l0Y2hNYXBcclxuICAgICAgcmV0dXJuIHN1cGVyLnJlbmRlcigpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XHJcbiAgICAgIHJldHVybiBzdXBlci5yZW5kZXIoKVxyXG4gICAgICAvLyBJbiBmYWN0LCBpdCBuZXZlciBnb2VzIGhlcmUuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCB9KSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0SWNvbkNvbnRlbnQoaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcClcclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMsIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBOYXYsIE5hdkl0ZW0sIE5hdkxpbmssIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbnR5cGUgTWVhc3VyZVR5cGUgPSBfX2VzcmkuTWVhc3VyZW1lbnRcclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIGFjdGl2ZVRhYkluZGV4OiBudW1iZXJcclxuICBtZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lYXN1cmUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcclxuICBhY3RpdmVUYWJSZWY6IEhUTUxFbGVtZW50XHJcbiAgdG9vbE5hbWUgPSAnTWVhc3VyZSdcclxuICBtZWFzdXJlTW9kdWxlczJEID0gW3tcclxuICAgIG5hbWU6ICdMaW5lJyxcclxuICAgIHRpdGxlOiAnTGluZScsXHJcbiAgICBhY3RpdmVUb29sOiAnZGlzdGFuY2UnLFxyXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdQb2x5Z29uJyxcclxuICAgIHRpdGxlOiAnUG9seWdvbicsXHJcbiAgICBhY3RpdmVUb29sOiAnYXJlYScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcclxuICB9XVxyXG5cclxuICBtZWFzdXJlTW9kdWxlczNEID0gW3tcclxuICAgIG5hbWU6ICdMaW5lJyxcclxuICAgIHRpdGxlOiAnTGluZScsXHJcbiAgICBhY3RpdmVUb29sOiAnZGlyZWN0LWxpbmUnLFxyXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdQb2x5Z29uJyxcclxuICAgIHRpdGxlOiAnUG9seWdvbicsXHJcbiAgICBhY3RpdmVUb29sOiAnYXJlYScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcclxuICB9XVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiAwLFxyXG4gICAgICBtZWFzdXJlSW5zdGFuY2U6IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnTWVhc3VyZUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5NZWFzdXJlTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb2N1c0RlZmF1bHRFbGVtZW50ICgpIHtcclxuICAgIHRoaXMuYWN0aXZlVGFiUmVmPy5mb2N1cygpXHJcbiAgfVxyXG5cclxuICBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlICYmICEodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UgYXMgYW55KS5kZXN0cm95ZWQpIHtcclxuICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlIGFzIGFueSkuZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG1lYXN1cmVJbnN0YW5jZTogbnVsbCxcclxuICAgICAgICBhY3RpdmVUYWJJbmRleDogMFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQgPSAobWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1lYXN1cmVJbnN0YW5jZTogbWVhc3VyZUluc3RhbmNlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25UYWJDbGljayA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZS5jbGVhcigpXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlVGFiSW5kZXg6IGluZGV4IH0pXHJcbiAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnID8gJ2Rpc3RhbmNlJyA6ICdkaXJlY3QtbGluZSdcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9ICdhcmVhJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIHRoaXMub25UYWJDbGljayhpbmRleClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uUmVxdWVzdENsb3NlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSA9PT0gdGhpcy50b29sTmFtZSkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ2xvc2VQYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMuZGVzdHJveSgpXHJcbiAgfVxyXG5cclxuICBvblNob3dQYW5lbCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlLmFjdGl2ZVRvb2wgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzJkJyA/ICdkaXN0YW5jZScgOiAnZGlyZWN0LWxpbmUnXHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlLmFjdGl2ZVRvb2wgPSAnYXJlYSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TmF2VGFiID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPE5hdiB0YWJzPntcclxuICAgICAgICAgIHRoaXMubWVhc3VyZU1vZHVsZXMyRC5tYXAoKG1vZHVsZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFiVGl0bGUgPSBpbmRleCA9PT0gMCA/ICdkcmF3TW9kZUxpbmUnIDogJ2RyYXdNb2RlUG9seWdvbidcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8TmF2SXRlbSBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICAgIDxOYXZMaW5rIGFjdGl2ZT17dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXh9IHJlZj17cmVmID0+IHsgdGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXggJiYgKHRoaXMuYWN0aXZlVGFiUmVmID0gcmVmKSB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMub25UYWJDbGljayhpbmRleCkgfX1cclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCBpbmRleCkgfX1cclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IGAke3RhYlRpdGxlfWAsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbdGFiVGl0bGVdIH0pfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nbS0wJyBpY29uPXttb2R1bGUuc3JjfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgPC9OYXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICczZCcpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TmF2IHRhYnM+e1xyXG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczNELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJUaXRsZSA9IGluZGV4ID09PSAwID8gJ2RyYXdNb2RlTGluZScgOiAnZHJhd01vZGVQb2x5Z29uJ1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxOYXZJdGVtIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gcmVmPXtyZWYgPT4geyB0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleCAmJiAodGhpcy5hY3RpdmVUYWJSZWYgPSByZWYpIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5vblRhYkNsaWNrKGluZGV4KSB9fVxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIGluZGV4KSB9fVxyXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogYCR7dGFiVGl0bGV9YCwgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1t0YWJUaXRsZV0gfSl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdtLTAnIGljb249e21vZHVsZS5zcmN9IC8+XHJcbiAgICAgICAgICAgICAgICA8L05hdkxpbms+XHJcbiAgICAgICAgICAgICAgPC9OYXZJdGVtPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICA8L05hdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1lYXN1cmVNb2R1bGUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVhc3VyZU1vZHVsZXMyRFt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4XVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVhc3VyZU1vZHVsZXMzRFt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4XVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBzdHlsZT17eyB3aWR0aDogdGhpcy5wcm9wcy5pc01vYmlsZSA/ICcxMDAlJyA6ICcyNTBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgJ2V4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0JzogIXRoaXMucHJvcHMuaXNNb2JpbGUgfSl9XHJcbiAgICAgID5cclxuICAgICAgICB7dGhpcy5nZXROYXZUYWIoKX1cclxuICAgICAgICA8TWVhc3VyZUlubmVyXHJcbiAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH1cclxuICAgICAgICAgIGFjdGl2ZVRhYkluZGV4PXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4fSBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld31cclxuICAgICAgICAgIG1lYXN1cmVNb2R1bGU9e3RoaXMuZ2V0TWVhc3VyZU1vZHVsZSgpfVxyXG4gICAgICAgICAgbWVhc3VyZUluc3RhbmNlPXt0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZX1cclxuICAgICAgICAgIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ9e3RoaXMuaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWR9XHJcbiAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICBvblJlcXVlc3RDbG9zZVBhbmVsPXt0aGlzLm9uUmVxdWVzdENsb3NlUGFuZWx9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVhc3VyZUlubmVyUHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBtZWFzdXJlTW9kdWxlOiB7IG5hbWU6IHN0cmluZywgdGl0bGU6IHN0cmluZywgYWN0aXZlVG9vbDogc3RyaW5nIH1cclxuICBtZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlXHJcbiAgYWN0aXZlVGFiSW5kZXg6IG51bWJlclxyXG4gIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ6IChpbnN0YW5jZTogTWVhc3VyZVR5cGUpID0+IHZvaWRcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxuICBvblJlcXVlc3RDbG9zZVBhbmVsOiAoKSA9PiB2b2lkXHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWFzdXJlSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIE1lYXN1cmVJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TWVhc3VyZUlubmVyUHJvcHMsIE1lYXN1cmVJbm5lclN0YXRlPiB7XHJcbiAgTWVhc3VyZUNsYXNzOiB0eXBlb2YgX19lc3JpLkRpc3RhbmNlTWVhc3VyZW1lbnQyRCB8IHR5cGVvZiBfX2VzcmkuQXJlYU1lYXN1cmVtZW50MkQgfCB0eXBlb2YgX19lc3JpLkRpcmVjdExpbmVNZWFzdXJlbWVudDNEIHwgdHlwZW9mIF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQzRFxyXG4gIE1lYXN1cmVJbnN0YW5jZTogTWVhc3VyZVR5cGUgPSBudWxsXHJcblxyXG4gIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgdG9vbE5hbWU6IHN0cmluZyA9ICdtZWFzdXJlbWVudCdcclxuICBpZDogc3RyaW5nXHJcbiAgY3VycmVudEppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIG9yaWdpbmFsQ2xpY2tIaWdobGlnaHRFbmFibGVkOiBib29sZWFuXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5pZCA9IGAke3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9LW1lYXN1cmUtdG9vbGBcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTWVhc3VyZW1lbnQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5NZWFzdXJlQ2xhc3NdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBNZWFzdXJlSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMucGFyZW50Q29udGFpbmVyICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICghdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UpIHtcclxuICAgICAgICAvLyBjcmF0ZSBtZWFzdXJlIGlzbnRhbmNlIGhlcmVcclxuICAgICAgICBjb25zdCB0ZW1wSW5zdGFuY2U6IGFueSA9IG5ldyB0aGlzLk1lYXN1cmVDbGFzcyh7XHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0ZW1wSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMubWVhc3VyZU1vZHVsZS5hY3RpdmVUb29sXHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KHRoaXMucHJvcHMuamltdU1hcFZpZXcpXHJcbiAgICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2wodGhpcy50b29sTmFtZSlcclxuICAgICAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiB0aGlzLnRvb2xOYW1lLFxyXG4gICAgICAgICAgaW5zdGFuY2U6IHRlbXBJbnN0YW5jZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMub25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZCh0ZW1wSW5zdGFuY2UpXHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYXBwQWN0aW9ucy5yZXF1ZXN0QXV0b0NvbnRyb2xNYXBXaWRnZXQodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgdGhpcy5pZClcclxuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBuZXdKaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnZpZXcgIT09IG5ld0ppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgIC8vIG1hcCB2aWV3IGNoYW5nZWQgYnkgc3dpdGNoXHJcbiAgICAgICAgICB0aGlzLnJlc3RvcmVDbGlja0hpZ2hsaWdodEVuYWJsZWRGb3JDdXJyZW50SmltdU1hcFZpZXcoKVxyXG4gICAgICAgICAgdGhpcy5zZXRDdXJyZW50SmltdU1hcFZpZXcobmV3SmltdU1hcFZpZXcpXHJcblxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuY2xlYXIoKVxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyA9IG5ld0ppbXVNYXBWaWV3LnZpZXdcclxuXHJcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS5hY3RpdmVUb29sID0gdGhpcy5wcm9wcy5tZWFzdXJlTW9kdWxlLmFjdGl2ZVRvb2xcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY2hlY2tDb250YWluZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIGF1dG9Db250cm9sV2lkZ2V0SWQgY2hhbmdlZFxyXG4gICAgY29uc3QgcHJldkF1dG9Db250cm9sV2lkZ2V0SWQgPSBwcmV2UHJvcHM/LmF1dG9Db250cm9sV2lkZ2V0SWQgfHwgJydcclxuICAgIGlmIChwcmV2QXV0b0NvbnRyb2xXaWRnZXRJZCA9PT0gdGhpcy5pZCAmJiB0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgLy8gbWVhc3VyZSBpcyBmcm9tIGFjdGl2ZSB0byBpbmFjdGl2ZSwgZGVzdHJveSBNZWFzdXJlSW5uZXJcclxuICAgICAgdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZVBhbmVsKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpOiB2b2lkIHtcclxuICAgIHRoaXMucmVzdG9yZUNsaWNrSGlnaGxpZ2h0RW5hYmxlZEZvckN1cnJlbnRKaW11TWFwVmlldygpXHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCA9PT0gdGhpcy5pZCkge1xyXG4gICAgICBjb25zdCBhY3Rpb24gPSBhcHBBY3Rpb25zLnJlbGVhc2VBdXRvQ29udHJvbE1hcFdpZGdldCh0aGlzLnByb3BzLm1hcFdpZGdldElkKVxyXG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KTogdm9pZCB7XHJcbiAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldyA9IGppbXVNYXBWaWV3XHJcbiAgICB0aGlzLm9yaWdpbmFsQ2xpY2tIaWdobGlnaHRFbmFibGVkID0gamltdU1hcFZpZXcuaXNDbGlja0hpZ2hsaWdodEVuYWJsZWQoKVxyXG4gICAgLy8gZGlzYWJsZSBjbGljayBoaWdobGlnaHQgdG8gYXZvaWQgY29uZmxpY3Qgd2l0aCBjbGlja2luZy1zZWxlY3RcclxuICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LmRpc2FibGVDbGlja0hpZ2hsaWdodCgpXHJcbiAgfVxyXG5cclxuICByZXN0b3JlQ2xpY2tIaWdobGlnaHRFbmFibGVkRm9yQ3VycmVudEppbXVNYXBWaWV3ICgpIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRKaW11TWFwVmlldykge1xyXG4gICAgICBpZiAodGhpcy5vcmlnaW5hbENsaWNrSGlnaGxpZ2h0RW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LmVuYWJsZUNsaWNrSGlnaGxpZ2h0KClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldy5kaXNhYmxlQ2xpY2tIaWdobGlnaHQoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0NvbnRhaW5lciA9ICgpID0+IHtcclxuICAgIGlmICgodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID09PSAnMCcgfHwgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9PT0gMCkge1xyXG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUuaGVpZ2h0ID0gJydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbG9hZCAoKSB7XHJcbiAgICBpZiAodGhpcy5jb250YWluZXIuY2hpbGROb2RlcyAmJiB0aGlzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdKSB7XHJcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5oZWlnaHQgPSAnMzVweCdcclxuICAgIH1cclxuXHJcbiAgICAvL3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgLy8gIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIC8vfSwgKCkgPT4ge1xyXG4gICAgLy8gIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTWVhc3VyZW1lbnQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgIC8vICAgIFt0aGlzLk1lYXN1cmVDbGFzc10gPSBtb2R1bGVzXHJcbiAgICAvLyAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgIC8vICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAvLyAgICB9KVxyXG4gICAgLy8gIH0pXHJcbiAgICAvL30pXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJyBzdHlsZT17eyB3aWR0aDogJzI1MHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScsIG1pbkhlaWdodDogJzMycHgnIH19IHJlZj17cmVmID0+IHsgdGhpcy5wYXJlbnRDb250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21lYXN1cmUtY29udGFpbmVyIG1lYXN1cmUtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IHR5cGUgVG9vbFNoZWxsUHJvcHMgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wtc2hlbGwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0aW9uIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ05hdmlnYXRpb24nXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnTmF2aWdhdGlvbidcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxOYXZpZ2F0aW9uSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOYXZpZ2F0aW9uIG9ubHkgc3VwcG9ydHMgc2NlbmUgdmlldywgc28gU2NhbGVCYXJUb29sLmlzQXZhaWxhYmxlKCkgd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIG1hcCBpcyBtYXAgdmlldy5cclxuICAgKi9cclxuICBzdGF0aWMgaXNBdmFpbGFibGUgKHRvb2xTaGVsbFByb3BzOiBUb29sU2hlbGxQcm9wcyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRvb2xTaGVsbFByb3BzLmppbXVNYXBWaWV3Py52aWV3Py50eXBlID09PSAnM2QnXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgTmF2aWdhdGlvbklubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTmF2aWdhdGlvbklubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBOYXZpZ2F0aW9uSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE5hdmlnYXRpb25Jbm5lclByb3BzLCBOYXZpZ2F0aW9uSW5uZXJTdGF0ZT4ge1xyXG4gIE5hdmlnYXRpb246IHR5cGVvZiBfX2VzcmkuTmF2aWdhdGlvblRvZ2dsZSA9IG51bGxcclxuICBOYXZpZ2F0aW9uQnRuOiBfX2VzcmkuTmF2aWdhdGlvblRvZ2dsZVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTmF2aWdhdGlvblRvZ2dsZSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLk5hdmlnYXRpb25dID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0biA9IG5ldyB0aGlzLk5hdmlnYXRpb24oe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3IGFzIF9fZXNyaS5TY2VuZVZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ05hdmlnYXRpb24nKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnTmF2aWdhdGlvbicsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuTmF2aWdhdGlvbkJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xyXG4gICAgICB0aGlzLk5hdmlnYXRpb25CdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTmF2aWdhdGlvbicpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSduYXZpZ2F0aW9uLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBnZXRBcHBTdG9yZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyB0eXBlIFRvb2xTaGVsbFByb3BzIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sLXNoZWxsJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhbGVCYXIgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnU2NhbGVCYXInXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnU2NhbGVCYXInXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiA8U2NhbGVCYXJJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNjYWxlQmFyIG9ubHkgc3VwcG9ydHMgbWFwIHZpZXcsIHNvIFNjYWxlQmFyVG9vbC5pc0F2YWlsYWJsZSgpIHdpbGwgcmV0dXJuIGZhbHNlIGlmIHRoZSBtYXAgaXMgc2NlbmUgdmlldy5cclxuICAgKi9cclxuICBzdGF0aWMgaXNBdmFpbGFibGUgKHRvb2xTaGVsbFByb3BzOiBUb29sU2hlbGxQcm9wcyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRvb2xTaGVsbFByb3BzLmppbXVNYXBWaWV3Py52aWV3Py50eXBlID09PSAnMmQnXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgU2NhbGVCYXJJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIFNjYWxlQmFySW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIFNjYWxlQmFySW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNjYWxlQmFySW5uZXJQcm9wcywgU2NhbGVCYXJJbm5lclN0YXRlPiB7XHJcbiAgU2NhbGVCYXI6IHR5cGVvZiBfX2VzcmkuU2NhbGVCYXIgPSBudWxsXHJcbiAgU2NhbGVCYXJCdG46IF9fZXNyaS5TY2FsZUJhclxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvU2NhbGVCYXInXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5TY2FsZUJhcl0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5TY2FsZUJhckJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCByYXdVbml0ID0gJydcclxuXHJcbiAgICAgIGNvbnN0IGFwcFN0YXRlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpXHJcblxyXG4gICAgICBpZiAoYXBwU3RhdGUpIHtcclxuICAgICAgICBpZiAoYXBwU3RhdGUudXNlciAmJiBhcHBTdGF0ZS51c2VyLnVuaXRzKSB7XHJcbiAgICAgICAgICByYXdVbml0ID0gYXBwU3RhdGUudXNlci51bml0c1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXBwU3RhdGUucG9ydGFsU2VsZiAmJiBhcHBTdGF0ZS5wb3J0YWxTZWxmLnVuaXRzKSB7XHJcbiAgICAgICAgICByYXdVbml0ID0gYXBwU3RhdGUucG9ydGFsU2VsZi51bml0c1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHNjYWxlQmFyVW5pdDogJ21ldHJpYycgfCAnaW1wZXJpYWwnIHwgJ2R1YWwnID0gbnVsbFxyXG5cclxuICAgICAgLy8gbWV0cmljID0+IG1ldHJpY1xyXG4gICAgICAvLyBlbmdsaXNoID0+IGltcGVyaWFsXHJcbiAgICAgIC8vICcnID0+IGR1YWxcclxuICAgICAgaWYgKHJhd1VuaXQgPT09ICdtZXRyaWMnKSB7XHJcbiAgICAgICAgc2NhbGVCYXJVbml0ID0gJ21ldHJpYydcclxuICAgICAgfSBlbHNlIGlmIChyYXdVbml0ID09PSAnZW5nbGlzaCcpIHtcclxuICAgICAgICBzY2FsZUJhclVuaXQgPSAnaW1wZXJpYWwnXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2NhbGVCYXJVbml0ID0gJ2R1YWwnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBuZXcgdGhpcy5TY2FsZUJhcih7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgYXMgX19lc3JpLk1hcFZpZXcsXHJcbiAgICAgICAgdW5pdDogc2NhbGVCYXJVbml0XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdTY2FsZUJhcicpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdTY2FsZUJhcicsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuU2NhbGVCYXJCdG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLlNjYWxlQmFyQnRuKSB7XHJcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NjYWxlQmFyJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3NjYWxlYmFyLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIGdldEFwcFN0b3JlLCBNZXNzYWdlTWFuYWdlciwgTG9jYXRpb25DaGFuZ2VNZXNzYWdlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2ggZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnU2VhcmNoJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlYXJjaExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWFyY2hMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL3NlYXJjaC5zdmcnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHdpZHRoOiAnMTAwJScgfX0+XHJcbiAgICAgICAgICA8U2VhcmNoSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWluV2lkdGg6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgIDxTZWFyY2hJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZWFyY2hJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBTZWFyY2hJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgU2VhcmNoSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNlYXJjaElubmVyUHJvcHMsIFNlYXJjaElubmVyU3RhdGU+IHtcclxuICBTZWFyY2g6IHR5cGVvZiBfX2Vzcmkud2lkZ2V0c1NlYXJjaCA9IG51bGxcclxuICBQb3J0YWw6IHR5cGVvZiBfX2VzcmkuUG9ydGFsID0gbnVsbFxyXG4gIFNlYXJjaEJ0bjogX19lc3JpLndpZGdldHNTZWFyY2hcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLyogYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgxMTAsMTEwLDExMCwwLjMpOyAqL1xyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1NlYXJjaCcsICdlc3JpL3BvcnRhbC9Qb3J0YWwnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5TZWFyY2gsIHRoaXMuUG9ydGFsXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLlNlYXJjaEJ0bikge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclBhcmVudCA9IHRoaXMuY29udGFpbmVyLnBhcmVudEVsZW1lbnRcclxuICAgICAgICB0aGlzLlNlYXJjaEJ0bi5kZXN0cm95KClcclxuICAgICAgICB0aGlzLlNlYXJjaEJ0biA9IG51bGxcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50ICYmIGNvbnRhaW5lclBhcmVudCkge1xyXG4gICAgICAgICAgY29udGFpbmVyUGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5TZWFyY2hCdG4gPSBuZXcgdGhpcy5TZWFyY2goe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxyXG4gICAgICAgIHBvcnRhbDogbmV3IHRoaXMuUG9ydGFsKHtcclxuICAgICAgICAgIHVybDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFVybFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdTZWFyY2gnKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnU2VhcmNoJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5TZWFyY2hCdG5cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuU2VhcmNoQnRuLm9uKCdzZWxlY3QtcmVzdWx0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFldmVudC5yZXN1bHQuZmVhdHVyZS5sYXllcikge1xyXG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBldmVudC5yZXN1bHQuZmVhdHVyZS5nZW9tZXRyeS50b0pTT04oKVxyXG4gICAgICAgICAgTWVzc2FnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5wdWJsaXNoTWVzc2FnZShuZXcgTG9jYXRpb25DaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMubWFwV2lkZ2V0SWQsIGdlb21ldHJ5KSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBldmVudC5yZXN1bHQuZmVhdHVyZS5nZW9tZXRyeVxyXG4gICAgICAgICAgaWYgKGdlb21ldHJ5LnR5cGUgPT09ICdwb2ludCcpIHtcclxuICAgICAgICAgICAgTWVzc2FnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5wdWJsaXNoTWVzc2FnZShuZXcgTG9jYXRpb25DaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMubWFwV2lkZ2V0SWQsIGdlb21ldHJ5LnRvSlNPTigpKSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gZ2VvbWV0cnkuZXh0ZW50LmNlbnRlclxyXG4gICAgICAgICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG5ldyBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgcG9pbnQudG9KU09OKCkpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLlNlYXJjaEJ0bikge1xyXG4gICAgICB0aGlzLlNlYXJjaEJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5TZWFyY2hCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NlYXJjaCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPSd3LTEwMCBzZWFyY2gtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsganN4IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBTZWxlY3RQQ1Rvb2wgfSBmcm9tICcuL3NlbGVjdC1wYydcclxuaW1wb3J0IHsgU2VsZWN0TW9iaWxlVG9vbCB9IGZyb20gJy4vc2VsZWN0LW1vYmlsZSdcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG5pbnRlcmZhY2UgU2VsZWN0U3RhdGUge31cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFNlbGVjdFN0YXRlPiB7XHJcbiAgdG9vbE5hbWUgPSAnU2VsZWN0J1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7fVxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3RMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0TGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8U2VsZWN0TW9iaWxlVG9vbFxyXG4gICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9XHJcbiAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbE5hbWU9e3RoaXMudG9vbE5hbWV9XHJcbiAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICBfb25JY29uQ2xpY2s9eygpID0+IHsgKHRoaXMgYXMgYW55KS5fb25JY29uQ2xpY2soKSB9fVxyXG4gICAgICAgICAgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGludGw9e3RoaXMucHJvcHMuaW50bH0gamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9XHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8U2VsZWN0UENUb29sXHJcbiAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH1cclxuICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgIHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSBpbnRsPXt0aGlzLnByb3BzLmludGx9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fVxyXG4gICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvb2xOYW1lPXt0aGlzLnRvb2xOYW1lfVxyXG4gICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgX29uSWNvbkNsaWNrPXsoKSA9PiB7ICh0aGlzIGFzIGFueSkuX29uSWNvbkNsaWNrKCkgfX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3QsIHBvbGlzaGVkLCBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucywgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCB0eXBlIEludGxTaGFwZSwgRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIE1vYmlsZVBhbmVsLCBkZWZhdWx0TWVzc2FnZXMsIFJhZGlvIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCBTZWxlY3RQcm9ncmVzcyBmcm9tICcuL3NlbGVjdC1wcm9ncmVzcydcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIGF1dG9Db250cm9sV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIHRoZW1lPzogSU1UaGVtZVZhcmlhYmxlc1xyXG4gIGludGw/OiBJbnRsU2hhcGVcclxuXHJcbiAgamltdU1hcFZpZXc/OiBKaW11TWFwVmlld1xyXG4gIHRvb2xOYW1lOiBzdHJpbmdcclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuXHJcbiAgLy8gdG9nZ2xlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lXHJcbiAgLy8gcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBzZXQgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgdG8gc2VsZWN0IHRvb2wgaWYgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgaXMgbm90IHNlbGVjdCB0b29sLlxyXG4gIC8vIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgc2V0IHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lIHRvIG51bGwgaWYgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgc2VsZWN0IHRvb2wuXHJcbiAgLy8gX29uSWNvbkNsaWNrIGlzIGEgcXVpY2sgd2F5IHRvIGNhbGwgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZVxyXG4gIF9vbkljb25DbGljazogKCkgPT4gdm9pZFxyXG5cclxuICAvLyBub3QgdXNlZCBmb3Igbm93XHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBza2V0Y2hJbml0aWFsZWQ6IGJvb2xlYW5cclxuICBpc0FjdGl2ZTogYm9vbGVhbiAvLyB0aGUgYnV0dG9uIGlzIGFjdGl2ZSBvciBub3RcclxuICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGJvb2xlYW4gLy8gc2hvdyBtb2JpbGUgcGFuZWwgb3Igbm90XHJcblxyXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcclxuICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfCAnY29udGFpbnMnXHJcbiAgc2VsZWN0UHJvZ3Jlc3M6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgU2tldGNoQ3JlYXRlT3B0aW9ucyB7XHJcbiAgW3Rvb2w6IHN0cmluZ106IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxDcmVhdGVDcmVhdGVPcHRpb25zXHJcbn1cclxuXHJcbmludGVyZmFjZSBMYXN0S2V5RXZlbnRJbmZvIHtcclxuICBldmVudERhdGU6IERhdGVcclxuICBpc0tleURvd246IGJvb2xlYW4gLy8gdHJ1ZSBtZWFucyBrZXlkb3duLCBmYWxzZSBtZWFucyBrZXl1cFxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XHJcbiAgc3R5bGU6ICdlc3JpU01TQ2lyY2xlJyxcclxuICBjb2xvcjogWzAsIDAsIDEyOCwgMTI4XSxcclxuICBuYW1lOiAnQ2lyY2xlJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBjb2xvcjogWzAsIDAsIDEyOCwgMjU1XSxcclxuICAgIHdpZHRoOiAxXHJcbiAgfSxcclxuICB0eXBlOiAnZXNyaVNNUycsXHJcbiAgc2l6ZTogMThcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xyXG4gIHRhZ3M6IFsnc29saWQnXSxcclxuICB0aXRsZTogJ0JsdWUgVGhpbicsXHJcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCAyNTVdLFxyXG4gIHdpZHRoOiAzLFxyXG4gIG5hbWU6ICdCbHVlIDEnLFxyXG4gIHR5cGU6ICdlc3JpU0xTJ1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWdvblN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTRlNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcclxuICB0eXBlOiAnZXNyaVNGUycsXHJcbiAgb3V0bGluZToge1xyXG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gICAgY29sb3I6IFs1NCwgOTMsIDE0MSwgMjU1XSxcclxuICAgIHdpZHRoOiAxLjUsXHJcbiAgICB0eXBlOiAnZXNyaVNMUydcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFNlbGVjdFJlY3RhbmdsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXJlY3RhbmdsZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RMYXNzb0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZycpXHJcbmNvbnN0IFNlbGVjdENpcmNsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RMaW5lSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGluZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RQb2ludEljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZycpXHJcbmNvbnN0IFNlbGVjdE1vcmVJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvbW9yZS0xNi5zdmcnKVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdE1vYmlsZVRvb2wgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZXM+IHtcclxuICBTa2V0Y2hWaWV3TW9kZWw6IHR5cGVvZiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgR3JhcGhpY3NMYXllcjogdHlwZW9mIF9fZXNyaS5HcmFwaGljc0xheWVyXHJcbiAgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnlcclxuICBqc29uVXRpbHM6IHR5cGVvZiBfX2VzcmkuanNvblV0aWxzID0gbnVsbFxyXG4gIGdlb21ldHJ5RW5naW5lOiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5RW5naW5lXHJcbiAgc2tldGNoVmlld01vZGVsOiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgY3VycmVudEFjdGl2ZVRvb2w6IHN0cmluZyA9ICdyZWN0YW5nbGUnXHJcbiAgc2tldENoQ3JlYXRlT3B0aW9uczogU2tldGNoQ3JlYXRlT3B0aW9uc1xyXG4gIHZpZXdLZXlEb3duSGFuZGxlOiBfX2VzcmkuSGFuZGxlXHJcbiAgdmlld0tleVVwSGFuZGxlOiBfX2VzcmkuSGFuZGxlXHJcbiAgbGFzdFNoaWZ0S2V5RXZlbnRJbmZvOiBMYXN0S2V5RXZlbnRJbmZvXHJcbiAgbGFzdEN0cmxLZXlFdmVudEluZm86IExhc3RLZXlFdmVudEluZm9cclxuICBpc01hYzogYm9vbGVhblxyXG4gIGFjdGl2ZUppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGlkOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5pc01hYyA9IHdpbmRvdy5qaW11VUE/Lm9zPy5uYW1lID09PSAnbWFjT1MnXHJcbiAgICB0aGlzLmlkID0gYCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0tc2VsZWN0LXRvb2xgXHJcblxyXG4gICAgdGhpcy5za2V0Q2hDcmVhdGVPcHRpb25zID0ge1xyXG4gICAgICBwb2x5Z29uOiB7XHJcbiAgICAgICAgbW9kZTogJ2h5YnJpZCdcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHNrZXRjaEluaXRpYWxlZDogZmFsc2UsXHJcbiAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBmYWxzZSxcclxuICAgICAgY3VycmVudFNlbGVjdFR5cGU6ICdSZWN0YW5nbGUnLFxyXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXHJcbiAgICAgIHNlbGVjdFByb2dyZXNzOiAwXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5iaW5kU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcblxyXG4gIGdldENTU1N0eWxlICgpIHtcclxuICAgIGNvbnN0IHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZVxyXG5cclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1idG4taG92ZXI6IGhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs1MDBdLCAwLjEpfTs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50LXRpdGxlIHtcclxuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwge1xyXG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgICAgICAgcGFkZGluZzogNHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZSB7XHJcbiAgICAgICAgd2lkdGg6IDY0cHg7XHJcbiAgICAgICAgaGVpZ2h0OiA2NHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQ6YWZ0ZXIge1xyXG4gICAgICAgIHdpZHRoOiAwO1xyXG4gICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLXRleHQge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgd2lkdGg6IDQwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAgICdlc3JpL3dpZGdldHMvU2tldGNoL1NrZXRjaFZpZXdNb2RlbCcsXHJcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL0dyYXBoaWNzTGF5ZXInLFxyXG4gICAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeScsXHJcbiAgICAgICAgJ2Vzcmkvc3ltYm9scy9zdXBwb3J0L2pzb25VdGlscycsXHJcbiAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmUnLFxyXG4gICAgICAgIC8vIFdoZW4geW91IGZpcnN0IGNsaWNrIHRvIGVuYWJsZSB0aGUgaW50ZXJhY3RpdmUgdG9vbHMsIGxpa2UgdGhlIHJlY3RhbmdsZSwgZm9yIGEgY291cGxlIG9mIHNlY29uZHMsIHRoZXJlIGlzIG5vIGN1cnNvciBvbiB0aGUgbWFwLCBhbmQgeW91IGNhbm5vdCBkbyBhbnl0aGluZyAtIHdoaWNoIGxvb2tzIGxpa2UgYSBidWcuXHJcbiAgICAgICAgLy8gVG8gZml4IHRoZSBhYm92ZSBpc3N1ZSwgd2UgbmVlZCB0byBwcmVsb2FkIHRoZSBmb2xsb3dpbmcgQVBJIG1vZHVsZXMgZm9yIFNrZXRjaFZpZXdNb2RlbC5cclxuICAgICAgICAnZXNyaS92aWV3cy8yZC9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMnLFxyXG4gICAgICAgICdlc3JpL3ZpZXdzLzNkL2ludGVyYWN0aXZlL2VkaXRpbmdUb29scycsXHJcbiAgICAgICAgJ2Vzcmkvdmlld3MvMmQvbGF5ZXJzL0dyYXBoaWNzTGF5ZXJWaWV3MkQnLFxyXG4gICAgICAgICdlc3JpL3ZpZXdzLzNkL2xheWVycy9HcmFwaGljc0xheWVyVmlldzNEJ1xyXG4gICAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLlNrZXRjaFZpZXdNb2RlbCwgdGhpcy5HcmFwaGljc0xheWVyLCB0aGlzLlF1ZXJ5LCB0aGlzLmpzb25VdGlscywgdGhpcy5nZW9tZXRyeUVuZ2luZV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LndoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHNrZXRjaEluaXRpYWxlZDogdHJ1ZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlcykge1xyXG4gICAgaWYgKHByZXZTdGF0ZS5za2V0Y2hJbml0aWFsZWQgIT09IHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIC8vIHN0YXRlLnNrZXRjaEluaXRpYWxlZCBjaGFuZ2VkIGZyb20gZmFsc2UgdG8gdHJ1ZVxyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwodGhpcy5jdXJyZW50QWN0aXZlVG9vbClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgLy8gYWN0aXZlIEppbXVNYXBWaWV3IGNoYW5nZWRcclxuICAgICAgLy8gbmVlZCB0byBkZXN0cm95IGN1cnJlbnQgdGhpcy5za2V0Y2hWaWV3TW9kZWwgYW5kIHJlY3JlYXRlIGl0LCBkb250J3QgY2hhbmdlIHRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcsIGJlY2F1c2Ugd2UgbmVlZCB0byBiaW5kIHZpZXcga2V5ZG93bi9rZXl1cCBldmVudHMgYmVmb3JlIGluaXQgc2tldGNoVmlld01vZGVsXHJcbiAgICAgIHRoaXMuZGVzdHJveVNrZXRjaFZpZXdNb2RlbEFuZFJlbGVhc2VIYW5kbGVzKClcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSAmJiB0aGlzLmN1cnJlbnRBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2U3RhdGUuaXNBY3RpdmUgIT09IHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgLy8gYWN0aXZlIGNoYW5nZVxyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgLy8gY2hhbmdlIGZyb20gaW5hY3RpdmUgdG8gYWN0aXZlXHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY2hhbmdlIGZyb20gYWN0aXZlIHRvIGluYWN0aXZlXHJcbiAgICAgICAgdGhpcy5kZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5TdGF0ZUNoYW5nZShwcmV2U3RhdGUpXHJcblxyXG4gICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5Qcm9wc0NoYW5nZShwcmV2UHJvcHMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgcHJvcHMuYWN0aXZlVG9vbE5hbWUgZm9yIHRoZSBmb2xsb3dpbmcgY2FzZXM6XHJcbiAgICogY2FzZTE6IElmIHNlbGVjdCB0b29sIGdldHMgYWN0aXZlIGZyb20gaW5hY3RpdmUsIG5lZWRzIHRvIHNldCBtYXAucHJvcHMuYWN0aXZlVG9vbE5hbWUgdG8gc2VsZWN0IHRvb2wgYnkgY2FsbGluZyBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkuXHJcbiAgICogY2FzZTI6IElmIHNlbGVjdCB0b29sIGdldHMgaW5hY3RpdmUgZnJvbSBhY3RpdmUsIG5lZWRzIHRvIHNldCBtYXAucHJvcHMuYWN0aXZlVG9vbE5hbWUgdG8gbnVsbCBieSBjYWxsaW5nIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKS5cclxuICAgKi9cclxuICB0cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5TdGF0ZUNoYW5nZSAocHJldlN0YXRlOiBTdGF0ZXMpIHtcclxuICAgIGlmICghcHJldlN0YXRlKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgPSAhIShwcmV2U3RhdGUuaXNBY3RpdmUgfHwgcHJldlN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cClcclxuICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wgPSAhISh0aGlzLnN0YXRlLmlzQWN0aXZlIHx8IHRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwKVxyXG5cclxuICAgIGlmICghcHJldlNlbGVjdElzQWN0aXZlVG9vbCAmJiBjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgIC8vIHNlbGVjdCBjaGFuZ2VzIHRvIGFjdGl2ZSB0b29sXHJcblxyXG4gICAgICAvLyBEb24ndCB1c2UgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIHRvIHVwZGF0ZSBwcm9wcy5hY3RpdmVUb29sSW5mbywgd2Ugc2hvdWxkIHVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgICAgLy8gQmVjYXVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIGNhbGwgdGhpcy5vblNob3dQYW5lbCgpIGluIGJhc2UtdG9vbC50c3gsIGJ1dCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgZG9lc24ndC5cclxuICAgICAgLy8gdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKHtcclxuICAgICAgLy8gICBhY3RpdmVUb29sTmFtZTogdGhpcy5wcm9wcy50b29sTmFtZSxcclxuICAgICAgLy8gICBhY3RpdmVUb29sVGl0bGU6IHRoaXMucHJvcHMudG9vbE5hbWVcclxuICAgICAgLy8gfSlcclxuXHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudFRvb2xBc0FjdGl2ZVRvb2woKVxyXG4gICAgfSBlbHNlIGlmIChwcmV2U2VsZWN0SXNBY3RpdmVUb29sICYmICFjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgIC8vIHNlbGVjdCBjaGFuZ2VzIHRvIGluYWN0aXZlIHRvb2xcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2VcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIERvbid0IHVzZSBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgdG8gdXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLCB3ZSBzaG91bGQgdXNlIHByb3BzLl9vbkljb25DbGljaygpIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgICAvLyBCZWNhdXNlIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgY2FsbCB0aGlzLm9uU2hvd1BhbmVsKCkgaW4gYmFzZS10b29sLnRzeCwgYnV0IHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSBkb2Vzbid0LlxyXG4gICAgICAvLyB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuXHJcbiAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbFRvTnVsbCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB0cnkgdG8gc2V0IHN0YXRlLmlzQWN0aXZlIGFuZCBzdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgdG8gZmFsc2UgZm9yIHRoZSBmb2xsb3dpbmcgY2FzZXM6XHJcbiAgICogY2FzZTE6IElmIHNlbGVjdCB0b29sIGlzIG9yaWdpbmFsbHkgYWN0aXZlLCBidXQgYW5vdGhlciBtYXAgc2VsZWN0IHRvb2wgZ2V0cyBhY3RpdmUsIHRoZW4gbmVlZHMgc2V0IHN0YXRlLmlzQWN0aXZlIGFuZCBzdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgdG8gZmFsc2UuXHJcbiAgICogY2FzZTI6IElmIHNlbGVjdCB0b29sIGlzIG9yaWdpbmFsbHkgYWN0aXZlLCBidXQgYW5vdGhlciB3aWRnZXQgZ2V0cyBjb250cm9sIG9mIG1hcCwgdGhlbiBuZWVkcyBzZXQgc3RhdGUuaXNBY3RpdmUgYW5kIHN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB0byBmYWxzZS5cclxuICAgKiBAcGFyYW0gcHJldlByb3BzXHJcbiAgICovXHJcbiAgdHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuUHJvcHNDaGFuZ2UgKHByZXZQcm9wczogUHJvcHMpIHtcclxuICAgIGxldCBzaG91bGRCZUluYWN0aXZlID0gZmFsc2VcclxuXHJcbiAgICBjb25zdCBwcmVBY3RpdmVUb29sTmFtZSA9IHByZXZQcm9wcz8uYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lIHx8ICcnXHJcbiAgICBjb25zdCBjdXJyZW50QWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZSB8fCAnJ1xyXG5cclxuICAgIGlmIChwcmVBY3RpdmVUb29sTmFtZSAhPT0gY3VycmVudEFjdGl2ZVRvb2xOYW1lKSB7XHJcbiAgICAgIC8vIHByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lIGNoYW5nZXNcclxuICAgICAgY29uc3QgdG9vbE5hbWUgPSB0aGlzLnByb3BzLnRvb2xOYW1lXHJcbiAgICAgIGNvbnN0IHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgPSBwcmVBY3RpdmVUb29sTmFtZSA9PT0gdG9vbE5hbWVcclxuICAgICAgY29uc3QgY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCA9IGN1cnJlbnRBY3RpdmVUb29sTmFtZSA9PT0gdG9vbE5hbWVcclxuXHJcbiAgICAgIGlmIChwcmV2U2VsZWN0SXNBY3RpdmVUb29sICYmICFjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgLy8gc2VsZWN0IGNoYW5nZXMgdG8gaW5hY3RpdmUgdG9vbCBiZWFjYXVzZSBhbm90aGVyIG1hcCB0b29sIGdldHMgYWN0aXZlLCBlLmcuIG1hcCBsYXllcnMgdG9vbCBnZXRzIGFjdGl2ZVxyXG4gICAgICAgIHNob3VsZEJlSW5hY3RpdmUgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB3ZSBkb24ndCBjaGVjayB0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgaXMgZW1wdHkgb3Igbm90LCB3ZSB3aWxsIGdldCB0aGUgZm9sbG93aW5nIHdyb25nIGNhc2VcclxuICAgIC8vIDEuIENsaWNrIG1lYXN1cmUgdG9vbCwgbWVhc3VyZSBpcyB0aGUgYWN0aXZlIHRvb2wgYW5kIG1lYXN1cmUgY29udHJvbHMgdGhlIG1hcFxyXG4gICAgLy8gMi4gVGhlbiBjbGljayBzZWxlY3QgdG9vbCwgc2VsZWN0IHRvb2wgZG9lc24ndCBnZXQgYWN0aXZlXHJcbiAgICBpZiAocHJldlByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgPT09IHRoaXMuaWQgJiYgdGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkICYmIHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCAhPT0gdGhpcy5pZCkge1xyXG4gICAgICAvLyBhbm90aGVyIHdpZGdldCBnZXRzIGNvbnRyb2wgb2YgbWFwLCBzZWxlY3QgdG9vbCBsb3NlcyBjb250cm9sIG9mIG1hcFxyXG4gICAgICBzaG91bGRCZUluYWN0aXZlID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzaG91bGRCZUluYWN0aXZlICYmICh0aGlzLnN0YXRlLmlzQWN0aXZlIHx8IHRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5kZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMoKVxyXG4gICAgdGhpcy5yZWxlYXNlU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcblxyXG4gIGRlc3Ryb3lTa2V0Y2hWaWV3TW9kZWxBbmRSZWxlYXNlSGFuZGxlcyAoKSB7XHJcbiAgICB0aGlzLnJlbGVhc2VWaWV3SGFuZGxlcygpXHJcblxyXG4gICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3ID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgPT09IHRoaXMuaWQpIHtcclxuICAgICAgLy8gc2VsZWN0IHRvb2wgcmVsZWFzZXMgdGhlIGNvbnRyb2wgb2YgbWFwXHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGFwcEFjdGlvbnMucmVsZWFzZUF1dG9Db250cm9sTWFwV2lkZ2V0KHRoaXMucHJvcHMubWFwV2lkZ2V0SWQpXHJcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYWN0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVsZWFzZVZpZXdIYW5kbGVzICgpIHtcclxuICAgIGlmICh0aGlzLmFjdGl2ZUppbXVNYXBWaWV3KSB7XHJcbiAgICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcucmVtb3ZlU2VsZWN0QnlRdWVyeVByb2dyZXNzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkppbXVNYXBWaWV3U2VsZWN0UHJvZ3Jlc3NDaGFuZ2UpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudmlld0tleURvd25IYW5kbGUpIHtcclxuICAgICAgdGhpcy52aWV3S2V5RG93bkhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLnZpZXdLZXlEb3duSGFuZGxlID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnZpZXdLZXlVcEhhbmRsZSkge1xyXG4gICAgICB0aGlzLnZpZXdLZXlVcEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLnZpZXdLZXlVcEhhbmRsZSA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZUlzU2VsZWN0QWN0aXZlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzQWN0aXZlOiAhdGhpcy5zdGF0ZS5pc0FjdGl2ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNlbGVjdFR5cGVQb3B1cCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6ICF0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRUb29sQXNBY3RpdmVUb29sICgpOiB2b2lkIHtcclxuICAgIC8vIERvbid0IHVzZSBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgdG8gdXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLCB3ZSBzaG91bGQgdXNlIHByb3BzLl9vbkljb25DbGljaygpIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgLy8gQmVjYXVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIGNhbGwgdGhpcy5vblNob3dQYW5lbCgpIGluIGJhc2UtdG9vbC50c3gsIGJ1dCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgZG9lc24ndC5cclxuICAgIGlmICghdGhpcy5pc1NlbGVjdElzQWN0aXZlVG9vbCgpKSB7XHJcbiAgICAgIHRoaXMucHJvcHMuX29uSWNvbkNsaWNrKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZVRvb2xUb051bGwgKCk6IHZvaWQge1xyXG4gICAgLy8gRG9uJ3QgdXNlIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSB0byB1cGRhdGUgcHJvcHMuYWN0aXZlVG9vbEluZm8sIHdlIHNob3VsZCB1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAgICAvLyBCZWNhdXNlIHByb3BzLl9vbkljb25DbGljaygpIHdpbGwgY2FsbCB0aGlzLm9uU2hvd1BhbmVsKCkgaW4gYmFzZS10b29sLnRzeCwgYnV0IHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSBkb2Vzbid0LlxyXG4gICAgaWYgKHRoaXMuaXNTZWxlY3RJc0FjdGl2ZVRvb2woKSkge1xyXG4gICAgICB0aGlzLnByb3BzLl9vbkljb25DbGljaygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB0aGlzIG1ldGhvZCBpcyBvbmx5IHVzZWQgYnkgc2V0Q3VycmVudFRvb2xBc0FjdGl2ZVRvb2wgYW5kIHNldEFjdGl2ZVRvb2xUb051bGxcclxuICBpc1NlbGVjdElzQWN0aXZlVG9vbCAoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50b29sTmFtZSAmJiB0aGlzLnByb3BzLnRvb2xOYW1lID09PSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZVxyXG4gIH1cclxuXHJcbiAgb25KaW11TWFwVmlld1NlbGVjdFByb2dyZXNzQ2hhbmdlID0gKHByb2dyZXNzKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgc2VsZWN0UHJvZ3Jlc3M6IHByb2dyZXNzXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXNlU2hpZnRLZXkgKHRvbGVhcm5hY2VNczogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VLZXkodGhpcy5sYXN0U2hpZnRLZXlFdmVudEluZm8sIHRvbGVhcm5hY2VNcylcclxuICB9XHJcblxyXG4gIHVzZUN0cmxLZXkgKHRvbGVhcm5hY2VNczogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VLZXkodGhpcy5sYXN0Q3RybEtleUV2ZW50SW5mbywgdG9sZWFybmFjZU1zKVxyXG4gIH1cclxuXHJcbiAgdXNlS2V5IChsYXN0S2V5RXZlbnRJbmZvOiBMYXN0S2V5RXZlbnRJbmZvLCB0b2xlYXJuYWNlTXM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKGxhc3RLZXlFdmVudEluZm8pIHtcclxuICAgICAgaWYgKGxhc3RLZXlFdmVudEluZm8uaXNLZXlEb3duKSB7XHJcbiAgICAgICAgLy8ga2V5IGlzIHN0aWxsIGRvd24gYW5kIG5vdCB1cCwgcmV0dXJuIHRydWVcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGtleSBpcyB1cCwgd2UgdXNlIHRvbGVhcm5hY2VNcyB0byBkZXRlcmluZSB0aGUgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gRGF0ZS5ub3coKSAtIGxhc3RLZXlFdmVudEluZm8uZXZlbnREYXRlLmdldFRpbWUoKVxyXG5cclxuICAgICAgICBpZiAoZGVsdGFUaW1lIDw9IHRvbGVhcm5hY2VNcykge1xyXG4gICAgICAgICAgLy8ga2V5dXAgdGltZSBpcyBub3QgdG9vIGxvbmcgZnJvbSBub3dcclxuICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGtleXVwIHRpbWUgaXMgdG9vIGxvbmcgZnJvbSBub3dzXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGtleSBuZXZlciBkb3duLCByZXR1cm4gZmFsc2VcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBiaW5kU2hpZnRDdHJsS2V5c0V2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93biwgdHJ1ZSlcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVVwLCB0cnVlKVxyXG4gIH1cclxuXHJcbiAgcmVsZWFzZVNoaWZ0Q3RybEtleXNFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24sIHRydWUpXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlVcCwgdHJ1ZSlcclxuICB9XHJcblxyXG4gIG9uS2V5RG93biA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICB0aGlzLmxhc3RTaGlmdEtleUV2ZW50SW5mbyA9IHtcclxuICAgICAgICBldmVudERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgaXNLZXlEb3duOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoKHRoaXMuaXNNYWMgJiYgZXZlbnQua2V5ID09PSAnTWV0YScpIHx8ICghdGhpcy5pc01hYyAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykpIHtcclxuICAgICAgdGhpcy5sYXN0Q3RybEtleUV2ZW50SW5mbyA9IHtcclxuICAgICAgICBldmVudERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgaXNLZXlEb3duOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uS2V5VXAgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXkgPT09ICdTaGlmdCcpIHtcclxuICAgICAgdGhpcy5sYXN0U2hpZnRLZXlFdmVudEluZm8gPSB7XHJcbiAgICAgICAgZXZlbnREYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGlzS2V5RG93bjogZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICgodGhpcy5pc01hYyAmJiBldmVudC5rZXkgPT09ICdNZXRhJykgfHwgKCF0aGlzLmlzTWFjICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSkge1xyXG4gICAgICB0aGlzLmxhc3RDdHJsS2V5RXZlbnRJbmZvID0ge1xyXG4gICAgICAgIGV2ZW50RGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBpc0tleURvd246IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRpYWxTa2V0Y2hUb29sICgpIHtcclxuICAgIGlmICghdGhpcy5Ta2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICB0aGlzLnJlbGVhc2VWaWV3SGFuZGxlcygpXHJcblxyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldyA9IGppbXVNYXBWaWV3XHJcbiAgICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcuYWRkU2VsZWN0QnlRdWVyeVByb2dyZXNzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkppbXVNYXBWaWV3U2VsZWN0UHJvZ3Jlc3NDaGFuZ2UpXHJcblxyXG4gICAgICBjb25zdCB2aWV3ID0gamltdU1hcFZpZXcudmlld1xyXG5cclxuICAgICAgdGhpcy52aWV3S2V5RG93bkhhbmRsZSA9IHZpZXcub24oJ2tleS1kb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnZpZXdLZXlEb3duSGFuZGxlID0gdmlldy5vbigna2V5LXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1NoaWZ0Jykge1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG5ldyB0aGlzLlNrZXRjaFZpZXdNb2RlbCh7XHJcbiAgICAgICAgdmlldzogdmlldyxcclxuICAgICAgICBsYXllcjogbmV3IHRoaXMuR3JhcGhpY3NMYXllcigpLFxyXG4gICAgICAgIHBvaW50U3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9pbnRTeW1ib2wpIGFzIGFueSxcclxuICAgICAgICBwb2x5bGluZVN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlsaW5lU3ltYm9sKSBhcyBhbnksXHJcbiAgICAgICAgcG9seWdvblN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlnb25TeW1ib2wpIGFzIGFueVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwub24oJ2NyZWF0ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICAgICAgLy8ga2VlcCBjb250aW51b3VzIGRyYXdpbmcgZm9yIFNrZXRjaFZpZXdNb2RlbFxyXG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpXHJcblxyXG4gICAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcbiAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmNsb3NlUG9wdXAoKVxyXG5cclxuICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBldmVudC5ncmFwaGljXHJcblxyXG4gICAgICAgICAgLy8gZ3JhcGhpYy5nZW9tZXRyeSBpcyBudWxsIHdoZW4gZG91YmxlIGNsaWNrIG1hcFxyXG4gICAgICAgICAgaWYgKCFncmFwaGljLmdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdza2V0Y2ggZ3JhcGhpYy5nZW9tZXRyeSBpcyBudWxsJylcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgdXNlS2V5VG9sZXJhbmNlTXMgPSA1MDBcclxuICAgICAgICAgIGNvbnN0IGlzU2hpZnRLZXkgPSB0aGlzLnVzZVNoaWZ0S2V5KHVzZUtleVRvbGVyYW5jZU1zKVxyXG4gICAgICAgICAgY29uc3QgaXNDdHJsS2V5ID0gdGhpcy51c2VDdHJsS2V5KHVzZUtleVRvbGVyYW5jZU1zKVxyXG5cclxuICAgICAgICAgIGxldCBzZWxlY3Rpb25Nb2RlID0gRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUuTmV3XHJcblxyXG4gICAgICAgICAgaWYgKGlzU2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgaWYgKGlzQ3RybEtleSkge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5TZWxlY3RGcm9tQ3VycmVudFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5BZGRUb0N1cnJlbnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGlzQ3RybEtleSkge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5SZW1vdmVGcm9tQ3VycmVudFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGUgPSBEYXRhU291cmNlU2VsZWN0aW9uTW9kZS5OZXdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGppbXVNYXBWaWV3LnNlbGVjdEZlYXR1cmVzQnlHcmFwaGljKGdyYXBoaWMsIHRoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCwgc2VsZWN0aW9uTW9kZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsIChhY3RpdmVUb29sOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICBjb25zdCBjcmVhdGVPcHRpb25zID0gdGhpcy5za2V0Q2hDcmVhdGVPcHRpb25zW2FjdGl2ZVRvb2xdXHJcblxyXG4gICAgICBpZiAoY3JlYXRlT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZShhY3RpdmVUb29sIGFzIGFueSwgY3JlYXRlT3B0aW9ucylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoYWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgICAvLyBzZWxlY3QgdG9vbCBnZXRzIGNvbnRyb2wgb2YgbWFwXHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYXBwQWN0aW9ucy5yZXF1ZXN0QXV0b0NvbnRyb2xNYXBXaWRnZXQodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgdGhpcy5pZClcclxuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudFNlbGVjdFR5cGUgPSAoY3VycmVudFNlbGVjdFR5cGU6IGFueSkgPT4ge1xyXG4gICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50Jykge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCgncG9pbnQnKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9pbnQnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCgncmVjdGFuZ2xlJylcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3JlY3RhbmdsZSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ3BvbHlnb24nKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9seWdvbidcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdjaXJjbGUnKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAnY2lyY2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdwb2x5bGluZScpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5bGluZSdcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY3VycmVudFNlbGVjdFR5cGU6IGN1cnJlbnRTZWxlY3RUeXBlLFxyXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tMb2FkaW5nUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmVKaW11TWFwVmlldykge1xyXG4gICAgICBjb25zdCB1cGRhdGVTZWxlY3Rpb24gPSB0cnVlXHJcbiAgICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcuY2FuY2VsU2VsZWN0QnlRdWVyeSh1cGRhdGVTZWxlY3Rpb24pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RJY29uVGl0bGUgKCkge1xyXG4gICAgbGV0IHRvcFRpdGxlOiBzdHJpbmcgPSAnJ1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeVBvaW50JylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdGlvbkJ5UmVjdGFuZ2xlJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICB0b3BUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnU2VsZWN0aW9uQnlMYXNzbycpXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeUNpcmNsZScpXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICB0b3BUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnU2VsZWN0aW9uQnlMaW5lJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3RMYWJlbCcpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3U2VsZWN0aW9uID0gdGhpcy5mb3JtYXRNZXNzYWdlKCduZXdTZWxlY3Rpb24nKVxyXG4gICAgY29uc3QgYWRkVG9DdXJyZW50U2VsZWN0aW9uID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdhZGRUb0N1cnJlbnRTZWxlY3Rpb24nKVxyXG4gICAgY29uc3QgcmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3JlbW92ZUZyb21DdXJyZW50U2VsZWN0aW9uJylcclxuICAgIGNvbnN0IHNlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvbicpXHJcbiAgICBjb25zdCBkcmF3U2hhcGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2RyYXdTaGFwZScpXHJcbiAgICBjb25zdCBkcmF3ID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdkcmF3JylcclxuICAgIGNvbnN0IGN0cmxLZXkgPSB0aGlzLmlzTWFjID8gJ0NtZCcgOiAnQ3RybCdcclxuXHJcbiAgICBjb25zdCBuZXdTZWxlY3Rpb25UaXAgPSBg4oiZICR7bmV3U2VsZWN0aW9ufSAoJHtkcmF3U2hhcGV9KWBcclxuICAgIGNvbnN0IGFkZFRvQ3VycmVudFNlbGVjdGlvblRpcCA9IGDiiJkgJHthZGRUb0N1cnJlbnRTZWxlY3Rpb259IChTaGlmdCArICR7ZHJhd30pYFxyXG4gICAgY29uc3QgcmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb25UaXAgPSBg4oiZICR7cmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb259ICgke2N0cmxLZXl9ICsgJHtkcmF3fSlgXHJcbiAgICBjb25zdCBzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvblRpcCA9IGDiiJkgJHtzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvbn0gKFNoaWZ0ICsgJHtjdHJsS2V5fSArICR7ZHJhd30pYFxyXG5cclxuICAgIGNvbnN0IGZpbmFsVGl0bGUgPVxyXG4gICAgYCR7dG9wVGl0bGV9XHJcbiR7bmV3U2VsZWN0aW9uVGlwfVxyXG4ke2FkZFRvQ3VycmVudFNlbGVjdGlvblRpcH1cclxuJHtyZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvblRpcH1cclxuJHtzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvblRpcH1cclxuICAgIGBcclxuXHJcbiAgICByZXR1cm4gZmluYWxUaXRsZVxyXG4gIH1cclxuXHJcbiAgZm9ybWF0TWVzc2FnZSAoc3RySWQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IHN0cklkLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW3N0cklkXSB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0VG9vbEljb24gPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50Jykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0UG9pbnRJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdExhc3NvSWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0Q2lyY2xlSWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdExpbmVJY29uXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gU2VsZWN0UmVjdGFuZ2xlSWNvblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TW9iaWxlUGFuZWxGb3JTZWxlY3RTZXR0aW5nID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgbWFwV2lkZ2V0SWQgfSkgPT4gKFxyXG4gICAgICAgICAgPE1vYmlsZVBhbmVsXHJcbiAgICAgICAgICAgIG1hcFdpZGdldElkPXtgJHttYXBXaWRnZXRJZH0td2l0aC1zZWxlY3QtY29udGFpbmVyYH0gdGl0bGU9JydcclxuICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXB9IG9uQ2xvc2U9eygpID0+IHsgdGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXAoKSB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAnPlxyXG4gICAgICAgICAgICAgIHt0aGlzLmdldE1vYmlsZVBhbmVsU2V0dGluZ0NvbnRlbnQoKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L01vYmlsZVBhbmVsPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgZ2V0TW9iaWxlUGFuZWxTZXR0aW5nQ29udGVudCA9ICgpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LXRpdGxlIG10LTEgbWItMic+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2wnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2wgfSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIHNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lci1zaGVsbCc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIGQtZmxleCc+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItNCBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnXHJcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUmVjdGFuZ2xlJykgfX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZVNlbGVjdFR5cGVLZXlEb3duKGUsICdSZWN0YW5nbGUnKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFJlY3RhbmdsZUljb259IC8+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xSZWN0YW5nbGUgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTQgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nXHJcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnTGFzc28nKSB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ0xhc3NvJykgfX1cclxuICAgICAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMYXNzb0ljb259IC8+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xMYXNzbyB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItNCBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnXHJcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnQ2lyY2xlJykgfX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZVNlbGVjdFR5cGVLZXlEb3duKGUsICdDaXJjbGUnKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdENpcmNsZUljb259IC8+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbENpcmNsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbENpcmNsZSB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTQgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZSdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMaW5lJykgfX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZVNlbGVjdFR5cGVLZXlEb3duKGUsICdMaW5lJykgfX1cclxuICAgICAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMaW5lSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTQgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnXHJcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUG9pbnQnKSB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ1BvaW50JykgfX1cclxuICAgICAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RQb2ludEljb259IC8+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xQb2ludCB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGVudC10aXRsZSBtdC0xIG1iLTInPlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Nb2RlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Nb2RlIH0pfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cclxuICAgICAgICAgICAgPFJhZGlvXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnaW50ZXJzZWN0cyd9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdtLTAgbWwtMiBjb250ZW50LXRpdGxlJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfSkgfX0+XHJcbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25XaXRoaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbldpdGhpbiB9KX1cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XHJcbiAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2NvbnRhaW5zJ31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdtLTAgbWwtMiBjb250ZW50LXRpdGxlJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnIH0pIH19PlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uQ29udGFpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uQ29udGFpbiB9KX1cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlbGVjdFR5cGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8YW55Piwgc2VsZWN0VHlwZTogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKHNlbGVjdFR5cGUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8YW55PiwgYWN0aW9uOiBzdHJpbmcpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIGlmIChhY3Rpb24gPT09ICd0b2dnbGVJc1NlbGVjdEFjdGl2ZScpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUlzU2VsZWN0QWN0aXZlKClcclxuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdzaG93U2VsZWN0U2V0dGluZycpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cCgpXHJcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnb25DbGlja0xvYWRpbmdQcm9ncmVzcycpIHtcclxuICAgICAgICB0aGlzLm9uQ2xpY2tMb2FkaW5nUHJvZ3Jlc3MoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3Qgc2VsZWN0SWNvblRpdGxlID0gdGhpcy5nZXRTZWxlY3RJY29uVGl0bGUoKVxyXG4gICAgY29uc3QgbW9yZUljb25UaXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdtb3JlJywgZGVmYXVsdE1lc3NhZ2U6ICdNb3JlJyB9KVxyXG4gICAgY29uc3QgaXNTZWxlY3RpbmcgPSB0aGlzLnN0YXRlLnNlbGVjdFByb2dyZXNzID4gMCAmJiB0aGlzLnN0YXRlLnNlbGVjdFByb2dyZXNzIDwgMVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiAhaXNTZWxlY3RpbmcgJiYgPGRpdlxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVJc1NlbGVjdEFjdGl2ZX0gc3R5bGU9e3t9fSB0aXRsZT17c2VsZWN0SWNvblRpdGxlfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nLCB7XHJcbiAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy5zdGF0ZS5pc0FjdGl2ZVxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ3RvZ2dsZUlzU2VsZWN0QWN0aXZlJykgfX1cclxuICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgaXNTZWxlY3RpbmcgJiYgPFNlbGVjdFByb2dyZXNzIHByb2dyZXNzPXt0aGlzLnN0YXRlLnNlbGVjdFByb2dyZXNzfSBpbnRsPXt0aGlzLnByb3BzLmludGx9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSBvbkNsaWNrPXt0aGlzLm9uQ2xpY2tMb2FkaW5nUHJvZ3Jlc3N9IC8+XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdiBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfT5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9IC8+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdib3JkZXIgYm9yZGVyLXRvcC0wIHctMTAwJyBzdHlsZT17eyBoZWlnaHQ6ICcxcHgnIH19IC8+XHJcbiAgICAgICAge3RoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXB9IHRpdGxlPXttb3JlSWNvblRpdGxlfSBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfVxyXG4gICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdzaG93U2VsZWN0U2V0dGluZycpIH19XHJcbiAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXtTZWxlY3RNb3JlSWNvbn0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiA8ZGl2IHN0eWxlPXt7fX0gdGl0bGU9e21vcmVJY29uVGl0bGV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfT5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXtTZWxlY3RNb3JlSWNvbn0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAge3RoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwICYmIHRoaXMuZ2V0TW9iaWxlUGFuZWxGb3JTZWxlY3RTZXR0aW5nKCl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHtcclxuICBjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3QsIHBvbGlzaGVkLCBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucywgdHlwZSBJTVRoZW1lVmFyaWFibGVzLFxyXG4gIHR5cGUgRmVhdHVyZUxheWVyUXVlcnlQYXJhbXMsIHR5cGUgSW50bFNoYXBlLCBEYXRhU291cmNlU2VsZWN0aW9uTW9kZVxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSWNvbiwgUG9wcGVyLCBkZWZhdWx0TWVzc2FnZXMsIFJhZGlvIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgU2VsZWN0UHJvZ3Jlc3MgZnJvbSAnLi9zZWxlY3QtcHJvZ3Jlc3MnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xyXG4gIGludGw6IEludGxTaGFwZVxyXG5cclxuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3XHJcbiAgdG9vbE5hbWU6IHN0cmluZ1xyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG5cclxuICAvLyB0b2dnbGUgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAvLyBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIHNldCBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSB0byBzZWxlY3QgdG9vbCBpZiBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSBpcyBub3Qgc2VsZWN0IHRvb2wuXHJcbiAgLy8gcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBzZXQgcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgdG8gbnVsbCBpZiBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSBzZWxlY3QgdG9vbC5cclxuICAvLyBfb25JY29uQ2xpY2sgaXMgYSBxdWljayB3YXkgdG8gY2FsbCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlXHJcbiAgX29uSWNvbkNsaWNrOiAoKSA9PiB2b2lkXHJcblxyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlcyB7XHJcbiAgc2tldGNoSW5pdGlhbGVkOiBib29sZWFuXHJcbiAgaXNBY3RpdmU6IGJvb2xlYW4gLy8gdGhlIGJ1dHRvbiBpcyBhY3RpdmUgb3Igbm90XHJcbiAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBib29sZWFuIC8vIHNob3cgbW9iaWxlIHBhbmVsIG9yIG5vdFxyXG5cclxuICBjdXJyZW50U2VsZWN0VHlwZTogJ1BvaW50JyB8ICdSZWN0YW5nbGUnIHwgJ0xhc3NvJyB8ICdDaXJjbGUnIHwgJ0xpbmUnXHJcbiAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIHwgJ2NvbnRhaW5zJ1xyXG4gIHNlbGVjdFByb2dyZXNzOiBudW1iZXJcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvaW50U3ltYm9sID0ge1xyXG4gIHN0eWxlOiAnZXNyaVNNU0NpcmNsZScsXHJcbiAgY29sb3I6IFswLCAwLCAxMjgsIDEyOF0sXHJcbiAgbmFtZTogJ0NpcmNsZScsXHJcbiAgb3V0bGluZToge1xyXG4gICAgY29sb3I6IFswLCAwLCAxMjgsIDI1NV0sXHJcbiAgICB3aWR0aDogMVxyXG4gIH0sXHJcbiAgdHlwZTogJ2VzcmlTTVMnLFxyXG4gIHNpemU6IDE4XHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRQb2x5bGluZVN5bWJvbCA9IHtcclxuICB0YWdzOiBbJ3NvbGlkJ10sXHJcbiAgdGl0bGU6ICdCbHVlIFRoaW4nLFxyXG4gIHN0eWxlOiAnZXNyaVNMU1NvbGlkJyxcclxuICBjb2xvcjogWzc5LCAxMjksIDE4OSwgMjU1XSxcclxuICB3aWR0aDogMyxcclxuICBuYW1lOiAnQmx1ZSAxJyxcclxuICB0eXBlOiAnZXNyaVNMUydcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvbHlnb25TeW1ib2wgPSB7XHJcbiAgc3R5bGU6ICdlc3JpU0ZTU29saWQnLFxyXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCA3N10sXHJcbiAgdHlwZTogJ2VzcmlTRlMnLFxyXG4gIG91dGxpbmU6IHtcclxuICAgIHN0eWxlOiAnZXNyaVNMU1NvbGlkJyxcclxuICAgIGNvbG9yOiBbNTQsIDkzLCAxNDEsIDI1NV0sXHJcbiAgICB3aWR0aDogMS41LFxyXG4gICAgdHlwZTogJ2VzcmlTTFMnXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJY29uQXJyb3dEb3duID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvYXJyb3ctZG93bi1oZWFkZXIuc3ZnJylcclxuXHJcbmNvbnN0IFNlbGVjdFJlY3RhbmdsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXJlY3RhbmdsZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RMYXNzb0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZycpXHJcbmNvbnN0IFNlbGVjdENpcmNsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RMaW5lSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGluZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RQb2ludEljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZycpXHJcbmNvbnN0IFNlbGVjdENsZWFySWNvbiA9IHJlcXVpcmUoJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9jbGVhci1zZWxlY3Rpb24tZ2VuZXJhbC5zdmcnKVxyXG5cclxuaW50ZXJmYWNlIFNrZXRjaENyZWF0ZU9wdGlvbnMge1xyXG4gIFt0b29sOiBzdHJpbmddOiBfX2VzcmkuU2tldGNoVmlld01vZGVsQ3JlYXRlQ3JlYXRlT3B0aW9uc1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTGFzdEtleUV2ZW50SW5mbyB7XHJcbiAgZXZlbnREYXRlOiBEYXRlXHJcbiAgaXNLZXlEb3duOiBib29sZWFuIC8vIHRydWUgbWVhbnMga2V5ZG93biwgZmFsc2UgbWVhbnMga2V5dXBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBDVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xyXG4gIGJ0bkNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBidG5TZWxlY3RUeXBlQ29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIHNlbGVjdFJlc3VsdENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBTa2V0Y2hWaWV3TW9kZWw6IHR5cGVvZiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgR3JhcGhpY3NMYXllcjogdHlwZW9mIF9fZXNyaS5HcmFwaGljc0xheWVyXHJcbiAgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnlcclxuICBza2V0Y2hWaWV3TW9kZWw6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBjdXJyZW50QWN0aXZlVG9vbDogc3RyaW5nID0gJ3JlY3RhbmdsZSdcclxuICBxdWVyeTogRmVhdHVyZUxheWVyUXVlcnlQYXJhbXNcclxuICBqc29uVXRpbHM6IHR5cGVvZiBfX2VzcmkuanNvblV0aWxzID0gbnVsbFxyXG4gIGdlb21ldHJ5RW5naW5lOiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5RW5naW5lXHJcbiAgcmVzdWx0R3JhcGhpY3M6IF9fZXNyaS5HcmFwaGljW10gPSBbXVxyXG4gIHNrZXRDaENyZWF0ZU9wdGlvbnM6IFNrZXRjaENyZWF0ZU9wdGlvbnNcclxuICB2aWV3S2V5RG93bkhhbmRsZTogX19lc3JpLkhhbmRsZVxyXG4gIHZpZXdLZXlVcEhhbmRsZTogX19lc3JpLkhhbmRsZVxyXG4gIGxhc3RTaGlmdEtleUV2ZW50SW5mbzogTGFzdEtleUV2ZW50SW5mb1xyXG4gIGxhc3RDdHJsS2V5RXZlbnRJbmZvOiBMYXN0S2V5RXZlbnRJbmZvXHJcbiAgaXNNYWM6IGJvb2xlYW5cclxuICBhY3RpdmVKaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBpZDogc3RyaW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wczogUHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuaXNNYWMgPSB3aW5kb3cuamltdVVBPy5vcz8ubmFtZSA9PT0gJ21hY09TJ1xyXG4gICAgdGhpcy5pZCA9IGAke3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9LXNlbGVjdC10b29sYFxyXG5cclxuICAgIHRoaXMuc2tldENoQ3JlYXRlT3B0aW9ucyA9IHtcclxuICAgICAgcG9seWdvbjoge1xyXG4gICAgICAgIG1vZGU6ICdoeWJyaWQnXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBza2V0Y2hJbml0aWFsZWQ6IGZhbHNlLFxyXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXHJcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiAnUmVjdGFuZ2xlJyxcclxuICAgICAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnLFxyXG4gICAgICBzZWxlY3RQcm9ncmVzczogMFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYmluZFNoaWZ0Q3RybEtleXNFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG5cclxuICBnZXRDU1NTdHlsZSAoKSB7XHJcbiAgICBjb25zdCB0aGVtZSA9IHRoaXMucHJvcHMudGhlbWVcclxuICAgIGNvbnN0IGNvbnRhaW5lcmJnID0gdGhlbWUuYXJjZ2lzLmNvbXBvbmVudHMuYnV0dG9uLnZhcmlhbnRzLmRlZmF1bHQuZGVmYXVsdC5iZ1xyXG4gICAgY29uc3QgY29udGFpbmVyQm9yZGVyID0gdGhlbWUuYXJjZ2lzLmNvbXBvbmVudHMuYnV0dG9uLnZhcmlhbnRzLmRlZmF1bHQuZGVmYXVsdC5ib3JkZXJcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1jb250YWluZXIge1xyXG4gICAgICAgICR7Y29udGFpbmVyYmcgJiYgYGJhY2tncm91bmQtY29sb3I6ICR7Y29udGFpbmVyYmd9O2B9XHJcbiAgICAgICAgJHtjb250YWluZXJCb3JkZXIgJiYgYGJvcmRlcjogJHtjb250YWluZXJCb3JkZXIuY29sb3J9ICR7Y29udGFpbmVyQm9yZGVyLndpZHRofSBzb2xpZDtgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtYnRuIHtcclxuICAgICAgICB3aWR0aDogMzJweDtcclxuICAgICAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50LWJnIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzEwMF19O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29udGVudC10aXRsZSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsIHtcclxuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZSB7XHJcbiAgICAgICAgd2lkdGg6IDY0cHg7XHJcbiAgICAgICAgaGVpZ2h0OiA2NHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQ6YWZ0ZXIge1xyXG4gICAgICAgIHdpZHRoOiAwO1xyXG4gICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLXRleHQge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgd2lkdGg6IDIwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcclxuICAgICAgICAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcclxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZScsXHJcbiAgICAgICAgLy8gV2hlbiB5b3UgZmlyc3QgY2xpY2sgdG8gZW5hYmxlIHRoZSBpbnRlcmFjdGl2ZSB0b29scywgbGlrZSB0aGUgcmVjdGFuZ2xlLCBmb3IgYSBjb3VwbGUgb2Ygc2Vjb25kcywgdGhlcmUgaXMgbm8gY3Vyc29yIG9uIHRoZSBtYXAsIGFuZCB5b3UgY2Fubm90IGRvIGFueXRoaW5nIC0gd2hpY2ggbG9va3MgbGlrZSBhIGJ1Zy5cclxuICAgICAgICAvLyBUbyBmaXggdGhlIGFib3ZlIGlzc3VlLCB3ZSBuZWVkIHRvIHByZWxvYWQgdGhlIGZvbGxvd2luZyBBUEkgbW9kdWxlcyBmb3IgU2tldGNoVmlld01vZGVsLlxyXG4gICAgICAgICdlc3JpL3ZpZXdzLzJkL2ludGVyYWN0aXZlL2VkaXRpbmdUb29scycsXHJcbiAgICAgICAgJ2Vzcmkvdmlld3MvM2QvaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzJyxcclxuICAgICAgICAnZXNyaS92aWV3cy8yZC9sYXllcnMvR3JhcGhpY3NMYXllclZpZXcyRCcsXHJcbiAgICAgICAgJ2Vzcmkvdmlld3MvM2QvbGF5ZXJzL0dyYXBoaWNzTGF5ZXJWaWV3M0QnXHJcbiAgICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuU2tldGNoVmlld01vZGVsLCB0aGlzLkdyYXBoaWNzTGF5ZXIsIHRoaXMuUXVlcnksIHRoaXMuanNvblV0aWxzLCB0aGlzLmdlb21ldHJ5RW5naW5lXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2tldGNoSW5pdGlhbGVkOiB0cnVlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGVzKSB7XHJcbiAgICBpZiAocHJldlN0YXRlLnNrZXRjaEluaXRpYWxlZCAhPT0gdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgLy8gc3RhdGUuc2tldGNoSW5pdGlhbGVkIGNoYW5nZWQgZnJvbSBmYWxzZSB0byB0cnVlXHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUgJiYgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCh0aGlzLmN1cnJlbnRBY3RpdmVUb29sKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICAvLyBhY3RpdmUgSmltdU1hcFZpZXcgY2hhbmdlZFxyXG4gICAgICAvLyBuZWVkIHRvIGRlc3Ryb3kgY3VycmVudCB0aGlzLnNrZXRjaFZpZXdNb2RlbCBhbmQgcmVjcmVhdGUgaXQsIGRvbnQndCBjaGFuZ2UgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldywgYmVjYXVzZSB3ZSBuZWVkIHRvIGJpbmQgdmlldyBrZXlkb3duL2tleXVwIGV2ZW50cyBiZWZvcmUgaW5pdCBza2V0Y2hWaWV3TW9kZWxcclxuICAgICAgdGhpcy5kZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMoKVxyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwodGhpcy5jdXJyZW50QWN0aXZlVG9vbClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlN0YXRlLmlzQWN0aXZlICE9PSB0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgIC8vIGFjdGl2ZSBjaGFuZ2VcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgIC8vIGNoYW5nZSBmcm9tIGluYWN0aXZlIHRvIGFjdGl2ZVxyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCh0aGlzLmN1cnJlbnRBY3RpdmVUb29sKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNoYW5nZSBmcm9tIGFjdGl2ZSB0byBpbmFjdGl2ZVxyXG4gICAgICAgIHRoaXMuZGVzdHJveVNrZXRjaFZpZXdNb2RlbEFuZFJlbGVhc2VIYW5kbGVzKClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuU3RhdGVDaGFuZ2UocHJldlN0YXRlKVxyXG5cclxuICAgIHRoaXMudHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuUHJvcHNDaGFuZ2UocHJldlByb3BzKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xOYW1lIGZvciB0aGUgZm9sbG93aW5nIGNhc2VzOlxyXG4gICAqIGNhc2UxOiBJZiBzZWxlY3QgdG9vbCBnZXRzIGFjdGl2ZSBmcm9tIGluYWN0aXZlLCBuZWVkcyB0byBzZXQgbWFwLnByb3BzLmFjdGl2ZVRvb2xOYW1lIHRvIHNlbGVjdCB0b29sIGJ5IGNhbGxpbmcgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpLlxyXG4gICAqIGNhc2UyOiBJZiBzZWxlY3QgdG9vbCBnZXRzIGluYWN0aXZlIGZyb20gYWN0aXZlLCBuZWVkcyB0byBzZXQgbWFwLnByb3BzLmFjdGl2ZVRvb2xOYW1lIHRvIG51bGwgYnkgY2FsbGluZyBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkuXHJcbiAgICovXHJcbiAgdHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuU3RhdGVDaGFuZ2UgKHByZXZTdGF0ZTogU3RhdGVzKSB7XHJcbiAgICBpZiAoIXByZXZTdGF0ZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmV2U2VsZWN0SXNBY3RpdmVUb29sID0gISEocHJldlN0YXRlLmlzQWN0aXZlIHx8IHByZXZTdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXApXHJcbiAgICBjb25zdCBjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sID0gISEodGhpcy5zdGF0ZS5pc0FjdGl2ZSB8fCB0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cClcclxuXHJcbiAgICBpZiAoIXByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgJiYgY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCkge1xyXG4gICAgICAvLyBzZWxlY3QgY2hhbmdlcyB0byBhY3RpdmUgdG9vbFxyXG5cclxuICAgICAgLy8gRG9uJ3QgdXNlIHByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UoKSB0byB1cGRhdGUgcHJvcHMuYWN0aXZlVG9vbEluZm8sIHdlIHNob3VsZCB1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAgICAgIC8vIEJlY2F1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBjYWxsIHRoaXMub25TaG93UGFuZWwoKSBpbiBiYXNlLXRvb2wudHN4LCBidXQgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIGRvZXNuJ3QuXHJcbiAgICAgIC8vIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSh7XHJcbiAgICAgIC8vICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMucHJvcHMudG9vbE5hbWUsXHJcbiAgICAgIC8vICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLnByb3BzLnRvb2xOYW1lXHJcbiAgICAgIC8vIH0pXHJcblxyXG4gICAgICB0aGlzLnNldEN1cnJlbnRUb29sQXNBY3RpdmVUb29sKClcclxuICAgIH0gZWxzZSBpZiAocHJldlNlbGVjdElzQWN0aXZlVG9vbCAmJiAhY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCkge1xyXG4gICAgICAvLyBzZWxlY3QgY2hhbmdlcyB0byBpbmFjdGl2ZSB0b29sXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBEb24ndCB1c2UgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIHRvIHVwZGF0ZSBwcm9wcy5hY3RpdmVUb29sSW5mbywgd2Ugc2hvdWxkIHVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgICAgLy8gQmVjYXVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIGNhbGwgdGhpcy5vblNob3dQYW5lbCgpIGluIGJhc2UtdG9vbC50c3gsIGJ1dCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgZG9lc24ndC5cclxuICAgICAgLy8gdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpXHJcblxyXG4gICAgICB0aGlzLnNldEFjdGl2ZVRvb2xUb051bGwoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdHJ5IHRvIHNldCBzdGF0ZS5pc0FjdGl2ZSBhbmQgc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwIHRvIGZhbHNlIGZvciB0aGUgZm9sbG93aW5nIGNhc2VzOlxyXG4gICAqIGNhc2UxOiBJZiBzZWxlY3QgdG9vbCBpcyBvcmlnaW5hbGx5IGFjdGl2ZSwgYnV0IGFub3RoZXIgbWFwIHNlbGVjdCB0b29sIGdldHMgYWN0aXZlLCB0aGVuIG5lZWRzIHNldCBzdGF0ZS5pc0FjdGl2ZSBhbmQgc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwIHRvIGZhbHNlLlxyXG4gICAqIGNhc2UyOiBJZiBzZWxlY3QgdG9vbCBpcyBvcmlnaW5hbGx5IGFjdGl2ZSwgYnV0IGFub3RoZXIgd2lkZ2V0IGdldHMgY29udHJvbCBvZiBtYXAsIHRoZW4gbmVlZHMgc2V0IHN0YXRlLmlzQWN0aXZlIGFuZCBzdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgdG8gZmFsc2UuXHJcbiAgICogQHBhcmFtIHByZXZQcm9wc1xyXG4gICAqL1xyXG4gIHRyeVVwZGF0ZUFjdGl2ZVRvb2xJbmZvV2hlblByb3BzQ2hhbmdlIChwcmV2UHJvcHM6IFByb3BzKSB7XHJcbiAgICBsZXQgc2hvdWxkQmVJbmFjdGl2ZSA9IGZhbHNlXHJcblxyXG4gICAgY29uc3QgcHJlQWN0aXZlVG9vbE5hbWUgPSBwcmV2UHJvcHM/LmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZSB8fCAnJ1xyXG4gICAgY29uc3QgY3VycmVudEFjdGl2ZVRvb2xOYW1lID0gdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbz8uYWN0aXZlVG9vbE5hbWUgfHwgJydcclxuXHJcbiAgICBpZiAocHJlQWN0aXZlVG9vbE5hbWUgIT09IGN1cnJlbnRBY3RpdmVUb29sTmFtZSkge1xyXG4gICAgICAvLyBwcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSBjaGFuZ2VzXHJcbiAgICAgIGNvbnN0IHRvb2xOYW1lID0gdGhpcy5wcm9wcy50b29sTmFtZVxyXG4gICAgICBjb25zdCBwcmV2U2VsZWN0SXNBY3RpdmVUb29sID0gcHJlQWN0aXZlVG9vbE5hbWUgPT09IHRvb2xOYW1lXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wgPSBjdXJyZW50QWN0aXZlVG9vbE5hbWUgPT09IHRvb2xOYW1lXHJcblxyXG4gICAgICBpZiAocHJldlNlbGVjdElzQWN0aXZlVG9vbCAmJiAhY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCkge1xyXG4gICAgICAgIC8vIHNlbGVjdCBjaGFuZ2VzIHRvIGluYWN0aXZlIHRvb2wgYmVhY2F1c2UgYW5vdGhlciBtYXAgdG9vbCBnZXRzIGFjdGl2ZSwgZS5nLiBtYXAgbGF5ZXJzIHRvb2wgZ2V0cyBhY3RpdmVcclxuICAgICAgICBzaG91bGRCZUluYWN0aXZlID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgd2UgZG9uJ3QgY2hlY2sgdGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkIGlzIGVtcHR5IG9yIG5vdCwgd2Ugd2lsbCBnZXQgdGhlIGZvbGxvd2luZyB3cm9uZyBjYXNlXHJcbiAgICAvLyAxLiBDbGljayBtZWFzdXJlIHRvb2wsIG1lYXN1cmUgaXMgdGhlIGFjdGl2ZSB0b29sIGFuZCBtZWFzdXJlIGNvbnRyb2xzIHRoZSBtYXBcclxuICAgIC8vIDIuIFRoZW4gY2xpY2sgc2VsZWN0IHRvb2wsIHNlbGVjdCB0b29sIGRvZXNuJ3QgZ2V0IGFjdGl2ZVxyXG4gICAgaWYgKHByZXZQcm9wcy5hdXRvQ29udHJvbFdpZGdldElkID09PSB0aGlzLmlkICYmIHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCAmJiB0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgLy8gYW5vdGhlciB3aWRnZXQgZ2V0cyBjb250cm9sIG9mIG1hcCwgc2VsZWN0IHRvb2wgbG9zZXMgY29udHJvbCBvZiBtYXBcclxuICAgICAgc2hvdWxkQmVJbmFjdGl2ZSA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2hvdWxkQmVJbmFjdGl2ZSAmJiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSB8fCB0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCkpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2VcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIHRoaXMuZGVzdHJveVNrZXRjaFZpZXdNb2RlbEFuZFJlbGVhc2VIYW5kbGVzKClcclxuICAgIHRoaXMucmVsZWFzZVNoaWZ0Q3RybEtleXNFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG5cclxuICBkZXN0cm95U2tldGNoVmlld01vZGVsQW5kUmVsZWFzZUhhbmRsZXMgKCkge1xyXG4gICAgdGhpcy5yZWxlYXNlVmlld0hhbmRsZXMoKVxyXG5cclxuICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZXN0cm95KClcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldyA9IG51bGxcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkID09PSB0aGlzLmlkKSB7XHJcbiAgICAgIC8vIHNlbGVjdCB0b29sIHJlbGVhc2VzIHRoZSBjb250cm9sIG9mIG1hcFxyXG4gICAgICBjb25zdCBhY3Rpb24gPSBhcHBBY3Rpb25zLnJlbGVhc2VBdXRvQ29udHJvbE1hcFdpZGdldCh0aGlzLnByb3BzLm1hcFdpZGdldElkKVxyXG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbGVhc2VWaWV3SGFuZGxlcyAoKSB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmVKaW11TWFwVmlldykge1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3LnJlbW92ZVNlbGVjdEJ5UXVlcnlQcm9ncmVzc0NoYW5nZUxpc3RlbmVyKHRoaXMub25KaW11TWFwVmlld1NlbGVjdFByb2dyZXNzQ2hhbmdlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnZpZXdLZXlEb3duSGFuZGxlKSB7XHJcbiAgICAgIHRoaXMudmlld0tleURvd25IYW5kbGUucmVtb3ZlKClcclxuICAgICAgdGhpcy52aWV3S2V5RG93bkhhbmRsZSA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy52aWV3S2V5VXBIYW5kbGUpIHtcclxuICAgICAgdGhpcy52aWV3S2V5VXBIYW5kbGUucmVtb3ZlKClcclxuICAgICAgdGhpcy52aWV3S2V5VXBIYW5kbGUgPSBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVJc1NlbGVjdEFjdGl2ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc0FjdGl2ZTogIXRoaXMuc3RhdGUuaXNBY3RpdmVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZWxlY3RUeXBlUG9wdXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiAhdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50VG9vbEFzQWN0aXZlVG9vbCAoKTogdm9pZCB7XHJcbiAgICAvLyBEb24ndCB1c2UgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIHRvIHVwZGF0ZSBwcm9wcy5hY3RpdmVUb29sSW5mbywgd2Ugc2hvdWxkIHVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSBmb3IgY29tcGF0aWJpbGl0eS5cclxuICAgIC8vIEJlY2F1c2UgcHJvcHMuX29uSWNvbkNsaWNrKCkgd2lsbCBjYWxsIHRoaXMub25TaG93UGFuZWwoKSBpbiBiYXNlLXRvb2wudHN4LCBidXQgcHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSgpIGRvZXNuJ3QuXHJcbiAgICBpZiAoIXRoaXMuaXNTZWxlY3RJc0FjdGl2ZVRvb2woKSkge1xyXG4gICAgICB0aGlzLnByb3BzLl9vbkljb25DbGljaygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmVUb29sVG9OdWxsICgpOiB2b2lkIHtcclxuICAgIC8vIERvbid0IHVzZSBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgdG8gdXBkYXRlIHByb3BzLmFjdGl2ZVRvb2xJbmZvLCB3ZSBzaG91bGQgdXNlIHByb3BzLl9vbkljb25DbGljaygpIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gICAgLy8gQmVjYXVzZSBwcm9wcy5fb25JY29uQ2xpY2soKSB3aWxsIGNhbGwgdGhpcy5vblNob3dQYW5lbCgpIGluIGJhc2UtdG9vbC50c3gsIGJ1dCBwcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKCkgZG9lc24ndC5cclxuICAgIGlmICh0aGlzLmlzU2VsZWN0SXNBY3RpdmVUb29sKCkpIHtcclxuICAgICAgdGhpcy5wcm9wcy5fb25JY29uQ2xpY2soKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gdGhpcyBtZXRob2QgaXMgb25seSB1c2VkIGJ5IHNldEN1cnJlbnRUb29sQXNBY3RpdmVUb29sIGFuZCBzZXRBY3RpdmVUb29sVG9OdWxsXHJcbiAgaXNTZWxlY3RJc0FjdGl2ZVRvb2wgKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMudG9vbE5hbWUgJiYgdGhpcy5wcm9wcy50b29sTmFtZSA9PT0gdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbz8uYWN0aXZlVG9vbE5hbWVcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tMb2FkaW5nUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuYWN0aXZlSmltdU1hcFZpZXdcclxuXHJcbiAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgY29uc3QgdXBkYXRlU2VsZWN0aW9uID0gdHJ1ZVxyXG4gICAgICBqaW11TWFwVmlldy5jYW5jZWxTZWxlY3RCeVF1ZXJ5KHVwZGF0ZVNlbGVjdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyU2VsZWN0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gRG9uJ3QgdXNlIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcgaGVyZSBiZWNhdXNlIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcgaXMgbnVsbCBpZiBzZWxlY3QgdG9vbCBpcyBub3QgcHJlc3NlZCwgc2VlICMxODIwMCBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcblxyXG4gICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlU2VsZWN0aW9uID0gZmFsc2VcclxuICAgICAgICBhd2FpdCBqaW11TWFwVmlldy5jYW5jZWxTZWxlY3RCeVF1ZXJ5KHVwZGF0ZVNlbGVjdGlvbilcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGppbXVNYXBWaWV3LmNhbmNlbFNlbGVjdEJ5UXVlcnkoKSBlcnJvciwgamltdU1hcFZpZXdJZDogJHtqaW11TWFwVmlldy5pZH1gLCBlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBqaW11TWFwVmlldy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKVxyXG4gICAgICB9LCAyMDApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RUb29sSWNvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RQb2ludEljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGFzc29JY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RDaXJjbGVJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGluZUljb25cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RJY29uVGl0bGUgKCkge1xyXG4gICAgbGV0IHRvcFRpdGxlOiBzdHJpbmcgPSAnJ1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeVBvaW50JylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgdG9wVGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ1NlbGVjdGlvbkJ5UmVjdGFuZ2xlJylcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICB0b3BUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnU2VsZWN0aW9uQnlMYXNzbycpXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3Rpb25CeUNpcmNsZScpXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICB0b3BUaXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnU2VsZWN0aW9uQnlMaW5lJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRvcFRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdTZWxlY3RMYWJlbCcpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3U2VsZWN0aW9uID0gdGhpcy5mb3JtYXRNZXNzYWdlKCduZXdTZWxlY3Rpb24nKVxyXG4gICAgY29uc3QgYWRkVG9DdXJyZW50U2VsZWN0aW9uID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdhZGRUb0N1cnJlbnRTZWxlY3Rpb24nKVxyXG4gICAgY29uc3QgcmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3JlbW92ZUZyb21DdXJyZW50U2VsZWN0aW9uJylcclxuICAgIGNvbnN0IHNlbGVjdEZyb21DdXJyZW50U2VsZWN0aW9uID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvbicpXHJcbiAgICBjb25zdCBkcmF3U2hhcGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2RyYXdTaGFwZScpXHJcbiAgICBjb25zdCBkcmF3ID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdkcmF3JylcclxuICAgIGNvbnN0IGN0cmxLZXkgPSB0aGlzLmlzTWFjID8gJ0NtZCcgOiAnQ3RybCdcclxuXHJcbiAgICBjb25zdCBuZXdTZWxlY3Rpb25UaXAgPSBg4oiZICR7bmV3U2VsZWN0aW9ufSAoJHtkcmF3U2hhcGV9KWBcclxuICAgIGNvbnN0IGFkZFRvQ3VycmVudFNlbGVjdGlvblRpcCA9IGDiiJkgJHthZGRUb0N1cnJlbnRTZWxlY3Rpb259IChTaGlmdCArICR7ZHJhd30pYFxyXG4gICAgY29uc3QgcmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb25UaXAgPSBg4oiZICR7cmVtb3ZlRnJvbUN1cnJlbnRTZWxlY3Rpb259ICgke2N0cmxLZXl9ICsgJHtkcmF3fSlgXHJcbiAgICBjb25zdCBzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvblRpcCA9IGDiiJkgJHtzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvbn0gKFNoaWZ0ICsgJHtjdHJsS2V5fSArICR7ZHJhd30pYFxyXG5cclxuICAgIGNvbnN0IGZpbmFsVGl0bGUgPVxyXG4gICAgYCR7dG9wVGl0bGV9XHJcbiR7bmV3U2VsZWN0aW9uVGlwfVxyXG4ke2FkZFRvQ3VycmVudFNlbGVjdGlvblRpcH1cclxuJHtyZW1vdmVGcm9tQ3VycmVudFNlbGVjdGlvblRpcH1cclxuJHtzZWxlY3RGcm9tQ3VycmVudFNlbGVjdGlvblRpcH1cclxuICAgIGBcclxuXHJcbiAgICByZXR1cm4gZmluYWxUaXRsZVxyXG4gIH1cclxuXHJcbiAgZm9ybWF0TWVzc2FnZSAoc3RySWQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IHN0cklkLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW3N0cklkXSB9KVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudFNlbGVjdFR5cGUgPSAoY3VycmVudFNlbGVjdFR5cGU6IGFueSkgPT4ge1xyXG4gICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCgncG9pbnQnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvaW50J1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdyZWN0YW5nbGUnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3JlY3RhbmdsZSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcclxuICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdwb2x5Z29uJylcclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5Z29uJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgdGhpcy5zZXRBY3RpdmVUb29sRm9yU2tldGNoVmlld01vZGVsKCdjaXJjbGUnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ2NpcmNsZSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICB0aGlzLnNldEFjdGl2ZVRvb2xGb3JTa2V0Y2hWaWV3TW9kZWwoJ3BvbHlsaW5lJylcclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5bGluZSdcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY3VycmVudFNlbGVjdFR5cGU6IGN1cnJlbnRTZWxlY3RUeXBlLFxyXG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlLFxyXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uSmltdU1hcFZpZXdTZWxlY3RQcm9ncmVzc0NoYW5nZSA9IChwcm9ncmVzcykgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHNlbGVjdFByb2dyZXNzOiBwcm9ncmVzc1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHVzZVNoaWZ0S2V5ICh0b2xlYXJuYWNlTXM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlS2V5KHRoaXMubGFzdFNoaWZ0S2V5RXZlbnRJbmZvLCB0b2xlYXJuYWNlTXMpXHJcbiAgfVxyXG5cclxuICB1c2VDdHJsS2V5ICh0b2xlYXJuYWNlTXM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlS2V5KHRoaXMubGFzdEN0cmxLZXlFdmVudEluZm8sIHRvbGVhcm5hY2VNcylcclxuICB9XHJcblxyXG4gIHVzZUtleSAobGFzdEtleUV2ZW50SW5mbzogTGFzdEtleUV2ZW50SW5mbywgdG9sZWFybmFjZU1zOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGlmIChsYXN0S2V5RXZlbnRJbmZvKSB7XHJcbiAgICAgIGlmIChsYXN0S2V5RXZlbnRJbmZvLmlzS2V5RG93bikge1xyXG4gICAgICAgIC8vIGtleSBpcyBzdGlsbCBkb3duIGFuZCBub3QgdXAsIHJldHVybiB0cnVlXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBrZXkgaXMgdXAsIHdlIHVzZSB0b2xlYXJuYWNlTXMgdG8gZGV0ZXJpbmUgdGhlIHJldHVybiB2YWx1ZVxyXG4gICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IERhdGUubm93KCkgLSBsYXN0S2V5RXZlbnRJbmZvLmV2ZW50RGF0ZS5nZXRUaW1lKClcclxuXHJcbiAgICAgICAgaWYgKGRlbHRhVGltZSA8PSB0b2xlYXJuYWNlTXMpIHtcclxuICAgICAgICAgIC8vIGtleXVwIHRpbWUgaXMgbm90IHRvbyBsb25nIGZyb20gbm93XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBrZXl1cCB0aW1lIGlzIHRvbyBsb25nIGZyb20gbm93c1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBrZXkgbmV2ZXIgZG93biwgcmV0dXJuIGZhbHNlXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYmluZFNoaWZ0Q3RybEtleXNFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24sIHRydWUpXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlVcCwgdHJ1ZSlcclxuICB9XHJcblxyXG4gIHJlbGVhc2VTaGlmdEN0cmxLZXlzRXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duLCB0cnVlKVxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAsIHRydWUpXHJcbiAgfVxyXG5cclxuICBvbktleURvd24gPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXkgPT09ICdTaGlmdCcpIHtcclxuICAgICAgdGhpcy5sYXN0U2hpZnRLZXlFdmVudEluZm8gPSB7XHJcbiAgICAgICAgZXZlbnREYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGlzS2V5RG93bjogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKCh0aGlzLmlzTWFjICYmIGV2ZW50LmtleSA9PT0gJ01ldGEnKSB8fCAoIXRoaXMuaXNNYWMgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpKSB7XHJcbiAgICAgIHRoaXMubGFzdEN0cmxLZXlFdmVudEluZm8gPSB7XHJcbiAgICAgICAgZXZlbnREYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGlzS2V5RG93bjogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbktleVVwID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnU2hpZnQnKSB7XHJcbiAgICAgIHRoaXMubGFzdFNoaWZ0S2V5RXZlbnRJbmZvID0ge1xyXG4gICAgICAgIGV2ZW50RGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBpc0tleURvd246IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoKHRoaXMuaXNNYWMgJiYgZXZlbnQua2V5ID09PSAnTWV0YScpIHx8ICghdGhpcy5pc01hYyAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykpIHtcclxuICAgICAgdGhpcy5sYXN0Q3RybEtleUV2ZW50SW5mbyA9IHtcclxuICAgICAgICBldmVudERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgaXNLZXlEb3duOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0aWFsU2tldGNoVG9vbCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuU2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgdGhpcy5yZWxlYXNlVmlld0hhbmRsZXMoKVxyXG5cclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcbiAgICAgIHRoaXMuYWN0aXZlSmltdU1hcFZpZXcgPSBqaW11TWFwVmlld1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3LmFkZFNlbGVjdEJ5UXVlcnlQcm9ncmVzc0NoYW5nZUxpc3RlbmVyKHRoaXMub25KaW11TWFwVmlld1NlbGVjdFByb2dyZXNzQ2hhbmdlKVxyXG5cclxuICAgICAgY29uc3QgdmlldyA9IGppbXVNYXBWaWV3LnZpZXdcclxuXHJcbiAgICAgIHRoaXMudmlld0tleURvd25IYW5kbGUgPSB2aWV3Lm9uKCdrZXktZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdTaGlmdCcpIHtcclxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy52aWV3S2V5RG93bkhhbmRsZSA9IHZpZXcub24oJ2tleS11cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdTaGlmdCcpIHtcclxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBuZXcgdGhpcy5Ta2V0Y2hWaWV3TW9kZWwoe1xyXG4gICAgICAgIHZpZXc6IHZpZXcsXHJcbiAgICAgICAgbGF5ZXI6IG5ldyB0aGlzLkdyYXBoaWNzTGF5ZXIoKSxcclxuICAgICAgICBwb2ludFN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvaW50U3ltYm9sKSBhcyBhbnksXHJcbiAgICAgICAgcG9seWxpbmVTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5bGluZVN5bWJvbCkgYXMgYW55LFxyXG4gICAgICAgIHBvbHlnb25TeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5Z29uU3ltYm9sKSBhcyBhbnlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLm9uKCdjcmVhdGUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgICAgIC8vIGtlZXAgY29udGludW91cyBkcmF3aW5nIGZvciBTa2V0Y2hWaWV3TW9kZWxcclxuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCh0aGlzLmN1cnJlbnRBY3RpdmVUb29sKVxyXG5cclxuICAgICAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlld1xyXG4gICAgICAgICAgamltdU1hcFZpZXcudmlldy5jbG9zZVBvcHVwKClcclxuXHJcbiAgICAgICAgICBjb25zdCBncmFwaGljID0gZXZlbnQuZ3JhcGhpY1xyXG5cclxuICAgICAgICAgIC8vIGdyYXBoaWMuZ2VvbWV0cnkgaXMgbnVsbCB3aGVuIGRvdWJsZSBjbGljayBtYXBcclxuICAgICAgICAgIGlmICghZ3JhcGhpYy5nZW9tZXRyeSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2tldGNoIGdyYXBoaWMuZ2VvbWV0cnkgaXMgbnVsbCcpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHVzZUtleVRvbGVyYW5jZU1zID0gNTAwXHJcbiAgICAgICAgICBjb25zdCBpc1NoaWZ0S2V5ID0gdGhpcy51c2VTaGlmdEtleSh1c2VLZXlUb2xlcmFuY2VNcylcclxuICAgICAgICAgIGNvbnN0IGlzQ3RybEtleSA9IHRoaXMudXNlQ3RybEtleSh1c2VLZXlUb2xlcmFuY2VNcylcclxuXHJcbiAgICAgICAgICBsZXQgc2VsZWN0aW9uTW9kZSA9IERhdGFTb3VyY2VTZWxlY3Rpb25Nb2RlLk5ld1xyXG5cclxuICAgICAgICAgIGlmIChpc1NoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0N0cmxLZXkpIHtcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUuU2VsZWN0RnJvbUN1cnJlbnRcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUuQWRkVG9DdXJyZW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpc0N0cmxLZXkpIHtcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUuUmVtb3ZlRnJvbUN1cnJlbnRcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gRGF0YVNvdXJjZVNlbGVjdGlvbk1vZGUuTmV3XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBqaW11TWFwVmlldy5zZWxlY3RGZWF0dXJlc0J5R3JhcGhpYyhncmFwaGljLCB0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAsIHNlbGVjdGlvbk1vZGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0QWN0aXZlVG9vbEZvclNrZXRjaFZpZXdNb2RlbCAoYWN0aXZlVG9vbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgY29uc3QgY3JlYXRlT3B0aW9ucyA9IHRoaXMuc2tldENoQ3JlYXRlT3B0aW9uc1thY3RpdmVUb29sXVxyXG5cclxuICAgICAgaWYgKGNyZWF0ZU9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoYWN0aXZlVG9vbCBhcyBhbnksIGNyZWF0ZU9wdGlvbnMpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKGFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkICE9PSB0aGlzLmlkKSB7XHJcbiAgICAgICAgLy8gc2VsZWN0IHRvb2wgZ2V0cyBjb250cm9sIG9mIG1hcFxyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGFwcEFjdGlvbnMucmVxdWVzdEF1dG9Db250cm9sTWFwV2lkZ2V0KHRoaXMucHJvcHMubWFwV2lkZ2V0SWQsIHRoaXMuaWQpXHJcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhY3Rpb24pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uUG9wcGVyVG9nZ2xlID0gKGU6IGFueSkgPT4ge1xyXG4gICAgdGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXAoKVxyXG5cclxuICAgIGlmIChlKSB7XHJcbiAgICAgIGlmIChlLnR5cGUgPT09ICdrZXlkb3duJyAmJiBlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICB0aGlzLmJ0blNlbGVjdFR5cGVDb250YWluZXIuZm9jdXMoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8YW55Piwgc2VsZWN0VHlwZTogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKHNlbGVjdFR5cGUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3Qgc2VsZWN0SWNvblRpdGxlID0gdGhpcy5nZXRTZWxlY3RJY29uVGl0bGUoKVxyXG4gICAgY29uc3QgY2xlYXJTZWxlY3Rpb25UaXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjbGVhclNlbGVjdGlvbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2xlYXJTZWxlY3Rpb24gfSlcclxuICAgIGNvbnN0IGlzU2VsZWN0aW5nID0gdGhpcy5zdGF0ZS5zZWxlY3RQcm9ncmVzcyA+IDAgJiYgdGhpcy5zdGF0ZS5zZWxlY3RQcm9ncmVzcyA8IDFcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWNvbnRhaW5lcicgcmVmPXtyZWYgPT4geyB0aGlzLmJ0bkNvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4JyB0aXRsZT17c2VsZWN0SWNvblRpdGxlfT5cclxuICAgICAgICAgICAgICB7IWlzU2VsZWN0aW5nICYmIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlSXNTZWxlY3RBY3RpdmV9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2Vzcmktd2lkZ2V0LS1idXR0b24gIGJvcmRlci0wIHNlbGVjdC10b29sLWJ0biBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICB7IGFjdGl2ZTogdGhpcy5zdGF0ZS5pc0FjdGl2ZSB9KX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9IC8+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+fVxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlzU2VsZWN0aW5nICYmIDxTZWxlY3RQcm9ncmVzcyBwcm9ncmVzcz17dGhpcy5zdGF0ZS5zZWxlY3RQcm9ncmVzc30gaW50bD17dGhpcy5wcm9wcy5pbnRsfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gb25DbGljaz17dGhpcy5vbkNsaWNrTG9hZGluZ1Byb2dyZXNzfSAvPlxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cH0gc3R5bGU9e3sgd2lkdGg6IDE4IH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2Vzcmktd2lkZ2V0LS1idXR0b24gYm9yZGVyLTAgcGwtMSBwci0xIHNlbGVjdC10b29sLWJ0biBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICB7IGFjdGl2ZTogdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXAgfSl9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkfVxyXG4gICAgICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmJ0blNlbGVjdFR5cGVDb250YWluZXIgPSByZWYgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17OH0gaGVpZ2h0PXs4fSBpY29uPXtJY29uQXJyb3dEb3dufSAvPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHRpdGxlPXtjbGVhclNlbGVjdGlvblRpdGxlfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtYnRuIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXIgZXNyaS13aWRnZXQtLWJ1dHRvbiBib3JkZXItMCdcclxuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuc2VsZWN0UmVzdWx0Q29udGFpbmVyID0gcmVmIH19IG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3R9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufSAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPFBvcHBlciBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0gcmVmZXJlbmNlPXt0aGlzLmJ0bkNvbnRhaW5lcn0gb3Blbj17dGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXB9IHBsYWNlbWVudD0nYm90dG9tLXN0YXJ0JyB0b2dnbGU9e3RoaXMub25Qb3BwZXJUb2dnbGV9PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwLTQgY29udGVudC1iZycgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9fT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LXRpdGxlJz5cclxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sIH0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtMiBtYi0yJz5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBtYi0yJz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMiBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZSdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ1JlY3RhbmdsZScpIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAnUmVjdGFuZ2xlJykgfX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFJlY3RhbmdsZUljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTIgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbydcclxuICAgICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xhc3NvJykgfX0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdMYXNzbycpIH19IHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMYXNzb0ljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdDaXJjbGUnKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ0NpcmNsZScpIH19IHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDaXJjbGVJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbENpcmNsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbENpcmNsZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTIgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnTGluZScpIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAnTGluZScpIH19IHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMaW5lSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExpbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xMaW5lIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdQb2ludCcpIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAnUG9pbnQnKSB9fSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UG9pbnRJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGVudC10aXRsZSc+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uTW9kZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uTW9kZSB9KX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJhZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdpbnRlcnNlY3RzJ31cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfSkgfX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J20tMCBtbC0yIGNvbnRlbnQtdGl0bGUnIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uV2l0aGluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25XaXRoaW4gfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnY29udGFpbnMnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucycgfSkgfX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J20tMCBtbC0yIGNvbnRlbnQtdGl0bGUnIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucycgfSkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkNvbnRhaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkNvbnRhaW4gfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9Qb3BwZXI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgeyghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpICYmIDxkaXYgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBSZWFjdCwgdHlwZSBJbnRsU2hhcGUsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgUHJvZ3Jlc3MsIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIHByb2dyZXNzOiBudW1iZXJcclxuICBpbnRsOiBJbnRsU2hhcGVcclxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0UHJvZ3Jlc3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzPiB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0ge31cclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIGNvbnN0IHByb2dyZXNzQ29sb3IgPSB0aGlzLnByb3BzLnRoZW1lLmRhcmtUaGVtZSA/ICdibGFjaycgOiAnd2hpdGUnXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgLnNlbGVjdC1jaXJjbGUtcHJvZ3Jlc3Mge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBsZWZ0OiA2cHg7XHJcbiAgICAgICAgdG9wOiA2cHg7XHJcblxyXG4gICAgICAgIC5wcm9ncmVzcy1jaXJjbGUtYmcge1xyXG4gICAgICAgICAgc3Ryb2tlOiAke3Byb2dyZXNzQ29sb3J9O1xyXG4gICAgICAgICAgb3BhY2l0eTogMC4zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnByb2dyZXNzLWNpcmNsZS1wcm9ncmVzcyB7XHJcbiAgICAgICAgICBzdHJva2U6ICR7cHJvZ3Jlc3NDb2xvcn07XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAucHJvZ3Jlc3Mtc3RvcCB7XHJcbiAgICAgICAgd2lkdGg6IDZweDtcclxuICAgICAgICBoZWlnaHQ6IDZweDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAke3Byb2dyZXNzQ29sb3J9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAucHJvZ3Jlc3MtbWFzayB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IHByb2dyZXNzID0gdGhpcy5wcm9wcy5wcm9ncmVzcyAqIDEwMFxyXG4gICAgY29uc3QgcHJvZ3Jlc3NJbnQgPSBwYXJzZUZsb2F0KHByb2dyZXNzLnRvRml4ZWQoMikpXHJcbiAgICBjb25zdCBkZWZhdWx0U3RyID0gZGVmYXVsdE1lc3NhZ2VzLnNlbGVjdGluZ0ZlYXR1cmVzVGlwXHJcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMucHJvcHMuaW50bD8uZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VsZWN0aW5nRmVhdHVyZXNUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdFN0ciB9KSB8fCBkZWZhdWx0U3RyXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGJ1dHRvbiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX1cclxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XHJcbiAgICAgICAgY2xhc3NOYW1lPSdlc3JpLXdpZGdldC0tYnV0dG9uICBib3JkZXItMCBzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFjdGl2ZSBzZWxlY3QtcHJvZ3Jlc3MnXHJcbiAgICAgID5cclxuICAgICAgICA8UHJvZ3Jlc3MgY2xhc3NOYW1lPSdzZWxlY3QtY2lyY2xlLXByb2dyZXNzJyBjb2xvcj0nbGlnaHQnIHR5cGU9J2NpcmN1bGFyJyB2YWx1ZT17cHJvZ3Jlc3NJbnR9IGNpcmNsZVNpemU9ezIwfSAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcm9ncmVzcy1zdG9wJz48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHJvZ3Jlc3MtbWFzaycgdGl0bGU9e3RpdGxlfT48L2Rpdj5cclxuICAgICAgPC9idXR0b24+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJ1dHRvbiwgSWNvbiwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uLy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgU2VsZWN0ZWROdW1iZXIgfSBmcm9tICcuL3NlbGVjdGVkLW51bWJlcidcclxuXHJcbmNvbnN0IFNlbGVjdFpvb210b0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXpvb210by5zdmcnKVxyXG5jb25zdCBTZWxlY3RDbGVhckljb24gPSByZXF1aXJlKCdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xlYXItc2VsZWN0aW9uLWdlbmVyYWwuc3ZnJylcclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIHNlbGVjdGVkR3JhcGhpY0NvdW50OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0U3RhdGUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcclxuICB0b29sTmFtZSA9ICdTZWxlY3RTdGF0ZSdcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBzZWxlY3RlZEdyYXBoaWNDb3VudDogMFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLnByb3BzLnRoZW1lLmFyY2dpcy5jb21wb25lbnRzLmJ1dHRvbi52YXJpYW50cy5kZWZhdWx0LmRlZmF1bHQuYmd9O1xyXG5cclxuICAgICAgLmRpdmlkZS1saW5lIHtcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke3RoaXMucHJvcHMudGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkID0gKHNlbGVjdGVkR3JhcGhpY0NvdW50OiBudW1iZXIpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBzZWxlY3RlZEdyYXBoaWNDb3VudFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHpvb21Ub1NlbGVjdGVkRmVhdHVyZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlld1xyXG5cclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IGdyYXBoaWNzID0gYXdhaXQgdGhpcy5nZXRTZWxlY3RlZEdyYXBoaWNzKClcclxuXHJcbiAgICAgIGlmIChncmFwaGljcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmlldy5nb1RvKGdyYXBoaWNzKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRTZWxlY3RlZEdyYXBoaWNzICgpIHtcclxuICAgIGxldCBzZWxlY3RlZEdyYXBoaWNzID0gW11cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldykge1xyXG4gICAgICBzZWxlY3RlZEdyYXBoaWNzID0gYXdhaXQgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5nZXRTZWxlY3RlZEZlYXR1cmVzKClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZWN0ZWRHcmFwaGljc1xyXG4gIH1cclxuXHJcbiAgY2xlYXJTZWxlY3RlZEZlYXR1cmVzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcblxyXG4gICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlU2VsZWN0aW9uID0gZmFsc2VcclxuICAgICAgICBhd2FpdCBqaW11TWFwVmlldy5jYW5jZWxTZWxlY3RCeVF1ZXJ5KHVwZGF0ZVNlbGVjdGlvbilcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGppbXVNYXBWaWV3LmNhbmNlbFNlbGVjdEJ5UXVlcnkoKSBlcnJvciwgamltdU1hcFZpZXdJZDogJHtqaW11TWFwVmlldy5pZH1gLCBlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBqaW11TWFwVmlldy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKVxyXG4gICAgICB9LCAyMDApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlc1RpcCA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25TZWxlY3RlZEZlYXR1cmVzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25TZWxlY3RlZEZlYXR1cmVzIH0pXHJcbiAgICBjb25zdCBjbGVhclNlbGVjdGlvblRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NsZWFyU2VsZWN0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGVhclNlbGVjdGlvbiB9KVxyXG4gICAgY29uc3Qgem9vbVRvU2VsZWN0ZWRGZWF0dXJlc1RpcCA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25ab29tVG9TZWxlY3RlZEZlYXR1cmVzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25ab29tVG9TZWxlY3RlZEZlYXR1cmVzIH0pXHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt7IGhlaWdodDogJzQwcHgnIH19PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21sLTInPlxyXG4gICAgICAgICAgICB7YCR7c2VsZWN0ZWRGZWF0dXJlc1RpcH06ICR7dGhpcy5zdGF0ZS5zZWxlY3RlZEdyYXBoaWNDb3VudH1gfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHRpdGxlPXt6b29tVG9TZWxlY3RlZEZlYXR1cmVzVGlwfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0naC0xMDAgYm9yZGVyIGJvcmRlci10b3AtMCBib3JkZXItYm90dG9tLTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyJyBzdHlsZT17eyB3aWR0aDogJzQwcHgnLCBjdXJzb3I6ICdwb2ludGVyJyB9fVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuem9vbVRvU2VsZWN0ZWRGZWF0dXJlc31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Wm9vbXRvSWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3sgd2lkdGg6ICc0MHB4JywgY3Vyc29yOiAncG9pbnRlcicgfX1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsZWFyU2VsZWN0ZWRGZWF0dXJlc31cclxuICAgICAgICAgICAgICB0aXRsZT17Y2xlYXJTZWxlY3Rpb25UaXRsZX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPFNlbGVjdGVkTnVtYmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBvblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkPXt0aGlzLmhhbmRsZVNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy56b29tVG9TZWxlY3RlZEZlYXR1cmVzfSB0aXRsZT17em9vbVRvU2VsZWN0ZWRGZWF0dXJlc1RpcH0+XHJcbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Wm9vbXRvSWNvbn0gY2xhc3NOYW1lPSdtci0yJyAvPlxyXG4gICAgICAgICAgICB7YCR7c2VsZWN0ZWRGZWF0dXJlc1RpcH06ICR7dGhpcy5zdGF0ZS5zZWxlY3RlZEdyYXBoaWNDb3VudH1gfVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8U2VsZWN0ZWROdW1iZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQ9e3RoaXMuaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWR9IC8+XHJcbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgUmVhY3RSZWR1eCwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgSmltdU1hcFZpZXdJbmZvLCB0eXBlIElNU3RhdGUsIHR5cGUgRGF0YVNvdXJjZUluZm8gfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcblxyXG4gIG9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQ/OiAoc2VsZWN0ZWRHcmFwaGljQ291bnQ6IG51bWJlcikgPT4gdm9pZFxyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuaW50ZXJmYWNlIFN0YXRlc3t9XHJcblxyXG5jbGFzcyBfU2VsZWN0ZWROdW1iZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzICYgRXh0cmFQcm9wcywgU3RhdGVzPiB7XHJcbiAgY3VycmVudEppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICB0aGlzLnNldEN1cnJlbnRKaW11TWFwVmlldyh0aGlzLnByb3BzLmppbXVNYXBWaWV3KVxyXG4gICAgdGhpcy5jb21wdXRlclNlbGVjdGVkR3JhcGhpY0NvdW50KClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBSZWFkb25seTxQcm9wcyAmIEV4dHJhUHJvcHM+KTogdm9pZCB7XHJcbiAgICBjb25zdCBwcmVKaW11TWFwVmlldyA9IHByZXZQcm9wcz8uamltdU1hcFZpZXcgfHwgbnVsbFxyXG4gICAgY29uc3QgY3VyckppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldyB8fCBudWxsXHJcblxyXG4gICAgaWYgKHByZUppbXVNYXBWaWV3ICE9PSBjdXJySmltdU1hcFZpZXcpIHtcclxuICAgICAgLy8gc3dpdGNoIG1hcFxyXG4gICAgICB0aGlzLnNldEN1cnJlbnRKaW11TWFwVmlldyhjdXJySmltdU1hcFZpZXcpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb21wdXRlclNlbGVjdGVkR3JhcGhpY0NvdW50KClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KG51bGwpXHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50SmltdU1hcFZpZXcgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEppbXVNYXBWaWV3KSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LnJlbW92ZUppbXVMYXllclZpZXdTZWxlY3RlZEZlYXR1cmVzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkppbXVMYXllclZpZXdTZWxlY3RlZEZlYXR1cmVzQ2hhbmdlKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3ID0gamltdU1hcFZpZXdcclxuXHJcbiAgICBpZiAodGhpcy5jdXJyZW50SmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcuYWRkSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZXNDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZXNDaGFuZ2UpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkppbXVMYXllclZpZXdTZWxlY3RlZEZlYXR1cmVzQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgLy8gVHlwaWNhbGx5LCB0aGlzIGNhbGxiYWNrIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB3ZSBoaWdobGlnaHQgYSBmZWF0dXJlIGJ5IHBvcHVwIGNsaWNrLCBidXQgdGhlIGRhdGEgc291cmNlIGlzIG5vdCB1c2VkIGFuZCBub3QgY3JlYXRlZC5cclxuICAgIHRoaXMuY29tcHV0ZXJTZWxlY3RlZEdyYXBoaWNDb3VudCgpXHJcbiAgfVxyXG5cclxuICBjb21wdXRlclNlbGVjdGVkR3JhcGhpY0NvdW50ICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQpIHtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWRHcmFwaGljQ291bnQgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmdldFNlbGVjdGVkRmVhdHVyZUNvdW50KClcclxuICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkKHNlbGVjdGVkR3JhcGhpY0NvdW50KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBQcm9wcyk6IEV4dHJhUHJvcHMgPT4ge1xyXG4gIGlmIChzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcikge1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZXNJbmZvID0gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgJiYgc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuZGF0YVNvdXJjZXNJbmZvXHJcbiAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvID0gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgJiYgc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuamltdU1hcFZpZXdzSW5mb1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YVNvdXJjZXNJbmZvOiBkYXRhU291cmNlc0luZm8sXHJcbiAgICAgIHZpZXdJbmZvczogamltdU1hcFZpZXdzSW5mb1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlc0luZm8gPSBzdGF0ZSAmJiBzdGF0ZS5kYXRhU291cmNlc0luZm9cclxuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZSAmJiBzdGF0ZS5qaW11TWFwVmlld3NJbmZvXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhU291cmNlc0luZm86IGRhdGFTb3VyY2VzSW5mbyxcclxuICAgICAgdmlld0luZm9zOiBqaW11TWFwVmlld3NJbmZvXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XHJcbiAgZGF0YVNvdXJjZXNJbmZvPzogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VJbmZvIH0+XHJcbiAgdmlld0luZm9zPzogSW1tdXRhYmxlT2JqZWN0PHsgW2ppbXVNYXBWaWV3SWQ6IHN0cmluZ106IEppbXVNYXBWaWV3SW5mbyB9PlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU2VsZWN0ZWROdW1iZXIgPSBSZWFjdFJlZHV4LmNvbm5lY3Q8RXh0cmFQcm9wcywgdW5rbm93biwgUHJvcHM+KG1hcFN0YXRlVG9Qcm9wcykoX1NlbGVjdGVkTnVtYmVyKVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWm9vbSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdab29tJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1pvb21MYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuWm9vbUxhYmVsIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiA8Wm9vbUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIFpvb21Jbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIFpvb21Jbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgWm9vbUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxab29tSW5uZXJQcm9wcywgWm9vbUlubmVyU3RhdGU+IHtcclxuICBab29tOiB0eXBlb2YgX19lc3JpLlpvb20gPSBudWxsXHJcbiAgWm9vbUJ0bjogX19lc3JpLlpvb21cclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1pvb20nXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5ab29tXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLlpvb21CdG4pIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLlpvb21CdG4gPSBuZXcgdGhpcy5ab29tKHtcclxuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnWm9vbScpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdab29tJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5ab29tQnRuXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5ab29tQnRuKSB7XHJcbiAgICAgIHRoaXMuWm9vbUJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5ab29tQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdab29tJylcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRPRE9cclxuICAgICAgICogV2hlbiB0aGUgbWFwIHdpZGdldCBoYXMgdHdvIG1hcHMsIHRoZSBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIgaXMgY2FsbGVkIG9ubHkgZm9yIHRoZSBjdXJyZW50IGFjdGl2ZSB2aWV3LFxyXG4gICAgICAgKiBzbyB0aGUgYW5vdGhlciB2aWV3J3MgbWFwVG9vbCBpcyBub3QgY2xlYXJlZC5cclxuICAgICAgICovXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSd6b29tLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IHtcclxuICBfd2lkZ2V0TGFiZWw6ICdNYXAnLFxyXG4gIF9hY3Rpb25fZGlzcGxheUZlYXR1cmVTZXRfbGFiZWw6ICdEaXNwbGF5IGZlYXR1cmUgc2V0JyxcclxuICBfYWN0aW9uX3BhblRvX2xhYmVsOiAnUGFuIHRvJyxcclxuICBfYWN0aW9uX3pvb21Ub0ZlYXR1cmVfbGFiZWw6ICdab29tIHRvJyxcclxuICBfYWN0aW9uX3NlbGVjdEZlYXR1cmVfbGFiZWw6ICdTZWxlY3QgZmVhdHVyZScsXHJcbiAgX2FjdGlvbl9mbGFzaF9sYWJlbDogJ0ZsYXNoJyxcclxuICBfYWN0aW9uX2ZpbHRlcl9sYWJlbDogJ0ZpbHRlcicsXHJcbiAgX2FjdGlvbl9zaG93T25NYXBfbGFiZWw6ICdTaG93IG9uIG1hcCcsXHJcbiAgX2FjdGlvbl9hZGRUb01hcF9sYWJlbDogJ0FkZCB0byBtYXAnLFxyXG4gIHNob3dPbk1hcERhdGE6ICdTaG93IG9uIG1hcCBkYXRhJyxcclxuICBhZGRlZERhdGE6ICdhZGRlZCBkYXRhJyxcclxuICBmYWlsVG9BZGRUaGVEYXRhT25NYXA6ICdGYWlsIHRvIGFkZCB0aGUgZGF0YS4nLFxyXG4gIGFkZFRvTWFwRGF0YTogJ0FkZCB0byBtYXAgZGF0YScsXHJcbiAgbWFwQ3VycmVudFJlY29yZDogJ3tsYXllck5hbWV9IG1hcCBjdXJyZW50IHJlY29yZCcsXHJcbiAgX3VybF9wYXJhbXNfdmlld3BvaW50X2xhYmVsOiAnVmlld3BvaW50JyxcclxuICBfdXJsX3BhcmFtc192aWV3cG9pbnRfdG9vbHRpcDogXCJWaWV3cG9pbnQgZGVzY3JpYmVzIHRoZSBwb2ludCBvZiB2aWV3IGZvciBhIHdlYiBtYXAgb3Igd2ViIHNjZW5lLlwiLFxyXG4gIF91cmxfcGFyYW1zX2NlbnRlcl9sYWJlbDogJ0NlbnRlcicsXHJcbiAgX3VybF9wYXJhbXNfc2NhbGVfbGFiZWw6ICdTY2FsZScsXHJcbiAgX3VybF9wYXJhbXNfcm90YXRpb25fbGFiZWw6ICdSb3RhdGlvbicsXHJcbiAgX3VybF9wYXJhbXNfbGF5ZXJfdmlzaWJpbGl0eV9sYWJlbDogJ0xheWVyIHZpc2liaWxpdHknXHJcbn1cclxuIiwiLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXHJcbmltcG9ydCB7XHJcbiAgQXBwTW9kZSwgZGF0YVNvdXJjZVV0aWxzLCBEYXRhU291cmNlTWFuYWdlciwgdHlwZSBKU0FQSUxheWVyTWl4aW4sIGdlb21ldHJ5VXRpbHMsXHJcbiAgZ2V0QXBwU3RvcmUsIHR5cGUgTWVzc2FnZXNKc29uLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgTWVzc2FnZVR5cGUsIFVybE1hbmFnZXJcclxufSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSGlnaExpZ2h0SGFuZGxlLCB0eXBlIE1hcGJhc2VSZXN0b3JlRGF0YSwgdHlwZSBNYXBiYXNlVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9tYXBiYXNlJ1xyXG5pbXBvcnQgdHlwZSBNYXBCYXNlIGZyb20gJy4vY29tcG9uZW50cy9tYXBiYXNlJ1xyXG5pbXBvcnQgeyB0eXBlIElGZWF0dXJlIH0gZnJvbSAnQGVzcmkvYXJjZ2lzLXJlc3QtdHlwZXMnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcsIExheWVyVHlwZXMsIHR5cGUgSmltdUZlYXR1cmVMYXllclZpZXcsIHR5cGUgSmltdVNjZW5lTGF5ZXJWaWV3LCB0eXBlIEppbXVMYXllclZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZT86IHsgW2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0IH0pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IG5ld0xheWVyUHJvbWlzZXMgPSBbXVxyXG4gIG5ld0ZlYXR1cmVTZXRWYWx1ZSAmJiBPYmplY3Qua2V5cyhuZXdGZWF0dXJlU2V0VmFsdWUpLmZvckVhY2gobGF5ZXJJZCA9PiB7XHJcbiAgICBjb25zdCBsYXllciA9IG1hcEJhc2VWaWV3Lm1hcC5sYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZClcclxuICAgIGlmIChsYXllcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ3RoZSBmZWF0dXJlIGxheWVyIGlzIGFscmVhZHkgY3JlYXRlZCcpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbmV3TGF5ZXJQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgbmV3RmVhdHVyZVNldFZhbHVlW2xheWVySWRdLCBsYXllcklkKSlcclxuICB9KVxyXG5cclxuICBpZiAobmV3TGF5ZXJQcm9taXNlcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChuZXdMYXllclByb21pc2VzKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVsYXllciAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZT86IHsgW2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0IH0pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHVwZGF0ZVByb21pc2VzID0gW11cclxuICBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlICYmIE9iamVjdC5rZXlzKGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUpLmZvckVhY2gobGF5ZXJJZCA9PiB7XHJcbiAgICBjb25zdCBsYXllciA9IG1hcEJhc2VWaWV3Lm1hcC5sYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZClcclxuICAgIGlmIChsYXllcikge1xyXG4gICAgICBtYXBCYXNlVmlldy5tYXAucmVtb3ZlKGxheWVyKVxyXG4gICAgICB1cGRhdGVQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgaWYgKHVwZGF0ZVByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHVwZGF0ZVByb21pc2VzKVxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkRmVhdHVyZVNldFRvTWFwIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBmZWF0dXJlU2V0OiBfX2VzcmkuRmVhdHVyZVNldCwgbGF5ZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJ1xyXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgaWYgKGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgIHJlc29sdmUobnVsbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBsZXQgRmVhdHVyZVNldDogdHlwZW9mICBfX2VzcmkuRmVhdHVyZVNldDtcclxuICAgICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICBbRmVhdHVyZUxheWVyXSA9IG1vZHVsZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGxheWVyRnJvbUZlYXR1cmVTZXQgPSBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmxheWVyIGFzIGFueVxyXG4gICAgICAgIGNvbnN0IGZpZWxkc0luRmVhdHVyZWxheWVyID0gW11cclxuICAgICAgICBjb25zdCBmaWVsZE1hcCA9IHt9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSBnZXRSZWFzb25hYmxlRmllbGQobGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0pXHJcbiAgICAgICAgICBmaWVsZE1hcFtsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkc1tpXS5uYW1lXSA9IGZpZWxkc0l0ZW0ubmFtZVxyXG4gICAgICAgICAgZmllbGRzSW5GZWF0dXJlbGF5ZXIucHVzaChmaWVsZHNJdGVtKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmllbGRzSW5Qb3B1cFRlbXBsYXRlID0gW11cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgIGlmIChmaWVsZE1hcFtrZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgZmllbGROYW1lOiBmaWVsZE1hcFtrZXldLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiBrZXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaWVsZHNJblBvcHVwVGVtcGxhdGUucHVzaChmaWVsZHNJdGVtKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc291cmNlRmVhdHVyZXMgPSBbXVxyXG4gICAgICAgIGZlYXR1cmVTZXQuZmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gZmVhdHVyZVxyXG4gICAgICAgICAgaWYgKHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgIHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXNbZmllbGRNYXBba2V5XV0gPSB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzW2tleV1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcy5leGJmaWQgPSBpbmRleFxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IHtcclxuICAgICAgICAgICAgICBleGJmaWQ6IGluZGV4XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNvdXJjZUZlYXR1cmVzLnB1c2godGVtcEZlYXR1cmUpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHtcclxuICAgICAgICAgIGlkOiBsYXllcklkLFxyXG4gICAgICAgICAgdGl0bGU6IGxheWVyRnJvbUZlYXR1cmVTZXQudGl0bGUsXHJcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZUZlYXR1cmVzLFxyXG4gICAgICAgICAgZmllbGRzOiBmaWVsZHNJbkZlYXR1cmVsYXllcixcclxuICAgICAgICAgIG91dEZpZWxkczogWycqJ10sXHJcbiAgICAgICAgICBvYmplY3RJZEZpZWxkOiAnZXhiZmlkJyxcclxuICAgICAgICAgIHJlbmRlcmVyOiBsYXllckZyb21GZWF0dXJlU2V0LnJlbmRlcmVyLFxyXG4gICAgICAgICAgcG9wdXBFbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgcG9wdXBUZW1wbGF0ZToge1xyXG4gICAgICAgICAgICB0aXRsZTogJ2luZm9ybWF0aW9uJyxcclxuICAgICAgICAgICAgY29udGVudDogW3tcclxuICAgICAgICAgICAgICB0eXBlOiAnZmllbGRzJyxcclxuICAgICAgICAgICAgICBmaWVsZEluZm9zOiBmaWVsZHNJblBvcHVwVGVtcGxhdGVcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBtYXBCYXNlVmlldy5tYXAuYWRkKGxheWVyKVxyXG5cclxuICAgICAgICBsYXllci5vbignbGF5ZXJ2aWV3LWNyZWF0ZScsIGV2ZW50ID0+IHtcclxuICAgICAgICAgIHJlc29sdmUobnVsbClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlYXNvbmFibGVGaWVsZCAoZmllbGQ6IF9fZXNyaS5GaWVsZCk6IF9fZXNyaS5GaWVsZCB7XHJcbiAgLy8gdGhlIGZ1bmN0aW9uIGlzIHN1cHBvcnRlZCB0byBub3JtYWxpemUgdGhlIGZpZWxkLm5hbWVcclxuICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZC5uYW1lXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6IGZpZWxkTmFtZS5yZXBsYWNlKC9cXC4vZywgJ18nKS5yZXBsYWNlKC9cXCgvZywgJ18nKS5yZXBsYWNlKC9cXCkvZywgJ18nKSxcclxuICAgIGFsaWFzOiBmaWVsZC5hbGlhcyxcclxuICAgIHR5cGU6IGZpZWxkLnR5cGVcclxuICB9IGFzIGFueVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RmVhdHVyZSAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgdGFyZ2V0OiBfX2VzcmkuR3JhcGhpYyB8IF9fZXNyaS5HcmFwaGljW10gfCBJRmVhdHVyZSB8IElGZWF0dXJlW10sIGxheWVySWQ/OiBzdHJpbmcpOiBIaWdoTGlnaHRIYW5kbGUge1xyXG4gIC8vIEluIHRoaXMgZnVuY3Rpb24sIHdlIGFzc3VtZSB0aGF0IGZlYXR1cmVzIGNvbWUgZnJvbSB0aGUgc2FtZSBsYXllclxyXG4gIGxldCBmZWF0dXJlTGF5ZXJJZCA9IGxheWVySWRcclxuICBsZXQgZmVhdHVyZUxheWVyVmlldyA9IG51bGxcclxuICBsZXQgdGVtcEZlYXR1cmUgPSBudWxsXHJcblxyXG4gIC8vIGlmIGxheWVySWQgZG9lc24ndCBleGlzdCwgd2UgZ2V0IGxheWVySWQgYnkgZmVhdHVyZVxyXG4gIGlmICghZmVhdHVyZUxheWVySWQpIHtcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICB0ZW1wRmVhdHVyZSA9IHRhcmdldFswXSBhcyBfX2VzcmkuR3JhcGhpY1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVtcEZlYXR1cmUgPSB0YXJnZXQgYXMgX19lc3JpLkdyYXBoaWNcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVtcEZlYXR1cmUpIHtcclxuICAgICAgZmVhdHVyZUxheWVySWQgPSB0ZW1wRmVhdHVyZS5sYXllciAmJiB0ZW1wRmVhdHVyZS5sYXllci5pZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGZlYXR1cmVMYXllcklkKSB7XHJcbiAgICBjb25zdCBsYXllclZpZXdzID0gbWFwQmFzZVZpZXcuYWxsTGF5ZXJWaWV3c1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllclZpZXdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChsYXllclZpZXdzLmdldEl0ZW1BdChpKS5sYXllci5pZCA9PT0gZmVhdHVyZUxheWVySWQpIHtcclxuICAgICAgICBmZWF0dXJlTGF5ZXJWaWV3ID0gbGF5ZXJWaWV3cy5nZXRJdGVtQXQoaSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5ZXJJZDogZmVhdHVyZUxheWVySWQsXHJcbiAgICAgICAgaGFuZGxlOiBmZWF0dXJlTGF5ZXJWaWV3LmhpZ2hsaWdodCh0YXJnZXQpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ29Ub1RhcmdldEltbWVkaWF0ZWx5ICh2aWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIF90YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHZpZXdTUiA9IHZpZXcuc3BhdGlhbFJlZmVyZW5jZVxyXG4gIGNvbnN0IGdlb21ldHJpZXMgPSBhd2FpdCBwcm9qZWN0R2VvbWV0cmllcyhbX3RhcmdldF0sIHZpZXdTUilcclxuXHJcbiAgaWYgKGdlb21ldHJpZXMgJiYgZ2VvbWV0cmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBnZW9tZXRyaWVzWzBdXHJcbiAgICB2aWV3LmdvVG8odGFyZ2V0LCB7IGFuaW1hdGU6IGZhbHNlIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ29Ub1ZpZXdwb2ludEltbWVkaWF0ZWx5ICh2aWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIF92aWV3cG9pbnQ6IF9fZXNyaS5WaWV3cG9pbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB2aWV3U1IgPSB2aWV3LnNwYXRpYWxSZWZlcmVuY2VcclxuICBjb25zdCB2aWV3cG9pbnQgPSBhd2FpdCBwcm9qZWN0Vmlld3BvaW50KF92aWV3cG9pbnQsIHZpZXdTUilcclxuICAvLyB2aWV3LmdvVG8odmlld3BvaW50LCB7IGFuaW1hdGU6IGZhbHNlIH0pXHJcbiAgdmlldy52aWV3cG9pbnQgPSB2aWV3cG9pbnRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmVlZFByb2plY3RWaWV3cG9pbnQgKHZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludCwgdmlld1NSOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHNyMSA9IHZpZXdwb2ludC50YXJnZXRHZW9tZXRyeT8uc3BhdGlhbFJlZmVyZW5jZVxyXG5cclxuICBpZiAoc3IxICYmIGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKHNyMSwgdmlld1NSKSkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIGNvbnN0IHNyMiA9IHZpZXdwb2ludC5jYW1lcmE/LnBvc2l0aW9uPy5zcGF0aWFsUmVmZXJlbmNlXHJcblxyXG4gIGlmIChzcjIgJiYgaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2Uoc3IyLCB2aWV3U1IpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZSAoc3IxOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSwgc3IyOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGlzU2FtZSA9IHNyMS53a2lkID09PSBzcjIud2tpZCB8fCBzcjEuZXF1YWxzKHNyMilcclxuICAvLyAgSW4gSlMgQVBJIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXHJcbiAgY29uc3QgaXNMaWtlID0gKHNyMS5pc1dlYk1lcmNhdG9yIHx8IHNyMS5pc1dHUzg0KSAmJiAoc3IyLmlzV2ViTWVyY2F0b3IgfHwgc3IyLmlzV0dTODQpXHJcbiAgcmV0dXJuICFpc1NhbWUgJiYgIWlzTGlrZVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvamVjdFZpZXdwb2ludCAoX3ZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludCwgdmlld1NSOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IFByb21pc2U8X19lc3JpLlZpZXdwb2ludD4ge1xyXG4gIGNvbnN0IHZpZXdwb2ludCA9IF92aWV3cG9pbnQuY2xvbmUoKVxyXG4gIGNvbnN0IHRhcmdldEdlb21ldHJ5ID0gdmlld3BvaW50LnRhcmdldEdlb21ldHJ5XHJcbiAgY29uc3QgY2FtZXJhUG9zaXRvbiA9IHZpZXdwb2ludC5jYW1lcmE/LnBvc2l0aW9uXHJcblxyXG4gIGNvbnN0IHRvUHJvamVjdEdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdID0gW11cclxuICBsZXQgaXNQcm9qZWN0VGFyZ2V0R2VvbWV0cnk6IGJvb2xlYW4gPSBmYWxzZVxyXG4gIGxldCBpc1Byb2plY3RDYW1lcmFQb3NpdGlvbjogYm9vbGVhbiA9IGZhbHNlXHJcblxyXG4gIGlmICh0YXJnZXRHZW9tZXRyeSAmJiBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZSh0YXJnZXRHZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlLCB2aWV3U1IpKSB7XHJcbiAgICBpc1Byb2plY3RUYXJnZXRHZW9tZXRyeSA9IHRydWVcclxuICAgIHRvUHJvamVjdEdlb21ldHJpZXMucHVzaCh0YXJnZXRHZW9tZXRyeSlcclxuICB9XHJcblxyXG4gIGlmIChjYW1lcmFQb3NpdG9uICYmIGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKGNhbWVyYVBvc2l0b24uc3BhdGlhbFJlZmVyZW5jZSwgdmlld1NSKSkge1xyXG4gICAgaXNQcm9qZWN0Q2FtZXJhUG9zaXRpb24gPSB0cnVlXHJcbiAgICB0b1Byb2plY3RHZW9tZXRyaWVzLnB1c2goY2FtZXJhUG9zaXRvbilcclxuICB9XHJcblxyXG4gIGlmICh0b1Byb2plY3RHZW9tZXRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHByb2plY3RlZEdlb21ldHJpZXMgPSBhd2FpdCBwcm9qZWN0R2VvbWV0cmllcyh0b1Byb2plY3RHZW9tZXRyaWVzLCB2aWV3U1IpXHJcblxyXG4gICAgaWYgKGlzUHJvamVjdFRhcmdldEdlb21ldHJ5KSB7XHJcbiAgICAgIHZpZXdwb2ludC50YXJnZXRHZW9tZXRyeSA9IHByb2plY3RlZEdlb21ldHJpZXNbMF1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNQcm9qZWN0Q2FtZXJhUG9zaXRpb24pIHtcclxuICAgICAgdmlld3BvaW50LmNhbWVyYS5wb3NpdGlvbiA9IHByb2plY3RlZEdlb21ldHJpZXNbcHJvamVjdGVkR2VvbWV0cmllcy5sZW5ndGggLSAxXSBhcyBfX2VzcmkuUG9pbnRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB2aWV3cG9pbnRcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcFBhbnRvIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSB8IF9fZXNyaS5HZW9tZXRyeVtdIHxcclxuX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgX19lc3JpLkV4dGVudCk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgcGFuVG9UYXJnZXQgPSB0YXJnZXQgYXMgYW55XHJcbiAgY29uc3QgdGVtcEJhc2VNYXBWaWV3ID0gbWFwQmFzZVZpZXcgYXMgYW55XHJcbiAgaWYgKHBhblRvVGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgIGlmIChwYW5Ub1RhcmdldC5sZW5ndGggPT09IDApIHsgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7IHJldHVybiB9XHJcblxyXG4gICAgaWYgKHBhblRvVGFyZ2V0WzBdLmdlb21ldHJ5KSB7XHJcbiAgICAgIGNvbnN0IGdlb21ldHJ5QXJyOiBfX2VzcmkuR2VvbWV0cnlbXSA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuVG9UYXJnZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBnZW9tZXRyeUFyci5wdXNoKHBhblRvVGFyZ2V0W2ldLmdlb21ldHJ5KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCBnZXRHZW9tZXRyaWVzRXh0ZW50KGdlb21ldHJ5QXJyKS50aGVuKChleHRlbnQpID0+IHtcclxuICAgICAgICByZXR1cm4gZ29Ubyh0ZW1wQmFzZU1hcFZpZXcsIGV4dGVudC5jZW50ZXIpXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZ2V0R2VvbWV0cmllc0V4dGVudChwYW5Ub1RhcmdldCkudGhlbigoZXh0ZW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGdvVG8odGVtcEJhc2VNYXBWaWV3LCBleHRlbnQuY2VudGVyKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAocGFuVG9UYXJnZXQuZ2VvbWV0cnkpIHtcclxuICAgICAgY29uc3QgZ2V0bWV0cnkgPSBwYW5Ub1RhcmdldC5nZW9tZXRyeSBhcyBfX2VzcmkuR2VvbWV0cnlcclxuICAgICAgcmV0dXJuIGdvVG8odGVtcEJhc2VNYXBWaWV3LCBnZXRDZW50ZXJQb2ludChnZXRtZXRyeSkpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZ29Ubyh0ZW1wQmFzZU1hcFZpZXcsIGdldENlbnRlclBvaW50KHBhblRvVGFyZ2V0KSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdvVG8gKHZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgdGFyZ2V0OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgLy8gZGVsYXkgYmVmb3JlIHVwZGF0aW5nIG9mIHZpZXcgdHVybnMgdHJ1ZSwgNDAwbXMgaXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24uXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgLy8vLyB0aGVyZSBpcyBhIGNvbmZsaWN0IGZvciBwYW5pbmcgd2hlbiB0aGUgbGF5ZXIgdmlldyBpcyB1cGRhdGluZywgc3VjaCBhcyAncGFuIHRvJyBhbmQgJ2ZpbHRlcicuXHJcbiAgICAgIC8vLy8gdGhpcyBpcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiwgaXQgY2FuIHJlZHVjZSB0aGUgZnJlcXVlbmN5IG9mIHRoZSBwcm9ibGVtIHJhdGhlciB0aGFuIHNvbHZlIGl0IGNvbXBsZXRlbHkuXHJcbiAgICAgIC8vaWYgKHZpZXcudXBkYXRpbmcpIHtcclxuICAgICAgLy8gIGNvbnN0IGhhbmRsZXIgPSB2aWV3LndhdGNoKCd1cGRhdGluZycsIHZhbHVlID0+IHtcclxuICAgICAgLy8gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAvLyAgICAgIHZpZXcuZ29Ubyh0YXJnZXQpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKS5jYXRjaCgoKSA9PiByZWplY3QoKSlcclxuICAgICAgLy8gICAgICBoYW5kbGVyLnJlbW92ZSgpXHJcbiAgICAgIC8vICAgIH1cclxuICAgICAgLy8gIH0pXHJcbiAgICAgIC8vfSBlbHNlIHtcclxuICAgICAgLy8gIHZpZXcuZ29Ubyh0YXJnZXQpLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKS5jYXRjaCgoKSA9PiByZWplY3QoKSlcclxuICAgICAgLy99XHJcbiAgICAgIHZpZXcuZ29Ubyh0YXJnZXQpLnRoZW4oKCkgPT4geyByZXNvbHZlKCkgfSkuY2F0Y2goKCkgPT4geyByZWplY3QoKSB9KVxyXG4gICAgfSwgNDAwKVxyXG4gIH0pXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEdlb21ldHJpZXNFeHRlbnQgKGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdKTogUHJvbWlzZTxfX2VzcmkuRXh0ZW50PiB7XHJcbiAgcmV0dXJuIGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgJ2VzcmkvZ2VvbWV0cnkvRXh0ZW50J1xyXG4gIF0pLnRoZW4oYXN5bmMgbW9kdWxlcyA9PiB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIGxldCBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuRXh0ZW50O1xyXG4gICAgW0V4dGVudF0gPSBtb2R1bGVzXHJcblxyXG4gICAgaWYgKCFnZW9tZXRyaWVzIHx8ICFnZW9tZXRyaWVzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKG51bGwpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZ1bGxFeHRlbnQ6IF9fZXNyaS5FeHRlbnQgPSBudWxsXHJcbiAgICBsZXQgaW5kZXhcclxuICAgIGNvbnN0IG51bUdlb21ldHJpZXMgPSBnZW9tZXRyaWVzLmxlbmd0aFxyXG5cclxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IG51bUdlb21ldHJpZXM7IGluZGV4KyspIHtcclxuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2luZGV4XVxyXG4gICAgICBpZiAoIWdlb21ldHJ5KSB7XHJcbiAgICAgICAgY29udGludWVcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGV4dGVudCA9IGdlb21ldHJ5LmV4dGVudFxyXG5cclxuICAgICAgaWYgKCFleHRlbnQgJiYgZ2VvbWV0cnkudHlwZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICAgIGNvbnN0IHBvaW50R2VvbWV0cnkgPSBnZW9tZXRyeSBhcyBhbnlcclxuXHJcbiAgICAgICAgaWYgKHBvaW50R2VvbWV0cnkueCAmJiBwb2ludEdlb21ldHJ5LnkpIHtcclxuICAgICAgICAgIGV4dGVudCA9IG5ldyBFeHRlbnQoe1xyXG4gICAgICAgICAgICB4bWF4OiBwb2ludEdlb21ldHJ5LngsXHJcbiAgICAgICAgICAgIHhtaW46IHBvaW50R2VvbWV0cnkueCxcclxuICAgICAgICAgICAgeW1heDogcG9pbnRHZW9tZXRyeS55LFxyXG4gICAgICAgICAgICB5bWluOiBwb2ludEdlb21ldHJ5LnksXHJcbiAgICAgICAgICAgIHptYXg6IHBvaW50R2VvbWV0cnkueixcclxuICAgICAgICAgICAgem1pbjogcG9pbnRHZW9tZXRyeS56LFxyXG4gICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBwb2ludEdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWV4dGVudCkge1xyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmdWxsRXh0ZW50KSB7XHJcbiAgICAgICAgZnVsbEV4dGVudCA9IGZ1bGxFeHRlbnQudW5pb24oZXh0ZW50KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZ1bGxFeHRlbnQgPSBleHRlbnRcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmdWxsRXh0ZW50LndpZHRoIDwgMCAmJiBmdWxsRXh0ZW50LmhlaWdodCA8IDApIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZnVsbEV4dGVudClcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGFjdGlvbkxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHF1ZXJ5U1FMOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBpZiAoIWFjdGlvbkxheWVyRGF0YVNvdXJjZUlkKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UoYWN0aW9uTGF5ZXJEYXRhU291cmNlSWQpXHJcblxyXG4gIGlmICghZGF0YVNvdXJjZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBsZXQgamltdUxheWVyVmlldzogSmltdUxheWVyVmlldyA9IG51bGxcclxuXHJcbiAgdHJ5IHtcclxuICAgIGppbXVMYXllclZpZXcgPSBhd2FpdCBqaW11TWFwVmlldy53aGVuSmltdUxheWVyVmlld0xvYWRlZEJ5RGF0YVNvdXJjZShkYXRhU291cmNlKVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgamltdUxheWVyVmlldyA9IG51bGxcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2NhblxcJ3QgZ2V0IGppbXVMYXllclZpZXcgYnkgZGF0YVNvdXJjZScsIGRhdGFTb3VyY2UsIGVycilcclxuICB9XHJcblxyXG4gIGlmIChqaW11TGF5ZXJWaWV3ICYmIGppbXVMYXllclZpZXcubGF5ZXIgJiYgKGppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIgfHwgamltdUxheWVyVmlldy50eXBlID09PSBMYXllclR5cGVzLlNjZW5lTGF5ZXIpKSB7XHJcbiAgICAoamltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykuc2V0RGVmaW5pdGlvbkV4cHJlc3Npb24ocXVlcnlTUUwpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBxdWVyeUZlYXR1cmVzIChsYXllck9iamVjdCwgcXVlcnlTUUw6IHN0cmluZywgb3V0RmllbGRzOiBzdHJpbmdbXSkge1xyXG4gIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeSdcclxuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgbGV0IFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5O1xyXG4gICAgW1F1ZXJ5XSA9IG1vZHVsZXNcclxuICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KClcclxuICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlTUUxcclxuICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IG91dEZpZWxkcyB8fCBbXVxyXG4gICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlXHJcbiAgICByZXR1cm4gbGF5ZXJPYmplY3QucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbihmZWF0dXJlU2V0ID0+IHtcclxuICAgICAgcmV0dXJuIGZlYXR1cmVTZXRcclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZmxhc2hPbkZlYXR1cmVMYXllciAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBxdWVyeVNRTDogc3RyaW5nLCB0ZW1wSmltdUxheWVyVmlldzogSmltdUZlYXR1cmVMYXllclZpZXcpIHtcclxuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XHJcbiAgICBsZXQgZmVhdHVyZUxheWVyVmlldzogX19lc3JpLkZlYXR1cmVMYXllclZpZXcgPSAodGVtcEppbXVMYXllclZpZXcpLnZpZXdcclxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcbiAgICAgIHF1ZXJ5RmVhdHVyZXMoZmVhdHVyZUxheWVyVmlldy5sYXllciwgcXVlcnlTUUwsIFtdKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICAgIGlmIChmZWF0dXJlU2V0ICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMgJiYgZmVhdHVyZVNldC5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBzeW1ib2wgPSBnZXRGbGFzaFN5bWJvbChmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLmdlb21ldHJ5VHlwZSlcclxuICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJ1xyXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgbGV0IEZlYXR1cmVMYXllcjogdHlwZW9mIF9fZXNyaS5GZWF0dXJlTGF5ZXI7XHJcbiAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlc1xyXG5cclxuICAgICAgbGV0IHRlbXBGZWF0dXJlTGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHtcclxuICAgICAgICB1cmw6IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykubGF5ZXIpXHJcbiAgICAgIH0pXHJcbiAgICAgIHRlbXBGZWF0dXJlTGF5ZXIubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHF1ZXJ5RmVhdHVyZXModGVtcEZlYXR1cmVMYXllciwgcXVlcnlTUUwsIFtdKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0Rmxhc2hTeW1ib2woZmVhdHVyZVNldC5mZWF0dXJlc1swXS5nZW9tZXRyeS50eXBlKVxyXG4gICAgICAgICAgICBzdGFydEZsYXNoKGppbXVNYXBWaWV3LnZpZXcsIGZlYXR1cmVTZXQuZmVhdHVyZXMsIHN5bWJvbClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmxldCBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgPSBudWxsXHJcbmZ1bmN0aW9uIGZsYXNoT25TY2VuZUxheWVyIChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIHF1ZXJ5U1FMOiBzdHJpbmcsIHRlbXBKaW11TGF5ZXJWaWV3OiBKaW11U2NlbmVMYXllclZpZXcpIHtcclxuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XHJcbiAgICBsZXQgc2NlbmVMYXllclZpZXc6IF9fZXNyaS5TY2VuZUxheWVyVmlldyA9ICh0ZW1wSmltdUxheWVyVmlldykudmlld1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgcXVlcnlGZWF0dXJlcyhzY2VuZUxheWVyVmlldz8ubGF5ZXI/LmFzc29jaWF0ZWRMYXllciwgcXVlcnlTUUwsIFtdKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IG9iamVjdElkRmllbGQgPSBzY2VuZUxheWVyVmlldy5sYXllci5vYmplY3RJZEZpZWxkXHJcbiAgICAgICAgY29uc3Qgb2JqZWN0SWRzID0gZmVhdHVyZVNldC5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLmF0dHJpYnV0ZXNbb2JqZWN0SWRGaWVsZF0pXHJcblxyXG4gICAgICAgIGxldCBpID0gMFxyXG4gICAgICAgIGNvbnN0IG1heEZsYXNoQ291bnQgPSA2XHJcbiAgICAgICAgbGV0IGhpZ2hsaWdodENvbG9yID0gWzI1NSwgMjU1LCAwLCAwLjhdXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zID0gamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zXHJcblxyXG4gICAgICAgIGNvbnN0IGZsYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKGkgPCBtYXhGbGFzaENvdW50KSB7XHJcbiAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0Q29sb3IpIHtcclxuICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvciA9IG51bGxcclxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0geyBjb2xvcjogWzAsIDAsIDAsIDBdIH1cclxuICAgICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgJiYgc2NlbmVIaWdodGxpZ2h0SGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gc2NlbmVMYXllclZpZXcuaGlnaGxpZ2h0KG9iamVjdElkcylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvciA9IFsyNTUsIDI1NSwgMCwgMC44XVxyXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7IGNvbG9yOiBoaWdobGlnaHRDb2xvciB9XHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlICYmIHNjZW5lSGlnaHRsaWdodEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSA9IHNjZW5lTGF5ZXJWaWV3LmhpZ2hsaWdodChvYmplY3RJZHMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dChmbGFzaCwgNTAwKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0gb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zXHJcbiAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSAmJiBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dChmbGFzaCwgNTAwKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHF1ZXJ5U1FMOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBpZiAoIWxheWVyRGF0YVNvdXJjZUlkKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldERhdGFTb3VyY2UobGF5ZXJEYXRhU291cmNlSWQpXHJcblxyXG4gIGlmICghZGF0YVNvdXJjZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBsZXQgamltdUxheWVyVmlldzogSmltdUxheWVyVmlldyA9IG51bGxcclxuXHJcbiAgdHJ5IHtcclxuICAgIGppbXVMYXllclZpZXcgPSBhd2FpdCBqaW11TWFwVmlldy53aGVuSmltdUxheWVyVmlld0xvYWRlZEJ5RGF0YVNvdXJjZShkYXRhU291cmNlKVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgamltdUxheWVyVmlldyA9IG51bGxcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2NhblxcJ3QgZ2V0IGppbXVMYXllclZpZXcgYnkgZGF0YVNvdXJjZScsIGRhdGFTb3VyY2UsIGVycilcclxuICB9XHJcblxyXG4gIGlmIChqaW11TGF5ZXJWaWV3ICYmIGppbXVMYXllclZpZXcubGF5ZXIpIHtcclxuICAgIGlmIChqaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuRmVhdHVyZUxheWVyKSB7XHJcbiAgICAgIGZsYXNoT25GZWF0dXJlTGF5ZXIoamltdU1hcFZpZXcsIHF1ZXJ5U1FMLCBqaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3KVxyXG4gICAgfSBlbHNlIGlmIChqaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuU2NlbmVMYXllcikge1xyXG4gICAgICBmbGFzaE9uU2NlbmVMYXllcihqaW11TWFwVmlldywgcXVlcnlTUUwsIGppbXVMYXllclZpZXcgYXMgSmltdVNjZW5lTGF5ZXJWaWV3KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRGbGFzaCAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIHN5bWJvbCkge1xyXG4gIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgJ2VzcmkvR3JhcGhpYydcclxuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBsZXQgR3JhcGhpYzogdHlwZW9mIF9fZXNyaS5HcmFwaGljO1xyXG4gICAgW0dyYXBoaWNdID0gbW9kdWxlc1xyXG5cclxuICAgIGNvbnN0IGZsYXNoRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIG1heEZsYXNoQ291bnQ6IG51bWJlcikge1xyXG4gICAgICBjb25zdCBncmFwaGljcyA9IFtdXHJcbiAgICAgIGxldCBmbGFzaENvdW50ID0gMFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcEdyYXBoaWMgPSBuZXcgR3JhcGhpYyh7XHJcbiAgICAgICAgICBnZW9tZXRyeTogZmVhdHVyZXNbaV0uZ2VvbWV0cnksXHJcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcclxuICAgICAgICAgIGF0dHJpYnV0ZXM6IGZlYXR1cmVzW2ldLmF0dHJpYnV0ZXNcclxuICAgICAgICB9KVxyXG4gICAgICAgIGdyYXBoaWNzLnB1c2godGVtcEdyYXBoaWMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNpbmdsZUZsYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1hcEJhc2VWaWV3LmdyYXBoaWNzLmFkZE1hbnkoZ3JhcGhpY3MpXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBtYXBCYXNlVmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGdyYXBoaWNzKVxyXG4gICAgICAgICAgZmxhc2hDb3VudCA9IGZsYXNoQ291bnQgKyAxXHJcbiAgICAgICAgICBpZiAoZmxhc2hDb3VudCA8IG1heEZsYXNoQ291bnQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2luZ2xlRmxhc2goKVxyXG4gICAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzaW5nbGVGbGFzaCgpXHJcbiAgICB9XHJcblxyXG4gICAgZmxhc2hGZWF0dXJlcyhmZWF0dXJlcywgMylcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRGbGFzaFN5bWJvbCAoZ2VvbWV0cnlUeXBlOiBzdHJpbmcpIHtcclxuICBpZiAoWydwb2ludCcsICdtdWx0aXBvaW50J10uaW5jbHVkZXMoZ2VvbWV0cnlUeXBlKSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogJ3NpbXBsZS1tYXJrZXInLFxyXG4gICAgICBzdHlsZTogJ2NpcmNsZScsXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgIHNpemU6ICcxNnB4JyxcclxuICAgICAgb3V0bGluZToge1xyXG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgICAgd2lkdGg6IDNcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoWydwb2x5bGluZSddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdzaW1wbGUtbGluZScsXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgIHdpZHRoOiAzLFxyXG4gICAgICBzdHlsZTogJ3NvbGlkJ1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoWydwb2x5Z29uJywgJ2V4dGVudCddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdzaW1wbGUtZmlsbCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlRmlsbFN5bWJvbCgpXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuNV0sXHJcbiAgICAgIHN0eWxlOiAnc29saWQnLFxyXG4gICAgICBvdXRsaW5lOiB7IC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlTGluZVN5bWJvbCgpXHJcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcclxuICAgICAgICB3aWR0aDogM1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChbJ21lc2gnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiAnbWVzaC0zZCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgTWVzaFN5bWJvbDNEKClcclxuICAgICAgc3ltYm9sTGF5ZXJzOiBbe1xyXG4gICAgICAgIHR5cGU6ICdmaWxsJywgLy8gYXV0b2Nhc3RzIGFzIG5ldyBGaWxsU3ltYm9sM0RMYXllcigpXHJcbiAgICAgICAgbWF0ZXJpYWw6IHsgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSB9XHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDZW50ZXJQb2ludCAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IF9fZXNyaS5Qb2ludCB7XHJcbiAgLy8gcG9pbnQgfCBtdWx0aXBvaW50IHwgcG9seWxpbmUgfCBwb2x5Z29uIHwgZXh0ZW50IHwgbWVzaFxyXG4gIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xyXG4gICAgY2FzZSAncG9pbnQnOlxyXG4gICAgICByZXR1cm4gZ2VvbWV0cnkgYXMgX19lc3JpLlBvaW50XHJcbiAgICBjYXNlICdleHRlbnQnOlxyXG4gICAgICByZXR1cm4gKGdlb21ldHJ5IGFzIF9fZXNyaS5FeHRlbnQpLmNlbnRlclxyXG4gICAgY2FzZSAncG9seWdvbic6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb24pLmNlbnRyb2lkXHJcbiAgICBjYXNlICdwb2x5bGluZSc6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlsaW5lKS5leHRlbnQuY2VudGVyXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZ2VvbWV0cnkgJiYgZ2VvbWV0cnkuZXh0ZW50ID8gZ2VvbWV0cnkuZXh0ZW50LmNlbnRlciA6IHVuZGVmaW5lZFxyXG4gICAgLy8gdG9kb1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRmVhdHVyZSAoZmVhdHVyZTogSUZlYXR1cmUgfCBfX2VzcmkuR3JhcGhpYywgR3JhcGhpYzogdHlwZW9mIF9fZXNyaS5HcmFwaGljKTogX19lc3JpLkdyYXBoaWMge1xyXG4gIGxldCB0ZW1wRmVhdHVyZSA9IG51bGxcclxuICBpZiAoKGZlYXR1cmUgYXMgYW55KS5jbG9uZSkge1xyXG4gICAgdGVtcEZlYXR1cmUgPSAoZmVhdHVyZSBhcyBhbnkpLmNsb25lKClcclxuICB9IGVsc2Uge1xyXG4gICAgdGVtcEZlYXR1cmUgPSBHcmFwaGljLmZyb21KU09OKE9iamVjdC5hc3NpZ24oe30sIGZlYXR1cmUpKVxyXG4gICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGZlYXR1cmUuYXR0cmlidXRlcylcclxuICB9XHJcbiAgcmV0dXJuIHRlbXBGZWF0dXJlXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9qZWN0R2VvbWV0cmllcyAoZ2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10sIHNwYXRpYWxSZWZlcmVuY2U6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogUHJvbWlzZTxfX2VzcmkuR2VvbWV0cnlbXT4ge1xyXG4gIGlmICghZ2VvbWV0cmllcyB8fCBnZW9tZXRyaWVzLmxlbmd0aCA9PT0gMCB8fCAhZ2VvbWV0cmllc1swXSB8fFxyXG4gICAgc3BhdGlhbFJlZmVyZW5jZS53a2lkID09PSBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2Uud2tpZCB8fCAoc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlKSkpIHtcclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcylcclxuICB9IGVsc2UgaWYgKHNwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvciAmJiBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCkge1xyXG4gICAgLy8gSW4ganMgYXBpIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpXHJcbiAgfSBlbHNlIGlmIChzcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQgJiYgZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IpIHtcclxuICAgIC8vIEluIGpzIGFwaSA0LngsIHRoZSB2aWV3IGNhbiBoYW5kbGUgV2ViTWVyY2F0b3IgYW5kIFdHUzg0IHNwYXRpYWxSZWZlcmVuY2UgYXV0b1xyXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2VvbWV0cnlVdGlscy5wcm9qZWN0VG9TcGF0aWFsUmVmZXJlbmNlKGdlb21ldHJpZXMsIHNwYXRpYWxSZWZlcmVuY2UpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1pvb21Ub0ZlYXR1cmVzIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBsYXllcjogYW55LCBmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSk6IFByb21pc2U8X19lc3JpLkdyYXBoaWNbXT4ge1xyXG4gIGlmIChtYXBCYXNlVmlldyAmJiBtYXBCYXNlVmlldy50eXBlID09PSAnM2QnICYmIGxheWVyICYmIGxheWVyLnF1ZXJ5RmVhdHVyZXMgJiYgZmVhdHVyZXMpIHtcclxuICAgIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5J1xyXG4gICAgXSkudGhlbigobW9kdWxlcykgPT4ge1xyXG4gICAgICBjb25zdCBbUXVlcnldID0gbW9kdWxlc1xyXG4gICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXHJcbiAgICAgIHF1ZXJ5LnJldHVybkdlb21ldHJ5ID0gdHJ1ZVxyXG4gICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXVxyXG4gICAgICBxdWVyeS5vYmplY3RJZHMgPSBmZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLmF0dHJpYnV0ZXNbbGF5ZXIub2JqZWN0SWRGaWVsZF0pXHJcbiAgICAgIHJldHVybiBsYXllci5xdWVyeUZlYXR1cmVzKHF1ZXJ5KS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5mZWF0dXJlcyAmJiByZXN1bHQuZmVhdHVyZXMubGVuZ3RoID09PSBmZWF0dXJlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmZlYXR1cmVzKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZmVhdHVyZXMpXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSXNMaXZlIChhcHBNb2RlOiBBcHBNb2RlKTogYm9vbGVhbiB7XHJcbiAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XHJcbiAgICBpZiAoYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ24pIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExheWVyc0Zyb21EYXRhU291cmNlSWRzIChkYXRhU291cmNlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgbGF5ZXJQcm9taXNlcyA9IFtdXHJcbiAgZGF0YVNvdXJjZUlkcy5mb3JFYWNoKGRhdGFTb3VyY2VJZCA9PiB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRhdGFTb3VyY2VJZCkgYXMgdW5rbm93biBhcyBKU0FQSUxheWVyTWl4aW5cclxuICAgIGxldCBsYXllclByb21pc2VcclxuICAgIGlmIChkYXRhU291cmNlPy5sYXllcikge1xyXG4gICAgICBsYXllclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcclxuICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZT8uY3JlYXRlSlNBUElMYXllckJ5RGF0YVNvdXJjZSkge1xyXG4gICAgICBsYXllclByb21pc2UgPSBkYXRhU291cmNlLmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGF5ZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpXHJcbiAgICB9XHJcbiAgICBsYXllclByb21pc2VzLnB1c2gobGF5ZXJQcm9taXNlKVxyXG4gIH0pXHJcbiAgcmV0dXJuIFByb21pc2UuYWxsKGxheWVyUHJvbWlzZXMpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRKaW11TWFwVmlld0lkICh3aWRnZXRJZDogc3RyaW5nLCBkYXRhU291cmNlSWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8gSWYgZGF0YVNvdXJjZUlkIGlzIG51bGwsIG1ha2Ugc3VyZSBpdCBjb252ZXJ0cyB0byBlbXB0eSBzdHJpbmcuXHJcbiAgY29uc3QgZHNJZCA9IGRhdGFTb3VyY2VJZCB8fCAnJ1xyXG4gIHJldHVybiBgJHt3aWRnZXRJZH0tJHtkc0lkfWBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcEJhc2VSZXN0b3JlRGF0YSAobWFwSW5zdGFuY2U6IE1hcEJhc2UpOiBNYXBiYXNlUmVzdG9yZURhdGEge1xyXG4gIGNvbnN0IHtcclxuICAgIG1hcENvbnRhaW5lcixcclxuICAgIHN0YXRlLFxyXG4gICAgR2VvbWV0cnksXHJcbiAgICBJbml0aWFsVmlld1Byb3BlcnRpZXMsXHJcbiAgICBUaWxlTGF5ZXIsXHJcbiAgICBCYXNlbWFwLFxyXG4gICAgTWFwVmlldyxcclxuICAgIFNjZW5lVmlldyxcclxuICAgIEV4dGVudCxcclxuICAgIFZpZXdwb2ludCxcclxuICAgIFBvcnRhbEl0ZW0sXHJcbiAgICBQb3J0YWwsXHJcbiAgICBXZWJNYXAsXHJcbiAgICBXZWJTY2VuZSxcclxuICAgIENvbG9yLFxyXG4gICAgU3BhdGlhbFJlZmVyZW5jZSxcclxuICAgIFBvaW50LFxyXG4gICAgZXhwZWN0ZWREYXRhU291cmNlSW5mbyxcclxuICAgIG1hcENyZWF0aW5nSW5mbyxcclxuICAgIHZpZXcsXHJcbiAgICBsYXN0VXBkYXRlVmlld0NvbmZpZyxcclxuICAgIG1hcERzLFxyXG4gICAgZHNNYW5hZ2VyLFxyXG4gICAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlXHJcbiAgfSA9IG1hcEluc3RhbmNlXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBtYXBDb250YWluZXIsXHJcbiAgICBzdGF0ZSxcclxuXHJcbiAgICBHZW9tZXRyeSxcclxuICAgIEluaXRpYWxWaWV3UHJvcGVydGllcyxcclxuICAgIFRpbGVMYXllcixcclxuICAgIEJhc2VtYXAsXHJcbiAgICBNYXBWaWV3LFxyXG4gICAgU2NlbmVWaWV3LFxyXG4gICAgRXh0ZW50LFxyXG4gICAgVmlld3BvaW50LFxyXG4gICAgUG9ydGFsSXRlbSxcclxuICAgIFBvcnRhbCxcclxuICAgIFdlYk1hcCxcclxuICAgIFdlYlNjZW5lLFxyXG4gICAgQ29sb3IsXHJcbiAgICBTcGF0aWFsUmVmZXJlbmNlLFxyXG4gICAgUG9pbnQsXHJcblxyXG4gICAgZXhwZWN0ZWREYXRhU291cmNlSW5mbyxcclxuICAgIG1hcENyZWF0aW5nSW5mbyxcclxuICAgIHZpZXcsXHJcbiAgICBsYXN0VXBkYXRlVmlld0NvbmZpZyxcclxuICAgIG1hcERzLFxyXG5cclxuICAgIGRzTWFuYWdlcixcclxuICAgIGlzRmlyc3RSZWNlaXZlTWVzc2FnZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVNYXBCYXNlIChtYXBJbnN0YW5jZTogTWFwQmFzZSwgcmVzdG9yZURhdGE6IE1hcGJhc2VSZXN0b3JlRGF0YSk6IHZvaWQge1xyXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZXN0b3JlRGF0YSlcclxuXHJcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgbWFwSW5zdGFuY2Vba2V5XSA9IHJlc3RvcmVEYXRhW2tleV1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1R3b1dpZGdldHNNdXR1YWxseUV4dGVudENoYW5nZSAod2lkZ2V0SWQxOiBzdHJpbmcsIHdpZGdldElkMjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgaWYgKHdpZGdldElkMSAmJiB3aWRnZXRJZDIpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VDb25maWdzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5tZXNzYWdlQ29uZmlnc1xyXG5cclxuICAgIGlmIChtZXNzYWdlQ29uZmlncykge1xyXG4gICAgICBjb25zdCBhY3Rpb25OYW1lczogc3RyaW5nW10gPSBbJ3BhblRvJywgJ3pvb21Ub0ZlYXR1cmUnXVxyXG4gICAgICBjb25zdCBtZXNzYWdlVHlwZSA9IE1lc3NhZ2VUeXBlLkV4dGVudENoYW5nZVxyXG5cclxuICAgICAgaWYgKGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIod2lkZ2V0SWQxLCB3aWRnZXRJZDIsIG1lc3NhZ2VDb25maWdzLCBtZXNzYWdlVHlwZSwgYWN0aW9uTmFtZXMpICYmXHJcbiAgICAgICAgIGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIod2lkZ2V0SWQyLCB3aWRnZXRJZDEsIG1lc3NhZ2VDb25maWdzLCBtZXNzYWdlVHlwZSwgYWN0aW9uTmFtZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1dpZGdldFNlbmRab29tVG9BY3Rpb25Ub0Fub3RoZXIgKHNlbmRNZXNzYWdlV2lkZ2V0SWQ6IHN0cmluZywgYWN0aW9uV2lkZ2V0SWQ6IHN0cmluZywgbWVzc2FnZVR5cGU6IE1lc3NhZ2VUeXBlKTogYm9vbGVhbiB7XHJcbiAgaWYgKHNlbmRNZXNzYWdlV2lkZ2V0SWQgJiYgYWN0aW9uV2lkZ2V0SWQpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VDb25maWdzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5tZXNzYWdlQ29uZmlnc1xyXG5cclxuICAgIGlmIChtZXNzYWdlQ29uZmlncykge1xyXG4gICAgICBjb25zdCBhY3Rpb25OYW1lczogc3RyaW5nW10gPSBbJ3pvb21Ub0ZlYXR1cmUnXVxyXG5cclxuICAgICAgcmV0dXJuIGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIoc2VuZE1lc3NhZ2VXaWRnZXRJZCwgYWN0aW9uV2lkZ2V0SWQsIG1lc3NhZ2VDb25maWdzLCBtZXNzYWdlVHlwZSwgYWN0aW9uTmFtZXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuZnVuY3Rpb24gaXNXaWRnZXRTZW5kQWN0aW9uc1RvQW5vdGhlciAoXHJcbiAgc2VuZE1lc3NhZ2VXaWRnZXRJZDogc3RyaW5nLFxyXG4gIGFjdGlvbldpZGdldElkOiBzdHJpbmcsXHJcbiAgbWVzc2FnZUNvbmZpZ3M6IEltbXV0YWJsZU9iamVjdDxNZXNzYWdlc0pzb24+LFxyXG4gIG1lc3NhZ2VUeXBlOiBNZXNzYWdlVHlwZSxcclxuICBhY3Rpb25OYW1lczogc3RyaW5nW11cclxuKTogYm9vbGVhbiB7XHJcbiAgaWYgKG1lc3NhZ2VDb25maWdzKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSnNvbkFycmF5ID0gT2JqZWN0LnZhbHVlcyhtZXNzYWdlQ29uZmlncylcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VKc29uQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgbWVzc2FnZUpzb24gPSBtZXNzYWdlSnNvbkFycmF5W2ldXHJcblxyXG4gICAgICBpZiAobWVzc2FnZUpzb24ud2lkZ2V0SWQgPT09IHNlbmRNZXNzYWdlV2lkZ2V0SWQgJiYgbWVzc2FnZUpzb24ubWVzc2FnZVR5cGUgPT09IG1lc3NhZ2VUeXBlKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IG1lc3NhZ2VKc29uLmFjdGlvbnNcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhY3Rpb25zLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW2pdXHJcblxyXG4gICAgICAgICAgaWYgKGFjdGlvbi53aWRnZXRJZCA9PT0gYWN0aW9uV2lkZ2V0SWQpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWVzLmluY2x1ZGVzKGFjdGlvbi5hY3Rpb25OYW1lKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lbGlrZVZpZXdwb2ludHMgKHZpZXc6IE1hcGJhc2VWaWV3LCB2cDE6IF9fZXNyaS5WaWV3cG9pbnQsIHZwMjogX19lc3JpLlZpZXdwb2ludCk6IGJvb2xlYW4ge1xyXG4gIGlmICghdnAxKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGlmICghdnAyKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIC8vIFdlIG5lZWQgdG8gY2hlY2sgYm90aCB0YXJnZXRHZW9tZXRyeSBhbmQgY2FtZXJhLlxyXG4gIGlmICh2cDEudGFyZ2V0R2VvbWV0cnkgJiYgdnAxLnRhcmdldEdlb21ldHJ5LmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLmdlb21ldHJ5LlBvaW50JyAmJiB2cDIudGFyZ2V0R2VvbWV0cnkgJiYgdnAyLnRhcmdldEdlb21ldHJ5LmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLmdlb21ldHJ5LlBvaW50Jykge1xyXG4gICAgY29uc3Qgc2NyZWVuUG9pbnQxID0gdmlldy50b1NjcmVlbih2cDEudGFyZ2V0R2VvbWV0cnkgYXMgX19lc3JpLlBvaW50KVxyXG4gICAgY29uc3Qgc2NyZWVuUG9pbnQyID0gdmlldy50b1NjcmVlbih2cDIudGFyZ2V0R2VvbWV0cnkgYXMgX19lc3JpLlBvaW50KVxyXG4gICAgY29uc3QgZGVsdGFYID0gc2NyZWVuUG9pbnQxLnggLSBzY3JlZW5Qb2ludDIueFxyXG4gICAgY29uc3QgZGVsdGFZID0gc2NyZWVuUG9pbnQxLnkgLSBzY3JlZW5Qb2ludDIueVxyXG4gICAgY29uc3QgZGlzdCA9IE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpXHJcblxyXG4gICAgaWYgKGRpc3QgPj0gNSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbWVyYTEgPSB2cDEuY2FtZXJhXHJcbiAgY29uc3QgY2FtZXJhMiA9IHZwMi5jYW1lcmFcclxuXHJcbiAgaWYgKGNhbWVyYTEgJiYgY2FtZXJhMikge1xyXG4gICAgLy8gY29tcGFyZSB2aWV3cG9pbnQgZm9yIFNjZW5lVmlld1xyXG4gICAgY29uc3QgaGVhZGluZzEgPSBwYXJzZUZsb2F0KGNhbWVyYTEuaGVhZGluZy50b0ZpeGVkKDIpKVxyXG4gICAgY29uc3QgaGVhZGluZzIgPSBwYXJzZUZsb2F0KGNhbWVyYTIuaGVhZGluZy50b0ZpeGVkKDIpKVxyXG5cclxuICAgIGlmIChoZWFkaW5nMSAhPT0gaGVhZGluZzIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGlsdDEgPSBwYXJzZUZsb2F0KGNhbWVyYTEudGlsdC50b0ZpeGVkKDIpKVxyXG4gICAgY29uc3QgdGlsdDIgPSBwYXJzZUZsb2F0KGNhbWVyYTIudGlsdC50b0ZpeGVkKDIpKVxyXG5cclxuICAgIGlmICh0aWx0MSAhPT0gdGlsdDIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb25EaXN0ID0gY2FtZXJhMS5wb3NpdGlvbi5kaXN0YW5jZShjYW1lcmEyLnBvc2l0aW9uKVxyXG5cclxuICAgIGlmIChwb3NpdGlvbkRpc3QgPj0gMSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gY29tcGFyZSB2aWV3cG9pbnQgZm9yIE1hcFZpZXdcclxuICAgIGNvbnN0IHJvdGF0aW9uMSA9IHBhcnNlRmxvYXQodnAxLnJvdGF0aW9uLnRvRml4ZWQoMikpXHJcbiAgICBjb25zdCByb3RhdGlvbjIgPSBwYXJzZUZsb2F0KHZwMi5yb3RhdGlvbi50b0ZpeGVkKDIpKVxyXG5cclxuICAgIGlmIChyb3RhdGlvbjEgIT09IHJvdGF0aW9uMikge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWx0YVNjYWxlID0gdnAxLnNjYWxlIC0gdnAyLnNjYWxlXHJcblxyXG4gICAgaWYgKE1hdGguYWJzKGRlbHRhU2NhbGUpID49IDEpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vmlld3BvaW50SW5zdGFuY2VGcm9tSGlzdG9yeSAodmlldzogTWFwYmFzZVZpZXcsIHZpZXdwb2ludEluZGV4OiBudW1iZXIpOiBfX2VzcmkuVmlld3BvaW50IHtcclxuICBpZiAodmlldy52aWV3cG9pbnRIaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IGxhc3RJbmRleCA9IHZpZXcudmlld3BvaW50SGlzdG9yeS5sZW5ndGggLSAxXHJcblxyXG4gICAgaWYgKHZpZXdwb2ludEluZGV4ID49IDAgJiYgdmlld3BvaW50SW5kZXggPD0gbGFzdEluZGV4KSB7XHJcbiAgICAgIGNvbnN0IHZpZXdwb2ludCA9IHZpZXcudmlld3BvaW50SGlzdG9yeVt2aWV3cG9pbnRJbmRleF1cclxuICAgICAgcmV0dXJuIHZpZXdwb2ludC5jbG9uZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1hcFVybEhhc2hQYXJhbXMge1xyXG4gIGFjdGl2ZV9kYXRhc291cmNlX2lkPzogc3RyaW5nXHJcbiAgdmlld3BvaW50Pzogc3RyaW5nXHJcbiAgY2VudGVyPzogc3RyaW5nIC8vIHgseSx3a2lkXHJcbiAgc2NhbGU/OiBzdHJpbmdcclxuICByb3RhdGlvbj86IHN0cmluZ1xyXG4gIGxheWVyX3Zpc2liaWxpdHk/OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVybEhhc2hQYXJhbXNGb3JBY3RpdmVKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSB7XHJcbiAgaWYgKGppbXVNYXBWaWV3ICYmIGppbXVNYXBWaWV3LmlzQWN0aXZlICYmIGppbXVNYXBWaWV3LnZpZXcgJiYgIWppbXVNYXBWaWV3LnZpZXcuZGVzdHJveWVkKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gamltdU1hcFZpZXcudmlldyBhcyBNYXBiYXNlVmlld1xyXG4gICAgY29uc3QgdXJsTWFuYWdlciA9IFVybE1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gICAgY29uc3Qgdmlld3BvaW50SnNvbiA9IHZpZXcudmlld3BvaW50ID8gdmlldy52aWV3cG9pbnQudG9KU09OKCkgOiBudWxsXHJcblxyXG4gICAgbGV0IHZpZXdwb2ludFN0cjogc3RyaW5nID0gbnVsbFxyXG4gICAgbGV0IGNlbnRlclN0cjogc3RyaW5nID0gbnVsbFxyXG4gICAgbGV0IHNjYWxlU3RyOiBzdHJpbmcgPSBudWxsXHJcbiAgICBsZXQgcm90YXRpb25TdHI6IHN0cmluZyA9IG51bGxcclxuXHJcbiAgICBpZiAodmlld3BvaW50SnNvbikge1xyXG4gICAgICB2aWV3cG9pbnRTdHIgPSBKU09OLnN0cmluZ2lmeSh2aWV3cG9pbnRKc29uKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFdlIG9ubHkgc3VwcG9ydCBjZW50ZXIsIHNjYWxlIGFuZCByb3RhaW9uIGZvciBNYXBWaWV3LlxyXG4gICAgaWYgKHZpZXcudHlwZSA9PT0gJzJkJykge1xyXG4gICAgICBjb25zdCB3a2lkID0gdmlldy5zcGF0aWFsUmVmZXJlbmNlPy53a2lkXHJcblxyXG4gICAgICBpZiAod2tpZCkge1xyXG4gICAgICAgIGNvbnN0IHZpZXdDZW50ZXIgPSB2aWV3LmNlbnRlclxyXG4gICAgICAgIGNlbnRlclN0ciA9IGAke3ZpZXdDZW50ZXIueH0sJHt2aWV3Q2VudGVyLnl9LCR7d2tpZH1gXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNjYWxlU3RyID0gU3RyaW5nKHZpZXcuc2NhbGUpXHJcbiAgICAgIHJvdGF0aW9uU3RyID0gU3RyaW5nKHZpZXcucm90YXRpb24pXHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5sYXN0Vmlld3BvaW50VG9VcGRhdGVVcmxQYXJhbXMgPSB2aWV3LnZpZXdwb2ludCA/IHZpZXcudmlld3BvaW50LmNsb25lKCkgOiBudWxsXHJcbiAgICB2aWV3Lmxhc3RWaWV3cG9pbnRVcmxQYXJhbVVwZGF0ZVRpbWVzdGFtcCA9IERhdGUubm93KClcclxuXHJcbiAgICBjb25zdCBhY3RpdmVEYXRhc291cmNlSWQgPSBqaW11TWFwVmlldy5kYXRhU291cmNlSWQgfHwgbnVsbFxyXG5cclxuICAgIGNvbnN0IG1hcFVybEhhc2hQYXJhbXM6IE1hcFVybEhhc2hQYXJhbXMgPSB7XHJcbiAgICAgIGFjdGl2ZV9kYXRhc291cmNlX2lkOiBhY3RpdmVEYXRhc291cmNlSWQsXHJcbiAgICAgIGNlbnRlcjogY2VudGVyU3RyLFxyXG4gICAgICBzY2FsZTogc2NhbGVTdHIsXHJcbiAgICAgIHJvdGF0aW9uOiByb3RhdGlvblN0cixcclxuICAgICAgLy8gaWYgdmlld3BvaW50U3RyIGlzIG51bGwsIFVybE1hbmFnZXIgd2lsbCByZW1vdmUgaXQgZnJvbSB1cmxcclxuICAgICAgdmlld3BvaW50OiB2aWV3cG9pbnRTdHJcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnc2V0V2lkZ2V0VXJsUGFyYW1zJywgRGF0ZS5ub3coKSlcclxuICAgIHVybE1hbmFnZXIuc2V0V2lkZ2V0VXJsUGFyYW1zKGppbXVNYXBWaWV3Lm1hcFdpZGdldElkLCBtYXBVcmxIYXNoUGFyYW1zKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVcmxQYXJhbXNNYXBPcHRpb25zIHtcclxuICB2aWV3cG9pbnQ/OiBfX2VzcmkuVmlld3BvaW50XHJcbiAgY2VudGVyPzogX19lc3JpLlBvaW50XHJcbiAgc2NhbGU/OiBudW1iZXJcclxuICByb3RhdGlvbj86IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogR2V0IGNoYW5nZWQgdmlld3BvaW50IGJ5IHZpZXcgYW5kIHVybCBoYXNoIHBhcmFtcy5cclxuICogUmV0dXJuIG51bGwgaWYgdmlld3BvaW50IG5vdCBjaGFuZ2VkLlxyXG4gKiBAcGFyYW0gdmlld1xyXG4gKiBAcGFyYW0gcnVudGltZVVybEhhc2hQYXJhbXNcclxuICogQHBhcmFtIHBhcnNlVmlld3BvaW50XHJcbiAqIEBwYXJhbSBwYXJzZUNlbnRlclxyXG4gKiBAcGFyYW0gcGFyc2VTY2FsZVxyXG4gKiBAcGFyYW0gcGFyc2VSb3RhdGlvblxyXG4gKiBAcGFyYW0gVmlld3BvaW50XHJcbiAqIEBwYXJhbSBQb2ludFxyXG4gKiBAcGFyYW0gU3BhdGlhbFJlZmVyZW5jZVxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYW5nZWRWaWV3cG9pbnRCeVZpZXdBbmRVcmxIYXNoUGFyYW1zIChcclxuICB2aWV3OiBNYXBiYXNlVmlldyxcclxuICBydW50aW1lVXJsSGFzaFBhcmFtczogTWFwVXJsSGFzaFBhcmFtcyxcclxuICBwYXJzZVZpZXdwb2ludDogYm9vbGVhbixcclxuICBwYXJzZUNlbnRlcjogYm9vbGVhbixcclxuICBwYXJzZVNjYWxlOiBib29sZWFuLFxyXG4gIHBhcnNlUm90YXRpb246IGJvb2xlYW4sXHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludCxcclxuICBQb2ludDogdHlwZW9mIF9fZXNyaS5Qb2ludCxcclxuICBTcGF0aWFsUmVmZXJlbmNlOiB0eXBlb2YgX19lc3JpLlNwYXRpYWxSZWZlcmVuY2VcclxuKTogX19lc3JpLlZpZXdwb2ludCB7XHJcbiAgbGV0IHJlc3VsdDogX19lc3JpLlZpZXdwb2ludCA9IG51bGxcclxuICBjb25zdCBjdXJyVmlld3BvaW50ID0gdmlldy52aWV3cG9pbnQ/LmNsb25lKClcclxuICBjb25zdCBpczJEID0gdmlldy50eXBlID09PSAnMmQnXHJcblxyXG4gIGlmICghaXMyRCkge1xyXG4gICAgcGFyc2VDZW50ZXIgPSBmYWxzZVxyXG4gICAgcGFyc2VTY2FsZSA9IGZhbHNlXHJcbiAgICBwYXJzZVJvdGF0aW9uID0gZmFsc2VcclxuICB9XHJcblxyXG4gIGNvbnN0IHVybFBhcmFtc01hcE9wdGlvbnMgPSBnZXRNYXBPcHRpb25zQnlVcmxIYXNoUGFyYW1zKHJ1bnRpbWVVcmxIYXNoUGFyYW1zLCBpczJELCBWaWV3cG9pbnQsIFBvaW50LCBTcGF0aWFsUmVmZXJlbmNlKVxyXG5cclxuICBpZiAodXJsUGFyYW1zTWFwT3B0aW9ucykge1xyXG4gICAgaWYgKCFwYXJzZVZpZXdwb2ludCkge1xyXG4gICAgICBkZWxldGUgdXJsUGFyYW1zTWFwT3B0aW9ucy52aWV3cG9pbnRcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBhcnNlQ2VudGVyKSB7XHJcbiAgICAgIGRlbGV0ZSB1cmxQYXJhbXNNYXBPcHRpb25zLmNlbnRlclxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGFyc2VTY2FsZSkge1xyXG4gICAgICBkZWxldGUgdXJsUGFyYW1zTWFwT3B0aW9ucy5zY2FsZVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGFyc2VSb3RhdGlvbikge1xyXG4gICAgICBkZWxldGUgdXJsUGFyYW1zTWFwT3B0aW9ucy5yb3RhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChPYmplY3Qua2V5cyh1cmxQYXJhbXNNYXBPcHRpb25zKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGlmIChpczJEKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdXJsUGFyYW1zTWFwT3B0aW9ucy52aWV3cG9pbnQgfHwgY3VyclZpZXdwb2ludFxyXG5cclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICBpZiAodXJsUGFyYW1zTWFwT3B0aW9ucy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnRhcmdldEdlb21ldHJ5ID0gdXJsUGFyYW1zTWFwT3B0aW9ucy5jZW50ZXJcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiB1cmxQYXJhbXNNYXBPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5zY2FsZSA9IHVybFBhcmFtc01hcE9wdGlvbnMuc2NhbGVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoJ3JvdGF0aW9uJyBpbiB1cmxQYXJhbXNNYXBPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5yb3RhdGlvbiA9IHVybFBhcmFtc01hcE9wdGlvbnMucm90YXRpb25cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdXJsUGFyYW1zTWFwT3B0aW9ucy52aWV3cG9pbnRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwT3B0aW9uc0J5VXJsSGFzaFBhcmFtcyAoXHJcbiAgcnVudGltZVVybEhhc2hQYXJhbXM6IE1hcFVybEhhc2hQYXJhbXMsXHJcbiAgaXMyRDogYm9vbGVhbixcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50LFxyXG4gIFBvaW50OiB0eXBlb2YgX19lc3JpLlBvaW50LFxyXG4gIFNwYXRpYWxSZWZlcmVuY2U6IHR5cGVvZiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZVxyXG4pOiBVcmxQYXJhbXNNYXBPcHRpb25zIHtcclxuICBsZXQgcmVzdWx0OiBVcmxQYXJhbXNNYXBPcHRpb25zID0ge31cclxuICBsZXQgdmlld3BvaW50OiBfX2VzcmkuVmlld3BvaW50ID0gbnVsbFxyXG4gIGxldCBjZW50ZXI6IF9fZXNyaS5Qb2ludCA9IG51bGxcclxuICBsZXQgc2NhbGU6IG51bWJlciA9IG51bGxcclxuICBsZXQgcm90YXRpb246IG51bWJlciA9IG51bGxcclxuXHJcbiAgaWYgKHJ1bnRpbWVVcmxIYXNoUGFyYW1zKSB7XHJcbiAgICAvLyBwYXJzZSB2aWV3cG9pbnRcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChydW50aW1lVXJsSGFzaFBhcmFtcy52aWV3cG9pbnQpIHtcclxuICAgICAgICBjb25zdCB2aWV3cG9pbnRKc29uID0gSlNPTi5wYXJzZShydW50aW1lVXJsSGFzaFBhcmFtcy52aWV3cG9pbnQpXHJcblxyXG4gICAgICAgIGlmICh2aWV3cG9pbnRKc29uKSB7XHJcbiAgICAgICAgICB2aWV3cG9pbnQgPSBWaWV3cG9pbnQuZnJvbUpTT04odmlld3BvaW50SnNvbilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcigncGFyc2Ugdmlld3BvaW50IGZyb20gdXJsIGhhc2ggcGFyYW1zIGVycm9yJywgZSlcclxuICAgICAgdmlld3BvaW50ID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8vIG9ubHkgc3VwcG9ydCBjZW50ZXIsIHNjYWxlIGFuZCByb3RhdGlvbiBmb3IgTWFwVmlld1xyXG4gICAgaWYgKGlzMkQpIHtcclxuICAgICAgLy8gcGFyc2UgY2VudGVyXHJcbiAgICAgIC8vIGNlbnRlciBmb3JtYXQ6IHgseSx3a2lkXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKHJ1bnRpbWVVcmxIYXNoUGFyYW1zLmNlbnRlcikge1xyXG4gICAgICAgICAgY29uc3Qgc3BsaXRzID0gcnVudGltZVVybEhhc2hQYXJhbXMuY2VudGVyLnNwbGl0KCcsJylcclxuXHJcbiAgICAgICAgICBpZiAoc3BsaXRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBwYXJzZUZsb2F0KHNwbGl0c1swXSlcclxuICAgICAgICAgICAgY29uc3QgeSA9IHBhcnNlRmxvYXQoc3BsaXRzWzFdKVxyXG4gICAgICAgICAgICBjb25zdCB3a2lkID0gcGFyc2VGbG9hdChzcGxpdHNbMl0pXHJcblxyXG4gICAgICAgICAgICBpZiAoaXNWYWxpZE51bSh4KSAmJiBpc1ZhbGlkTnVtKHkpICYmIGlzVmFsaWROdW0od2tpZCkpIHtcclxuICAgICAgICAgICAgICBjb25zdCBzcGF0aWFsUmVmZXJlbmNlID0gbmV3IFNwYXRpYWxSZWZlcmVuY2Uoe1xyXG4gICAgICAgICAgICAgICAgd2tpZFxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgIGNlbnRlciA9IG5ldyBQb2ludCh7XHJcbiAgICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2VcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcigncGFyc2UgY2VudGVyIGZyb20gdXJsIGhhc2ggcGFyYW1zIGVycm9yJywgZSlcclxuICAgICAgICBjZW50ZXIgPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHBhcnNlIHNjYWxlXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCdzY2FsZScgaW4gcnVudGltZVVybEhhc2hQYXJhbXMpIHtcclxuICAgICAgICAgIGNvbnN0IHNjYWxlTnVtID0gcGFyc2VGbG9hdChydW50aW1lVXJsSGFzaFBhcmFtcy5zY2FsZSlcclxuXHJcbiAgICAgICAgICBpZiAoaXNWYWxpZE51bShzY2FsZU51bSkgJiYgc2NhbGVOdW0gPj0gMCkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlTnVtXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgc2NhbGUgPSBudWxsXHJcbiAgICAgICAgY29uc29sZS5lcnJvcigncGFyc2Ugc2NhbGUgZnJvbSB1cmwgaGFzaCBwYXJhbXMgZXJyb3InLCBlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBwYXJzZSByb3RhdGlvblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICgncm90YXRpb24nIGluIHJ1bnRpbWVVcmxIYXNoUGFyYW1zKSB7XHJcbiAgICAgICAgICBjb25zdCByb3RhdGlvbk51bSA9IHBhcnNlRmxvYXQocnVudGltZVVybEhhc2hQYXJhbXMucm90YXRpb24pXHJcblxyXG4gICAgICAgICAgaWYgKGlzVmFsaWROdW0ocm90YXRpb25OdW0pICYmIHJvdGF0aW9uTnVtID49IDAgJiYgcm90YXRpb25OdW0gPD0gMzYwKSB7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uID0gcm90YXRpb25OdW1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByb3RhdGlvbiA9IG51bGxcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdwYXJzZSByb3RhdGlvbiBmcm9tIHVybCBoYXNoIHBhcmFtcyBlcnJvcicsIGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICh2aWV3cG9pbnQpIHtcclxuICAgIHJlc3VsdC52aWV3cG9pbnQgPSB2aWV3cG9pbnRcclxuICB9XHJcblxyXG4gIC8vIG9ubHkgc3VwcG9ydCBjZW50ZXIsIHNjYWxlIGFuZCByb3RhdGlvbiBmb3IgTWFwVmlld1xyXG4gIGlmIChpczJEKSB7XHJcbiAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgIHJlc3VsdC5jZW50ZXIgPSBjZW50ZXJcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNWYWxpZE51bShzY2FsZSkpIHtcclxuICAgICAgcmVzdWx0LnNjYWxlID0gc2NhbGVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNWYWxpZE51bShyb3RhdGlvbikpIHtcclxuICAgICAgcmVzdWx0LnJvdGF0aW9uID0gcm90YXRpb25cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmVzdWx0ID0gbnVsbFxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkTnVtICh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbHVlKVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VWZXJzaW9uTWFuYWdlciwgSW1tdXRhYmxlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5cclxuY2xhc3MgVmVyc2lvbk1hbmFnZXIgZXh0ZW5kcyBCYXNlVmVyc2lvbk1hbmFnZXIge1xyXG4gIHZlcnNpb25zID0gW3tcclxuICAgIHZlcnNpb246ICcxLjEwLjAnLFxyXG4gICAgZGVzY3JpcHRpb246ICcxLjEwLjAnLFxyXG4gICAgdXBncmFkZXI6IChvbGRDb25maWcpID0+IHtcclxuICAgICAgbGV0IG5ld0NvbmZpZ1xyXG4gICAgICBpZiAob2xkQ29uZmlnLnRvb2xDb25pZmcpIHtcclxuICAgICAgICAvLyBmaXggdHlwbyBmb3IgJ3Rvb2xDb25pZmcnXHJcbiAgICAgICAgbmV3Q29uZmlnID0gSW1tdXRhYmxlLndpdGhvdXQob2xkQ29uZmlnLCAndG9vbENvbmlmZycpXHJcbiAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldCgndG9vbENvbmZpZycsIG9sZENvbmZpZy50b29sQ29uaWZnKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9XVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdmVyc2lvbk1hbmFnZXIgPSBuZXcgVmVyc2lvbk1hbmFnZXIoKVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9hcmNnaXNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfbGF5b3V0c19sYXlvdXRfcnVudGltZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiLyoqXHJcbiAqIFdlYnBhY2sgd2lsbCByZXBsYWNlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHdpdGggX193ZWJwYWNrX3JlcXVpcmVfXy5wIHRvIHNldCB0aGUgcHVibGljIHBhdGggZHluYW1pY2FsbHkuXHJcbiAqIFRoZSByZWFzb24gd2h5IHdlIGNhbid0IHNldCB0aGUgcHVibGljUGF0aCBpbiB3ZWJwYWNrIGNvbmZpZyBpczogd2UgY2hhbmdlIHRoZSBwdWJsaWNQYXRoIHdoZW4gZG93bmxvYWQuXHJcbiAqICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4vLyBAdHMtaWdub3JlXHJcbl9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gd2luZG93LmppbXVDb25maWcuYmFzZVVybFxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHtcclxuICBSZWFjdCwgUmVhY3RET00sIGNzcywganN4LCBnZXRBcHBTdG9yZSwgdHlwZSBBbGxXaWRnZXRQcm9wcywgU2Vzc2lvbk1hbmFnZXIsIHR5cGUgRGF0YVJlY29yZFNldCwgVGltZXpvbmVDb25maWcsXHJcbiAgdXRpbHMsIEFwcE1vZGUsIHR5cGUgSU1TdGF0ZSwgY2xhc3NOYW1lcywgcG9saXNoZWQsIFJlYWN0UmVzaXplRGV0ZWN0b3IsIE11dGFibGVTdG9yZU1hbmFnZXIsIHR5cGUgSU1VcmxQYXJhbWV0ZXJzXHJcbn0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIElNQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQgTXVsdGlTb3VyY2VNYXAgZnJvbSAnLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwJ1xyXG5pbXBvcnQgRGVmYXVsdE1hcCBmcm9tICcuL2NvbXBvbmVudHMvZGVmYXVsdC1tYXAnXHJcbmltcG9ydCB7IHR5cGUgSUZlYXR1cmUgfSBmcm9tICdAZXNyaS9hcmNnaXMtcmVzdC10eXBlcydcclxuaW1wb3J0IHsgY2hlY2tJc0xpdmUsIHR5cGUgTWFwVXJsSGFzaFBhcmFtcyB9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7XHJcbiAgdHlwZSBKaW11TWFwVmlld0dyb3VwLCB0eXBlIFNob3dPbk1hcERhdGFzLCB0eXBlIEFkZFRvTWFwRGF0YXMsIHR5cGUgSmltdU1hcFZpZXcsIHR5cGUgSmltdUxheWVyVmlldyxcclxuICBEYXRhQ2hhbmdlU3RhdHVzLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBNYXBWaWV3TWFuYWdlclxyXG59IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBWaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LCBQYWdlVmlzaWJpbGl0eUNvbnRleHQsIFZpZXdWaXNpYmlsaXR5Q29udGV4dCB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcclxuaW1wb3J0IHsgdmVyc2lvbk1hbmFnZXIgfSBmcm9tICcuLi92ZXJzaW9uLW1hbmFnZXInXHJcbmltcG9ydCB7IExvYWRpbmcsIExvYWRpbmdUeXBlLCBJY29uLCBEYXRhQWN0aW9uTGlzdCwgRGF0YUFjdGlvbkxpc3RTdHlsZSB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IHR5cGUgWm9vbVRvRmVhdHVyZUFjdGlvblZhbHVlIH0gZnJvbSAnLi4vbWVzc2FnZS1hY3Rpb25zL3pvb20tdG8tZmVhdHVyZS1hY3Rpb24nXHJcbmltcG9ydCB7IHR5cGUgUGFuVG9BY3Rpb25WYWx1ZSB9IGZyb20gJy4uL21lc3NhZ2UtYWN0aW9ucy9wYW4tdG8tYWN0aW9uJ1xyXG5pbXBvcnQgZGVmYXVsdE1lc3NhZ2VzIGZyb20gJy4vdHJhbnNsYXRpb25zL2RlZmF1bHQnXHJcbmltcG9ydCB7IG1hcCB9IGZyb20gJ2xvZGFzaC1lcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uUmVsYXRlZFByb3BzIHtcclxuICB6b29tVG9GZWF0dXJlQWN0aW9uVmFsdWU/OiBab29tVG9GZWF0dXJlQWN0aW9uVmFsdWVcclxuICBwYW5Ub0FjdGlvblZhbHVlPzogUGFuVG9BY3Rpb25WYWx1ZVxyXG4gIG5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZT86IHtcclxuICAgIHZhbHVlOiB7IFtsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldCB9XHJcbiAgICBwcm9taXNlPzogUHJvbWlzZTxhbnk+XHJcbiAgfVxyXG4gIGNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7IFtsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldCB9XHJcbiAgc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlPzogSUZlYXR1cmVbXSB8IF9fZXNyaS5HcmFwaGljW11cclxuICBmbGFzaEFjdGlvblZhbHVlPzoge1xyXG4gICAgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gICAgcXVlcnlTUUw6IHN0cmluZ1xyXG4gIH1cclxuICBmaWx0ZXJBY3Rpb25WYWx1ZT86IHtcclxuICAgIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICAgIHF1ZXJ5U1FMOiBzdHJpbmdcclxuICB9XHJcbiAgc2hvd09uTWFwRGF0YXM/OiBTaG93T25NYXBEYXRhc1xyXG4gIGFkZFRvTWFwRGF0YXM/OiBBZGRUb01hcERhdGFzXHJcbn1cclxuXHJcbmludGVyZmFjZSBFeHRyYU1hcFdpZGdldFByb3BzIHtcclxuICBtdXRhYmxlU3RhdGVQcm9wcz86IEFjdGlvblJlbGF0ZWRQcm9wc1xyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBpc1ByaW50UHJldmlldzogYm9vbGVhblxyXG4gIHF1ZXJ5T2JqZWN0OiBJTVVybFBhcmFtZXRlcnNcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxuICBpc1J1bkFwcE1vZGU6IGJvb2xlYW5cclxuICBydW50aW1lVXJsSGFzaFBhcmFtczogTWFwVXJsSGFzaFBhcmFtc1xyXG4gIG1hcFRpbWVab25lOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTWFwV2lkZ2V0UHJvcHMgPSBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz4gJiBFeHRyYU1hcFdpZGdldFByb3BzXHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZ1xyXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXHJcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXHJcbiAgZGF0YUFjdGlvbkRhdGFTZXQ6IERhdGFSZWNvcmRTZXRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2lkZ2V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxNYXBXaWRnZXRQcm9wcywgU3RhdGU+IHtcclxuICBwYXJlbnRDb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIGNvbnRhaW5lckNsaWVudFJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0XHJcbiAgbXVsdGlTb3VyY2VNYXBJbnN0YW5jZTogTXVsdGlTb3VyY2VNYXAgPSBudWxsXHJcbiAgYWN0aXZlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3ID0gbnVsbFxyXG4gIHdhdGNoU2VsZWN0ZWRGZWF0dXJlSGFuZGxlOiBfX2VzcmkuV2F0Y2hIYW5kbGUgPSBudWxsXHJcbiAgZGF0YUFjdGlvbkxpc3RDb250YWluZXI6IEhUTUxFbGVtZW50ID0gbnVsbFxyXG4gIHJlYWN0aXZlVXRpbHM6IHR5cGVvZiBfX2VzcmkucmVhY3RpdmVVdGlscyA9IG51bGxcclxuICBwb3B1cERvbU5vZGVPYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciA9IG51bGxcclxuICByZWFkb25seSB3YXJuaW5nSWNvbjogc3RyaW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLndhcm5pbmdJY29uID0gYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE1XCIgdmlld0JveD1cIjAgMCAxNiAxNVwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcuMDk5MjYgNS4zNzAwNEM3LjA0NTk4IDQuODM3MjkgNy40NjQzNCA0LjM3NSA3Ljk5OTc1IDQuMzc1QzguNTM1MTYgNC4zNzUgOC45NTM1MyA0LjgzNzI4IDguOTAwMjUgNS4zNzAwNEw4LjU0OTUgOC44Nzc0OEM4LjUyMTI2IDkuMTU5OTIgOC4yODM2IDkuMzc1IDcuOTk5NzUgOS4zNzVDNy43MTU5MSA5LjM3NSA3LjQ3ODI1IDkuMTU5OTIgNy40NSA4Ljg3NzQ4TDcuMDk5MjYgNS4zNzAwNFpcIiBmaWxsPVwiIzkzODUwMFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk03Ljk5OTc1IDEyLjM3NUM4LjU1MjA0IDEyLjM3NSA4Ljk5OTc1IDExLjkyNzMgOC45OTk3NSAxMS4zNzVDOC45OTk3NSAxMC44MjI3IDguNTUyMDQgMTAuMzc1IDcuOTk5NzUgMTAuMzc1QzcuNDQ3NDcgMTAuMzc1IDYuOTk5NzUgMTAuODIyNyA2Ljk5OTc1IDExLjM3NUM2Ljk5OTc1IDExLjkyNzMgNy40NDc0NyAxMi4zNzUgNy45OTk3NSAxMi4zNzVaXCIgZmlsbD1cIiM5Mzg1MDBcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xLjY2NjQyIDE0LjM3NUMwLjkxMTUgMTQuMzc1IDAuNDI4ODExIDEzLjU3MDUgMC43ODQwNjcgMTIuOTA0NEw3LjExNzQgMS4wMjk0MUM3LjQ5Mzg3IDAuMzIzNTI5IDguNTA1NjQgMC4zMjM1MjkgOC44ODIxMSAxLjAyOTQxTDE1LjIxNTQgMTIuOTA0NEMxNS41NzA3IDEzLjU3MDUgMTUuMDg4IDE0LjM3NSAxNC4zMzMxIDE0LjM3NUgxLjY2NjQyWk0xLjY2NjQyIDEzLjM3NUw3Ljk5OTc1IDEuNUwxNC4zMzMxIDEzLjM3NUgxLjY2NjQyWlwiIGZpbGw9XCIjOTM4NTAwXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICB3aWR0aEJyZWFrcG9pbnQ6IG51bGwsXHJcbiAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcclxuICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZSxcclxuICAgICAgZGF0YUFjdGlvbkRhdGFTZXQ6IG51bGxcclxuICAgIH0gYXMgU3RhdGVcclxuXHJcbiAgICB0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIuY2xhc3NOYW1lID0gJ2RhdGEtYWN0aW9uLWxpc3Qtd3JhcHBlcidcclxuXHJcbiAgICB0aGlzLmxvYWRSZWFjdGl2ZVV0aWxzKClcclxuICB9XHJcblxyXG4gIGdldFdpZGdldFN5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLm1hcC1sb2FkaW5nLWJhciB7XHJcbiAgICAgICAgei1pbmRleDogODtcclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcC13YXJuaW5nLWJhciB7XHJcbiAgICAgICAgei1pbmRleDogODtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiA0cHg7XHJcbiAgICAgICAgbGVmdDogNHB4O1xyXG4gICAgICAgIHJpZ2h0OiA0cHg7XHJcbiAgICAgICAgaGVpZ2h0OiAzNXB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmZkZWI7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjU5MjtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cclxuICAgICAgICAud2FybmluZy1pY29uIHtcclxuICAgICAgICAgIHdpZHRoOiAxNHB4O1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDEycHggMCAxMnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcC1maXgtbGF5b3V0IHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDc7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5oaWRlLW1hcC10b29scy1sYXlvdXQgLm1hcC10b29sLWxheW91dHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXNyaS12aWV3LXJvb3QgPiAuZXNyaS11aSB7XHJcbiAgICAgICAgei1pbmRleDogdW5zZXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5lc3JpLXVpLW1hbnVhbC1jb250YWluZXIgLmVzcmktc3dpcGUge1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5lc3JpLXVpIC5lc3JpLXBvcHVwIHtcclxuICAgICAgICB6LWluZGV4OiA5O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZGF0YS1hY3Rpb24tbGlzdC13cmFwcGVyIHtcclxuICAgICAgICBtYXJnaW46IDNweDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgLm1hcC1pcy1saXZlLW1vZGUge1xyXG4gICAgICAgIC5leGJtYXAtdWkge1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5pcy13aWRnZXQge1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC53aWRnZXQtbWFwLXVzZW1hc2sge1xyXG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXAtaXMtZGVzaWduLW1vZGUge1xyXG4gICAgICAgIC5leGJtYXAtdWksXHJcbiAgICAgICAgLmV4Ym1hcC11aS10b29sIHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaXMtd2lkZ2V0IHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcHtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogLTE7XHJcbiAgICAgICAgLm92ZXJ2aWV3LWNvbnRhaW5lcntcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHRvcDogMTJweDtcclxuICAgICAgICAgIHJpZ2h0OiAxMnB4O1xyXG4gICAgICAgICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5leHRlbnQtY29udGFpbmVye1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgei1pbmRleDogMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5leHRlbnQtYnRuLWNvbnRhaW5lcntcclxuICAgICAgICAgIGJ1dHRvbntcclxuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5wcmV2aW91cy1leHRlbnQtYnRue1xyXG4gICAgICAgICAgICBjb2xvcjogIzExMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5uZXh0LWV4dGVudC1idG57XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMjIyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcHN3aXRjaC1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiA3O1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgICBib3R0b206IDEwcHg7XHJcbiAgICAgICAgbGVmdDogMTBweDtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXBzd2l0Y2gtaWNvbiB7XHJcbiAgICAgICAgZmlsbDogYmxhY2s7XHJcbiAgICAgICAgbGVmdDogOHB4O1xyXG4gICAgICAgIHRvcDogOHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLndpZGdldC1tYXAtYmFja2dyb3VuZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLndoaXRlLCAwLjg1KX07XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkLWxhYmVsLXBhZGRpbmcge1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyNCl9O1xyXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMjQpfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xyXG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfTtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgQGtleWZyYW1lcyBhcHBlYXIge1xyXG4gICAgICAgIDAle29wYWNpdHk6MH1cclxuICAgICAgICAyNSV7b3BhY2l0eTouMjV9XHJcbiAgICAgICAgNTAle29wYWNpdHk6LjU7fVxyXG4gICAgICAgIDc1JXtvcGFjaXR5Oi43NX1cclxuICAgICAgICAxMDAle29wYWNpdHk6MTt9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEBrZXlmcmFtZXMgZGlzYXBwZWFyIHtcclxuICAgICAgICAwJXtvcGFjaXR5OjF9XHJcbiAgICAgICAgMjUle29wYWNpdHk6Ljc1fVxyXG4gICAgICAgIDUwJXtvcGFjaXR5Oi41O31cclxuICAgICAgICA3NSV7b3BhY2l0eTouMjV9XHJcbiAgICAgICAgMTAwJXtvcGFjaXR5OjA7fVxyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb246IGFwcGVhciAzMDBtcztcclxuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZGlzYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcclxuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlIHtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG5cclxuICBtYXBDbGlja2VkID0gZmFsc2U7IC8vIEFkZCBhIGZsYWcgdG8gdHJhY2sgaWYgdGhlIG1hcCBpcyBjbGlja2VkXHJcblxyXG4gIGhhbmRsZUNsaWNrT3V0c2lkZU1hcCA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5jb250YWluZXIuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgdGhpcy5tYXBDbGlja2VkID0gdHJ1ZTsgLy8gU2V0IHRoZSBmbGFnIHRvIHRydWUgaWYgdGhlIG1hcCBpcyBjbGlja2VkXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGlja091dHNpZGVNYXApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlTWFwU2Nyb2xsaW5nID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuYWN0aXZlSmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy52aWV3LmNvbnRhaW5lci5zdHlsZS50b3VjaEFjdGlvbiA9ICdhdXRvJztcclxuICAgICAgdGhpcy5hY3RpdmVKaW11TWFwVmlldy52aWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkID0gdHJ1ZTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRpc2FibGVNYXBTY3JvbGxpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzYWJsZU1hcFNjcm9sbGluZyA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmVKaW11TWFwVmlldy52aWV3ICYmICF0aGlzLmNvbnRhaW5lci5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3LnZpZXcuY29udGFpbmVyLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnO1xyXG4gICAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3LnZpZXcubmF2aWdhdGlvbi5tb3VzZVdoZWVsWm9vbUVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRpc2FibGVNYXBTY3JvbGxpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHZlcnNpb25NYW5hZ2VyID0gdmVyc2lvbk1hbmFnZXJcclxuXHJcbiAgc3RhdGljIG1hcEV4dHJhU3RhdGVQcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgcHJvcHM6IEFsbFdpZGdldFByb3BzPElNQ29uZmlnPik6IEV4dHJhTWFwV2lkZ2V0UHJvcHMgPT4ge1xyXG4gICAgbGV0IGF1dG9Db250cm9sV2lkZ2V0SWQgPSAnJ1xyXG5cclxuICAgIGNvbnN0IG1hcFdpZGdldElkID0gcHJvcHMuaWRcclxuXHJcbiAgICBpZiAoc3RhdGUubWFwV2lkZ2V0c0luZm8gJiYgbWFwV2lkZ2V0SWQpIHtcclxuICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZCA9IHN0YXRlLm1hcFdpZGdldHNJbmZvW21hcFdpZGdldElkXT8uYXV0b0NvbnRyb2xXaWRnZXRJZCB8fCAnJ1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFwcE1vZGUgPSBzdGF0ZSAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbyAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mby5hcHBNb2RlXHJcbiAgICBjb25zdCBpc1J1bkFwcE1vZGUgPSBhcHBNb2RlID09PSBBcHBNb2RlLlJ1blxyXG5cclxuICAgIGxldCBydW50aW1lVXJsSGFzaFBhcmFtczogTWFwVXJsSGFzaFBhcmFtcyA9IG51bGxcclxuXHJcbiAgICBpZiAoaXNSdW5BcHBNb2RlICYmIHN0YXRlLnVybEhhc2hPYmplY3QpIHtcclxuICAgICAgcnVudGltZVVybEhhc2hQYXJhbXMgPSBzdGF0ZS51cmxIYXNoT2JqZWN0W21hcFdpZGdldElkXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hcFZpZXcudGltZVpvbmVcclxuICAgIGxldCBtYXBUaW1lWm9uZTogc3RyaW5nID0gJydcclxuXHJcbiAgICBjb25zdCB0aW1lWm9uZUluZm8gPSBzdGF0ZS5hcHBDb25maWc/LmF0dHJpYnV0ZXM/LnRpbWV6b25lXHJcblxyXG4gICAgaWYgKHRpbWVab25lSW5mbykge1xyXG4gICAgICAvLyB1c2VyIHNldHMgdGltZVpvbmUgaW5mbyBpbiBFeEJcclxuICAgICAgaWYgKHRpbWVab25lSW5mby50eXBlID09PSBUaW1lem9uZUNvbmZpZy5EZXZpY2UpIHtcclxuICAgICAgICBtYXBUaW1lWm9uZSA9ICdzeXN0ZW0nXHJcbiAgICAgIH0gZWxzZSBpZiAodGltZVpvbmVJbmZvLnR5cGUgPT09IFRpbWV6b25lQ29uZmlnLlNwZWNpZmljKSB7XHJcbiAgICAgICAgbWFwVGltZVpvbmUgPSB0aW1lWm9uZUluZm8udmFsdWVcclxuICAgICAgfSBlbHNlIGlmICh0aW1lWm9uZUluZm8udHlwZSA9PT0gVGltZXpvbmVDb25maWcuRGF0YSkge1xyXG4gICAgICAgIC8vIHNldCBtYXBUaW1lWm9uZSB0byBlbXB0eSwgbWVhbnMgd2UgbmVlZCB0byB1c2VzIE1hcFZpZXdlcidzIHRpbWVab25lXHJcbiAgICAgICAgbWFwVGltZVpvbmUgPSAnJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBpZiB1c2VyIGRvZXNuJ3Qgc2V0IHRpbWVab25lIGluZm8gaW4gRXhCLCB3ZSBzaG91bGQgdXNlICdzeXN0ZW0nIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgICAgIG1hcFRpbWVab25lID0gJ3N5c3RlbSdcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhcHBNb2RlOiBhcHBNb2RlLFxyXG4gICAgICBpc1ByaW50UHJldmlldzogc3RhdGUuYXBwUnVudGltZUluZm8uaXNQcmludFByZXZpZXcsXHJcbiAgICAgIHF1ZXJ5T2JqZWN0OiBzdGF0ZS5xdWVyeU9iamVjdCxcclxuICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZCxcclxuICAgICAgaXNSdW5BcHBNb2RlLFxyXG4gICAgICBydW50aW1lVXJsSGFzaFBhcmFtcyxcclxuICAgICAgbWFwVGltZVpvbmVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0UmVuZGVyTWFwID0gKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM6IHRydWVcclxuICAgICAgfSlcclxuICAgIH0sIDEwMClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGlja091dHNpZGVNYXApXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlcykge1xyXG4gICAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgfHwgIXRoaXMucHJvcHMuY29uZmlnLmNhblBsYWNlSG9sZGVyKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFJlbmRlck1hcCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBNYXBXaWRnZXRQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xyXG4gICAgLy8gY2hlY2sgaWYgcHJvcHMuc3RhdGUgY2hhbmdlZCBvciBub3RcclxuICAgIGNvbnN0IHByZVdpZGdldFN0YXRlID0gcHJldlByb3BzLnN0YXRlXHJcbiAgICBjb25zdCBjdXJyV2lkZ2V0U3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlXHJcbiAgICBpZiAocHJlV2lkZ2V0U3RhdGUgIT09IGN1cnJXaWRnZXRTdGF0ZSkge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld3MgPSB0aGlzLmdldEppbXVNYXBWaWV3cygpXHJcbiAgICAgIGppbXVNYXBWaWV3cy5mb3JFYWNoKChqaW11TWFwVmlldykgPT4ge1xyXG4gICAgICAgIGppbXVNYXBWaWV3LnNldE1hcFdpZGdldFN0YXRlKGN1cnJXaWRnZXRTdGF0ZSlcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiBwcm9wcy5jb25maWcuc2hvd1BvcHVwVXBvblNlbGVjdGlvbiBjaGFuZ2VkIG9yIG5vdFxyXG4gICAgY29uc3QgcHJlU2hvd1BvcHVwVXBvblNlbGVjdGlvbiA9ICEhKHByZXZQcm9wcz8uY29uZmlnPy5zaG93UG9wdXBVcG9uU2VsZWN0aW9uKVxyXG4gICAgY29uc3QgY3VyU2hvd1BvcHVwVXBvblNlbGVjdGlvbiA9ICEhKHRoaXMucHJvcHM/LmNvbmZpZz8uc2hvd1BvcHVwVXBvblNlbGVjdGlvbilcclxuXHJcbiAgICBpZiAocHJlU2hvd1BvcHVwVXBvblNlbGVjdGlvbiAhPT0gY3VyU2hvd1BvcHVwVXBvblNlbGVjdGlvbikge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld3MgPSB0aGlzLmdldEppbXVNYXBWaWV3cygpXHJcbiAgICAgIGppbXVNYXBWaWV3cy5mb3JFYWNoKChqaW11TWFwVmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U2hvd1BvcHVwVXBvblNlbGVjdGlvbkZvckppbXVNYXBWaWV3KGppbXVNYXBWaWV3KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIHByb3BzLmVuYWJsZURhdGFBY3Rpb24gY2hhbmdlZCBvciBub3RcclxuICAgIGNvbnN0IHByZUVuYWJsZURhdGFBY3Rpb24gPSBwcmV2UHJvcHM/LmVuYWJsZURhdGFBY3Rpb25cclxuICAgIGNvbnN0IGN1cnJFbmFibGVEYXRhQWN0aW9uID0gdGhpcy5wcm9wcy5lbmFibGVEYXRhQWN0aW9uXHJcblxyXG4gICAgaWYgKHByZUVuYWJsZURhdGFBY3Rpb24gIT09IGN1cnJFbmFibGVEYXRhQWN0aW9uKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlbmFibGVEYXRhQWN0aW9uIGNoYW5nZWQnKVxyXG4gICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb25XaGVuUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UodGhpcy5hY3RpdmVKaW11TWFwVmlldylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxTY3JlZW5IYW5sZGVyKVxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbFNjcmVlbkhhbmxkZXIpXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlTWFwKVxyXG4gICAgaWYgKCF3aWRnZXRzW3RoaXMucHJvcHMuaWRdKSB7XHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuaWQsICdyZXN0b3JlRGF0YScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRKaW11TWFwVmlld3MgKCk6IEppbXVNYXBWaWV3W10ge1xyXG4gICAgbGV0IGppbXVNYXBWaWV3czogSmltdU1hcFZpZXdbXSA9IFtdXHJcblxyXG4gICAgY29uc3QgamltdU1hcFZpZXdHcm91cCA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdHcm91cCh0aGlzLnByb3BzLmlkKVxyXG5cclxuICAgIGlmIChqaW11TWFwVmlld0dyb3VwKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3cyA9IGppbXVNYXBWaWV3R3JvdXAuZ2V0QWxsSmltdU1hcFZpZXdzKClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gamltdU1hcFZpZXdzXHJcbiAgfVxyXG5cclxuICBnZXRQbGFjZUhvbGRlckltYWdlID0gKCkgPT4ge1xyXG4gICAgbGV0IHBsYWNlSG9sZGVySW1hZ2UgPSB0aGlzLnByb3BzLmNvbmZpZy5wbGFjZWhvbGRlckltYWdlXHJcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpXHJcbiAgICBpZiAocGxhY2VIb2xkZXJJbWFnZSkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgY29uc3QgaXNQb3J0YWxUaHVtYkV4cCA9IG5ldyBSZWdFeHAoJ14oLikrL3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyguKSsvaW5mby8oLikrJylcclxuXHJcbiAgICAgIGlmIChpc1BvcnRhbFRodW1iRXhwLnRlc3QocGxhY2VIb2xkZXJJbWFnZSkpIHtcclxuICAgICAgICBpZiAoc2Vzc2lvbikge1xyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2UgKyBgP3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGxhY2VIb2xkZXJJbWFnZVxyXG4gIH1cclxuXHJcbiAgZnVsbFNjcmVlbkhhbmxkZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmICghKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgJiYgIShkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bGxTY3JlZW5NYXAgPSAoKSA9PiB7XHJcbiAgICBpZiAodXRpbHMuaXNUb3VjaERldmljZSgpKSB7XHJcbiAgICAgIC8vIGlzIHRvdWNoIGRldmljZVxyXG4gICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QuaGVpZ2h0fXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LndpZHRofXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC50b3B9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC5sZWZ0fXB4YFxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ25vbmUnXHJcbiAgICAgICAgICB0aGlzLnBhcmVudENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcilcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDEwMClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBjbGllbnRSZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QgPSBjbGllbnRSZWN0XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7Y2xpZW50UmVjdC5oZWlnaHR9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHtjbGllbnRSZWN0LndpZHRofXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke2NsaWVudFJlY3QudG9wfXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtjbGllbnRSZWN0LmxlZnR9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4ID0gJzEnXHJcblxyXG4gICAgICAgIGRvY3VtZW50ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICd0b3AgMC4zcywgYm90dG9tIDAuM3MsIGxlZnQgMC4zcywgcmlnaHQgMC4zcywgaGVpZ2h0IDAuM3MsIHdpZHRoIDAuM3MnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwcHgnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5yaWdodCA9ICcwcHgnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbFxyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgMTAwKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb250YWluZXIgYXMgYW55XHJcblxyXG4gICAgICBpZiAoIWRvY3VtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxTY3JlZW5IYW5sZGVyKVxyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsU2NyZWVuSGFubGRlcilcclxuXHJcbiAgICAgIGlmICgoZG9jdW1lbnQgYXMgYW55KS5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudCkge1xyXG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLmV4aXRGdWxsc2NyZWVuKClcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoKGRvY3VtZW50IGFzIGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKClcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0TWV0aG9kID0gZWxlbWVudC5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC5tc1JlcXVlc3RGdWxsU2NyZWVuXHJcbiAgICAgIGlmIChyZXF1ZXN0TWV0aG9kKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJlcXVlc3RNZXRob2QuY2FsbChlbGVtZW50KVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuQWN0aXZlWE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zdCB3c2NyaXB0ID0gbmV3IEFjdGl2ZVhPYmplY3QoJ1dTY3JpcHQuU2hlbGwnKVxyXG4gICAgICAgIGlmICh3c2NyaXB0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICB3c2NyaXB0LlNlbmRLZXlzKCd7RjExfScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XHJcbiAgICBpZiAodmlld0dyb3VwKSB7XHJcbiAgICAgIHZpZXdHcm91cC5zZXRNYXBXaWRnZXRJbnN0YW5jZSh0aGlzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25KaW11TWFwVmlld0NyZWF0ZWQgPSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB7XHJcbiAgICBqaW11TWFwVmlldy5zZXRNYXBXaWRnZXRTdGF0ZSh0aGlzLnByb3BzLnN0YXRlKVxyXG4gICAgdGhpcy5zZXRTaG93UG9wdXBVcG9uU2VsZWN0aW9uRm9ySmltdU1hcFZpZXcoamltdU1hcFZpZXcpXHJcbiAgICBjb25zdCBtYXBDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lclxyXG4gICAgaWYgKG1hcENvbnRhaW5lcikge1xyXG4gICAgICBtYXBDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmVuYWJsZU1hcFNjcm9sbGluZylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQWN0aXZlSmltdU1hcFZpZXdDaGFuZ2UgPSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB7XHJcbiAgICB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3ID0gamltdU1hcFZpZXdcclxuICAgIHRoaXMud2F0Y2hQb3B1cFNlbGVjdGVkRmVhdHVyZUNoYW5nZSgpXHJcbiAgfVxyXG5cclxuICBzZXRTaG93UG9wdXBVcG9uU2VsZWN0aW9uRm9ySmltdU1hcFZpZXcgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykge1xyXG4gICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LnNldFNob3dQb3B1cFVwb25TZWxlY3Rpb24oISF0aGlzLnByb3BzLmNvbmZpZy5zaG93UG9wdXBVcG9uU2VsZWN0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoTWFwID0gYXN5bmMgKGlnbm9yZVN3aXRjaEFuaW1hdGlvbiA9IGZhbHNlKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgIGlmICh0aGlzLm11bHRpU291cmNlTWFwSW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZS5zd2l0Y2hNYXAoaWdub3JlU3dpdGNoQW5pbWF0aW9uKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2UgPSAoaW5zdGFuY2U6IE11bHRpU291cmNlTWFwKSA9PiB7XHJcbiAgICB0aGlzLm11bHRpU291cmNlTWFwSW5zdGFuY2UgPSBpbnN0YW5jZVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh3aWR0aCA8PSA1NDUgJiYgd2lkdGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ3hzbWFsbCcsXHJcbiAgICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHRcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ290aGVyJyxcclxuICAgICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNMb2FkaW5nRGlzcGxheWVkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYWRkVG9NYXBEYXRhczogQWRkVG9NYXBEYXRhcyA9IHRoaXMucHJvcHMubXV0YWJsZVN0YXRlUHJvcHM/LmFkZFRvTWFwRGF0YXMgfHwge31cclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGFkZFRvTWFwRGF0YXMpLnNvbWUodmFsdWUgPT4gdmFsdWU/LmRhdGFDaGFuZ2VTdGF0dXMgPT09IERhdGFDaGFuZ2VTdGF0dXMuUGVuZGluZylcclxuICB9XHJcblxyXG4gIGlzV2FybmluZ0Rpc3BsYXllZCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGFkZFRvTWFwRGF0YXM6IEFkZFRvTWFwRGF0YXMgPSB0aGlzLnByb3BzLm11dGFibGVTdGF0ZVByb3BzPy5hZGRUb01hcERhdGFzIHx8IHt9XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhhZGRUb01hcERhdGFzKS5zb21lKHZhbHVlID0+IHZhbHVlPy5kYXRhQ2hhbmdlU3RhdHVzID09PSBEYXRhQ2hhbmdlU3RhdHVzLlJlamVjdGVkKVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5uZXJDb250ZW50ID0gKGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhbikgPT4ge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXMpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtbWFwIHctMTAwIGgtMTAwJz5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfX0gY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9e3JlZiA9PiB7IHRoaXMucGFyZW50Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnXHJcbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJywgeyAnbWFwLWlzLWRlc2lnbi1tb2RlJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9PlxyXG4gICAgICAgICAgICAgICAgPERlZmF1bHRNYXBcclxuICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbk1hcD17dGhpcy5mdWxsU2NyZWVuTWFwfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0TWFwIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2U9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX1cclxuICAgICAgICAgICAgICAgICAgb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfVxyXG4gICAgICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5vbkppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgICAgICAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZT17dGhpcy5vbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICB3aWRnZXRIZWlnaHQ9e3RoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0fSB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMuc3RhdGUud2lkdGhCcmVha3BvaW50fSBpc0Z1bGxTY3JlZW49e3RoaXMuc3RhdGUuaXNGdWxsU2NyZWVufSBpc01hcEluVmlzaWJsZUFyZWE9e2lzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC9EZWZhdWx0TWFwPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZVdpZHRoIGhhbmRsZUhlaWdodCBvblJlc2l6ZT17dGhpcy5vblJlc2l6ZX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgcmVmPXtyZWYgPT4geyB0aGlzLnBhcmVudENvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJ1xyXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCcsIHsgJ21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpIH0pfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+PSAxICYmXHJcbiAgICAgICAgICAgICAgICAgIDxNdWx0aVNvdXJjZU1hcFxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17MX0gZnVsbFNjcmVlbk1hcD17dGhpcy5mdWxsU2NyZWVuTWFwfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX1cclxuICAgICAgICAgICAgICAgICAgICBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMub25KaW11TWFwVmlld0NyZWF0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25BY3RpdmVKaW11TWFwVmlld0NoYW5nZT17dGhpcy5vbkFjdGl2ZUppbXVNYXBWaWV3Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5zdGF0ZS53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5zdGF0ZS53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGdWxsU2NyZWVuPXt0aGlzLnN0YXRlLmlzRnVsbFNjcmVlbn0gaXNNYXBJblZpc2libGVBcmVhPXtpc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgICAvPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50UG9wdXBTZWxlY3RlZEZlYXR1cmUgKCk6IF9fZXNyaS5HcmFwaGljIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGl2ZUppbXVNYXBWaWV3Py52aWV3Py5wb3B1cD8uc2VsZWN0ZWRGZWF0dXJlXHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkUmVhY3RpdmVVdGlscyAoKSB7XHJcbiAgICBbdGhpcy5yZWFjdGl2ZVV0aWxzXSA9IGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL2NvcmUvcmVhY3RpdmVVdGlscyddKSBhcyBbdHlwZW9mIF9fZXNyaS5yZWFjdGl2ZVV0aWxzXVxyXG4gICAgdGhpcy53YXRjaFBvcHVwU2VsZWN0ZWRGZWF0dXJlQ2hhbmdlKClcclxuICB9XHJcblxyXG4gIGFzeW5jIHdhdGNoUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UgKCkge1xyXG4gICAgaWYgKHRoaXMud2F0Y2hTZWxlY3RlZEZlYXR1cmVIYW5kbGUpIHtcclxuICAgICAgdGhpcy53YXRjaFNlbGVjdGVkRmVhdHVyZUhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLndhdGNoU2VsZWN0ZWRGZWF0dXJlSGFuZGxlID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFjdGl2ZUppbXVNYXBWaWV3ID0gdGhpcy5hY3RpdmVKaW11TWFwVmlld1xyXG5cclxuICAgIGlmICghYWN0aXZlSmltdU1hcFZpZXcgfHwgIXRoaXMucmVhY3RpdmVVdGlscykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nZXRDdXJyZW50UG9wdXBTZWxlY3RlZEZlYXR1cmUoKSkge1xyXG4gICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb25XaGVuUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UoYWN0aXZlSmltdU1hcFZpZXcpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy53YXRjaFNlbGVjdGVkRmVhdHVyZUhhbmRsZSA9IHRoaXMucmVhY3RpdmVVdGlscy53YXRjaCgoKSA9PiBhY3RpdmVKaW11TWFwVmlldz8udmlldz8ucG9wdXA/LnNlbGVjdGVkRmVhdHVyZSwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb25XaGVuUG9wdXBTZWxlY3RlZEZlYXR1cmVDaGFuZ2UoYWN0aXZlSmltdU1hcFZpZXcpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGFuZGxlRGF0YUFjdGlvbldoZW5Qb3B1cFNlbGVjdGVkRmVhdHVyZUNoYW5nZSAoYWN0aXZlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IGFjdGl2ZUppbXVNYXBWaWV3Py52aWV3Py5wb3B1cFxyXG4gICAgY29uc3Qgb3JpZ2luYWxTZWxlY3RlZEZlYXR1cmUgPSBwb3B1cD8uc2VsZWN0ZWRGZWF0dXJlXHJcblxyXG4gICAgLy8gZmlyc3RseSwgd2UgbmVlZCB0byByZW1vdmUgZGF0YUFjdGlvbkxpc3RDb250YWluZXIgZnJvbSBwb3B1cCBkb21Ob2RlLFxyXG4gICAgLy8gd2hlbiBzdGF0ZS5kYXRhQWN0aW9uRGF0YVNldCBpcyByZWFkeSwgd2UgY2FuIGFkZCBkYXRhQWN0aW9uTGlzdENvbnRhaW5lciB0byBwb3B1cCBkb21Ob2RlXHJcbiAgICBpZiAodGhpcy5kYXRhQWN0aW9uTGlzdENvbnRhaW5lci5wYXJlbnROb2RlKSB7XHJcbiAgICAgIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVsZWFzZVBvcHVwRG9tTm9kZU9ic2VydmVyKClcclxuXHJcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZURhdGFBY3Rpb25EYXRhU2V0KG51bGwpXHJcblxyXG4gICAgY29uc3QgaXNEYXRhQWN0aW9uRW5hYmxlZCA9IHRoaXMuaXNEYXRhQWN0aW9uRW5hYmxlZCgpXHJcblxyXG4gICAgaWYgKGlzRGF0YUFjdGlvbkVuYWJsZWQgJiYgb3JpZ2luYWxTZWxlY3RlZEZlYXR1cmUpIHtcclxuICAgICAgY29uc3QgZGF0YUFjdGlvbkRhdGFTZXQgPSBhd2FpdCB0aGlzLmdldERhdGFBY3Rpb25EYXRhU2V0KGFjdGl2ZUppbXVNYXBWaWV3LCBvcmlnaW5hbFNlbGVjdGVkRmVhdHVyZSlcclxuXHJcbiAgICAgIC8vIGdldERhdGFBY3Rpb25EYXRhU2V0IG1heSB0YWtlIGEgbG9uZyB0aW1lLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIHNob3VsZCB3ZSBnbyBvbiBvciBub3RcclxuICAgICAgaWYgKHRoaXMuZ2V0Q3VycmVudFBvcHVwU2VsZWN0ZWRGZWF0dXJlKCkgIT09IG9yaWdpbmFsU2VsZWN0ZWRGZWF0dXJlKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGF0YUFjdGlvbkRhdGFTZXQoZGF0YUFjdGlvbkRhdGFTZXQpXHJcblxyXG4gICAgICBpZiAodGhpcy5nZXRDdXJyZW50UG9wdXBTZWxlY3RlZEZlYXR1cmUoKSAhPT0gb3JpZ2luYWxTZWxlY3RlZEZlYXR1cmUpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy53YXRjaFBvcHVwRG9tTm9kZUNoYW5nZShwb3B1cClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZURhdGFBY3Rpb25EYXRhU2V0IChkYXRhQWN0aW9uRGF0YVNldDogRGF0YVJlY29yZFNldCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRhdGFBY3Rpb25EYXRhU2V0XHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZWxlYXNlUG9wdXBEb21Ob2RlT2JzZXJ2ZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucG9wdXBEb21Ob2RlT2JzZXJ2ZXIpIHtcclxuICAgICAgdGhpcy5wb3B1cERvbU5vZGVPYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgdGhpcy5wb3B1cERvbU5vZGVPYnNlcnZlciA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHdhdGNoUG9wdXBEb21Ob2RlQ2hhbmdlIChwb3B1cDogX19lc3JpLlBvcHVwKSB7XHJcbiAgICB0aGlzLnJlbGVhc2VQb3B1cERvbU5vZGVPYnNlcnZlcigpXHJcblxyXG4gICAgY29uc3QgcG9wdXBEb21Ob2RlID0gKChwb3B1cCBhcyBhbnkpLmRvbU5vZGUgfHwgKHBvcHVwIGFzIGFueSkuY29udGFpbmVyKSBhcyBIVE1MRWxlbWVudFxyXG5cclxuICAgIHRoaXMudHJ5QXBwZW5kRGF0YUFjdGlvbkxpc3REb21Ob2RlVG9Qb3B1cChwb3B1cERvbU5vZGUpXHJcblxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgIHN1YnRyZWU6IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbnNMaXN0KSA9PiB7XHJcbiAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkge1xyXG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0Jykge1xyXG4gICAgICAgICAgdGhpcy50cnlBcHBlbmREYXRhQWN0aW9uTGlzdERvbU5vZGVUb1BvcHVwKHBvcHVwRG9tTm9kZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKVxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShwb3B1cERvbU5vZGUsIGNvbmZpZylcclxuICAgIHRoaXMucG9wdXBEb21Ob2RlT2JzZXJ2ZXIgPSBvYnNlcnZlclxyXG4gIH1cclxuXHJcbiAgdHJ5QXBwZW5kRGF0YUFjdGlvbkxpc3REb21Ob2RlVG9Qb3B1cCAocG9wdXBEb21Ob2RlOiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3Qgc2VsZWN0b3IgPSAnY2FsY2l0ZS1hY3Rpb24tYmFyW3Nsb3Q9XCJhY3Rpb24tYmFyXCJdJ1xyXG4gICAgY29uc3QgcG9wdXBBY3Rpb25zQ29udGFpbmVyID0gcG9wdXBEb21Ob2RlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXHJcblxyXG4gICAgaWYgKHBvcHVwQWN0aW9uc0NvbnRhaW5lciAmJiAhcG9wdXBBY3Rpb25zQ29udGFpbmVyLmNvbnRhaW5zKHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIpKSB7XHJcbiAgICAgIC8vIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIgaXMgbm90IGluIHBvcHVwXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGFBY3Rpb25EYXRhU2V0KSB7XHJcbiAgICAgICAgLy8gRGF0YUFjdGlvbkxpc3QgZG9tTm9kZSBpcyByZWFkeSwgd2UgY2FuIGFkZCBpdCB0byBwb3B1cCBkb21Ob2RlIG5vd1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYXBwZW5kIHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIgaW50byBwb3B1cEFjdGlvbnNDb250YWluZXIgYXMgdGhlIGZpcnN0IGNoaWxkXHJcbiAgICAgICAgaWYgKHBvcHVwQWN0aW9uc0NvbnRhaW5lci5maXJzdENoaWxkKSB7XHJcbiAgICAgICAgICBwb3B1cEFjdGlvbnNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHRoaXMuZGF0YUFjdGlvbkxpc3RDb250YWluZXIsIHBvcHVwQWN0aW9uc0NvbnRhaW5lci5maXJzdENoaWxkKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwb3B1cEFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kYXRhQWN0aW9uTGlzdENvbnRhaW5lcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldERhdGFBY3Rpb25EYXRhU2V0IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIHNlbGVjdGVkRmVhdHVyZTogX19lc3JpLkdyYXBoaWMpIHtcclxuICAgIGxldCBqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3ID0gbnVsbFxyXG5cclxuICAgIC8vIElmIHRoZSBzZWxlY3RlZEZlYXR1cmUgaXMgZnJvbSBKaW11TGF5ZXJWaWV3IHNlbGVjdGlvbiwgd2UgY2FuIGdldCB0aGUgamltdUxheWVyVmlld0lkLlxyXG4gICAgLy8gU2VlIEppbXVGZWF0dXJlTGF5ZXJWaWV3LmdldFNlbGVjdGVkRmVhdHVyZXMoKSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAgY29uc3QgamltdUxheWVyVmlld0lkID0gKHNlbGVjdGVkRmVhdHVyZSBhcyBhbnkpLmppbXVMYXllclZpZXdJZFxyXG5cclxuICAgIGlmIChqaW11TGF5ZXJWaWV3SWQpIHtcclxuICAgICAgamltdUxheWVyVmlldyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzW2ppbXVMYXllclZpZXdJZF1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBqaW11TGF5ZXJWaWV3IGlzIHN0aWxsIG51bGwsIG1lYW5zIHRoZSBzZWxlY3RlZEZlYXR1cmUgY29tZXMgZnJvbSBjbGlja2luZyBtYXAsIHdlIGNhbiB0cnkgdG8gZmluZCB0aGUgamltdUxheWVyVmlldyBieSBsYXllci5cclxuICAgIGlmICghamltdUxheWVyVmlldykge1xyXG4gICAgICBjb25zdCBhbGxKaW11TGF5ZXJWaWV3cyA9IE9iamVjdC52YWx1ZXMoamltdU1hcFZpZXcuamltdUxheWVyVmlld3MpXHJcblxyXG4gICAgICBpZiAoc2VsZWN0ZWRGZWF0dXJlLmxheWVyKSB7XHJcbiAgICAgICAgamltdUxheWVyVmlldyA9IGFsbEppbXVMYXllclZpZXdzLmZpbmQoaXRlbSA9PiBpdGVtLmxheWVyID09PSBzZWxlY3RlZEZlYXR1cmUubGF5ZXIpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghamltdUxheWVyVmlldykge1xyXG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3RlZCBmZWF0dXJlIGNvbW1lcyBmcm9tIGVzcmkubGF5ZXJzLnN1cHBvcnQuU3VibGF5ZXIsIHRoZW4gdGhlIHNlbGVjdGVkRmVhdHVyZS5sYXllciBpcyBudWxsIGFuZCBzZWxlY3RlZEZlYXR1cmUuc291cmNlTGF5ZXIgaXMgbm90IG51bGwuXHJcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSAoc2VsZWN0ZWRGZWF0dXJlIGFzIGFueSkuc291cmNlTGF5ZXJcclxuXHJcbiAgICAgICAgaWYgKHNvdXJjZUxheWVyKSB7XHJcbiAgICAgICAgICBqaW11TGF5ZXJWaWV3ID0gYWxsSmltdUxheWVyVmlld3MuZmluZChpdGVtID0+IGl0ZW0ubGF5ZXIgPT09IHNvdXJjZUxheWVyKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghamltdUxheWVyVmlldykge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGxldCBsYXllckRhdGFTb3VyY2UgPSBqaW11TGF5ZXJWaWV3LmdldExheWVyRGF0YVNvdXJjZSgpXHJcblxyXG4gICAgaWYgKCFsYXllckRhdGFTb3VyY2UpIHtcclxuICAgICAgbGF5ZXJEYXRhU291cmNlID0gYXdhaXQgamltdUxheWVyVmlldy5jcmVhdGVMYXllckRhdGFTb3VyY2UoKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChsYXllckRhdGFTb3VyY2UpIHtcclxuICAgICAgY29uc3Qgc291cmNlTGFiZWwgPSBsYXllckRhdGFTb3VyY2UuZ2V0TGFiZWwoKSB8fCAnJ1xyXG4gICAgICBjb25zdCBzdHJpbmdLZXkgPSAnbWFwQ3VycmVudFJlY29yZCdcclxuICAgICAgY29uc3QgZGF0YVNldE5hbWUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiBzdHJpbmdLZXksIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbc3RyaW5nS2V5XSB9LCB7IGxheWVyTmFtZTogc291cmNlTGFiZWwgfSlcclxuICAgICAgY29uc3QgcmVjb3JkID0gbGF5ZXJEYXRhU291cmNlLmJ1aWxkUmVjb3JkKHNlbGVjdGVkRmVhdHVyZSlcclxuICAgICAgY29uc3QgZGF0YVNldDogRGF0YVJlY29yZFNldCA9IHtcclxuICAgICAgICBkYXRhU291cmNlOiBsYXllckRhdGFTb3VyY2UsXHJcbiAgICAgICAgbmFtZTogZGF0YVNldE5hbWUsXHJcbiAgICAgICAgdHlwZTogJ2N1cnJlbnQnLFxyXG4gICAgICAgIHJlY29yZHM6IFtyZWNvcmRdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBkYXRhU2V0XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGlzRGF0YUFjdGlvbkVuYWJsZWQgKCkge1xyXG4gICAgLy8gQnkgZGVmYXVsdCwgdGhpcy5wcm9wcy5lbmFibGVEYXRhQWN0aW9uIGlzIHVuZGVmaW5lZCwgd2hpY2ggbWVhbnMgZW5hYmxlZC5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktYm9vbGVhbi1saXRlcmFsLWNvbXBhcmVcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmVuYWJsZURhdGFBY3Rpb24gIT09IGZhbHNlXHJcbiAgfVxyXG5cclxuICByZW5kZXJEYXRhQWN0aW9uTGlzdCAoKSB7XHJcbiAgICBjb25zdCBpc0RhdGFBY3Rpb25FbmFibGVkID0gdGhpcy5pc0RhdGFBY3Rpb25FbmFibGVkKClcclxuXHJcbiAgICBpZiAoaXNEYXRhQWN0aW9uRW5hYmxlZCAmJiB0aGlzLnN0YXRlLmRhdGFBY3Rpb25EYXRhU2V0KSB7XHJcbiAgICAgIC8vIHJlbmRlciB0aGUgRGF0YUFjdGlvbkxpc3QgaW50byB0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyLCBzbyB3ZSBjYW4gYXBwZW5kIGl0IHRvIHBvcHVwIGRvbU5vZGVcclxuICAgICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChcclxuICAgICAgICA8RGF0YUFjdGlvbkxpc3Qgd2lkZ2V0SWQ9e3RoaXMucHJvcHMuaWR9IGRhdGFTZXRzPXtbdGhpcy5zdGF0ZS5kYXRhQWN0aW9uRGF0YVNldF19XHJcbiAgICAgICAgICBkaXNhYmxlRGF0YVNvdXJjZUxldmVsQWN0aW9ucz17dHJ1ZX0gbGlzdFN0eWxlPXtEYXRhQWN0aW9uTGlzdFN0eWxlLkRyb3Bkb3dufSBoaWRlR3JvdXBUaXRsZT17dHJ1ZX1cclxuICAgICAgICAvPixcclxuICAgICAgICB0aGlzLmRhdGFBY3Rpb25MaXN0Q29udGFpbmVyXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IGRhdGFBY3Rpb25MaXN0ID0gdGhpcy5yZW5kZXJEYXRhQWN0aW9uTGlzdCgpXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0IGFyY2dpcy1tYXAnIGNzcz17dGhpcy5nZXRXaWRnZXRTeWxlKCl9PlxyXG4gICAgICAgIHt0aGlzLmlzTG9hZGluZ0Rpc3BsYXllZCgpICYmIDxMb2FkaW5nIGNsYXNzTmFtZT0nbWFwLWxvYWRpbmctYmFyJyB0eXBlPXtMb2FkaW5nVHlwZS5CYXJ9Lz59XHJcbiAgICAgICAge3RoaXMuaXNXYXJuaW5nRGlzcGxheWVkKCkgJiYgPGRpdiBjbGFzc05hbWU9J21hcC13YXJuaW5nLWJhcic+XHJcbiAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9J3dhcm5pbmctaWNvbicgaWNvbj17dGhpcy53YXJuaW5nSWNvbn0gc2l6ZT17MjZ9IGN1cnJlbnRDb2xvcj17ZmFsc2V9IC8+XHJcbiAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2ZhaWxUb0FkZFRoZURhdGFPbk1hcCcsIGRlZmF1bHRNZXNzYWdlOiAnRmFpbCB0byBhZGQgdGhlIGRhdGEuJyB9KX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHsgZGF0YUFjdGlvbkxpc3QgfVxyXG4gICAgICAgIDxQYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICB7KGlzUGFnZVZpc2libGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8Vmlld3BvcnRWaXNpYmlsaXR5Q29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgICAgICAgIHsoaXNWaXNpYmxlSW5WaWV3UG9ydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxWaWV3VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7KHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUGFnZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcCBjYW4gaGF2ZSBwYWdlMSwgcGFnZTIsIGlzUGFnZVZpc2libGUgaXMgdXNlZCB0byBqdWRnZSB3aGV0aGVyIHRoZSBjdXJyZW50IHBhZ2UgaXMgdmlzaWJsZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzVmlzaWJsZUluVmlld1BvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gc2Nyb2xsaW5nIHRoZSBzY3JvbGwgcGFnZSwgdGhlIHdpZGdldCBtYXkgYmUgc2Nyb2xsZWQgb3V0IG9mIHRoZSBjdXJyZW50IHZpZXdwb3J0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1Zpc2libGVJblZpZXdQb3J0IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnJlbnQgd2lkZ2V0IGlzIGluIHRoZSB2aWV3cG9ydCBvZiB0aGUgYnJvd3Nlci5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbnRQcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbnRQcmV2aWV3IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQgaXMgY3VycmVudGx5IGluIGJyb3dzZXIgcHJpbnRpbmcgbW9kZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzVmlzaWJsZUluVmlldzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdpZGdldCBpcyB1bHRpbWF0ZWx5IHBsYWNlZCBpbiBhIHZpZXcgaW4gYSBsYXlvdXQuIEl0IGlzIHBvc3NpYmxlIHRoYXQgd2UgaGF2ZSBhIHNlY3Rpb24gd2l0aCBtdWx0aXBsZSB2aWV3cyBpbiBpdCwgc2ltaWxhciB0byB0YWJzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1Zpc2libGVJblZpZXcgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgd2lkZ2V0IGlzIGluIHRoZSBjdXJyZW50bHkgdmlzaWJsZSB2aWV3LlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWaXNpYmxlSW5WaWV3ID0gdmlld1Zpc2liaWxpdHlDb250ZXh0UHJvcHMuaXNJblZpZXcgPyB2aWV3VmlzaWJpbGl0eUNvbnRleHRQcm9wcy5pc0luQ3VycmVudFZpZXcgOiB0cnVlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc01hcEluVmlzaWJsZUFyZWE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzTWFwSW5WaXNpYmxlQXJlYSBpcyB1c2VkIHRvIGZpbmFsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGRvbSBvZiB0aGUgbWFwIGlzIHZpc2libGUgdG8gdGhlIHVzZXIuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHVzZSAoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSwgbm90IG9ubHkgaXNWaXNpYmxlSW5WaWV3UG9ydCwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjcmVhdGUgYSBzY3JvbGwgcGFnZSB3aXRoIG1hcC4gV2Ugc2Nyb2xsIHRoZSBwYWdlIGFuZCB0aGUgbWFwIGlzIG5vdCB2aXNpYmxlIGZvciB1c2VyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIHdhbnRzIHRvIHByaW50IHRoZSBzY3JvbGwgcGFnZSwgaW5jbHVkaW5nIHRoZSBtYXAgKGV2ZW4gdGhlIG1hcCBpcyBub3QgdmlzaWJsZSkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZW4gdGhlIHVzZXIgZW5hYmxlcyBwcmludCB2aWV3IG1vZGUgYnkgYSBidXR0b24uIE5vdywgaXNWaXNpYmxlSW5WaWV3UG9ydCBpcyBmYWxzZSBhbmQgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldyBpcyB0cnVlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgbWFwIHdpZGdldCBpcyB2aXNpYmxlIChsZXQgaXNNYXBJblZpc2libGVBcmVhIGJlIHRydWUpIHdoZW4gaW4gcHJpbnQgdmlldyBtb2RlLCBvdGhlcndpc2UgdGhlIHByaW50IHJlc3VsdCB3aWxsIGxvc2UgbWFwLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTbyB3ZSB1c2UgKGlzVmlzaWJsZUluVmlld1BvcnQgfHwgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldyksIGluc3RlYWQgb2YgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNYXBJblZpc2libGVBcmVhID0gaXNQYWdlVmlzaWJsZSAmJiAoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSAmJiBpc1Zpc2libGVJblZpZXdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldElubmVyQ29udGVudChpc01hcEluVmlzaWJsZUFyZWEpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvVmlld1Zpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA8L1ZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPC9QYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cbiBleHBvcnQgZnVuY3Rpb24gX19zZXRfd2VicGFja19wdWJsaWNfcGF0aF9fKHVybCkgeyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHVybCB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9